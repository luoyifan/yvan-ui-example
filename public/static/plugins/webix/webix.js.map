{"version":3,"file":"webix.js","sources":["../sources/thirdparty/promiz.js","../sources/services.js","../sources/webix/debug.js","../sources/webix/helpers.js","../sources/webix/i18n.js","../sources/webix/stringify.js","../sources/core/eventsystem.js","../sources/webix/customevents.js","../sources/load/drivers/xml.js","../sources/load/drivers/json.js","../sources/load/ajax.js","../sources/load/proxy/binary.js","../sources/load/proxy/debug.js","../sources/load/proxy/rest.js","../sources/load/proxy/json.js","../sources/load/proxy/post.js","../sources/load/proxy/graphql.js","../sources/load/proxy.js","../sources/load/drivers/jsarray.js","../sources/load/drivers/csv.js","../sources/load/drivers/html.js","../sources/webix/env.js","../sources/webix/html.js","../sources/load/drivers/htmltable.js","../sources/load/require.js","../sources/load/drivers/excel.js","../sources/load/drivers/index.js","../sources/core/atomdataloader.js","../sources/core/codeparser.js","../sources/webix/template.js","../sources/core/atomrender.js","../sources/core/autoscroll.js","../sources/webix/htmlevents.js","../sources/webix/type.js","../sources/core/state.js","../sources/ui/core.js","../sources/core/tooltipcontrol.js","../sources/ui/helpers.js","../sources/webix/ready.js","../sources/webix/fullscreen.js","../sources/core/uimanager.js","../sources/core/settings.js","../sources/core/destruction.js","../sources/core/collectionbind.js","../sources/core/valuebind.js","../sources/core/recordbind.js","../sources/core/bindsource.js","../sources/core/basebind.js","../sources/views/baseview.js","../sources/views/view.js","../sources/core/singlerender.js","../sources/views/tooltip.js","../sources/core/autotooltip.js","../sources/core/canvas.js","../sources/webix/animate.js","../sources/css/skins/material/config.js","../sources/css/skins/mini/config.js","../sources/css/skins/flat/config.js","../sources/css/skins/compact/config.js","../sources/css/skins/contrast/config.js","../sources/webix/skin.js","../sources/core/touch.js","../sources/core/dragcontrol.js","../sources/core/movable.js","../sources/core/modality.js","../sources/core/resizearea.js","../sources/views/window.js","../sources/core/contexthelper.js","../sources/webix/clipbuffer.js","../sources/core/copypaste.js","../sources/core/customprint.js","../sources/core/customscroll.js","../sources/core/datamarks.js","../sources/core/datamove.js","../sources/webix/rules.js","../sources/core/validatedata.js","../sources/load/dataprocessor.js","../sources/core/datastore.js","../sources/core/dataloader.js","../sources/core/datastate.js","../sources/core/dragitem.js","../sources/core/dragorder.js","../sources/core/undo.js","../sources/webix/editors.js","../sources/core/editability.js","../sources/core/flexlayout.js","../sources/core/groupmethods.js","../sources/core/groupstore.js","../sources/core/group.js","../sources/core/htmloptions.js","../sources/core/htmlmap.js","../sources/core/idspace.js","../sources/core/keysnavigation.js","../sources/core/mapcollection.js","../sources/core/mouseevents.js","../sources/core/navigationbuttons.js","../sources/core/overlaybox.js","../sources/core/pagingability.js","../sources/core/progressbar.js","../sources/core/renderstack.js","../sources/core/scrollable.js","../sources/core/selectionmodel.js","../sources/webix/color.js","../sources/core/sparklines/svg.js","../sources/core/sparklines/line.js","../sources/core/sparklines/area.js","../sources/core/sparklines/bar.js","../sources/core/sparklines/pie.js","../sources/core/sparklines/spline.js","../sources/core/sparklines/splinearea.js","../sources/core/sparklines.js","../sources/webix/csv.js","../sources/core/tablepaste.js","../sources/core/treeapi.js","../sources/core/treeclick.js","../sources/core/treedataloader.js","../sources/core/treedatamove.js","../sources/core/treerenderstack.js","../sources/core/treestatecheckbox.js","../sources/core/treestore.js","../sources/core/treetablepaste.js","../sources/core/treetype.js","../sources/core/uploaddriver.js","../sources/core/validatecollection.js","../sources/core/values.js","../sources/core/virtualrenderstack.js","../sources/core/vrenderstack.js","../sources/webix/consts.js","../sources/webix/export/common.js","../sources/webix/export/topng.js","../sources/webix/export/tocsv.js","../sources/webix/export/topdf.js","../sources/webix/export/toexcel.js","../sources/webix/message.js","../sources/webix/api.js","../sources/webix/ie8.js","../sources/i18n/en.js","../sources/core/date.js","../sources/core/number.js","../sources/webix/locale.js","../sources/webix/storage.js","../sources/webix/print.js","../sources/webix/patterns.js","../sources/webix/index.js","../sources/load/remote.js","../sources/load/send.js","../sources/ui/animate.js","../sources/ui/fullscreen.js","../sources/ui/datafilter.js","../sources/views/baselayout.js","../sources/views/layout.js","../sources/views/daterange.js","../sources/ui/datafilter_pro.js","../sources/ui/detect.js","../sources/ui/index.js","../sources/i18n/de.js","../sources/i18n/es.js","../sources/i18n/fr.js","../sources/i18n/it.js","../sources/i18n/ja.js","../sources/i18n/pt.js","../sources/i18n/zh.js","../sources/i18n/ru.js","../sources/i18n/be.js","../sources/i18n/index.js","../sources/views/spacer.js","../sources/views/template.js","../sources/views/scrollview.js","../sources/views/iframe.js","../sources/views/accordion.js","../sources/views/headerlayout.js","../sources/views/accordionitem.js","../sources/views/resizearea.js","../sources/views/resizer.js","../sources/views/align.js","../sources/views/multiview.js","../sources/views/tabview.js","../sources/views/carousel.js","../sources/views/proxy.js","../sources/views/portlet.js","../sources/views/abslayout.js","../sources/views/gridlayout.js","../sources/views/dashboard.js","../sources/views/panel.js","../sources/views/flexlayout.js","../sources/views/datalayout.js","../sources/views/flexdatalayout.js","../sources/views/popup.js","../sources/views/toolbar.js","../sources/views/form.js","../sources/views/fieldset.js","../sources/views/forminput.js","../sources/views/htmlform.js","../sources/views/property.js","../sources/views/calendar.js","../sources/views/colorboard.js","../sources/views/button.js","../sources/views/label.js","../sources/core/textpattern.js","../sources/views/text.js","../sources/core/datacollection.js","../sources/views/select.js","../sources/views/checkbox.js","../sources/views/radio.js","../sources/views/datepicker.js","../sources/views/colorpicker.js","../sources/views/richselect.js","../sources/views/combo.js","../sources/views/counter.js","../sources/views/icon.js","../sources/views/search.js","../sources/views/segmented.js","../sources/views/textarea.js","../sources/views/toggle.js","../sources/views/multitext.js","../sources/views/proto.js","../sources/views/list.js","../sources/views/multiselect.js","../sources/views/multicombo.js","../sources/views/slider.js","../sources/views/rangeslider.js","../sources/views/switch.js","../sources/views/tabbar.js","../sources/views/richtext.js","../sources/views/uploader.js","../sources/views/texthighlight.js","../sources/views/suggest.js","../sources/views/multisuggest.js","../sources/views/checksuggest.js","../sources/views/datasuggest.js","../sources/views/gridsuggest.js","../sources/views/mentionsuggest.js","../sources/views/daterangesuggest.js","../sources/views/daterangepicker.js","../sources/views/excelbar.js","../sources/views/excelviewer.js","../sources/views/pdfbar.js","../sources/views/pdfviewer.js","../sources/views/video.js","../sources/views/gage.js","../sources/views/barcode.js","../sources/views/bulletgraph.js","../sources/views/geochart.js","../sources/views/googlemap.js"],"sourcesContent":["var global = window;\n\nvar queueId = 1;\nvar queue = {};\nvar isRunningTask = false;\n\nif (!global.setImmediate && global.addEventListener)\n\tglobal.addEventListener(\"message\", function (e) {\n\t\tif (e.source == global){\n\t\t\tif (isRunningTask)\n\t\t\t\tnextTick(queue[e.data]);\n\t\t\telse {\n\t\t\t\tisRunningTask = true;\n\t\t\t\ttry {\n\t\t\t\t\tqueue[e.data]();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// eslint-disable-line\n\t\t\t\t}\n\n\t\t\t\tdelete queue[e.data];\n\t\t\t\tisRunningTask = false;\n\t\t\t}\n\t\t}\n\t});\n\nfunction nextTick(fn) {\n\tif (global.setImmediate) global.setImmediate(fn);\n\t// if inside of web worker\n\telse if (global.importScripts || !global.addEventListener) setTimeout(fn);\n\telse {\n\t\tqueueId++;\n\t\tqueue[queueId] = fn;\n\t\tglobal.postMessage(queueId, \"*\");\n\t}\n}\n\nDeferred.resolve = function (value) {\n\tif (!(this._d == 1))\n\t\tthrow TypeError();\n\n\tif (value instanceof Deferred)\n\t\treturn value;\n\n\treturn new Deferred(function (resolve) {\n\t\tresolve(value);\n\t});\n};\n\nDeferred.reject = function (value) {\n\tif (!(this._d == 1))\n\t\tthrow TypeError();\n\n\treturn new Deferred(function (resolve, reject) {\n\t\treject(value);\n\t});\n};\n\nDeferred.all = function (arr) {\n\tif (!(this._d == 1))\n\t\tthrow TypeError();\n\n\tif (!(arr instanceof Array))\n\t\treturn Deferred.reject(TypeError());\n\n\tvar d = new Deferred();\n\n\tfunction done(e, v) {\n\t\tif (v)\n\t\t\treturn d.resolve(v);\n\n\t\tif (e)\n\t\t\treturn d.reject(e);\n\n\t\tvar unresolved = arr.reduce(function (cnt, v) {\n\t\t\tif (v && v.then)\n\t\t\t\treturn cnt + 1;\n\t\t\treturn cnt;\n\t\t}, 0);\n\n\t\tif(unresolved == 0)\n\t\t\td.resolve(arr);\n\n\n\t\tarr.map(function (v, i) {\n\t\t\tif (v && v.then)\n\t\t\t\tv.then(function (r) {\n\t\t\t\t\tarr[i] = r;\n\t\t\t\t\tdone();\n\t\t\t\t\treturn r;\n\t\t\t\t}, done);\n\t\t});\n\t}\n\n\tdone();\n\n\treturn d;\n};\n\nDeferred.race = function (arr) {\n\tif (!(this._d == 1))\n\t\tthrow TypeError();\n\n\tif (!(arr instanceof Array))\n\t\treturn Deferred.reject(TypeError());\n\n\tif (arr.length == 0)\n\t\treturn new Deferred();\n\n\tvar d = new Deferred();\n\n\tfunction done(e, v) {\n\t\tif (v)\n\t\t\treturn d.resolve(v);\n\n\t\tif (e)\n\t\t\treturn d.reject(e);\n\n\t\tvar unresolved = arr.reduce(function (cnt, v) {\n\t\t\tif (v && v.then)\n\t\t\t\treturn cnt + 1;\n\t\t\treturn cnt;\n\t\t}, 0);\n\n\t\tif(unresolved == 0)\n\t\t\td.resolve(arr);\n\n\t\tarr.map(function (v) {\n\t\t\tif (v && v.then)\n\t\t\t\tv.then(function (r) {\n\t\t\t\t\tdone(null, r);\n\t\t\t\t}, done);\n\t\t});\n\t}\n\n\tdone();\n\n\treturn d;\n};\n\nDeferred._d = 1;\n\n\n/**\n * @constructor\n */\nfunction Deferred(resolver) {\n\t\"use strict\";\n\tif (typeof resolver != \"function\" && resolver != undefined)\n\t\tthrow TypeError();\n\t\t\n\tif (typeof this != \"object\" || (this && this.then))\n\t\tthrow TypeError();\n\n\t// states\n\t// 0: pending\n\t// 1: resolving\n\t// 2: rejecting\n\t// 3: resolved\n\t// 4: rejected\n\tvar self = this,\n\t\tstate = 0,\n\t\tval = 0,\n\t\tnext = [],\n\t\tfn, er;\n\n\tself[\"promise\"] = self;\n\n\tself[\"resolve\"] = function (v) {\n\t\tfn = self.fn;\n\t\ter = self.er;\n\t\tif (!state) {\n\t\t\tval = v;\n\t\t\tstate = 1;\n\n\t\t\tnextTick(fire);\n\t\t}\n\t\treturn self;\n\t};\n\n\tself[\"reject\"] = function (v) {\n\t\tfn = self.fn;\n\t\ter = self.er;\n\t\tif (!state) {\n\t\t\tval = v;\n\t\t\tstate = 2;\n\n\t\t\tnextTick(fire);\n\n\t\t}\n\t\treturn self;\n\t};\n\n\tself[\"_d\"] = 1;\n\n\tself[\"then\"] = function (_fn, _er) {\n\t\tif (!(this._d == 1))\n\t\t\tthrow TypeError();\n\n\t\tvar d = new Deferred();\n\n\t\td.fn = _fn;\n\t\td.er = _er;\n\t\tif (state == 3) {\n\t\t\td.resolve(val);\n\t\t}\n\t\telse if (state == 4) {\n\t\t\td.reject(val);\n\t\t}\n\t\telse {\n\t\t\tnext.push(d);\n\t\t}\n\n\t\treturn d;\n\t};\n\n\tself[\"finally\"] = function(_handler){\n\t\tvar _value;\n\t\tconst handler = function(value){\n\t\t\t_value = value;\n\t\t\treturn _handler();\n\t\t};\n\t\t\n\t\tconst value = function(){\n\t\t\tconst d = new Deferred();\n\t\t\tif(state == 4)\n\t\t\t\treturn d.reject(_value);\n\t\t\telse\n\t\t\t\treturn d.resolve(_value);\n\t\t};\n\n\t\treturn self.then(handler, handler).then(value, value);\n\t};\n\n\tself[\"catch\"] = function (_er) {\n\t\treturn self[\"then\"](null, _er);\n\t};\n\n\t//compatibility with old version of promiz lib\n\tself[\"fail\"] = function (_er) {\n\t\treturn self[\"then\"](null, _er);\n\t};\n\n\tvar finish = function (type) {\n\t\tstate = type || 4;\n\t\tfor (var i=0; i<next.length; i++){\n\t\t\tvar p = next[i];\n\t\t\tstate == 3 && p.resolve(val) || p.reject(val);\n\t\t}\n\t};\n\n\ttry {\n\t\tif (typeof resolver == \"function\")\n\t\t\tresolver(self[\"resolve\"], self[\"reject\"]);\n\t} catch (e) {\n\t\tself[\"reject\"](e);\n\t}\n\n\treturn self;\n\n\t// ref : reference to 'then' function\n\t// cb, ec, cn : successCallback, failureCallback, notThennableCallback\n\tfunction thennable (ref, cb, ec, cn) {\n\t\t// Promises can be rejected with other promises, which should pass through\n\t\tif (state == 2) {\n\t\t\treturn cn();\n\t\t}\n\t\tif ((typeof val == \"object\" || typeof val == \"function\") && typeof ref == \"function\") {\n\t\t\ttry {\n\n\t\t\t\t// cnt protects against abuse calls from spec checker\n\t\t\t\tvar cnt = 0;\n\t\t\t\tref.call(val, function (v) {\n\t\t\t\t\tif (cnt++) return;\n\t\t\t\t\tval = v;\n\t\t\t\t\tcb();\n\t\t\t\t}, function (v) {\n\t\t\t\t\tif (cnt++) return;\n\t\t\t\t\tval = v;\n\t\t\t\t\tec();\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tval = e;\n\t\t\t\tec();\n\t\t\t}\n\t\t} else {\n\t\t\tcn();\n\t\t}\n\t}\n\n\tfunction fire() {\n\t\t// check if it's a thenable\n\t\tvar ref;\n\t\ttry {\n\t\t\tref = val && val.then;\n\t\t} catch (e) {\n\t\t\tval = e;\n\t\t\tstate = 2;\n\t\t\treturn fire();\n\t\t}\n\n\t\tthennable(ref, function () {\n\t\t\tstate = 1;\n\t\t\tfire();\n\t\t}, function () {\n\t\t\tstate = 2;\n\t\t\tfire();\n\t\t}, function () {\n\t\t\ttry {\n\t\t\t\tif (state == 1 && typeof fn == \"function\") {\n\t\t\t\t\tval = fn(val);\n\t\t\t\t}\n\n\t\t\t\telse if (state == 2 && typeof er == \"function\") {\n\t\t\t\t\tval = er(val);\n\t\t\t\t\tstate = 1;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tval = e;\n\t\t\t\treturn finish();\n\t\t\t}\n\n\t\t\tif (val == self) {\n\t\t\t\tval = TypeError();\n\t\t\t\tfinish();\n\t\t\t} else thennable(ref, function () {\n\t\t\t\tfinish(3);\n\t\t\t}, finish, function () {\n\t\t\t\tfinish(state == 1 && 3);\n\t\t\t});\n\n\t\t});\n\t}\n\n\n}\n\n// promise factory\nDeferred.defer = function () {\n\treturn new Deferred(null);\n};\n\nexport default Deferred;","// resolves circular dependencies\n// quick solution, must be removed in the next versions\n\nconst services = {};\nexport function define(name, value){\n\tservices[name] = value;\n}\n\nexport function use(name){\n\treturn services[name];\n}","// debugger helpers\n// assert and log calls are removed in min versions\n\nimport { use } from \"../services\";\n\n//check some rule, show message as error if rule is not correct\nexport function assert(test, msg){\n\tif (!test){\n\t\tlog(\"error\",msg);\n\t\tlet message = use(\"message\");\n\t\tif (message && typeof msg == \"string\")\n\t\t\tmessage({ type:\"debug\", text:msg, expire:-1 });\n\t\t\tdebugger; // eslint-disable-line\n\t}\n}\n\n//show log message\nexport function log(type,message,details){\n\tif (arguments.length == 1){\n\t\tmessage = type;\n\t\ttype = \"log\";\n\t}\n\tif (window.console && window.console.log){\n\t\ttype=type.toLowerCase();\n\t\tif (window.console[type])\n\t\t\twindow.console[type](message||\"unknown error\");\n\t\telse\n\t\t\twindow.console.log(type +\": \"+message);\n\n\t\tif (details) \n\t\t\twindow.console.log(details);\n\t}\n}\n\nexport var debug_mode = {};\n\nexport function debug(mode){\n\tif (!mode)\n\t\tdebug_mode = {};\n\telse if (typeof mode !== \"object\")\n\t\tdebug_mode = { events: true };\n\telse \n\t\tfor (var key in mode) debug_mode[key] = mode[key];\n}\n\nlet debug_size_indent = 0;\nfunction debug_size_step(){\n\tvar str = \"\";\n\tfor (let i=0; i<debug_size_indent; i++)\n\t\tstr+=\"|  \";\n\treturn str;\n}\nexport function debug_size_box_start(comp, get){\n\tif (!debug_mode.size) return;\n\tif (!debug_size_indent)\n\t\tlog(get?\"--- get sizes ---\":\"--- set sizes ---\");\n\tlog(debug_size_step()+comp.name+\"@\"+comp.config.id);\n\tdebug_size_indent++;\n}\nexport function debug_size_box_end(comp, sizes){\n\tif (!debug_mode.size) return;\n\tdebug_size_indent--;\n\tlog(debug_size_step()+sizes.join(\",\"));\n}\n\nexport function debug_size_box(comp, sizes, get){\n\tif (!debug_mode.size) return;\n\tif (!debug_size_indent)\n\t\tlog(get?\"--- get sizes ---\":\"--- set sizes ---\");\n\tlog(debug_size_step()+comp.name+\"@\"+comp.config.id+\" \"+sizes.join(\",\"));\n}","import {assert} from \"./debug\";\n\nlet level = 0;\nexport function level_in(){\n\tlevel++;\n\tassert(level !== 100, \"Attempt to copy object with self reference\");\n}\nexport function level_out(){\n\tlevel--;\n}\n\n//coding helpers\nexport function clone(source){\n\tvar f = clone._function;\n\tf.prototype = source;\n\treturn new f();\n}\nclone._function = function(){};\n\n//copies methods and properties from source to the target\nlet extend = function(base, source, force){\n\tassert(base,\"Invalid mixing target\");\n\tassert(source,\"Invalid mixing source\");\n\n\tif (base.$protoWait){\n\t\t_power_array.insertAt.call(base.$protoWait, source,1);\n\t\treturn base;\n\t}\n\n\t//copy methods, overwrite existing ones in case of conflict\n\tfor (var method in source)\n\t\tif ((!(method in base)) || force)\n\t\t\tbase[method] = source[method];\n\n\t//in case of defaults - preffer top one\n\tif (source.defaults)\n\t\textend(base.defaults, source.defaults);\n\t\n\t//if source object has init code - call init against target\n\tif (source.$init)\t\n\t\tsource.$init.call(base);\n\n\treturn base;\t\n};\n\n//copies methods and properties from source to the target from all levels\nexport function copy(source){\n\tassert(source,\"Invalid mixing target\");\n\tif (DEBUG) level_in();\n\n\tvar esModern = !!window.Map && !!window.Set && !!window.WeakMap && !!window.WeakSet;\n\tvar target;\n\tif(arguments.length>1){\n\t\ttarget = arguments[0];\n\t\tsource = arguments[1];\n\t} else \n\t\ttarget = (isArray(source)?[]:{});\n\n\tfor (var method in source){\n\t\tvar from = source[method];\n\t\tif(from && typeof from == \"object\" && !(from instanceof RegExp)){\n\t\t\tif (isDate(from))\n\t\t\t\ttarget[method] = new Date(from);\n\t\t\t/* jshint ignore:start */\n\t\t\telse if (esModern && (from instanceof Map || from instanceof Set || from instanceof WeakMap || from instanceof WeakSet))\n\t\t\t\ttarget[method] = from;\n\t\t\t/* jshint ignore:end */\n\t\t\telse {\n\t\t\t\ttarget[method] = (isArray(from)?[]:{});\n\t\t\t\tcopy(target[method],from);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget[method] = from;\n\t\t}\n\t}\n\n\tif (DEBUG) level_out();\n\treturn target;\t\n}\n\nexport function single(source){ \n\tvar instance = null;\n\tvar t = function(){\n\t\tif (!instance)\n\t\t\tinstance = new source({});\n\t\t\t\n\t\tif (instance._reinit)\n\t\t\tinstance._reinit.apply(instance, arguments);\n\t\treturn instance;\n\t};\n\treturn t;\n}\n\n\n//creates function with specified \"this\" pointer\nexport function bind(functor, object){ \n\treturn function(){ return functor.apply(object,arguments); };  \n}\n\n\n//evaluate javascript code in the global scoope\nexport function exec(code){\n\tif (window.execScript)\t//special handling for IE\n\t\twindow.execScript(code);\n\telse window.eval(code);\n}\n\nexport function wrap(code, wrap){\n\tif (!code) return wrap;\n\treturn function(){\n\t\tvar result = code.apply(this, arguments);\n\t\twrap.apply(this,arguments);\n\t\treturn result;\n\t};\n}\n\n//check === undefined\nexport function isUndefined(a){\n\treturn typeof a == \"undefined\";\n}\n//delay call to after-render time\nexport function delay(method, obj, params, delay){\n\treturn window.setTimeout(function(){\n\t\tif(!(obj&&obj.$destructed)){\n\t\t\tvar ret = method.apply(obj,(params||[]));\n\t\t\tmethod = obj = params = null;\n\t\t\treturn ret;\n\t\t}\n\t},delay||1);\n}\n\nexport function once(method){\n\tvar flag = true;\n\treturn function(){\n\t\tif (flag){\n\t\t\tflag = false;\n\t\t\tmethod.apply(this, arguments);\n\t\t}\n\t};\n}\n\n//common helpers\n\n//generates unique ID (unique per window, nog GUID)\nlet _seed = (new Date()).valueOf();\nexport function uid(){\n\t_seed++;\n\treturn _seed;\n}\n//resolve ID as html object\nexport function toNode(node){\n\tif (typeof node == \"string\") return document.getElementById(node);\n\treturn node;\n}\n//resolve function name\nexport function toFunctor(str, scope){ \n\tif (typeof(str)==\"string\"){\n\t\tvar method = str.replace(\"()\",\"\");\n\t\tif (scope && scope[method]) return scope[method];\n\t\treturn window[method] || window.eval(str);\n\t}\n\treturn str;\n}\n/*checks where an object is instance of Array*/\nexport function isArray(obj) {\n\treturn Array.isArray?Array.isArray(obj):(Object.prototype.toString.call(obj) === \"[object Array]\");\n}\nexport function isDate(obj){\n\treturn obj instanceof Date;\n}\n\n//adds extra methods for the array\nexport function _to_array(array){ \n\treturn extend((array||[]),_power_array, true);\n}\n//can be used by _to_array()\nexport const _power_array={\n\t//remove element at specified position\n\tremoveAt:function(pos,len){\n\t\tif (pos>=0) this.splice(pos,(len||1));\n\t},\n\t//find element in collection and remove it \n\tremove:function(value){\n\t\tthis.removeAt(this.find(value));\n\t},\t\n\t//add element to collection at specific position\n\tinsertAt:function(data,pos){\n\t\tif (!pos && pos!==0)\t//add to the end by default\n\t\t\tthis.push(data);\n\t\telse {\n\t\t\tthis.splice(pos, 0, data); \n\t\t}\n\t},\n\t//return index of element, -1 if it doesn't exists\n\tfind:function(data){ \n\t\tfor (var i=0; i<this.length; i++) \n\t\t\tif (data==this[i]) return i;\n\t\treturn -1; \n\t},\n\t//execute some method for each element of array\n\teach:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tfunctor.call((master||this),this[i]);\n\t},\n\t//create new array from source, by using results of functor \n\tmap:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tthis[i]=functor.call((master||this),this[i]);\n\t\treturn this;\n\t}, \n\tfilter:function(functor, master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tif (!functor.call((master||this),this[i])){\n\t\t\t\tthis.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\treturn this;\n\t}\n};\n\n//hook for documentation generator\nif (DEBUG){\n\tif (window.webix_on_core_ready){\n\t\textend = window.webix_on_core_ready({ extend }).extend;\n\t}\n}\n\nexport { extend };","const i18n = {\n\tparseFormat:\"%Y-%m-%d %H:%i:%s\",\n\tparseTimeFormat:\"%H:%i:%s\",\n};\n\n\nexport default i18n;","import i18n from \"./i18n.js\";\n\n// converts an object into a string with respect to dates\nexport function stringify(obj){\n\tvar origin = Date.prototype.toJSON;\n\tDate.prototype.toJSON = function(){\n\t\treturn i18n.parseFormatStr(this);\n\t};\n\n\tvar result;\n\tif (obj instanceof Date)\n\t\tresult = obj.toJSON();\n\telse\n\t\tresult = JSON.stringify(obj);\n\n\tDate.prototype.toJSON = origin;\n\treturn result;\n}","import {extend, toFunctor, bind, uid, _to_array} from \"../webix/helpers.js\";\nimport {assert, log, debug_mode} from \"../webix/debug.js\";\n\n//event system\nconst EventSystem={\n\t$init:function(){\n\t\tif (!this._evs_events){\n\t\t\tthis._evs_events = {};\t\t//hash of event handlers, name => handler\n\t\t\tthis._evs_handlers = {};\t//hash of event handlers, ID => handler\n\t\t\tthis._evs_map = {};\n\t\t}\n\t},\n\t//temporary block event triggering\n\tblockEvent : function(){\n\t\tthis._evs_events._block = true;\n\t},\n\t//re-enable event triggering\n\tunblockEvent : function(){\n\t\tthis._evs_events._block = false;\n\t},\n\tmapEvent:function(map){\n\t\textend(this._evs_map, map, true);\n\t},\n\ton_setter:function(config){\n\t\tif(config){\n\t\t\tfor(var i in config){\n\t\t\t\tvar method = toFunctor(config[i], this.$scope);\n\t\t\t\tvar sub = i.indexOf(\"->\");\n\t\t\t\tif (sub !== -1){\n\t\t\t\t\tthis[i.substr(0,sub)].attachEvent(i.substr(sub+2), bind(method, this));\n\t\t\t\t} else\n\t\t\t\t\tthis.attachEvent(i, method);\n\t\t\t}\n\t\t}\n\t},\n\t//trigger event\n\tcallEvent:function(type,params){\n\t\tconst master = this._event_master || this;\n\t\tif (this._evs_events._block) return true;\n\t\t\n\t\ttype = type.toLowerCase();\n\t\tvar event_stack =this._evs_events[type.toLowerCase()];\t//all events for provided name\n\t\tvar return_value = true;\n\n\t\tif (DEBUG)\n\t\t\tif ((debug_mode.events || this.debug) && type !== \"onmousemoving\" )\t//can slowdown a lot\n\t\t\t\tlog(\"info\",\"[\"+this.name+\"@\"+((this._settings||{}).id)+\"] event:\"+type,params);\n\t\t\n\t\tif (event_stack)\n\t\t\tfor(var i=0; i<event_stack.length; i++){\n\t\t\t\t/*\n\t\t\t\t\tCall events one by one\n\t\t\t\t\tIf any event return false - result of whole event will be false\n\t\t\t\t\tHandlers which are not returning anything - counted as positive\n\t\t\t\t*/\n\t\t\t\tif (event_stack[i].apply(master, (params||[]))===false) return_value=false;\n\t\t\t}\n\t\tif (this._evs_map[type]){\n\t\t\tvar target = this._evs_map[type];\n\t\t\ttarget.$eventSource = this;\n\t\t\tif (!target.callEvent(type,params))\n\t\t\t\treturn_value =\tfalse;\n\t\t\ttarget.$eventSource = null;\n\t\t}\n\n\t\treturn return_value;\n\t},\n\t//assign handler for some named event\n\tattachEvent:function(type,functor,id){\n\t\tassert(functor, \"Invalid event handler for \"+type);\n\n\t\ttype=type.toLowerCase();\n\t\t\n\t\tid=id||uid(); //ID can be used for detachEvent\n\t\tfunctor = toFunctor(functor, this.$scope);\t//functor can be a name of method\n\n\t\tvar event_stack=this._evs_events[type]||_to_array();\n\t\t//save new event handler\n\t\tif (arguments[3])\n\t\t\tevent_stack.unshift(functor);\n\t\telse\n\t\t\tevent_stack.push(functor);\n\t\tthis._evs_events[type]=event_stack;\n\t\tthis._evs_handlers[id]={ f:functor,t:type };\n\t\t\n\t\treturn id;\n\t},\n\t//remove event handler\n\tdetachEvent:function(id){\n\t\tif(!this._evs_handlers[id]){\n\t\t\tvar name = (id+\"\").toLowerCase();\n\t\t\tif (this._evs_events[name]){\n\t\t\t\tthis._evs_events[name] = _to_array();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tvar type=this._evs_handlers[id].t;\n\t\tvar functor=this._evs_handlers[id].f;\n\t\t\n\t\t//remove from all collections\n\t\tvar event_stack=this._evs_events[type];\n\t\tevent_stack.remove(functor);\n\t\tdelete this._evs_handlers[id];\n\t},\n\thasEvent:function(type){\n\t\ttype=type.toLowerCase();\n\t\tvar stack = this._evs_events[type];\n\t\tif (stack && stack.length) return true;\n\n\t\tvar parent = this._evs_map[type];\n\t\tif (parent)\n\t\t\treturn parent.hasEvent(type);\n\t\treturn false;\n\t}\n};\n\nexport default EventSystem;","import {extend} from \"./helpers\";\nimport EventSystem from \"../core/eventsystem\";\n\nvar evs = {};\nextend(evs, EventSystem, true);\n\nexport const callEvent = (a,b) => evs.callEvent(a, b);\nexport const attachEvent = (a,b,c,d) => evs.attachEvent(a, b, c, d);\nexport const detachEvent = (a) => evs.detachEvent(a);\nexport const blockEvent = () => evs.blockEvent();\nexport const unblockEvent = () => evs.unblockEvent();\nexport const mapEvent = map => evs.mapEvent(map);\nexport const hasEvent = type => evs.hasEvent(type);\n","import { assert } from \"../../webix/debug\";\n\nconst xml={\n\t_isValidXML:function(data){\n\t\tif (!data || !data.documentElement)\n\t\t\treturn null;\n\t\tif (data.getElementsByTagName(\"parsererror\").length)\n\t\t\treturn null;\n\t\treturn data;\n\t},\n\t//convert xml string to xml object if necessary\n\ttoObject:function(text, response){\n\t\tvar data = response ? (response.rawxml ? response.rawxml() : response) :null;\n\t\tif (this._isValidXML(data))\n\t\t\treturn data;\n\t\tif (typeof text == \"string\")\n\t\t\tdata = this.fromString(text.replace(/^[\\s]+/,\"\"));\n\t\telse\n\t\t\tdata = text;\n\n\t\tif (this._isValidXML(data))\n\t\t\treturn data;\n\t\treturn null;\n\t},\n\t//get array of records\n\tgetRecords:function(data){\n\t\treturn this.xpath(data,this.records);\n\t},\n\trecords:\"/*/item\",\n\tchild:\"item\",\n\tconfig:\"/*/config\",\n\t//get hash of properties for single record\n\tgetDetails:function(data){\n\t\treturn this.tagToObject(data,{});\n\t},\n\tgetOptions:function(){ \n\t\treturn false;\n\t},\n\t//get count of data and position at which new data_loading need to be inserted\n\tgetInfo:function(data){\n\t\t\n\t\tvar config = this.xpath(data, this.config);\n\t\tif (config.length)\n\t\t\tconfig = this.assignTypes(this.tagToObject(config[0],{}));\n\t\telse \n\t\t\tconfig = null;\n\n\t\treturn {\n\t\t\tsize:(data.documentElement.getAttribute(\"total_count\")||0),\n\t\t\tfrom:data.documentElement.getAttribute(\"pos\"),\n\t\t\tparent:(data.documentElement.getAttribute(\"parent\")||0),\n\t\t\tconfig:config\n\t\t};\n\t},\n\t//xpath helper\n\txpath:function(xml,path){\n\t\tif (window.XPathResult){\t//FF, KHTML, Opera\n\t\t\tvar node=xml;\n\t\t\tif(xml.nodeName.indexOf(\"document\")==-1)\n\t\t\t\txml=xml.ownerDocument;\n\n\t\t\tvar res = [];\n\t\t\tvar col = xml.evaluate(path, node, null, XPathResult.ANY_TYPE, null);\n\t\t\tvar temp = col.iterateNext();\n\t\t\twhile (temp){ \n\t\t\t\tres.push(temp);\n\t\t\t\ttemp = col.iterateNext();\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\telse {\n\t\t\tvar test = true;\n\t\t\ttry {\n\t\t\t\tif (typeof(xml.selectNodes)==\"undefined\")\n\t\t\t\t\ttest = false;\n\t\t\t} catch(e){ /*IE7 and below can't operate with xml object*/ }\n\t\t\t//IE\n\t\t\tif (test)\n\t\t\t\treturn xml.selectNodes(path);\n\t\t\telse {\n\t\t\t\t//there is no interface to do XPath\n\t\t\t\t//use naive approach\n\t\t\t\tvar name = path.split(\"/\").pop();\n\n\t\t\t\treturn xml.getElementsByTagName(name);\n\t\t\t}\n\t\t}\n\t},\n\tassignTypes:function(obj){\n\t\tfor (var k in obj){\n\t\t\tvar test = obj[k];\n\t\t\tif (typeof test == \"object\")\n\t\t\t\tthis.assignTypes(test);\n\t\t\telse if (typeof test == \"string\"){\n\t\t\t\tif (test === \"\") \n\t\t\t\t\tcontinue;\n\t\t\t\tif (test == \"true\")\n\t\t\t\t\tobj[k] = true;\n\t\t\t\telse if (test == \"false\")\n\t\t\t\t\tobj[k] = false;\n\t\t\t\telse if (test == test*1)\n\t\t\t\t\tobj[k] = obj[k]*1;\n\t\t\t}\n\t\t}\n\t\treturn obj;\n\t},\n\t//convert xml tag to js object, all subtags and attributes are mapped to the properties of result object\n\ttagToObject:function(tag,z){\n\t\tvar isArray = tag.nodeType == 1 && tag.getAttribute(\"stack\");\n\t\tvar hasSubTags = 0;\n\n\t\tif (!isArray){\n\t\t\tz=z||{};\n\t\t\t\n\n\t\t\t//map attributes\n\t\t\tlet a=tag.attributes;\n\t\t\tif(a && a.length)\n\t\t\t\tfor (let i=0; i<a.length; i++){\n\t\t\t\t\tz[a[i].name]=a[i].value;\n\t\t\t\t\thasSubTags = 1;\n\t\t\t\t}\n\n\t\t\t//map subtags\n\t\t\tlet b=tag.childNodes;\n\t\t\tfor (let i=0; i<b.length; i++)\n\t\t\t\tif (b[i].nodeType==1){\n\t\t\t\t\tconst name = b[i].tagName;\n\t\t\t\t\tif (z[name]){\n\t\t\t\t\t\tif (typeof z[name].push != \"function\")\n\t\t\t\t\t\t\tz[name] = [z[name]];\n\t\t\t\t\t\tz[name].push(this.tagToObject(b[i],{}));\n\t\t\t\t\t} else\n\t\t\t\t\t\tz[name]=this.tagToObject(b[i],{});\t//sub-object for complex subtags\n\t\t\t\t\thasSubTags = 2;\n\t\t\t\t}\n\n\t\t\tif (!hasSubTags)\n\t\t\t\treturn this.nodeValue(tag);\n\t\t\t//each object will have its text content as \"value\" property\n\t\t\t//only if has not sub tags\n\t\t\tif (hasSubTags < 2)\n\t\t\t\tz.value = z.value||this.nodeValue(tag);\n\n\t\t} else {\n\t\t\tz = [];\n\t\t\tlet b=tag.childNodes;\n\t\t\tfor (let i=0; i<b.length; i++)\n\t\t\t\tif (b[i].nodeType==1)\n\t\t\t\t\tz.push(this.tagToObject(b[i],{}));\n\t\t}\n\n\t\treturn z;\n\t},\n\t//get value of xml node \n\tnodeValue:function(node){\n\t\tif (node.firstChild){\n\t\t\treturn node.firstChild.wholeText || node.firstChild.data;\n\t\t}\n\t\treturn \"\";\n\t},\n\t//convert XML string to XML object\n\tfromString:function(xmlString){\n\t\ttry{\n\t\t\tif (window.DOMParser)\t\t// FF, KHTML, Opera\n\t\t\t\treturn (new DOMParser()).parseFromString(xmlString,\"text/xml\");\n\t\t\t/* global ActiveXObject */\n\t\t\tif (window.ActiveXObject){\t// IE, utf-8 only \n\t\t\t\tvar temp=new ActiveXObject(\"Microsoft.xmlDOM\");\n\t\t\t\ttemp.loadXML(xmlString);\n\t\t\t\treturn temp;\n\t\t\t}\n\t\t} catch(e){\n\t\t\tassert(0, e);\n\t\t\treturn null;\n\t\t}\n\t\tassert(0, \"Load from xml string is not supported\");\n\t}\n};\n\nexport default xml;","import { log, assert } from \"../../webix/debug\";\nimport {isArray, uid} from \"../../webix/helpers\";\n\nconst json = {\n\t//convert json string to json object if necessary\n\ttoObject:function(data){\n\t\tif (!data) return null;\n\t\tif (typeof data == \"string\"){\n\t\t\ttry{\n\t\t\t\tif (this.parseDates){\n\t\t\t\t\tvar isodate = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(.\\d{1-3})?Z/;\n\t\t\t\t\tdata = JSON.parse(data, function(key, value){\n\t\t\t\t\t\tif (typeof value == \"string\"){\n\t\t\t\t\t\t\tif (isodate.test(value))\n\t\t\t\t\t\t\t\treturn new Date(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdata =JSON.parse(data);\n\t\t\t\t}\n\t\t\t} catch(e){\n\t\t\t\tlog(e);\n\t\t\t\tlog(data);\n\t\t\t\tassert(0, \"Invalid JSON data for parsing\");\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t},\n\t//get array of records\n\tgetRecords:function(data){\n\t\tif (data && data.data)\n\t\t\tdata = data.data;\n\n\t\tif (data && !isArray(data))\n\t\t\treturn [data];\n\t\treturn data;\n\t},\n\t//get hash of properties for single record\n\tgetDetails:function(data){\n\t\tif (typeof data == \"string\")\n\t\t\treturn { id:(data||uid()), value:data };\n\t\treturn data;\n\t},\n\tgetOptions:function(data){\n\t\treturn data.collections;\n\t},\n\t//get count of data and position at which new data need to be inserted\n\tgetInfo:function(data){\n\t\treturn {\n\t\t\tsize:(data.total_count||0),\n\t\t\tfrom:data.pos,\n\t\t\tparent:(data.parent||0),\n\t\t\tconfig:(data.config)\n\t\t};\n\t},\n\tchild:\"data\",\n\tparseDates:false\n};\n\nexport default json;","import { log, assert } from \"../webix/debug\";\nimport { isArray, extend } from \"../webix/helpers\";\nimport { stringify } from \"../webix/stringify\";\nimport { callEvent } from \"../webix/customevents\";\nimport promise from \"../thirdparty/promiz\";\n\nimport xml from \"./drivers/xml\";\nimport json from \"./drivers/json\";\n\nexport function ajax(url,params,call){\n\t//if parameters was provided - made fast call\n\tif (arguments.length!==0){\n\t\treturn (new ajax()).get(url,params,call);\n\t}\n\n\tif (!this || !this.getXHR) return new ajax(); //allow to create new instance without direct new declaration\n\n\treturn this;\n}\n\najax.count = 0;\najax.prototype={\n\tmaster:null,\n\t//creates xmlHTTP object\n\tgetXHR:function(){\n\t\treturn new XMLHttpRequest();\n\t},\n\tstringify:function(obj){\n\t\treturn stringify(obj);\n\t},\n\t/*\n\t\tsend data to the server\n\t\tparams - hash of properties which will be added to the url\n\t\tcall - callback, can be an object with success and error functions\n\t*/\n\t_send:function(url, params, call, mode){\n\t\tvar master;\n\t\t//webix.ajax(url, callback) - can be called only by user\n\t\tif (params && (isArray(params) || (typeof (params.success || params.error || params) == \"function\"))){\n\t\t\tmaster = call;\n\t\t\tcall = params;\n\t\t\tparams = null;\n\t\t}\n\n\t\tvar defer = promise.defer();\n\t\tvar x=this.getXHR();\n\t\tvar headers = this._header || {};\n\n\t\tif (!callEvent(\"onBeforeAjax\", [mode, url, params, x, headers, null, defer])){\n\t\t\treturn defer.reject(x);\n\t\t}\n\n\t\t//add content-type to POST|PUT|DELETE\n\t\tvar json_mode = false;\n\t\tif (mode !== \"GET\"){\n\t\t\tvar found = false;\n\t\t\tfor (let key in headers)\n\t\t\t\tif (key.toString().toLowerCase() == \"content-type\"){\n\t\t\t\t\tfound = true;\n\t\t\t\t\tif (headers[key] == \"application/json\")\n\t\t\t\t\t\tjson_mode = true;\n\t\t\t\t}\n\t\t\tif (!found && !(window.FormData && (params instanceof window.FormData)))\n\t\t\t\theaders[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n\t\t}\n\n\t\t//add extra params to the url\n\t\tif (typeof params == \"object\" && !(window.FormData && (params instanceof window.FormData))){\n\t\t\tif (json_mode)\n\t\t\t\tparams = this.stringify(params);\n\t\t\telse {\n\t\t\t\tvar t=[];\n\t\t\t\tfor (var a in params){\n\t\t\t\t\tvar value = params[a];\n\t\t\t\t\tif (value === null || value === undefined)\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\tif(typeof value===\"object\")\n\t\t\t\t\t\tvalue = this.stringify(value);\n\t\t\t\t\tt.push(a+\"=\"+encodeURIComponent(value)); // utf-8 escaping\n\t\t\t\t}\n\t\t\t\tparams=t.join(\"&\");\n\t\t\t}\n\t\t}\n\n\t\tif (params && mode===\"GET\"){\n\t\t\turl=url+(url.indexOf(\"?\")!=-1 ? \"&\" : \"?\")+params;\n\t\t\tparams = null;\n\t\t}\n\n\t\tx.open(mode, url, !this._sync);\n\n\t\tvar type = this._response;\n\t\tif (type) x.responseType = type;\n\n\t\t//if header was provided - use it\n\t\tfor (let key in headers)\n\t\t\tx.setRequestHeader(key, headers[key]);\n\t\t\n\t\t//async mode, define loading callback\n\t\tvar self=this;\n\t\tthis.master = this.master || master;\n\t\tx.onreadystatechange = function(){\n\t\t\tif (!x.readyState || x.readyState == 4){\n\t\t\t\tajax.count++;\n\n\t\t\t\tvar is_error = x.status >= 400 || x.status === 0;\n\t\t\t\tvar text, data;\n\t\t\t\tif (x.responseType == \"blob\" || x.responseType == \"arraybuffer\"){\n\t\t\t\t\ttext = \"\";\n\t\t\t\t\tdata = x.response;\n\t\t\t\t} else {\n\t\t\t\t\ttext = x.responseText||\"\";\n\t\t\t\t\tdata = self._data(x);\n\t\t\t\t}\n\t\t\t\tif (is_error){\n\t\t\t\t\tcallEvent(\"onAjaxError\", [x]);\n\t\t\t\t\tdefer.reject(x);\n\t\t\t\t\tif(call)\n\t\t\t\t\t\tajax.$callback((self.master || window), call, text, data, x, is_error);\n\t\t\t\t} else {\n\t\t\t\t\tdefer.resolve(data);\n\t\t\t\t\tif(call)\n\t\t\t\t\t\tajax.$callback((self.master || window), call, text, data, x, is_error);\n\t\t\t\t}\t\n\t\t\t}\n\t\t};\n\n\t\tif (this._timeout)\n\t\t\tx.timeout = this._timeout;\n\n\t\t//IE can use sync mode sometimes, fix it\n\t\tif (!this._sync)\n\t\t\tsetTimeout(function(){\n\t\t\t\tx.send(params||null);\n\t\t\t}, 0);\n\t\telse\n\t\t\tx.send(params||null);\n\t\t\n\t\tif (this.master && !this._sync){\n\t\t\tdefer.then(function(data){\n\t\t\t\t//anti-leak\n\t\t\t\tself.master=null;\n\t\t\t\tcall=self=master=null;\t\n\t\t\t\treturn data;\n\t\t\t});\n\t\t}\n\n\t\treturn this._sync?x:defer; //return XHR, which can be used in case of sync. mode\n\t},\n\t_data:function(x){\n\t\treturn {\n\t\t\txml:function(){ \n\t\t\t\ttry{\n\t\t\t\t\treturn xml.tagToObject(xml.toObject(x.responseText, this));\n\t\t\t\t}\n\t\t\t\tcatch(e){\n\t\t\t\t\tlog(x.responseText);\n\t\t\t\t\tlog(e.toString()); assert(0, \"Invalid xml data for parsing\"); \n\t\t\t\t}\n\t\t\t},\n\t\t\trawxml:function(){ \n\t\t\t\tif (!window.XPathResult)\n\t\t\t\t\treturn xml.fromString(x.responseText);\n\t\t\t\treturn x.responseXML;\n\t\t\t},\n\t\t\ttext:function(){ return x.responseText; },\n\t\t\tjson:function(){\n\t\t\t\treturn json.toObject(x.responseText, false);\n\t\t\t}\n\t\t};\n\t},\n\t//GET request\n\tget:function(url,params,call){\n\t\treturn this._send(url,params,call,\"GET\");\n\t},\n\t//POST request\n\tpost:function(url,params,call){\n\t\treturn this._send(url,params,call,\"POST\");\n\t},\n\t//PUT request\n\tput:function(url,params,call){\n\t\treturn this._send(url,params,call,\"PUT\");\n\t},\n\t//DELETE request\n\tdel:function(url,params,call){\n\t\treturn this._send(url,params,call,\"DELETE\");\n\t},\n\t//PATCH request\n\tpatch:function(url,params,call){\n\t\treturn this._send(url,params,call,\"PATCH\");\n\t},\n\n\tsync:function(){\n\t\tthis._sync = true;\n\t\treturn this;\n\t},\n\ttimeout:function(num){\n\t\tthis._timeout = num;\n\t\treturn this;\n\t},\n\tresponse:function(value){\n\t\tthis._response = value;\n\t\treturn this;\n\t},\n\theaders:function(header){\n\t\tthis._header = extend(this._header||{},header);\n\t\treturn this;\n\t},\n\tbind:function(master){\n\t\tthis.master = master;\n\t\treturn this;\n\t}\n};\najax.$callback = function(owner, call, text, data, x, is_error){\n\tif (owner.$destructed) return;\n\n\tif (is_error)\n\t\tcallEvent(\"onAjaxError\", [x]);\n\t\n\tif (call){\n\t\tvar method = call.success || call;\n\t\tif (is_error)\n\t\t\tmethod = call.error;\n\t\tif (method && method.call)\n\t\t\tmethod.call(owner,text,data,x);\n\t}\n};","import {ajax} from \"../ajax\";\n\nconst proxy = {\n\t$proxy:true,\n\tload:function(){\n\t\tvar parts = this.source.split(\"@\");\n\t\tvar ext = parts[0].split(\".\").pop();\n\t\treturn ajax().response(\"arraybuffer\").get(parts[0]).then(function(res){\n\t\t\tvar options = { ext:ext, dataurl : parts[1] };\n\t\t\treturn { data:res, options:options };\n\t\t});\n\t}\n};\n\nexport default proxy;","import {delay} from \"../../webix/helpers\";\n\n\n\nconst proxy = {\n\t$proxy:true,\n\tload:function(){},\n\tsave:function(v,u,d){\n\t\tdelay(function(){\n\t\t\twindow.console.log(\"[DP] \"+u.id+\" -> \"+u.operation, u.data);\n\t\t\tvar data = {\n\t\t\t\tid:u.data.id,\n\t\t\t\tnewid:u.data.id,\n\t\t\t\tstatus:u.data.operation\n\t\t\t};\n\t\t\td.processResult(data, data);\n\t\t});\n\t}\n};\n\nexport default proxy;","import {ajax} from \"../ajax\";\n\nconst proxy = {\n\t$proxy:true,\n\tload:function(){\n\t\treturn ajax(this.source);\n\t},\n\tsave:function(view, update){\n\t\treturn proxy._save_logic.call(this, update, ajax());\n\t},\n\t_save_logic:function(update, ajax){\n\t\tvar url = this.source;\n\t\tvar query = \"\";\n\t\tvar mark = url.indexOf(\"?\");\n\n\t\tif (mark !== -1){\n\t\t\tquery = url.substr(mark);\n\t\t\turl = url.substr(0, mark);\n\t\t}\n\n\t\turl += url.charAt(url.length-1) == \"/\" ? \"\" : \"/\";\n\t\tvar mode = update.operation;\n\n\n\t\tvar data = update.data;\n\t\tif (mode == \"insert\") delete data.id;\n\n\t\t//call rest URI\n\t\tif (mode == \"update\"){\n\t\t\treturn ajax.put(url + data.id + query, data);\n\t\t} else if (mode == \"delete\") {\n\t\t\treturn ajax.del(url + data.id + query, data);\n\t\t} else {\n\t\t\treturn ajax.post(url + query, data);\n\t\t}\n\t}\n};\n\nexport default proxy;\n","import {ajax} from \"../ajax\";\nimport rest from \"./rest\";\n\nconst proxy = {\n\t$proxy:true,\n\tload:function(){\n\t\treturn ajax(this.source);\n\t},\n\tsave:function(view, update){\n\t\tvar xhr = ajax().headers({ \"Content-Type\":\"application/json\" });\n\t\treturn rest._save_logic.call(this, update, xhr);\n\t}\n};\n\nexport default proxy;","import {extend} from \"../../webix/helpers\";\n\nimport {ajax} from \"../ajax\";\n\nconst proxy = {\n\t$proxy:true,\n\tload:function(view, params){\n\t\tparams = extend(params||{}, this.params || {}, true);\n\t\treturn ajax().post(this.source, params);\n\t}\n};\n\nexport default proxy;","import {ajax} from \"../ajax\";\n\nfunction unbox(data){\n\tif (!data || !typeof data === \"object\" || Array.isArray(data))\n\t\treturn data;\n\n\tvar lkey =\"\";\n\tvar count = 0;\n\tfor (var key in data){\n\t\tcount++;\n\t\tif (count == 2) return data;\n\t\tlkey = key;\n\t}\n\n\treturn data[lkey];\n}\n\nconst GraphQL = {\n\t$proxy:true,\n\tsave:function(data){\n\t\treturn this.load(data);\n\t},\n\tload:function(view){\n\t\tvar params = {\n\t\t\tquery: this.source\n\t\t};\n\t\tif (arguments.length === 1){\n\t\t\tparams.variables = view;\n\t\t}\n\n\t\treturn ajax()\n\t\t\t.headers({ \"Content-type\": \"application/json\" })\n\t\t\t.post(this.url, params)\n\t\t\t.then(function(data){\n\t\t\t\treturn unbox(data.json().data);\n\t\t\t});\n\t}\n};\n\nexport default GraphQL;","import {assert} from \"../webix/debug\";\nimport {extend, copy as makeCopy} from \"../webix/helpers\";\n\nimport binary from \"./proxy/binary\";\nimport debug from \"./proxy/debug\";\nimport json from \"./proxy/json\";\nimport post from \"./proxy/post\";\nimport rest from \"./proxy/rest\";\nimport graphql from \"./proxy/graphql\";\n\nfunction proxy(name, source, extra){\n\tassert(proxy[name], \"Invalid proxy name: \"+name);\n\n\tvar copy = makeCopy(proxy[name]);\n\tcopy.source = source;\n\n\tif (extra)\n\t\textend(copy, extra, true);\n\n\tif (copy.init) copy.init();\n\treturn copy;\n}\n\nproxy.$parse = function(value){\n\tif (typeof value == \"string\" && value.indexOf(\"->\") != -1){\n\t\tvar parts = value.split(\"->\");\n\t\treturn proxy(parts[0], parts[1]);\n\t}\n\treturn value;\n};\n\nproxy.binary = binary;\nproxy.debug = debug;\nproxy.json = json;\nproxy.post = post;\nproxy.rest = rest;\nproxy.GraphQL = graphql;\n\nexport default proxy;","const jsarray={\n\t//parse jsarray string to jsarray object if necessary\n\ttoObject:function(data){\n\t\tif (typeof data == \"string\")\n\t\t\treturn JSON.parse(data);\n\t\treturn data;\n\t},\n\t//get array of records\n\tgetRecords:function(data){\n\t\tif (data && data.data)\n\t\t\tdata = data.data;\n\t\treturn data;\n\t},\n\t//get hash of properties for single record, in case of array they will have names as \"data{index}\"\n\tgetDetails:function(data){\n\t\tvar result = {};\n\t\tfor (var i=0; i < data.length; i++)\n\t\t\tresult[\"data\"+i]=data[i];\n\t\tif (this.idColumn !== null)\n\t\t\tresult.id = data[this.idColumn];\n\n\t\treturn result;\n\t},\n\tgetOptions:function(){ return false; },\n\t//dyn loading is not supported by js-array data source\n\tgetInfo:function(){\n\t\treturn {\n\t\t\tsize:0\n\t\t};\n\t},\n\tidColumn:null\n};\n\nexport default jsarray;","const csv = {\n\t//incoming data always a string\n\ttoObject:function(data){\n\t\treturn data;\n\t},\n\t//get array of records\n\tgetRecords:function(data){\n\t\treturn data.split(this.row);\n\t},\n\t//get hash of properties for single record, data named as \"data{index}\"\n\tgetDetails:function(data){\n\t\tdata = this.stringToArray(data);\n\t\tvar result = {};\n\t\tfor (var i=0; i < data.length; i++) \n\t\t\tresult[\"data\"+i]=data[i];\n\n\t\tif (this.idColumn !== null)\n\t\t\tresult.id = data[this.idColumn];\n\n\t\treturn result;\n\t},\n\tgetOptions:function(){ return false; },\n\t//dyn loading is not supported by csv data source\n\tgetInfo:function(){\n\t\treturn {\n\t\t\tsize:0\n\t\t};\n\t},\n\t//split string in array, takes string surrounding quotes in account\n\tstringToArray:function(data){\n\t\tdata = data.split(this.cell);\n\t\tfor (var i=0; i < data.length; i++)\n\t\t\tdata[i] = data[i].replace(/^[ \\t\\n\\r]*(\"|)/g,\"\").replace(/(\"|)[ \\t\\n\\r]*$/g,\"\");\n\t\treturn data;\n\t},\n\tidColumn:null,\n\trow:\"\\n\",\t//default row separator\n\tcell:\",\"\t//default cell separator\n};\n\nexport default csv;","import { toNode } from \"../../webix/helpers.js\";\nimport xml from \"./xml.js\";\n\nconst html = {\n\t/*\n\t\tincoming data can be\n\t\t - ID of parent container\n\t\t - HTML text\n\t*/\n\ttoObject:function(data){\n\t\tif (typeof data == \"string\"){\n\t\t\tvar t=null;\n\t\t\tif (data.indexOf(\"<\")==-1)\t//if no tags inside - probably its an ID\n\t\t\t\tt = toNode(data);\n\t\t\tif (!t){\n\t\t\t\tt=document.createElement(\"DIV\");\n\t\t\t\tt.innerHTML = data;\n\t\t\t}\n\t\t\n\t\t\treturn t.firstChild;\n\t\t}\n\t\treturn data;\n\t},\n\t//get array of records\n\tgetRecords:function(node){\n\t\treturn node.getElementsByTagName(this.tag);\n\t},\n\t//get hash of properties for single record\n\tgetDetails:function(data){\n\t\treturn xml.tagToObject(data);\n\t},\n\tgetOptions:function(){ \n\t\treturn false;\n\t},\n\t//dyn loading is not supported by HTML data source\n\tgetInfo:function(){\n\t\treturn {\n\t\t\tsize:0\n\t\t};\n\t},\n\ttag: \"LI\"\n};\n\nexport default html;","const env = {};\n\nenv.cdn = \"//cdn.webix.com/\";\nenv.codebase = \"\";\nenv.zIndexBase = 100;\nenv.scrollSize = 17;\nenv.strict = !!window.webix_strict;\nenv.https = document.location.protocol === \"https:\";\n\nvar agent = navigator.userAgent;\nenv.isMac = agent.indexOf(\"Mac\")!=-1;\nif (agent.indexOf(\"Mobile\")!=-1 || agent.indexOf(\"Windows Phone\")!=-1)\n\tenv.mobile = true;\nif (env.mobile || agent.indexOf(\"iPad\")!=-1 || agent.indexOf(\"Android\")!=-1)\n\tenv.touch = true;\nif (!env.touch && (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1))\n\tenv.touch = true;\nif (agent.indexOf(\"Opera\")!=-1)\n\tenv.isOpera=true;\nelse{\n\t//very rough detection, but it is enough for current goals\n\tenv.isIE=!!document.all || (agent.indexOf(\"Trident\") !== -1);\n\tif (env.isIE){\n\t\tvar version = parseFloat(navigator.appVersion.split(\"MSIE\")[1]);\n\t\tif (version == 8)\n\t\t\tenv.isIE8 = true;\n\t}\n\tenv.isEdge=(agent.indexOf(\"Edge\")!=-1);\n\tenv.isFF=(agent.indexOf(\"Firefox\")!=-1);\n\tenv.isWebKit=(agent.indexOf(\"KHTML\")!=-1);\n\tenv.isSafari=env.isWebKit && env.isMac && (agent.indexOf(\"Chrome\")==-1);\n\n\t//maximum height/width for HTML elements in pixels (rough), bigger values will be ignored by browser\n\tif(env.isIE || env.isEdge || env.isFF)\n\t\tenv.maxHTMLElementSize = 10000000;\n\tif(env.isSafari)\n\t\tenv.maxHTMLElementSize = 100000000;\n}\n\nif(agent.toLowerCase().indexOf(\"android\")!=-1){\n\tenv.isAndroid = true;\n\tif(agent.toLowerCase().indexOf(\"trident\")!=-1){\n\t\tenv.isAndroid = false;\n\t\tenv.isIEMobile = true;\n\t}\n}\n\nenv.transform = false;\nenv.transition = false;\n\nvar found_index = -1;\nvar js_list =  [\"\", \"webkit\", \"Moz\", \"O\", \"ms\"];\nvar css_list = [\"\", \"-webkit-\", \"-Moz-\", \"-o-\", \"-ms-\"];\n\n\nvar d = document.createElement(\"DIV\");\nfor (var j=0; j < js_list.length; j++) {\n\tvar name = js_list[j] ? (js_list[j]+\"Transform\") : \"transform\";\n\tif(typeof d.style[name] != \"undefined\"){\n\t\tfound_index = j;\n\t\tbreak;\n\t}\n}\n\n\nif (found_index > -1){\n\tenv.cssPrefix = css_list[found_index];\n\tvar jp = env.jsPrefix = js_list[found_index];\n\n\tenv.transform = jp ? jp+\"Transform\" : \"transform\";\n\tenv.transition = jp ? jp+\"Transition\" : \"transition\";\n\tenv.transitionDuration = jp ? jp+\"TransitionDuration\" : \"transitionDuration\";\n\n\td.style[env.transform] = \"translate3d(0,0,0)\";\n\tenv.translate = (d.style[env.transform])?\"translate3d\":\"translate\";\n\tenv.transitionEnd = ((env.cssPrefix == \"-Moz-\")?\"transitionend\":(jp ? jp+\"TransitionEnd\" : \"transitionend\"));\n}\n\nenv.pointerevents = (!env.isIE ||(new RegExp(\"Trident/.*rv:11\")).exec(agent) !== null);\n\n//touch events that can be prevented\nenv.passiveEventListeners = false;\ntry {\n\tvar opts = Object.defineProperty({}, \"passive\", {\n\t\tget: function() { // eslint-disable-line\n\t\t\tenv.passiveEventListeners = true;\n\t\t}\n\t});\n\twindow.addEventListener(\"testPassive\", null, opts);\n\twindow.removeEventListener(\"testPassive\", null, opts);\n} catch (e) {} // eslint-disable-line\n\nenv.svg = (function(){\n\treturn document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\");\n})();\n\nenv.svganimation = (function(){\n\treturn document.implementation.hasFeature(\"https://www.w3.org/TR/SVG11/feature#SVG-animation\", \"1.1\");\n})();\n\nexport default env;","import {delay, uid, toNode, isUndefined} from \"./helpers.js\";\nimport env from \"./env.js\";\n\nlet _native_on_selectstart = 0;\nconst _style_element = {};\nconst _style_cache = {};\n\nexport function denySelect(){\n\tif (!_native_on_selectstart)\n\t\t_native_on_selectstart = document.onselectstart;\n\tdocument.onselectstart = stopEvent;\n}\n\nexport function allowSelect(){\n\tif (_native_on_selectstart !== 0){\n\t\tdocument.onselectstart = _native_on_selectstart||null;\n\t}\n\t_native_on_selectstart = 0;\n\n}\n\nexport function index(node){\n\tvar k=0;\n\t//must be =, it is not a comparation!\n\twhile ((node = node.previousSibling)) k++;\n\treturn k;\n}\n\nexport function createCss(rule, sufix){\n\tvar text = \"\";\n\tsufix = sufix || \"\";\n\n\tfor (var key in rule)\n\t\ttext+= key+\":\"+rule[key]+\";\";\n    \n\tvar name = _style_cache[text+sufix];\n\tif (!name){\n\t\tname = \"s\"+uid();\n\t\taddStyle(\".\"+name+(sufix||\"\")+\"{\"+text+\"}\");\n\t\t_style_cache[text+sufix] = name;\n\t}\n\treturn name;\n}\n\nexport function addStyle(rule, group){\n\tvar style = group ? _style_element[group] :_style_element[\"default\"];\n\tif(!style){\n\t\tstyle = document.createElement(\"style\");\n\t\tstyle.setAttribute(\"type\", \"text/css\");\n\t\tstyle.setAttribute(\"media\", \"screen,print\");\n\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\n\t\tif (group)\n\t\t\t_style_element[group] = style;\n\t\telse\n\t\t\t_style_element[\"default\"] = style;\n\t}\n\t/*IE8*/\n\tif (style.styleSheet)\n\t\tstyle.styleSheet.cssText += rule;\n\telse\n\t\tstyle.appendChild(document.createTextNode(rule));\n}\n\nexport function removeStyle(group){\n\tvar box = _style_element[group||\"default\"];\n\tif (box)\n\t\tbox.innerHTML = \"\";\n}\n\nexport function create(name,attrs,html){\n\tattrs = attrs || {};\n\tvar node = document.createElement(name);\n\tfor (var attr_name in attrs)\n\t\tnode.setAttribute(attr_name, attrs[attr_name]);\n\tif (attrs.style)\n\t\tnode.style.cssText = attrs.style;\n\tif (attrs[\"class\"])\n\t\tnode.className = attrs[\"class\"];\n\tif (html)\n\t\tnode.innerHTML=html;\n\treturn node;\n}\n\n//return node value, different logic for different html elements\nexport function getValue(node){\n\tnode = toNode(node);\n\tif (!node) return \"\";\n\treturn isUndefined(node.value)?node.innerHTML:node.value;\n}\n\n//remove html node, can process an array of nodes at once\nexport function remove(node){\n\tif (node instanceof Array)\n\t\tfor (var i=0; i < node.length; i++)\n\t\t\tremove(node[i]);\n\telse if (node && node.parentNode)\n\t\tnode.parentNode.removeChild(node);\n}\n\n//insert new node before sibling, or at the end if sibling doesn't exist\nexport function insertBefore(node,before,rescue){\n\tif (!node) return;\n\tif (before && before.parentNode)\n\t\tbefore.parentNode.insertBefore(node, before);\n\telse\n\t\trescue.appendChild(node);\n}\n\n//return custom ID from html element \n//will check all parents starting from event's target\nexport function locate(e,id){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n    \n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(id);\n\t\t\tif (test) return test;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\t\n\treturn null;\n}\n\n//returns position of html element on the page\nexport function offset(elem) {\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tconst box = elem.getBoundingClientRect();\n\t\tconst body = document.body;\n\t\tconst docElem = document.documentElement;\n\t\tconst scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tconst scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tconst clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tconst clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\tconst top  = box.top +  scrollTop - clientTop;\n\t\tconst left = box.left + scrollLeft - clientLeft;\n\t\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight };\n\t} else { //fallback to naive approach\n\t\tlet top=0, left=0;\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\t\treturn { y: top, x: left, width:elem.offsetHeight, height:elem.offsetWidth };\n\t}\n}\n\n//returns relative position of event\nexport function posRelative(ev){\n\tev = ev || event;\n\tif (!isUndefined(ev.offsetX))\n\t\treturn { x:ev.offsetX, y:ev.offsetY };\t//ie, webkit\n\telse\n\t\treturn { x:ev.layerX, y:ev.layerY };\t//firefox\n}\n\n//returns position of event\nexport function pos(ev){\n\tev = ev || event;\n\tif (ev.touches && ev.touches[0])\n\t\tev = ev.touches[0];\n\n\tif(ev.pageX || ev.pageY)\t//FF, KHTML\n\t\treturn {x:ev.pageX, y:ev.pageY};\n\t//IE\n\tvar d  =  ((env.isIE)&&(document.compatMode != \"BackCompat\"))?document.documentElement:document.body;\n\treturn {\n\t\tx:ev.clientX + d.scrollLeft - d.clientLeft,\n\t\ty:ev.clientY + d.scrollTop  - d.clientTop\n\t};\n}\n\n//prevent event action\nexport function preventEvent(e){\n\tif(e && e.preventDefault) e.preventDefault();\n\tif(e) e.returnValue = false;\n\treturn stopEvent(e);\n}\n\n//stop event bubbling\nexport function stopEvent(e){\n\te = (e||event);\n\tif(e.stopPropagation) e.stopPropagation();\n\te.cancelBubble=true;\n\treturn false;\n}\n\nexport function triggerEvent(node, type, name){\n\tif(document.createEventObject){\n\t\tconst ev = document.createEventObject();\n\t\tif (node.fireEvent)\n\t\t\tnode.fireEvent(\"on\"+name, ev);\n\t} else{\n\t\tconst ev = document.createEvent(type);\n\t\tev.initEvent(name, true, true);\n\t\tif (node.dispatchEvent)\n\t\t\tnode.dispatchEvent(ev);\n\t}\n}\n\n//add css class to the node\nexport function addCss(node,name,check){\n\tif (!check || node.className.indexOf(name) === -1)\n\t\tnode.className+=\" \"+name;\n}\n\n//remove css class from the node\nexport function removeCss(node,name){\n\tnode.className=node.className.replace(RegExp(\" \"+name,\"g\"),\"\");\n}\n\nexport function getTextSize(text, css, basewidth){\n\tvar d = create(\"DIV\",{\"class\":\"webix_view webix_measure_size \"+(css||\"\")},\"\");\n\td.style.cssText = \"height:auto;visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\"+(basewidth?(\"width:\"+basewidth+\"px;\"):\"width:auto;white-space:nowrap;\");\n\tdocument.body.appendChild(d);\n\n\tvar all = (typeof text !==  \"object\") ? [text] : text;\n\tvar width = 0;\n\tvar height = 0;\n\n\tfor (var i = 0; i < all.length; i++) {\n\t\td.innerHTML = all[i];\n\t\t//we need to add 1 to offsetWidth/Height because these methods return value as an integer\n\t\t//we can use ie9+ d.getBoundingClientRect().width\n\t\twidth = Math.max(width, d.offsetWidth+1);\n\t\theight = Math.max(height, d.offsetHeight+1);\n\t}\n    \n\tremove(d);\n\treturn { width:width, height:height };\n}\n\nexport function download(data, filename){\n\tvar objUrl = false;\n\n\tif(typeof data ==\"object\"){//blob\n\t\tif(window.navigator.msSaveBlob)\n\t\t\treturn window.navigator.msSaveBlob(data, filename);\n\t\telse {\n\t\t\tdata = window.URL.createObjectURL(data);\n\t\t\tobjUrl = true;\n\t\t}\n\t}\n\t//data url or blob url\n\tvar link = document.createElement(\"a\");\n\tlink.href = data;\n\tlink.download = filename;\n\tdocument.body.appendChild(link);\n\tlink.click(); \n\n\tdelay(function(){\n\t\tif(objUrl) window.URL.revokeObjectURL(data);\n\t\tdocument.body.removeChild(link);\n\t\tlink.remove();\n\t});\n}\n\nexport function _getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = \"\";\n\n\treturn className;\n}\n\nexport function setSelectionRange(node, start, end){\n\tstart = start || 0;\n\tend  = end || start;\n\n\tnode.focus();\n\tif(node.setSelectionRange)\n\t\tnode.setSelectionRange(start, end);\n\telse{\n\t\t//ie8\n\t\tvar textRange = node.createTextRange();\n\t\ttextRange.collapse(true);\n\t\ttextRange.moveEnd(\"character\", end);\n\t\ttextRange.moveStart(\"character\", start);\n\t\ttextRange.select();\n\t}\n}\n\nexport function getSelectionRange(node){\n\tif(\"selectionStart\" in node)\n\t\treturn {start:node.selectionStart || 0, end:node.selectionEnd || 0};\n\telse{\n\t\t//ie8\n\t\tnode.focus();\n\t\tvar selection = document.selection.createRange();\n\t\tvar bookmark = selection.getBookmark();\n\t\tvar textRange = node.createTextRange();\n\n\t\ttextRange.moveToBookmark(bookmark);\n\t\tvar length = textRange.text.length;\n        \n\t\ttextRange.collapse(true);\n\t\ttextRange.moveStart(\"character\", -node.value.length);\n\n\t\tvar start = textRange.text.length;\n\t\treturn {start:start, end: start + length};\n\t}\n}\n\nexport function addMeta(name, value){\n\tdocument.getElementsByTagName(\"head\").item(0).appendChild(create(\"meta\",{\n\t\tname:name,\n\t\tcontent:value\n\t}));\t\n}\n\n","import {assert} from \"../../webix/debug\";\nimport {toNode, extend} from \"../../webix/helpers\";\nimport {remove} from \"../../webix/html\";\n\nconst htmltable={\n\n\t//convert json string to json object if necessary\n\ttoObject:function(data){\n\t\tdata = toNode(data);\n\t\tassert(data, \"table is not found\");\n\t\tassert(data.tagName.toLowerCase() === \"table\", \"Incorrect table object\");\n\n\t\tvar tr = data.rows;\n\t\tremove(data);\n\t\treturn tr;\n\t},\n\t//get array of records\n\tgetRecords:function(data){\n\t\tvar new_data = [];\n\t\t//skip header rows if necessary\n\t\tvar i = (data[0] && data[0]._webix_skip)?1:0;\n\n\t\tfor (; i < data.length; i++)\n\t\t\tnew_data.push(data[i]);\n\t\treturn new_data;\n\t},\n\t//get hash of properties for single record\n\tgetDetails:function(data){\n\t\tvar td = data.getElementsByTagName(\"td\");\n\t\tdata = {};\n\t\t//get hash of properties for single record, data named as \"data{index}\"\n\t\tfor (var i=0; i < td.length; i++) {\n\t\t\tdata[\"data\" + i] = td[i].innerHTML;\n\t\t}\n\t\treturn data;\n\t},\n\t//get count of data and position at which new data need to be inserted\n\tgetInfo:function(){\n\t\t// dyn loading is not supported for htmltable\n\t\treturn { \n\t\t\tsize:0\n\t\t};\n\t},\n\tgetOptions:function(){},\n\n\t/*! gets header from first table row\n\t **/\n\tgetConfig: function(data) {\n\t\tvar columns = [];\n\t\tvar td = data[0].getElementsByTagName(\"th\");\n\t\tif (td.length) data[0]._webix_skip = true;\n\t\tfor (var i = 0; i < td.length; i++) {\n\t\t\tvar col = {\n\t\t\t\tid: \"data\" + i,\n\t\t\t\theader: this._de_json(td[i].innerHTML)\n\t\t\t};\n\t\t\tvar attrs = this._get_attrs(td[i]);\n\t\t\tcol = extend(col, attrs);\n\t\t\tcolumns.push(col);\n\t\t}\n\t\treturn columns;\n\t},\n\n\t_de_json:function(str){\n\t\tvar pos = str.indexOf(\"json://\");\n\t\t\n\t\tif (pos != -1)\n\t\t\tstr = JSON.parse(str.substr(pos+7));\n\t\treturn str;\n\t},\n\t\n\t/*! gets hash of html-element attributes\n\t **/\n\t_get_attrs: function(el) {\n\t\tvar attr = el.attributes;\n\t\tvar hash = {};\n\t\tfor (var i = 0; i < attr.length; i++) {\n\t\t\thash[attr[i].nodeName] = this._de_json(attr[i].nodeValue);\n\t\t}\n\t\thash.width = parseInt(hash.width, 10);\n\t\treturn hash;\n\t}\n};\n\nexport default htmltable;","import {create} from \"../webix/html.js\";\nimport {exec} from \"../webix/helpers.js\";\nimport {ajax} from \"./ajax.js\";\n\nimport Promise from \"../thirdparty/promiz\";\n\nconst _modules = {};\t//hash of already loaded modules\n\n//loads module from external js file\nexport default function require(module, callback, master){\n\tvar promise = Promise.defer();\n\n\tif (callback && callback !== true)\n\t\tpromise = promise.then(function(){ callback.call(master || this); });\n\n\tif (require.disabled){\n\t\tpromise.resolve();\n\t\treturn promise;\n\t}\n\n\t//multiple files required at once\n\tif (typeof module != \"string\"){\n\t\tvar count = module.length||0;\n\t\t\n\t\tif (!count){\n\t\t\t// { file: true, other: true }\n\t\t\tfor (let file in module) count++; // eslint-disable-line\n\t\t\tlet callback2 = function(){\n\t\t\t\tcount--;\n\t\t\t\tif (count === 0)\n\t\t\t\t\tpromise.resolve();\n\t\t\t};\n\t\t\tfor (let file in module)\n\t\t\t\trequire(file).then(callback2, () => promise.reject());\n\t\t} else {\n\t\t\t// [ file, other ]\n\t\t\tlet callback2 = function(){\n\t\t\t\tif (count){\n\t\t\t\t\tcount--;\n\t\t\t\t\trequire(module[module.length - count - 1])\n\t\t\t\t\t\t.then(callback2, () => promise.reject());\n\n\t\t\t\t} else {\n\t\t\t\t\tpromise.resolve();\n\t\t\t\t}\n\t\t\t};\n\t\t\tcallback2();\n\t\t}\n\t\treturn promise;\n\t}\n\n\tif (_modules[module] !== true){\n\t\tconst fullpath = module;\n\n\t\tif (callback === true){\n\t\t\t//sync mode\n\t\t\texec( ajax().sync().get(fullpath).responseText );\n\t\t\t_modules[module]=true;\n\t\t\treturn promise.resolve();\n\t\t}\n\n\t\tif (!_modules[module])\t//first call\n\t\t\t_modules[module] = [promise];\n\t\telse {\n\t\t\t_modules[module].push(promise);\n\t\t\treturn promise;\n\t\t}\n\n\t\tconst onerror = function(){\n\t\t\tconst calls = _modules[module];\n\t\t\t_modules[module] = false;\n\t\t\tfor (var i=0; i<calls.length; i++)\n\t\t\t\tcalls[i].reject();\n\t\t};\n\n\t\tconst onload = function(){\n\t\t\tconst calls = _modules[module];\n\t\t\t_modules[module] = true;\n\t\t\tfor (var i=0; i<calls.length; i++)\n\t\t\t\tcalls[i].resolve();\n\t\t};\n\n\t\t//css, async, no waiting\n\t\tvar parts = module.split(\"?\");\n\t\tif (parts[0].substr(parts[0].length-4) == \".css\") {\n\t\t\tvar link = create(\"LINK\",{  type:\"text/css\", rel:\"stylesheet\", href:fullpath});\n\t\t\tlink.onload = onload;\n\t\t\tlink.onerror = onerror;\n\n\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(link);\n\t\t} else {\n\t\t\tvar newScript = document.createElement(\"script\");\n\t\t\tnewScript.onload = onload;\n\t\t\tnewScript.onerror = onerror;\n\n\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(newScript);\n\t\t\tnewScript.src = fullpath;\n\t\t}\n\t} else \n\t\tpromise.resolve();\n\n\treturn promise;\n}","import {extend, bind, isDate} from \"../../webix/helpers\";\nimport env from \"../../webix/env\";\n\nimport Promise from \"../../thirdparty/promiz\";\nimport i18n from \"../../webix/i18n\";\n\nimport require from \"../require\";\nimport jsarray from \"./jsarray\";\n\n\nconst excel = extend({\n\ttoObject:function(data){\n\t\tif(!data.excel){\n\t\t\tvar opts = data.options || {};\n\t\t\tif (opts.dataurl) \n\t\t\t\textend(opts, this._urlToOptions(opts.dataurl));\n\n\t\t\tdata = data.data || data;\n\t\t\tvar promise = Promise.defer();\n\t\t\t\n\t\t\tif(data.name){ //file\n\t\t\t\topts.ext = data.name.split(\".\").pop();\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\n\t\t\t\treader.onload = bind(function (e) {\n\t\t\t\t\tpromise.resolve(this.parseData(e.target.result, opts));\n\t\t\t\t}, this);\n\t\t\t\treader.readAsArrayBuffer(data);\n\t\t\t}\n\t\t\telse //arraybuffer\n\t\t\t\tpromise.resolve(this.parseData(data, opts));\n\t\t\t\t\n\t\t\treturn promise;\n\t\t}\n\t\t//plain jsarray or hash\n\t\treturn data;\n\t},\n\tparseData:function(data, options){\n\t\tdata = new Uint8Array(data);\n\t\tvar arr = [];\n\t\tfor(let i = 0; i != data.length; ++i)\n\t\t\tarr[i] = String.fromCharCode(data[i]);\n\n\t\tvar ext = (options.ext || options).toLowerCase();\n\t\tif (ext != \"xls\") ext = \"xlsx\";\n\t\treturn require(env.cdn + \"/extras/xlsx.core.styles.min.js\").then(bind(function(){\n\t\t\t/* global XLS, XLSX */\n\t\t\tvar wb = (ext == \"xls\") ?\n\t\t\t\tXLS.read(arr.join(\"\"), {type: \"binary\", cellStyles:true, cellDates:true}) :\n\t\t\t\tXLSX.read(arr.join(\"\"), {type: \"binary\", cellStyles:true, cellDates:true});\n\n\t\t\tvar res = {\n\t\t\t\tsheets: wb.Sheets,\n\t\t\t\tnames: wb.SheetNames,\n\t\t\t\toptions:options,\n\t\t\t\tranges:wb.Workbook?(wb.Workbook.Names ||[]):[]\n\t\t\t};\n\t\t\treturn extend(this.getSheet(res, options), res);\n\t\t}, this));\n\t},\n\tgetSheet:function(data, options){\n\t\tvar name = options.name || data.names[0];\n\t\tdata = this.sheetToArray(data.sheets[name], options);\n\t\tif(options.rows && options.rows.length)\n\t\t\tdata.data = data.data.splice(options.rows[0], Math.min(options.rows[1], data.data.length)-options.rows[0]);\n\t\treturn data;\n\t},\n\tsheetToArray:function(sheet, options){\n\t\tconst all = [];\n\t\tconst spans = [];\n\t\tconst styles = [];\n\t\tconst sizes = [];\n\t\tconst types = [];\n\n\t\tconst cellTypes = { n:\"number\", d:\"date\", s:\"string\", b:\"boolean\"};\n\n\t\tif(sheet && sheet[\"!ref\"]){\n\t\t\tvar range = XLS.utils.decode_range(sheet[\"!ref\"]), \n\t\t\t\trow, col, cellCoord, cell,\n\t\t\t\txCorrection = range.s.c,\n\t\t\t\tyCorrection = range.s.r+(options.rows?options.rows[0]:0);\n\n\t\t\tfor (row = range.s.r; row <= range.e.r; row++) {\n\t\t\t\tvar nrow = [];\n\t\t\t\tfor (col = range.s.c; col <= range.e.c; col++) {\n\t\t\t\t\tcellCoord = XLS.utils.encode_cell({ r: row, c: col });\n\t\t\t\t\tcell = sheet[cellCoord];\n\t\t\t\t\tif(!cell)\n\t\t\t\t\t\tnrow.push(\"\");\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar ncell = \"\";\n\t\t\t\t\t\tif(options.math&&cell.f) // get formula\n\t\t\t\t\t\t\tncell = cell.f.charAt(0)==\"=\" ? cell.f : \"=\"+cell.f;\n\t\t\t\t\t\telse if (cell.t ==\"d\" && isDate(cell.v))\n\t\t\t\t\t\t\tncell  = i18n.dateFormatStr(cell.v);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tncell = cell.v;\n\t\t\t\t\t\tnrow.push(ncell);\n\n\t\t\t\t\t\tif (cell.s)\n\t\t\t\t\t\t\tstyles.push([row-yCorrection, col-xCorrection, cell.s]);\n\t\t\t\t\t\tif (cell.t)\n\t\t\t\t\t\t\ttypes.push([row-yCorrection, col-xCorrection, cellTypes[cell.t]]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tall.push(nrow);\n\t\t\t}\n\n\t\t\tif(sheet[\"!merges\"]){\n\t\t\t\tvar merges = sheet[\"!merges\"];\n\t\t\t\tfor(let i = 0; i<merges.length; i++){\n\t\t\t\t\tvar s = merges[i].s;\n\t\t\t\t\tvar e = merges[i].e;\n\t\t\t\t\tif(!options.rows || (s.r-yCorrection>=0 && e.r-yCorrection<=options.rows[1]))\n\t\t\t\t\t\tspans.push([s.r-yCorrection, s.c-xCorrection, e.c-s.c+1, e.r-s.r+1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(sheet[\"!cols\"]){\n\t\t\t\tvar widths = sheet[\"!cols\"];\n\t\t\t\tfor(let i = 0; i<widths.length; i++)\n\t\t\t\t\tif(widths[i]) sizes.push([\"column\", i-xCorrection, Math.round(widths[i].wch/(8.43/70))]); //mode, colind, value\n\t\t\t}\n\t\t\tif(sheet[\"!rows\"]){\n\t\t\t\tvar heights = sheet[\"!rows\"];\n\t\t\t\tfor(let i = 0; i<heights.length; i++)\n\t\t\t\t\tif(heights[i]) sizes.push([\"row\", i-yCorrection, heights[i].hpx]); //mode (\"row\", \"column\"), rowind, value\n\t\t\t}\n\t\t}\n\n\t\treturn { data:all, spans: spans, styles:styles, sizes:sizes, types:types, excel: true };\n\t},\n\t_urlToOptions:function(details){\n\t\tvar parts = details.split(\"[\");\n\t\tvar options = {};\n\t\toptions.name = parts[0];\n\t\tif(parts[1]){\n\t\t\tvar rows = parts[1].split(/[^0-9]+/g);\n\t\t\trows[0] = rows[0]*1 || 0;\n\t\t\trows[1] = rows[1]*1 || 9999999;\n\t\t\toptions.rows = rows;\n\t\t}\n\t\treturn options;\n\t}\n}, jsarray);\n\nexport default excel;","import json from \"./json.js\";\nimport jsarray from \"./jsarray.js\";\nimport xml from \"./xml.js\";\nimport csv from \"./csv.js\";\nimport html from \"./html.js\";\nimport htmltable from \"./htmltable\";\nimport excel from \"./excel\";\n\nconst DataDriver={ json, jsarray, xml, csv, html, htmltable, excel };\n\nexport default DataDriver;","import promise from \"../thirdparty/promiz\";\nimport proxy from \"../load/proxy\";\nimport DataDriver from \"../load/drivers/index\";\n\n\nimport {ajax} from \"../load/ajax\";\n\nimport {bind} from \"../webix/helpers\";\nimport {callEvent} from \"../webix/customevents\";\n\nconst silentErrorMarker = {};\n\nconst AtomDataLoader={\n\t$init:function(config){\n\t\t//prepare data store\n\t\tthis.data = {};\n\t\tthis.waitData = promise.defer();\n\n\t\tif (config)\n\t\t\tthis._settings.datatype = config.datatype||\"json\";\n\t\tthis.$ready.push(this._load_when_ready);\n\t},\n\t_load_when_ready:function(){\n\t\tthis._ready_for_data = true;\n\t\t\n\t\tif (this._settings.url)\n\t\t\tthis.url_setter(this._settings.url);\n\t\tif (this._settings.data)\n\t\t\tthis.data_setter(this._settings.data);\n\t},\n\turl_setter:function(value){\n\t\tvalue = proxy.$parse(value);\n\n\t\tif (!this._ready_for_data) return value;\n\t\tthis.load(value, this._settings.datatype);\t\n\t\treturn value;\n\t},\n\tdata_setter:function(value){\n\t\tif (!this._ready_for_data) return value;\n\t\tthis.parse(value, this._settings.datatype);\n\t\treturn true;\n\t},\n\t//loads data from external URL\n\tload:function(url,call){\n\t\tvar type, details = (arguments[2] || null);\n\n\t\tif (typeof call == \"string\"){\t//second parameter can be a loading type or callback\n\t\t\t//we are not using setDriver as data may be a non-datastore here\n\t\t\ttype = call;\n\t\t\tcall = arguments[2];\n\t\t}\n\n\t\tconst d = this._fetch(url, type, details);\n\t\tif (d && d.then)\n\t\t\treturn d.then(data => {\n\t\t\t\tthis._onLoad(data);\n\t\t\t\tif (call)\n\t\t\t\t\tajax.$callback(this, call, \"\", data, -1);\n\t\t\t\treturn data;\n\t\t\t}, x => this._onLoadError(x));\n\t},\n\t_fetch:function(url, type, details){\n\t\tvar result;\n\n\t\tif (type || !this.data.driver)\n\t\t\tthis.data.driver = DataDriver[type||\"json\"];\n\n\t\tif(!this.callEvent(\"onBeforeLoad\",[]))\n\t\t\treturn promise.reject();\t\t\n\n\t\t//proxy\t\n\t\turl = proxy.$parse(url);\n\t\tif (url.$proxy && url.load){\n\t\t\tresult = url.load(this, details);\n\t\t}\n\t\t//promize\n\t\telse if (typeof url === \"function\"){\n\t\t\tresult = url.call(this, details);\n\t\t}\n\t\t//normal url\n\t\telse {\n\t\t\tresult = ajax().bind(this).get(url);\n\t\t}\n\n\t\t//we wrap plain data in promise to keep the same processing for it\n\t\tif(result && !result.then){\n\t\t\tresult = promise.resolve(result);\n\t\t}\n\n\t\tconst gen = this._data_generation;\n\t\tif(result && result.then){\n\t\t\treturn result.then((data) => {\n\t\t\t\t// component destroyed, or clearAll was issued\n\t\t\t\tif (this.$destructed || (gen && this._data_generation !== gen))\n\t\t\t\t\t// by returning rejection we are preventing the further executing chain\n\t\t\t\t\t// if user have used list.load(data).then(do_something)\n\t\t\t\t\t// the do_something will not be executed\n\t\t\t\t\t// the error handler may be triggered though\n\t\t\t\t\treturn promise.reject(silentErrorMarker);\n\n\t\t\t\treturn data;\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t},\n\t//loads data from object\n\tparse:function(data,type){\n\t\tif (data && typeof data.then == \"function\"){\n\t\t\tconst generation = this._data_generation;\n\t\t\t// component destroyed, or clearAll was issued\n\t\t\treturn data.then(bind(function(data){ \n\t\t\t\tif (this.$destructed || (generation && this._data_generation !== generation))\n\t\t\t\t\treturn promise.reject();\n\t\t\t\tthis.parse(data, type); \n\t\t\t}, this));\n\t\t}\n\n\t\t//loading data from other component\n\t\tif (data && data.sync && this.sync)\n\t\t\tthis._syncData(data);\n\t\telse if(!this.callEvent(\"onBeforeLoad\",[]))\n\t\t\treturn promise.reject();\n\t\telse {\n\t\t\tif(type || !this.data.driver)\n\t\t\t\tthis.data.driver = DataDriver[type||\"json\"];\n\t\t\tthis._onLoad(data);\n\t\t}\n\n\t\treturn promise.resolve();\n\t},\n\t_syncData: function(data){\n\t\tif(this.data && this.data.attachEvent)\n\t\t\tthis.data.attachEvent(\"onSyncApply\",bind(function(){\n\t\t\t\tif(this._call_onready)\n\t\t\t\t\tthis._call_onready();\n\t\t\t},this));\n\n\t\tthis.sync(data);\n\t},\n\t_parse:function(data){\n\t\tvar parsed, record,\n\t\t\tdriver = this.data.driver;\n\n\t\trecord = driver.getRecords(data)[0];\n\t\tparsed = record?driver.getDetails(record):{};\n\n\t\tif (this.setValues)\n\t\t\tthis.setValues(parsed);\n\t\telse\n\t\t\tthis.data = parsed;\n\t},\n\t_onLoadContinue:function(data){\n\t\tif (data){\n\t\t\tif(!this.$onLoad || !this.$onLoad(data, this.data.driver)){\n\t\t\t\tif(this.data && this.data._parse)\n\t\t\t\t\tthis.data._parse(data); //datastore\n\t\t\t\telse\n\t\t\t\t\tthis._parse(data);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthis._onLoadError(data);\n\n\t\t//data loaded, view rendered, call onready handler\n\t\tif(this._call_onready)\n\t\t\tthis._call_onready();\n\n\t\tthis.callEvent(\"onAfterLoad\",[]);\n\t\tthis.waitData.resolve();\n\t},\n\t//default after loading callback\n\t_onLoad:function(data){\n\t\t// webix loading object or uploaded file structure\n\t\tif (data && typeof data.text === \"function\" && !data.name){\n\t\t\tdata = data.text();\n\t\t}\n\n\t\tdata = this.data.driver.toObject(data);\n\t\tif(data && data.then)\n\t\t\tdata.then(data => this._onLoadContinue(data));\n\t\telse\n\t\t\tthis._onLoadContinue(data);\n\t},\n\t_onLoadError:function(xhttp){\n\t\tif (xhttp !== silentErrorMarker){\n\t\t\t//ignore error for dead components\n\t\t\tif (!this.$destructed){\n\t\t\t\tthis.callEvent(\"onAfterLoad\",[]);\n\t\t\t\tthis.callEvent(\"onLoadError\",arguments);\n\t\t\t}\n\n\t\t\tcallEvent(\"onLoadError\", [xhttp, this]);\n\t\t}\n\t\treturn promise.reject(xhttp);\n\t},\n\t_check_data_feed:function(data){\n\t\tif (!this._settings.dataFeed || this._ignore_feed || !data)\n\t\t\treturn true;\n\n\t\tvar url = this._settings.dataFeed;\n\t\tif (typeof url == \"function\")\n\t\t\treturn url.call(this, (data.id||data), data);\n\n\t\turl = url+(url.indexOf(\"?\")==-1?\"?\":\"&\")+\"action=get&id=\"+encodeURIComponent(data.id||data);\n\t\tif(!this.callEvent(\"onBeforeLoad\",[]))\n\t\t\treturn false;\n\n\t\tajax(url, function(text,xml,loader){\n\t\t\tthis._ignore_feed = true;\n\t\t\tvar driver = DataDriver.json;\n\t\t\tvar data = driver.toObject(text, xml);\n\t\t\tif (data)\n\t\t\t\tthis.setValues(driver.getDetails(driver.getRecords(data)[0]));\n\t\t\telse\n\t\t\t\tthis._onLoadError(loader);\n\t\t\tthis._ignore_feed = false;\n\t\t\tthis.callEvent(\"onAfterLoad\",[]);\n\t\t}, this);\n\t\treturn false;\n\t}\n};\n\nexport default AtomDataLoader;","import {isDate, isArray} from \"../webix/helpers\";\n\nconst CodeParser = {\n\t//converts a complex object into an object with primitives properties\n\tcollapseNames:function(base, prefix, data, filter){\n\t\tdata = data || {};\n\t\tprefix = prefix || \"\";\n\t\tfilter  = filter || function(){ return true; };\n\n\t\tif(!base || typeof base != \"object\")\n\t\t\treturn null;\n\n\t\tfor(var prop in base){\n\t\t\tlet value = base[prop];\n\t\t\tlet name = prefix+prop;\n\t\t\tif(value && typeof value == \"object\" && !isDate(value) && !isArray(value) && filter(name)){\n\t\t\t\tCodeParser.collapseNames(value, name+\".\", data, filter);\n\t\t\t} else {\n\t\t\t\tdata[name] = value;\n\t\t\t}\n\t\t}\n\t\treturn data;\n\t},\n\n\t//converts an object with primitive properties into an object with complex properties\n\texpandNames:function(base){\n\t\tvar data = {},\n\t\t\ti, lastIndex, name, obj, prop;\n\n\t\tfor(prop in base){\n\t\t\tname = prop.split(\".\");\n\t\t\tlastIndex = name.length-1;\n\t\t\tobj = data;\n\t\t\tfor( i =0; i < lastIndex; i++ ){\n\t\t\t\tif(!obj[name[i]])\n\t\t\t\t\tobj[name[i]]  = {};\n\t\t\t\tobj = obj[name[i]];\n\t\t\t}\n\t\t\tobj[name[lastIndex]] = base[prop];\n\t\t}\n\n\t\treturn data;\n\t}\n};\n\nexport default CodeParser;","/*\n\tTemplate - handles html templates\n*/\n\nimport {uid} from \"./helpers\";\nimport {getValue} from \"./html\";\nimport env from \"./env\";\nimport {ajax} from \"../load/ajax\";\nimport {assert} from \"./debug\";\n\nimport CodeParser from \"../core/codeparser\";\n\nvar _cache = {};\nvar _csp_cache = {};\nvar newlines = new RegExp(\"(\\\\r\\\\n|\\\\n)\",\"g\");\nvar quotes   = new RegExp(\"(\\\\\\\")\",\"g\");\nvar slashes  = new RegExp(\"(\\\\\\\\)\",\"g\");\nvar escape = {\n\t\"&\": \"&amp;\",\n\t\"<\": \"&lt;\",\n\t\">\": \"&gt;\",\n\t\"\\\"\": \"&quot;\",\n\t\"'\": \"&#x27;\",\n\t\"`\": \"&#x60;\"\n};\nvar badChars = /[&<>\"'`]/g;\nvar escapeChar = function(chr) {\n\treturn escape[chr] || \"&amp;\";\n};\n\n\nfunction template(str){\n\tif (typeof str == \"function\") return str;\n\tif (_cache[str])\n\t\treturn _cache[str];\n\t\t\n\tstr=(str||\"\").toString();\t\t\t\n\tif (str.indexOf(\"->\")!=-1){\n\t\tvar teststr = str.split(\"->\");\n\t\tswitch(teststr[0]){\n\t\t\tcase \"html\": \t//load from some container on the page\n\t\t\t\tstr = getValue(teststr[1]);\n\t\t\t\tbreak;\n\t\t\tcase \"http\": \t//load from external file\n\t\t\t\tstr = new ajax().sync().get(teststr[1],{uid:uid()}).responseText;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t//do nothing, will use template as is\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\t\n\t//supported idioms\n\t// {obj.attr} => named attribute or value of sub-tag in case of xml\n\tstr=(str||\"\").toString();\t\t\n\n\t// Content Security Policy enabled\n\tif(env.strict){\n\t\tif (!_csp_cache[str]){\n\t\t\t_csp_cache[str] = [];\n\n\t\t\t// get an array of objects (not sorted by position)\n\t\t\tvar temp_res = [];\n\t\t\tstr.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g,function(search,s1,s2,s3,pos){\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj){\n\t\t\t\t\treturn obj[s1]?s2:s3;\n\t\t\t\t}});\n\t\t\t});\n\t\t\tstr.replace(/\\{common\\.([^}(]*)\\}/g,function(search,s,pos){\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(_,common){\n\t\t\t\t\treturn common[s]||\"\";\n\t\t\t\t}});\n\t\t\t});\n\t\t\tstr.replace(/\\{common\\.([^}(]*)\\(\\)\\}/g,function(search,s,pos){\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\n\t\t\t\t\treturn (common[s]?common[s].apply(this, arguments):\"\");\n\t\t\t\t}});\n\t\t\t});\n\t\t\tstr.replace(/\\{obj\\.([^:}]*)\\}/g,function(search,s,pos){\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj){\n\t\t\t\t\treturn obj[s];\n\t\t\t\t}});\n\t\t\t});\n\t\t\tstr.replace(\"{obj}\",function(search,pos){\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj){\n\t\t\t\t\treturn obj;\n\t\t\t\t}});\n\t\t\t});\n\t\t\tstr.replace(/#([^#'\";, ]+)#/gi,function(search,s,pos){\n\t\t\t\tif(s.charAt(0)==\"!\"){\n\t\t\t\t\ts = s.substr(1);\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj){\n\t\t\t\t\t\tif(s.indexOf(\".\")!= -1)\n\t\t\t\t\t\t\tobj = CodeParser.collapseNames(obj); // apply complex properties\n\t\t\t\t\t\treturn template.escape(obj[s]);\n\t\t\t\t\t}});\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj){\n\t\t\t\t\t\tif(s.indexOf(\".\")!= -1)\n\t\t\t\t\t\t\tobj = CodeParser.collapseNames(obj); // apply complex properties\n\t\t\t\t\t\treturn obj[s];\n\t\t\t\t\t}});\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t// sort template parts by position\n\t\t\ttemp_res.sort(function(a,b){\n\t\t\t\treturn (a.pos > b.pos)?1:-1;\n\t\t\t});\n\n\t\t\t// create an array of functions that return parts of html string\n\t\t\tif(temp_res.length){\n\t\t\t\tvar lastPos = 0;\n\t\t\t\tvar addStr = function(str,n0,n1){\n\t\t\t\t\t_csp_cache[str].push(function(){\n\t\t\t\t\t\treturn str.slice(n0,n1);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tfor(var i = 0; i< temp_res.length; i++){\n\t\t\t\t\tvar pos = temp_res[i].pos;\n\t\t\t\t\taddStr(str,lastPos,pos);\n\t\t\t\t\t_csp_cache[str].push(temp_res[i].fn);\n\t\t\t\t\tlastPos = pos + temp_res[i].str.length;\n\t\t\t\t}\n\t\t\t\taddStr(str,lastPos,str.length);\n\t\t\t}\n\t\t\telse\n\t\t\t\t_csp_cache[str].push(function(){return str;});\n\t\t}\n\t\treturn function(){\n\t\t\tvar s = \"\";\n\t\t\tfor(var i=0; i < _csp_cache[str].length;i++){\n\t\t\t\ts += _csp_cache[str][i].apply(this,arguments);\n\t\t\t}\n\t\t\treturn s;\n\t\t};\n\t}\n\n\tlet helpers = false;\n\tstr=str.replace(slashes,\"\\\\\\\\\");\n\tstr=str.replace(newlines,\"\\\\n\");\n\tstr=str.replace(quotes,\"\\\\\\\"\");\n\n\tstr=str.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g,\"\\\"+(obj.$1?\\\"$2\\\":\\\"$3\\\")+\\\"\");\n\tstr=str.replace(/\\{common\\.([^}(]*)\\}/g,\"\\\"+(common.$1||'')+\\\"\");\n\tstr=str.replace(/\\{common\\.([^}(]*)\\(\\)\\}/g,\"\\\"+(common.$1?common.$1.apply(this, arguments):\\\"\\\")+\\\"\");\n\tstr=str.replace(/\\{obj\\.([^}]*)\\}/g,\"\\\"+(obj.$1)+\\\"\");\n\tstr=str.replace(\"{obj}\",\"\\\"+obj+\\\"\");\n\tstr=str.replace(/#([^#'\";, ]+)#/gi,function(str, key){\n\t\tif (key.charAt(0)==\"!\"){\n\t\t\thelpers = true;\n\t\t\treturn \"\\\"+template.escape(obj.\"+key.substr(1)+\")+\\\"\";\n\t\t} else\n\t\t\treturn \"\\\"+(obj.\"+key+\")+\\\"\";\n\t});\n\n\ttry {\n\t\tif (helpers){\n\t\t\tconst temp = Function(\"obj\",\"common\",\"marks\", \"value\", \"template\", \"return \\\"\"+str+\"\\\";\");\n\t\t\t_cache[str] = function(a,b,c,d){ \n\t\t\t\treturn temp(a,b,c,d,template);\n\t\t\t};\n\t\t} else {\n\t\t\t_cache[str] = Function(\"obj\",\"common\",\"return \\\"\"+str+\"\\\";\");\n\t\t}\n\t} catch(e){\n\t\tassert(0, \"Invalid template:\"+str);\n\t}\n\n\treturn _cache[str];\n}\n\n\n\ntemplate.escape  = function(str){\n\tif (str === undefined || str === null) return \"\";\n\treturn (str.toString() || \"\" ).replace(badChars, escapeChar);\n};\ntemplate.empty=function(){\treturn \"\";\t};\n\nexport default template;","import {bind} from \"../webix/helpers\";\nimport template from \"../webix/template\";\n\n\nconst AtomRender={\n\t//convert item to the HTML text\n\t_toHTML:function(obj){\n\t\tif (obj.$empty )\n\t\t\treturn \"\";\n\t\treturn this._settings.template(obj, this);\n\t},\n\t//render self, by templating data object\n\trender:function(){\n\t\tvar cfg = this._settings;\n\t\tif (this.isVisible(cfg.id)){\n\t\t\tif (!this.callEvent || this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\t\tif (this.data && !cfg.content){\n\t\t\t\t\t//it is critical to have this as two commands\n\t\t\t\t\t//its prevent destruction race in Chrome\n\t\t\t\t\tthis._dataobj.innerHTML = \"\";\n\t\t\t\t\tthis._dataobj.innerHTML = this._toHTML(this.data);\n\t\t\t\t}\n\t\t\t\tif (this.callEvent) this.callEvent(\"onAfterRender\",[]);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tsync:function(source){\n\t\tthis._backbone_sync = false;\n\t\tif (source.name != \"DataStore\"){\n\t\t\tif (source.data && source.data.name == \"DataStore\"){\n\t\t\t\tsource = source.data;\n\t\t\t} else {\n\t\t\t\tthis._backbone_sync = true;\n\t\t\t}\n\t\t}\n\n\t\tif (this._backbone_sync)\n\t\t\tsource.bind(\"change\", bind(function(data){\n\t\t\t\tif (data.id == this.data.id){\n\t\t\t\t\tthis.data = data.attributes;\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}, this));\n\t\telse\n\t\t\tsource.attachEvent(\"onStoreUpdated\", bind(function(id){\n\t\t\t\tif (!id || id == this.data.id){\n\t\t\t\t\tthis.data = source.pull[id];\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}, this));\n\t},\n\ttemplate_setter:template\n};\n\nexport default AtomRender;","import {offset} from \"../webix/html\";\nimport {delay} from \"../webix/helpers\";\n\n\nconst AutoScroll = {\n\t_auto_scroll:function(pos){\n\t\tlet yScroll, xScroll;\n\t\tlet mode = this._settings.dragscroll;\n\n\t\tif (typeof mode !== \"string\")\n\t\t\tmode = this._settings.layout||\"xy\";\n\t\txScroll = mode.indexOf(\"x\") !== -1;\n\t\tyScroll = mode.indexOf(\"y\") !== -1;\n\n\t\tconst data = this._body || this.$view;\n\t\tconst box = offset(data);\n\n\t\tconst sense = Math.max((this._settings.rowHeight||(this.type&&!isNaN(parseFloat(this.type.height))?this.type.height:0))+5, 40); //dnd auto-scroll sensivity\n\t\tlet reset = false;\n\n\t\tif (yScroll && this._auto_y_scroll(pos, box, sense) ) reset = true;\n\t\tif (xScroll && this._auto_x_scroll(pos, box, sense) ) reset = true;\n\n\t\tif (reset)\n\t\t\tthis._auto_scroll_delay = delay(this._auto_scroll, this, [pos], 100);\n\t},\n\t_auto_scroll_column:function(pos){\n\t\tconst mode = this._settings.dragscroll;\n\t\tif (typeof mode === \"string\" && mode.indexOf(\"x\") === -1)\n\t\t\treturn;\n\n\t\tconst data = this._header || this.$view;\n\t\tconst box = offset(data);\n\n\t\tconst sense = Math.max(this._settings.headerRowHeight||0, 40);\n\t\tif ( this._auto_x_scroll(pos, box, sense) )\n\t\t\tthis._auto_scroll_delay = delay(this._auto_scroll_column, this, [pos], 100);\n\t},\n\t_auto_y_scroll:function(pos, box, sense){\n\t\tlet top = box.y;\n\t\tlet bottom = top + box.height;\n\t\tconst scroll = this.getScrollState();\n\n\t\tconst config = this._settings;\n\t\tif(config.topSplit){\n\t\t\tconst topSplitPos = this._cellPosition(this.getIdByIndex(config.topSplit-1), this.columnId(0));\n\t\t\ttop += topSplitPos.top + topSplitPos.height;\n\t\t}\n\n\t\tif (pos.y < (top + sense)){\n\t\t\treturn this._auto_scrollTo(scroll.x, scroll.y-sense*2, pos, \"y\");\n\t\t} else if (pos.y > bottom - sense){\n\t\t\treturn this._auto_scrollTo(scroll.x, scroll.y+sense*2, pos, \"y\");\n\t\t}\n\t\treturn false;\n\t},\n\t_auto_x_scroll:function(pos, box, sense){\n\t\tlet left = box.x;\n\t\tlet right = left + box.width;\n\t\tconst scroll = this.getScrollState();\n\n\t\tif (pos.x < (left + sense)){\n\t\t\treturn this._auto_scrollTo(scroll.x-sense*2, scroll.y, pos, \"x\");\n\t\t} else if (pos.x > right - sense){\n\t\t\treturn this._auto_scrollTo(scroll.x+sense*2, scroll.y, pos, \"x\");\n\t\t}\n\t\treturn false;\n\t},\n\t_auto_scrollTo:function(x, y, pos, mode){\n\t\tif (this.callEvent(\"onBeforeAutoScroll\", [pos])){\n\t\t\tthis.scrollTo(x, y);\n\t\t\tthis.callEvent(\"onAfterAutoScroll\", []);\n\n\t\t\tconst scroll = this.getScrollState();\n\t\t\treturn scroll[mode] === (mode === \"x\" ? x : y);\n\t\t}\n\t\treturn false;\n\t}\n};\n\nexport default AutoScroll;","import { assert } from \"./debug\";\nimport { toNode, uid, bind, isUndefined } from \"./helpers\";\nimport env from \"./env\";\n\n//hash of attached events\nconst _events = {};\n\nexport function _events_final_destructor(){\n\t//detach all known DOM events\n\tfor (var a in _events)\n\t\teventRemove(a);\n}\n\n//private version of API, do not register ID for event detaching\nexport function _event(a,b,c,d){\n\td = d || {};\n\td.inner = true;\n\tevent(a,b,c,d);\n}\n\n//attach event to the DOM element\nexport function event(node,event,handler,context){\n\tcontext = context || {};\n\tnode = toNode(node);\n\tassert(node, \"Invalid node as target for webix.event\");\n\t\n\tvar id = context.id || uid();\n\n\tif(context.bind)\n\t\thandler=bind(handler,context.bind);\n\n\tvar info = [node,event,handler,context.capture];\n\tif (!context.inner)\n\t\t_events[id]=info;\t//store event info, for detaching\n\n\tvar capture = !!context.capture;\n\tif(!isUndefined(context.passive) && env.passiveEventListeners)//blockable touch events\n\t\tcapture = { passive:context.passive, capture:capture };\n\t\t\n\t//use IE's of FF's way of event's attaching\n\tif (node.addEventListener)\n\t\tnode.addEventListener(event, handler, capture);\n\telse if (node.attachEvent)\n\t\tnode.attachEvent(\"on\"+event, info[2] = function(){\n\t\t\treturn handler.apply(node, arguments);\t//IE8 fix\n\t\t});\n\n\treturn id;\t//return id of newly created event, can be used in eventRemove\n}\n\n//remove previously attached event\nexport function eventRemove(id){\n\t\n\tif (!id) return;\n\tassert(_events[id],\"Removing non-existing event\");\n\t\t\n\tvar ev = _events[id];\n\t//browser specific event removing\n\tif (ev[0].removeEventListener)\n\t\tev[0].removeEventListener(ev[1],ev[2],!!ev[3]);\n\telse if (ev[0].detachEvent)\n\t\tev[0].detachEvent(\"on\"+ev[1],ev[2]);\n\n\t\t\n\tdelete _events[id];\t//delete all traces\n}\n","import template from \"./template\";\nimport {clone} from \"./helpers\";\n\n/*\n\tadds new template-type\n\tobj - object to which template will be added\n\tdata - properties of template\n*/\nexport default function type(obj, data){ \n\tif (obj.$protoWait){\n\t\tif (!obj._webix_type_wait)\n\t\t\tobj._webix_type_wait = [];\n\t\tobj._webix_type_wait.push(data);\n\t\treturn;\n\t}\n\t\t\n\t//auto switch to prototype, if name of class was provided\n\tif (typeof obj == \"function\")\n\t\tobj = obj.prototype;\n\tif (!obj.types){\n\t\tobj.types = { \"default\" : obj.type };\n\t\tobj.type.name = \"default\";\n\t}\n\t\n\tvar name = data.name;\n\tvar type = obj.type;\n\tif (name)\n\t\ttype = obj.types[name] = clone(data.baseType?obj.types[data.baseType]:obj.type);\n\t\n\tfor(var key in data){\n\t\tif (key.indexOf(\"template\")===0)\n\t\t\ttype[key] = template(data[key]);\n\t\telse\n\t\t\ttype[key]=data[key];\n\t}\n\n\treturn name;\n}","import {_to_array} from \"../webix/helpers\";\n\nconst state = {\n\tcodebase:\"./\",\n\tcdn:\"//cdn.webix.com\",\n\ttop_views:[],\n\n\t_global_scope:null,\n\t_global_collection:null,\n\t_child_sizing_active:null,\n\t_responsive_exception:null,\n\t_responsive_tinkery:null,\n\t_freeze_resize:null,\n\t_parent_cell:null,\n\t_focus_time:null,\n\t_ui_creation:0,\n\t_edit_open_time:null,\n\n\t_final_destruction:null,\n\t_events:[],\n\n\tdestructors:[],\n\n\t_noselect_element:null,\n\n\t_modality:0,\n\t_popups:_to_array(),\n\n\t_wait_animate:null\n};\n\nexport default state;","import {assert} from \"../webix/debug\";\n\nimport {uid, isArray, toNode, isUndefined, toFunctor} from \"../webix/helpers\";\nimport {attachEvent} from \"../webix/customevents\";\nimport {locate} from \"../webix/html\";\nimport {use} from \"../services\";\n\nimport type from \"../webix/type\";\nimport state from \"../core/state\";\n\n//global click events for UI\nimport \"./click\";\n\nconst views = {};\n\nfunction ui(config, parent, id){\n\tvar res;\n\tstate._ui_creation++;\n\t// save old value of global scope\n\tconst temp = state._global_scope;\n\t// set global scope to the scope of new UI or to previous value\n\t// as result inner webix.ui calls will have access the scope of master view\n\t// mainly necessary for suggests\n\tstate._global_scope = config.$scope || temp;\n\ttry {\n\t\tres = _ui_creator(config, parent, id);\n\t} finally {\n\t\tstate._ui_creation--;\n\t\t// restore global scope\n\t\tstate._global_scope = temp;\n\t}\n\treturn res;\n}\nui.views = views;\n\n\nfunction _ui_creator(config, parent, id){\n\tvar multiset = isArray(config);\n\tvar node = toNode((config.container||parent)||document.body);\n\n\t// solve problem with non-unique ids\n\tif(node._settings)\n\t\tid = _correctId(node, multiset, id);\n\n\tvar top_node;\n\tvar moving = false;\n\tvar body_child = (node == document.body);\n\tif (config._settings || (node && multiset)){\n\t\ttop_node = config;\n\t\tmoving = true;\n\t} else {\n\t\tif (node && body_child)\n\t\t\tconfig.$topView = true;\n\t\tif (!config._inner)\n\t\t\tconfig._inner = {};\n\n\t\tif (parent && parent.getParentView){\n\t\t\tstate._parent_cell = (!id && id!==0) ? parent.getParentView() : parent;\n\t\t}\n\n\t\ttop_node = _view(config);\n\t}\n\n\tif (body_child && !top_node.setPosition && !top_node.$apiOnly)\n\t\tuse(\"_fixHeight\")();\n\n\tif (top_node._settings && top_node._settings._hidden && !node.$view){\n\t\ttop_node._settings._container = node;\n\t} else if (!top_node.$apiOnly){\n\t\tif (node.appendChild)\n\t\t\t_appendDom(node, top_node, config);\n\t\telse if (node.destructor){\n\t\t\tvar target = node;\n\n\t\t\t//addView or view moving with target id\n\t\t\tif (!id && id!==0 && !isArray(top_node)){\n\t\t\t\tid = node;\n\t\t\t\tnode = node.getParentView();\n\t\t\t}\n\n\t\t\t//if target supports view adding\n\t\t\tif (node && node._replace){\n\t\t\t\tif (moving && top_node.getParentView){\n\t\t\t\t\t//if source supports view removing\n\t\t\t\t\tlet parent = top_node.getParentView();\n\t\t\t\t\tif (parent  && parent._remove){\n\t\t\t\t\t\tparent._remove(top_node);\n\t\t\t\t\t}\n\t\t\t\t\t//adjust parent link and scope\n\t\t\t\t\ttop_node._parent_cell = node;\n\t\t\t\t\ttop_node.$scope = node.$scope;\n\t\t\t\t}\n\n\t\t\t\tnode._replace(top_node, id);\n\t\t\t} else {\n\t\t\t\tlet parent = target.$view.parentNode;\n\t\t\t\ttarget.destructor();\n\t\t\t\t_appendDom(parent, top_node, config);\n\t\t\t}\n\t\t} else\n\t\t\tassert(0, \"Not existing parent:\"+config.container);\n\t}\n\n\treturn top_node;\n}\n\nfunction _appendDom(node, top_node, config){\n\tnode.appendChild(top_node._viewobj);\n\tif (top_node.getParentView()) return;\n\n\t//resize window with position center or top\n\t//do not resize other windows and elements\n\t// which are attached to custom html containers\n\tif (((!top_node.setPosition || top_node._settings.fullscreen) && node == document.body) || top_node._settings.position )\n\t\tstate.top_views.push(top_node._destructor_handler);\n\tif (!config.skipResize)\n\t\ttop_node.adjust();\n}\n\nfunction _correctId(target, multiset, id){\n\t//replace view\n\tvar views = [target];\n\t//replace content of layout\n\tif (multiset)\n\t\tviews = target.getChildViews();\n\t//replace content of window\n\telse if (target._body_cell)\n\t\tviews = [target._body_cell];\n\t//add cell in layout by number\n\telse if (typeof id == \"number\"){\n\t\treturn id;\n\t//replace cell in layout by id\n\t} else if (id){\n\t\tviews = [$$(id)];\n\t\t_deleteIds(views);\n\t\treturn views[0].config.id;\n\t}\n\n\t_deleteIds(views);\n\treturn id;\n}\n\nfunction _deleteIds(uis){\n\tfor (var i = uis.length - 1; i >= 0; i--){\n\t\tlet current = uis[i];\n\t\t//remove original id\n\t\tdelete views[current.config.id];\n\t\t//create temp id\n\t\tcurrent.config.id = \"x\"+uid();\n\t\tviews[current.config.id] = current;\n\t\t//process childs\n\t\tif (current.getChildViews)\n\t\t\t_deleteIds(current.getChildViews());\n\t\t//process related UI\n\t\tif (current._destroy_with_me)\n\t\t\t_deleteIds(current._destroy_with_me);\n\t}\n}\n\n\nfunction _view(config){\n\n\tif (DEBUG){\n\t\t// check for trailing comma\n\t\tvar coll = config.cells || config.rows || config.elements || config.cols;\n\t\tif (coll)\n\t\t\tfor (let i=0; i<coll.length; i++)\n\t\t\t\tif (coll[i] === null || typeof coll[i] === \"undefined\")\n\t\t\t\t\tassert(0, \"You have trailing comma or Null element in collection's configuration\");\n\t}\n\n\tif (config.view){\n\t\tvar view = config.view;\n\t\tassert(ui[view], \"unknown view:\"+view);\n\t\treturn new ui[view](config);\n\t} else if (config.rows || config.cols){\n\t\tvar cells = config.rows||config.cols;\n\t\tvar accordion = false;\n\t\tfor (let i=0; i<cells.length; i++){\n\t\t\tif (cells[i].body && !cells[i].view && !cells[i].align)\n\t\t\t\taccordion = true;\n\t\t}\n\t\tif (accordion){\n\t\t\treturn new ui.headerlayout(config);\n\t\t} else\n\t\t\treturn new ui.layout(config);\n\t}\n\telse if (config.cells)\n\t\treturn new ui.multiview(config);\n\telse if (config.template || config.content)\n\t\treturn new ui.template(config);\t\n\telse if (config.align && config.body){\n\t\treturn new ui.align(config);\n\t} else return new ui.spacer(config);\n}\n//FIXME\nui._view = _view;\n\nfunction $$(id){\n\tif (!id) return null;\n\t\n\tif (views[id]) return views[id];\n\n\tvar name = id;\n\tif (typeof id == \"object\"){\n\t\tif (id._settings)\n\t\t\treturn id;\n\t\tname = (id.target||id.srcElement)||id;\n\t}\n\treturn views[locate({ target:toNode(name)},/*@attr*/\"view_id\")];\n}\nif (typeof window.$$ === \"undefined\") window.$$ = $$;\n\t\n\t\n\nlet protoUI = function(){\n\tvar origins = arguments;\n\tvar selfname = origins[0].name;\n\t\n\tvar t = function(data){\n\t\tif (!t)\n\t\t\treturn ui[selfname].prototype;\n\n\t\tvar origins = t.$protoWait;\n\t\tif (origins){\n\t\t\tvar params = [origins[0]];\n\t\t\t\n\t\t\tfor (let i=1; i < origins.length; i++){\n\t\t\t\tparams[i] = origins[i];\n\n\t\t\t\tif (params[i].$protoWait)\n\t\t\t\t\tparams[i] = params[i].call(-1, params[i].name);\n\n\t\t\t\tif (params[i].prototype && params[i].prototype.name)\n\t\t\t\t\tui[params[i].prototype.name] = params[i];\n\t\t\t}\n\t\t\tui[selfname] = proto.apply(-1, params);\n\n\t\t\tif (t._webix_type_wait)\t\n\t\t\t\tfor (let i=0; i < t._webix_type_wait.length; i++)\n\t\t\t\t\ttype(ui[selfname], t._webix_type_wait[i]);\n\t\t\t\t\n\t\t\tt = origins = null;\t\n\t\t}\n\t\t\t\n\t\tif (this != -1)\n\t\t\treturn new ui[selfname](data);\n\t\telse \n\t\t\treturn ui[selfname];\n\t};\n\tt.$protoWait = Array.prototype.slice.call(arguments, 0);\n\treturn (ui[selfname]=t);\n};\n\nlet proto = function(){\n\tvar origins = arguments;\n\tvar compilation = origins[0];\n\tvar has_constructor = !!compilation.$init;\n\tvar construct = [];\n\t\n\tassert(compilation,\"Invalid mixing target\");\n\t\t\n\tfor (var i=origins.length-1; i>0; i--) {\n\t\tassert(origins[i],\"Invalid mixing source\");\n\t\tif (typeof origins[i]== \"function\")\n\t\t\torigins[i]=origins[i].prototype;\n\t\tif (origins[i].$init) \n\t\t\tconstruct.push(origins[i].$init);\n\t\tif (origins[i].defaults){ \n\t\t\tvar defaults = origins[i].defaults;\n\t\t\tif (!compilation.defaults)\n\t\t\t\tcompilation.defaults = {};\n\t\t\tfor (let def in defaults)\n\t\t\t\tif (isUndefined(compilation.defaults[def]))\n\t\t\t\t\tcompilation.defaults[def] = defaults[def];\n\t\t}\n\t\tif (origins[i].type && compilation.type){\n\t\t\tfor (let def in origins[i].type)\n\t\t\t\tif (!compilation.type[def])\n\t\t\t\t\tcompilation.type[def] = origins[i].type[def];\n\t\t}\n\t\t\t\n\t\tfor (var key in origins[i]){\n\t\t\tif (!compilation[key] && compilation[key] !== false)\n\t\t\t\tcompilation[key] = origins[i][key];\n\t\t}\n\t}\n\t\n\tif (has_constructor)\n\t\tconstruct.push(compilation.$init);\n\t\n\t\n\tcompilation.$init = function(){\n\t\tfor (var i=0; i<construct.length; i++)\n\t\t\tconstruct[i].apply(this, arguments);\n\t};\n\tif (compilation.$skin)\n\t\tcompilation.$skin();\n\n\tvar result = function(config){\n\t\tthis.$ready=[];\n\t\tassert(this.$init,\"object without init method\");\n\t\tthis.$init(config);\n\t\tif (this._parseSettings)\n\t\t\tthis._parseSettings(config, this.defaults);\n\t\tfor (var i=0; i < this.$ready.length; i++)\n\t\t\tthis.$ready[i].call(this);\n\t};\n\tresult.prototype = compilation;\n\t\n\tcompilation = origins = null;\n\treturn result;\n};\n\nattachEvent(\"onClick\", function(e){\n\tvar element = $$(e);\n\tif (element && element.touchable){\n\t\tuse(\"UIManager\").applyChanges(element);\n\n\t\t//for inline elements - restore pointer to the master element\n\t\telement.getNode(e);\n\t\t//reaction on custom css elements in buttons\n\t\tvar trg=e.target||e.srcElement;\n\t\tif (element.config.disabled)\n\t\t\treturn;\n\n\t\tvar css = \"\";\n\t\tif (trg.className && trg.className.toString().indexOf(\"webix_view\")===0) return;\n\n\t\tif (element)\n\t\t\tuse(\"UIManager\")._focus_action(element);\n\n\t\t//loop through all parents\n\t\twhile (trg && trg.parentNode){\n\t\t\tif (trg.getAttribute){\n\t\t\t\tif (trg.getAttribute(/*@attr*/\"view_id\"))\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tcss=trg.className;\n\t\t\t\tif (css){\n\t\t\t\t\tcss = css.toString().split(\" \");\n\t\t\t\t\tfor (var i =0; i<css.length; i++){\n\t\t\t\t\t\tif (element.on_click[css[i]]){\n\t\t\t\t\t\t\tvar res =  element.on_click[css[i]].call(element,e,element._settings.id,trg);\n\t\t\t\t\t\t\tif (res===false)\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttrg=trg.parentNode;\n\t\t}\n\n\n\t\tif (element._settings.click){\n\t\t\tvar code = toFunctor(element._settings.click, element.$scope);\n\t\t\tif (code && code.call) code.call(element, element._settings.id, e);\n\t\t}\n\n\n\n\t\tvar popup = element._settings.popup;\n\t\tif (element._settings.popup && !element._settings.readonly){\n\t\t\tif (typeof popup == \"object\" && !popup.name)\n\t\t\t\tpopup = element._settings.popup = ui(popup)._settings.id;\n\n\t\t\tpopup = $$(popup);\n\t\t\tassert(popup, \"Unknown popup\");\n\n\t\t\tif (!popup.isVisible()){\n\t\t\t\tpopup._settings.master = element._settings.id;\n\t\t\t\tpopup.show((element.getInputNode()||element.getNode()),null,true);\n\t\t\t}\n\t\t}\n\n\t\telement.callEvent(\"onItemClick\", [element._settings.id, e]);\n\t}\n});\n\n\n//hook for documentation generator\nif (DEBUG){\n\tif (window.webix_on_core_ready){\n\t\tvar mod = window.webix_on_core_ready({ proto, protoUI});\n\t\tproto = mod.proto;\n\t\tprotoUI = mod.protoUI;\n\t}\n}\n\nexport { ui, proto, protoUI, $$ };","import {pos as getPos} from \"../webix/html\";\nimport {toNode, _to_array, delay} from \"../webix/helpers\";\nimport {event, eventRemove} from \"../webix/htmlevents\";\nimport {attachEvent, detachEvent} from \"../webix/customevents\";\nimport {assert} from \"../webix/debug\";\nimport {ui} from \"../ui/core\";\n\n\nconst TooltipControl ={\n\t_tooltip_masters: _to_array([\"dummy\"]),\n\t_tooltip_exist: 0,\n\tdelay:400,\n\taddTooltip:function(target,config){\n\t\tlet node, ctrl;\n\t\ttarget = toNode(target);\n\t\tassert(target, \"Target isn't defined\");\n\n\t\tif (target instanceof Element){\n\t\t\tnode = target;\n\t\t\tif (typeof config === \"string\")\n\t\t\t\tnode.setAttribute(\"webix_tooltip\",config);\n\t\t\telse ctrl = config;\n\t\t} else {\n\t\t\tnode = target.$view;\n\t\t\tctrl = target;\n\t\t}\n\t\tctrl = ctrl || this;\n\n\t\tlet index = this._tooltip_masters.find(ctrl);\n\t\tif (index === -1){\n\t\t\tindex = this._tooltip_masters.length;\n\t\t\tthis._tooltip_masters.push(ctrl);\n\t\t}\n\t\tnode.webix_tooltip = index;\n\t\tthis._tooltip_exist++;\n\n\t\tif(!this._tooltip){\n\t\t\tthis._tooltip = new ui.tooltip({});\n\n\t\t\tthis._webix_tooltip_mm = event(document,\"mousemove\",this._move_tooltip,{ bind:this });\n\t\t\tthis._webix_tooltip_ml = event(document,\"mouseleave\",this._hide_tooltip, { bind:this });\n\t\t\tthis._drag_event = attachEvent(\"onDragMode\", () => { this._hide_tooltip(); });\n\t\t\tthis._click_event = attachEvent(\"onClick\", () => { this._hide_tooltip(); });\n\t\t}\n\t},\n\tgetTooltip:function(){\n\t\treturn this._tooltip;\n\t},\n\t_move_tooltip:function(e){\n\t\tlet node = e.target || e.srcElement;\n\t\tlet text;\n\t\twhile (node instanceof Element && node.tagName != \"HTML\"){\n\t\t\tif ( this._tooltip_masters[node.webix_tooltip] ){\n\t\t\t\tif(this._last && this._last != node){\n\t\t\t\t\tthis.$tooltipOut(this._last,node,e);\n\t\t\t\t\tthis._last = null;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!this._last)\n\t\t\t\t\tthis._last = this.$tooltipIn(node,e);\n\t\t\t\tthis.$tooltipMove(node,e,text);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttext = text || node.getAttribute(\"webix_tooltip\");\n\t\t\tnode = node.parentElement;\n\t\t}\n\t\tif (this._last)\n\t\t\tthis._last = this.$tooltipOut(this._last,null,e);\n\t},\n\t_hide_tooltip:function(){\n\t\tclearTimeout(this._before_show_delay);\n\t\tthis._tooltip.hide();\n\t},\n\tgetMaster:function(t){\n\t\treturn this._tooltip_masters[t.webix_tooltip];\n\t},\n\tremoveTooltip:function(target){\n\t\tlet node;\n\t\tassert(target, \"Target isn't defined\");\n\n\t\ttarget = toNode(target);\n\t\tif (target instanceof Element)\n\t\t\tnode = target;\n\t\telse node = target.$view;\n\n\t\tconst tip = node.webix_tooltip;\n\t\tif (tip){\n\t\t\tif (this._last == node){\n\t\t\t\tthis._hide_tooltip();\n\t\t\t\tthis._last = null;\n\t\t\t}\n\t\t\tdelete node.webix_tooltip;\n\t\t\tthis._tooltip_exist--;\n\n\t\t\tthis._tooltip_masters[tip] = null;\n\t\t}\n\n\t\tif (!this._tooltip_exist && this._tooltip){\n\t\t\t// detach events first\n\t\t\tthis._webix_tooltip_mm = eventRemove(this._webix_tooltip_mm);\n\t\t\tthis._webix_tooltip_ml = eventRemove(this._webix_tooltip_ml);\n\t\t\tthis._drag_event = detachEvent(this._drag_event);\n\t\t\tthis._click_event = detachEvent(this._click_event);\n\n\t\t\t// then destroy the tooltip\n\t\t\tthis._tooltip.destructor();\n\t\t\tthis._tooltip = this._last = null;\n\t\t\tthis._tooltip_masters = _to_array([\"dummy\"]);\n\t\t}\n\t},\n\n\t$tooltipIn:function(t,e){\n\t\tlet m = this._tooltip_masters[t.webix_tooltip];\n\t\tif (m.$tooltipIn && m!=this) return m.$tooltipIn(t,e);\n\t\tthis._tooltip.define( { dx:20, dy:0, template:t.getAttribute(\"webix_tooltip\")||\"\", css:\"\"} );\n\t\treturn t;\n\t},\n\t$tooltipOut:function(t,n,e){\n\t\tlet m = this._tooltip_masters[t.webix_tooltip];\n\t\tif (m.$tooltipOut && m!=this) return m.$tooltipOut(t,n,e);\n\t\tthis._hide_tooltip();\n\t\treturn null;\n\t},\n\t$tooltipMove:function(t,e,text){\n\t\tlet m = this._tooltip_masters[t.webix_tooltip];\n\t\tif (m.$tooltipMove && m!=this) return m.$tooltipMove(t,e,text);\n\t\tthis._tooltip.hide();\n\t\tclearTimeout(this._before_show_delay);\n\t\tthis._before_show_delay = delay(this._tooltip.show,this._tooltip,[text||{},getPos(e)],this.delay);\n\t}\n\n};\n\nexport default TooltipControl;","import env  from \"../webix/env\";\nimport state from \"../core/state\";\n\nimport {event} from \"../webix/htmlevents\";\nimport {isUndefined} from \"../webix/helpers\";\nimport {callEvent} from \"../webix/customevents\";\n\nimport {use} from \"../services\";\n\nexport function _uid(name){\n\treturn \"$\"+name+(_namecount[name] = (_namecount[name]||0)+1);\n}\nconst _namecount = {};\n\nvar _freeze_resize = false;\nexport function freeze(handler, trigger){\n\t_freeze_resize = true;\n\tvar res = handler();\n\tif (res && res.then){\n\t\tres = res.then(function(any){\n\t\t\t_freeze_resize = false;\n\t\t\tif (trigger !== false)\n\t\t\t\tresize();\n\t\t\treturn any;\n\t\t});\n\t} else {\n\t\t_freeze_resize = false;\n\t\tif (trigger !== false)\n\t\t\tresize();\n\t}\n\treturn res;\n}\n\nexport function resize(){\n\tuse(\"UIManager\").applyChanges();\n\tcallEvent(\"onClick\",[]);\n\tstate._force_resize = true;\n\tif (!_freeze_resize)\n\t\tfor (var i=state.top_views.length - 1; i>=0; i--){\n\t\t\tif (state.top_views[i].obj)\n\t\t\t\tstate.top_views[i].obj.resize();\n\t\t}\n\tstate._force_resize = false;\n}\n\nexport function _each(parent, logic, master, include){\n\tif (parent){\n\t\tvar children = include ? [parent] : parent.getChildViews();\n\t\tfor (var i = 0; i < children.length; i++){\n\t\t\tif (logic.call((master), children[i]) !== false)\n\t\t\t\t_each(children[i], logic, master);\n\t\t}\n\t}\n}\n\nexport function zIndex(index){\n\tif (!isUndefined(index)){\n\t\tenv.zIndexBase = Math.max(env.zIndexBase, index+1);\n\t\treturn index;\n\t}\n\treturn env.zIndexBase++;\n}\n\nevent(window, \"resize\", function() {\n\t// check for virtual keyboard\n\tif(env.touch && ( state._edit_open_time && (new Date())-state._edit_open_time < 1000 || state._focus_time && (new Date())-state._focus_time < 1000)){\n\t\treturn;\n\t} else {\n\t\tresize();\n\t}\n});","import {assert} from \"./debug\";\nimport {event} from \"./htmlevents\";\nimport env from \"./env.js\";\nimport {isArray, delay} from \"./helpers.js\";\n\nimport {callEvent, attachEvent} from \"./customevents.js\";\n\nfunction ready(code){\n\tif (_ready) code.call();\n\telse _ready_code.push(code);\n}\nlet _ready = false;\nlet _ready_code = [];\n\n//autodetect codebase folder\nvar temp = document.getElementsByTagName(\"SCRIPT\");\t//current script, most probably\nassert(temp.length,\"Can't locate codebase\");\nif (temp.length){\n\t//full path to script\n\ttemp = (temp[temp.length-1].getAttribute(\"src\")||\"\").split(\"/\");\n\t//get folder name\n\ttemp.splice(temp.length-1, 1);\n\tenv.codebase = temp.slice(0, temp.length).join(\"/\")+\"/\";\n}\n\nvar handler = function(){\n\tif(env.isIE)\n\t\tdocument.body.className += \" webix_ie\";\n\tcallEvent(\"onReady\",[]);\n};\n\nvar doit = function(){\n\t_ready = true;\n\n\t/* global webix_ready */ \n\tif (window.webix_ready && isArray(webix_ready))\n\t\t_ready_code = webix_ready.concat(_ready_code);\n\n\tfor (var i=0; i < _ready_code.length; i++)\n\t\t_ready_code[i].call();\n\t_ready_code=[];\n};\n\nattachEvent(\"onReady\", function(force){\n\tif (force) \n\t\tdoit();\n\telse \n\t\tdelay(doit);\n});\n\nif (document.readyState == \"complete\") handler();\nelse event(window, \"load\", handler);\n\nready(function(){\n\tevent(document.body,\"click\", function(e){\n\t\tcallEvent(\"onClick\",[e||window.event]);\n\t});\n});\n\n\nexport default ready;","import {ui, $$} from \"../ui/core\";\nimport {isUndefined} from \"../webix/helpers\";\nimport {create} from \"../webix/html\";\nimport {assert} from \"../webix/debug\";\n\nconst fullscreen = {\n\tset:function(view, config){\n\t\tconfig = config || {};\n\n\t\tif(this._view)\n\t\t\tthis.exit();\n\n\t\tif($$(view))\n\t\t\tview = $$(view);\n\t\telse{\n\t\t\tif(typeof view == \"string\")\n\t\t\t\tview = document.getElementById(view);\n\t\t\tif(view instanceof Element)\n\t\t\t\tview = {$view: view, $html: true};\n\t\t\tassert(view, \"Incorrect view for fullscreen mode\");\n\t\t}\n\n\t\tthis._view = view;\n\t\tthis._pos = this._setPosition();\n\n\t\tconst viewConfig = view.config;\n\t\tif(view.setPosition){\n\t\t\tviewConfig.fullscreen = true;\n\t\t\tview.resize();\n\t\t}\n\t\telse{\n\t\t\tthis._fullscreen = ui({\n\t\t\t\tview:\"window\",\n\t\t\t\thead: this._getHeadConfig(config),\n\t\t\t\tfullscreen:true,\n\t\t\t\tborderless:true,\n\t\t\t\t//better resize logic\n\t\t\t\tbody:{rows:[]}\n\t\t\t});\n\n\t\t\tif(viewConfig)\n\t\t\t\tthis._sizes = {\n\t\t\t\t\twidth: viewConfig.width, minWidth: viewConfig.minWidth, maxWidth: viewConfig.maxWidth,\n\t\t\t\t\theight: viewConfig.height, minHeight: viewConfig.minHeight, maxHeight: viewConfig.maxHeight\n\t\t\t\t};\n\n\t\t\tif(view.getParentView && view.getParentView()){\n\t\t\t\tthis._parent = view.getParentView();\n\n\t\t\t\tif(this._parent.index){\n\t\t\t\t\tthis._pos.index = this._parent.index(view);\n\t\t\t\t\tthis._pos.active = this._parent.getActiveId ? this._parent.getActiveId() == viewConfig.id : false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis._parent = view.$view.parentNode;\n\t\t\t\tthis._pos.node = create(\"div\");\n\n\t\t\t\t//save old position\n\t\t\t\tthis._parent.replaceChild(this._pos.node, view.$view);\n\t\t\t}\n\n\t\t\tthis._fullscreen.getBody().addView(view.$html ? {view:\"template\", content:view.$view, css:\"webix_fullscreen_html\"} : view);\n\n\t\t\tthis._fullscreen.show();\n\t\t\tthis._setSizes(view);\n\t\t}\n\t},\n\texit:function(){\n\t\tif(this._view){\n\t\t\tconst viewConfig = this._view.config;\n\t\t\tthis._setPosition(true);\n\t\t\tif(this._view.setPosition){\n\t\t\t\tviewConfig.fullscreen = false;\n\t\t\t\tthis._view.resize();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(this._parent instanceof Element){\n\t\t\t\t\tthis._view._parent_cell = null;\n\t\t\t\t\tif(this._view._set_inner)\n\t\t\t\t\t\tthis._view._set_inner(this._view.config);\n\t\t\t\t\tthis._parent.replaceChild(this._view.$view, this._pos.node);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!isUndefined(this._pos.index)){\n\t\t\t\t\t\tthis._parent.addView(this._view, this._pos.index);\n\t\t\t\t\t\tif(this._pos.active)\n\t\t\t\t\t\t\tthis._view.show(false, false);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis._view._parent_cell = this._parent;\n\t\t\t\t\t\tthis._parent._replace(this._view);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._setSizes(this._view, this._sizes);\n\n\t\t\t\t//prevent view destruction (with layout)\n\t\t\t\tif(!this._view.$html)\n\t\t\t\t\tthis._fullscreen.getBody()._cells = [];\n\n\t\t\t\t//we can't set head false with replace, so we need to close win\n\t\t\t\tthis._fullscreen.close();\n\t\t\t}\n\t\t\tthis._clearValues();\n\t\t}\n\t},\n\t_clearValues:function(){\n\t\tdelete this._parent;\n\t\tdelete this._view;\n\t\tdelete this._sizes;\n\t\tdelete this._pos;\n\t\tdelete this._fullscreen;\n\t},\n\t_setPosition(restore){\n\t\tconst view = this._view;\n\t\tconst oldStyles = {};\n\n\t\tif(view.setPosition){\n\t\t\tif(restore)\n\t\t\t\tview.setPosition(this._pos.left, this._pos.top);\n\t\t\telse{\n\t\t\t\toldStyles.left = view.config.left;\n\t\t\t\toldStyles.top = view.config.top;\n\t\t\t\tview.setPosition(0,0);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tconst rules = [\"position\", \"top\", \"bottom\", \"left\", \"right\"];\n\t\t\tconst style = view.$view.style;\n\n\t\t\trules.forEach(rule => {\n\t\t\t\tif(restore)\n\t\t\t\t\tstyle[rule] = this._pos[rule];\n\t\t\t\telse{\n\t\t\t\t\toldStyles[rule] = style[rule];\n\t\t\t\t\tstyle[rule] = rule == \"position\" ? \"relative\" : 0;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn oldStyles;\n\t},\n\t_setSizes:function(view, sizes){\n\t\tif(!view.$html){\n\t\t\tsizes = sizes || {height:0, minHeight:0, maxHeight:0, width:0, minWidth:0, maxWidth:0};\n\t\t\tview.define(sizes);\n\t\t\tview.resize();\n\t\t}\n\t},\n\t_getHeadConfig:function(config){\n\t\tif(config.head === false || typeof config.head == \"object\")\n\t\t\treturn config.head;\n\t\telse{\n\t\t\treturn {\n\t\t\t\tcols:[\n\t\t\t\t\t{template:config.head||\"\", type:\"header\", borderless:true},\n\t\t\t\t\t{view:\"icon\", icon:\"wxi-close\", click:()=>{\n\t\t\t\t\t\tthis.exit();\n\t\t\t\t\t}}\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n};\n\nexport default fullscreen;","import ready from \"../webix/ready\";\n\nimport {assert} from \"../webix/debug\";\nimport {event} from \"../webix/htmlevents\";\nimport {delay,uid,_power_array,isUndefined,isArray} from \"../webix/helpers\";\nimport {callEvent} from \"../webix/customevents\";\nimport {locate,preventEvent} from \"../webix/html\";\nimport fullscreen from \"../webix/fullscreen\";\n\nimport {$$} from \"../ui/core\";\nimport state from \"../core/state\";\n\nimport {define} from \"../services\";\n\n\nconst UIManager = {\n\t_view: null,\n\t_hotkeys: {},\n\t_focus_time:0,\n\t_tab_time:0,\n\t_mouse_time:0,\n\t_controls: {\n\t\t\"esc\": \"escape\",\n\t\t\"up\": \"arrowup\",\n\t\t\"down\": \"arrowdown\",\n\t\t\"left\": \"arrowleft\",\n\t\t\"right\": \"arrowright\",\n\t\t\"pgdown\": \"pagedown\",\n\t\t\"pgup\": \"pageup\",\n\t\t\"space\": \" \",\n\t\t\"multiply\": \"*\",\n\t\t\"add\": \"+\",\n\t\t\"subtract\": \"-\",\n\t\t\"decimal\": \".\",\n\t\t\"divide\": \"/\",\n\t\t\"pausebreak\":\"pause\",\n\t\t\"5numlocked\":\"clear\"\n\t},\n\t_inputs:{\n\t\t\"input\": 1,\n\t\t\"button\":1,\n\t\t\"textarea\":1,\n\t\t\"select\":1\n\t},\n\t_enable: function() {\n\t\t// attaching events here\n\t\tevent(document, \"keydown\", this._keypress, { bind:this });\n\t\tevent(document.body, \"click\", this._focus_click, { bind:this });\n\t\tevent(document.body, \"mousedown\", function(){\n\t\t\tthis._mouse_time = new Date();\n\t\t}, { bind:this });\n\t\tevent(document.body, \"focus\", this._focus_tab, { capture:true, bind:this });\n\n\t\tstate.destructors.push({obj:this});\n\t},\n\tdestructor:function(){\n\t\tUIManager._view = null;\n\t},\n\tgetFocus: function() {\n\t\treturn this._view;\n\t},\n\t_focus_action:function(view){\n\t\tthis._focus_was_there = this._focus_was_there || view._settings.id;\n\t},\n\tsetFocus: function(view, only_api, tab){\n\t\t//view can be empty\n\t\tview = $$(view);\n\t\t//unfocus if view is hidden\n\t\tif (view && !view.$view) view = null;\n\n\t\t//store last click time, it is necessary to prevent refocusing\n\t\t//for example when user moves focus from onclick handler somewher\n\t\t//and we want to prevent autofocusing, when event will reach document.body\n\t\tthis._focus_time = state._focus_time = new Date();\n\n\t\tif (this._view === view) return true;\n\t\tif (this._view && this._view.callEvent)\n\t\t\tthis._view.callEvent(\"onBlur\", [this._view]);\n\n\t\tif (view && view.callEvent){\n\t\t\tview.callEvent(\"onFocus\", [view, this._view]);\n\t\t\tif(tab) view.callEvent(\"onTabFocus\", [view, this._view]);\n\t\t}\n\t\tcallEvent(\"onFocusChange\", [view, this._view]);\n\n\t\tif (this._view && this._view.blur && !only_api) this._view.blur();\n\t\tthis._view = view;\n\t\tif (view && view.focus && !only_api) view.focus();\n\t\treturn true;\n\t},\n\tapplyChanges: function(element){\n\t\tvar view = this.getFocus();\n\t\tif (view && view != element && view._applyChanges)\n\t\t\tview._applyChanges(element);\n\t},\n\thasFocus: function(view) {\n\t\treturn (view === this._view) ? true : false;\n\t},\n\t_focus: function(e){\n\t\tvar view = locate(e, /*@attr*/\"view_id\") || this._focus_was_there;\n\n\t\t//if html was repainted we can miss the view, so checking last processed one\n\t\tview = $$(view);\n\t\tthis._focus_was_there = null;\n\n\t\t//set timer, to fix issue with Android input focusin\n\t\tstate._focus_time = new Date();\n\n\t\tif (view == this._view) return true;\n\n\t\tif (view){\n\t\t\tif (this.canFocus(view)){\n\t\t\t\tthis.setFocus(view);\n\t\t\t}\n\t\t\t//remove focus from an unreachable view\n\t\t\telse if (view.$view.contains(e.target))\n\t\t\t\te.target.blur();\n\t\t}\n\t\telse this.setFocus(null);\n\n\t\treturn true;\n\t},\n\t_focus_click:function(e){\n\t\t// if it was onfocus/onclick less then 100ms behore then we ignore it\n\t\tif ((new Date())-this._focus_time < 100) {\n\t\t\tthis._focus_was_there = null;\n\t\t\treturn false;\n\t\t}\n\t\treturn this._focus(e);\n\t},\n\t_focus_tab: function(e){\n\t\tif(!this._inputs[e.target.nodeName.toLowerCase()])\n\t\t\treturn false;\n\t\treturn this._focus(e);\n\t},\n\t_top_modal: function(view){\n\t\tif (!state._modality) return true;\n\n\t\tconst top = view.queryView(a => !a.getParentView(), \"parent\") || view;\n\t\treturn (top.$view.style.zIndex||0) >= state._modality;\n\t},\n\tcanFocus:function(view){\n\t\treturn view.isVisible() && view.isEnabled() && !view.config.disabled && this._top_modal(view) && !view.queryView({disabled:true}, \"parent\");\n\t},\n\n\t_moveChildFocus: function(check_view){\n\t\tvar focus = this.getFocus();\n\t\t//we have not focus inside of closing item\n\t\tif (check_view && !this._is_child_of(check_view, focus))\n\t\t\treturn false;\n\n\t\tif (!this._focus_logic(\"getPrev\", check_view))\n\t\t\tthis._view = null;\n\t},\n\t_is_child_of: function(parent, child) {\n\t\tif (!parent) return false;\n\t\tif (!child) return false;\n\t\twhile (child) {\n\t\t\tif (child === parent) return true;\n\t\t\tchild = child.getParentView();\n\t\t}\n\t\treturn false;\n\t},\n\t_keypress_timed:function(){\n\t\tif (this && this.callEvent)\n\t\t\tthis.callEvent(\"onTimedKeyPress\",[]);\n\t},\n\t_keypress: function(e) {\n\t\tlet code = e.which || e.keyCode;\n\t\t// numpad keys\n\t\tif(code>95 && code< 106)\n\t\t\tcode -= 48;\n\n\t\tconst view = this.getFocus();\n\t\tif (view && view.callEvent) {\n\t\t\tif (view.callEvent(\"onKeyPress\", [code, e]) === false)\n\t\t\t\tpreventEvent(e);\n\t\t\tif (view.hasEvent(\"onTimedKeyPress\")){\n\t\t\t\tclearTimeout(view._key_press_timeout);\n\t\t\t\tview._key_press_timeout = delay(this._keypress_timed, view, [], (view._settings.keyPressTimeout||250));\n\t\t\t}\n\t\t}\n\n\t\tif (this._check_keycode(e) === false) {\n\t\t\tpreventEvent(e);\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t// dir - getNext or getPrev\n\t_focus_logic: function(dir, focus) {\n\t\tvar next = focus||this.getFocus();\n\t\tif(next){\n\t\t\tdir = dir || \"getNext\";\n\t\t\tvar start = next;\n\t\t\tvar marker = uid();\n\n\t\t\twhile (true) { // eslint-disable-line\n\t\t\t\tnext = this[dir](next);\n\t\t\t\t// view with focus ability\n\t\t\t\tif (next && this.canFocus(next))\n\t\t\t\t\treturn this.setFocus(next);\n\n\t\t\t\t// elements with focus ability not found\n\t\t\t\tif (next === start || next.$fmarker == marker){\n\t\t\t\t\tif(focus)\n\t\t\t\t\t\tdocument.activeElement.blur();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t//prevents infinity loop\n\t\t\t\tnext.$fmarker = marker;\n\t\t\t}\n\t\t}\n\t},\n\t_tab_logic:function(view, e){\n\t\tvar mode = !e.shiftKey;\n\t\tUIManager._tab_time = new Date();\n\t\tif (view && view._custom_tab_handler && !view._custom_tab_handler(mode, e))\n\t\t\treturn false;\n\n\t\tif (view && view._in_edit_mode){\n\t\t\tif (view.editNext)\n\t\t\t\treturn view.editNext(mode);\n\t\t\telse if (view.editStop){\n\t\t\t\tview.editStop();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else\n\t\t\tdelay(function(){\n\t\t\t\tview = $$(document.activeElement);\n\t\t\t\tif(view && !UIManager.canFocus(view))\n\t\t\t\t\treturn UIManager._focus_logic(mode ? \"getNext\" : \"getPrev\", view);\n\t\t\t\tUIManager.setFocus(view, true, true);\n\t\t\t});\n\t},\n\tgetTop: function(id) {\n\t\tvar next, view = $$(id);\n\n\t\twhile (view && (next = view.getParentView()))\n\t\t\tview = next;\n\t\treturn view;\n\t},\n\n\tgetNext: function(view, _inner_call) {\n\t\tvar cells = view.getChildViews();\n\t\t//tab to first children\n\t\tif (cells.length && !_inner_call)\n\t\t\tfor (var i = 0; i < cells.length; i++)\n\t\t\t\tif(this.canFocus(cells[i]))\n\t\t\t\t\treturn cells[i];\n\n\t\t//unique case - single view without child and parent\n\t\tvar parent = view.getParentView();\n\t\tif (!parent)\n\t\t\treturn view;\n\n\t\tvar p_cells = parent.getChildViews();\n\t\tif (p_cells.length){\n\t\t\tvar index = _power_array.find.call(p_cells, view)+1;\n\t\t\twhile (index < p_cells.length) {\n\t\t\t\t//next visible child\n\t\t\t\tif (this.canFocus(p_cells[index])) \n\t\t\t\t\treturn p_cells[index];\n\n\t\t\t\tindex++;\n\t\t\t}\n\t\t} \n\n\t\t//sibling of parent\n\t\treturn this.getNext(parent, true);\n\t},\n\n\tgetPrev: function(view, _inner_call) {\n\t\tvar cells = view.getChildViews();\n\t\t//last child of last child\n\t\tif (cells.length && _inner_call)\n\t\t\tfor (var i = cells.length - 1; i >= 0; i--)\n\t\t\t\tif(this.canFocus(cells[i]))\n\t\t\t\t\treturn this.getPrev(cells[i], true);\n\n\t\tif (_inner_call && this.canFocus(view)) return view;\n\n\t\t//fallback from top to bottom\n\t\tvar parent = view.getParentView();\n\t\tif (!parent)\n\t\t\treturn this.canFocus(view) ? this.getPrev(view, true) : view;\n\n\t\tvar p_cells = parent.getChildViews();\n\t\tif (p_cells) {\n\t\t\tvar index = _power_array.find.call(p_cells, view)-1;\n\t\t\twhile (index >= 0) {\n\t\t\t\tif (this.canFocus(p_cells[index]))\n\t\t\t\t\treturn this.getPrev(p_cells[index], true);\n\t\t\t\tindex--;\n\t\t\t}\n\t\t}\n\n\t\treturn this.getPrev(parent, true);\n\t},\n\taddHotKey: function(keys, handler, view) {\n\t\tassert(handler, \"Hot key handler is not defined\");\n\t\tconst code = this._parse_keys(keys);\n\n\t\tif (!view) view = null;\n\t\tif (!this._hotkeys[code]) this._hotkeys[code] = [];\n\t\tthis._hotkeys[code].push({ handler, view });\n\n\t\treturn keys;\n\t},\n\tremoveHotKey: function(keys, func, view){\n\t\tconst code = this._parse_keys(keys);\n\t\tif (!func && !view)\n\t\t\tdelete this._hotkeys[code];\n\t\telse {\n\t\t\tvar t = this._hotkeys[code];\n\t\t\tif (t){\n\t\t\t\tfor (var i = t.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (view && t[i].view !== view) continue;\n\t\t\t\t\tif (func && t[i].handler !== func) continue;\n\t\t\t\t\tt.splice(i,1);\n\t\t\t\t}\n\t\t\t\tif (!t.length)\n\t\t\t\t\tdelete this._hotkeys[code];\n\t\t\t}\n\n\t\t}\n\t},\n\t_keycode: function(key, ctrl, shift, alt, meta) {\n\t\t//key can be undefined (browser autofill)\n\t\treturn (key||\"\").toLowerCase()+\"_\"+[\"\", (ctrl ? \"1\" : \"0\"), (shift ? \"1\" : \"0\"), (alt ? \"1\" : \"0\"), (meta ? \"1\" : \"0\")].join(\"\");\n\t},\n\t_check_keycode: function(e){\n\t\tconst keyCode = e.which || e.keyCode;\n\t\tconst is_any = !e.ctrlKey && !e.altKey && !e.metaKey && (keyCode!=9)&&(keyCode!=27)&&(keyCode!=13);\n\t\tconst code = this._keycode(e.key, e.ctrlKey, e.shiftKey, e.altKey, e.metaKey);\n\n\t\tvar focus = this.getFocus();\n\t\tif (this._hotkeys[code])\n\t\t\treturn  this._process_calls(this._hotkeys[code], focus, e);\n\t\telse if (is_any && this._hotkeys[\"any_0000\"])\n\t\t\treturn  this._process_calls(this._hotkeys[\"any_0000\"], focus, e);\n\n\t\treturn true;\n\t},\n\t_process_calls:function(calls, focus, e){\n\t\tfor (var i = 0; i < calls.length; i++) {\n\t\t\tvar key = calls[i];\n\t\t\tif ((key.view !== null) &&\t\t//common hot-key\n\t\t\t\t(focus !== key.view) &&\t\t//hot-key for current view\n\t\t\t\t//hotkey for current type of view\n\t\t\t\t(typeof(key.view) !== \"string\" || !focus || focus.name !== key.view)) continue;\n\n\t\t\tvar temp_result = key.handler(focus, e);\n\t\t\tif (!!temp_result === temp_result) return temp_result;\n\t\t}\n\t\treturn true;\n\t},\n\t_parse_keys: function(keys) {\n\t\tvar controls = this._controls;\n\t\tvar parts = keys.toLowerCase().split(/[ +\\-_]/);\n\t\tvar ctrl, shift, alt, meta;\n\t\tctrl = shift = alt = meta = 0;\n\t\tvar letter = \"\";\n\t\tfor (var i = 0; i < parts.length; i++) {\n\t\t\tif (parts[i] === \"ctrl\") ctrl = 1;\n\t\t\telse if (parts[i] === \"shift\") shift = 1;\n\t\t\telse if (parts[i] === \"alt\") alt = 1;\n\t\t\telse if (parts[i] === \"command\") meta = 1;\n\t\t\telse {\n\t\t\t\tletter = controls[parts[i]] || parts[i];\n\t\t\t}\n\t\t}\n\n\t\treturn this._keycode(letter, ctrl, shift, alt, meta);\n\t},\n\tgetState:function(node, children) {\n\t\tchildren = (children||false);\n\t\tnode = $$(node);\n\t\tvar state = {\n\t\t\tid: node.config.id,\n\t\t\twidth: node.config.width,\n\t\t\theight: node.config.height,\n\t\t\tgravity: node.config.gravity\n\t\t};\n\t\tif (!isUndefined(node.config.collapsed)) state.collapsed = node.config.collapsed;\n\t\tif (node.name === \"tabs\" || node.name === \"tabbar\") state.activeCell = node.getValue();\n\t\t\n\t\tif (children) {\n\t\t\tstate = [state];\n\t\t\tif (node._cells) {\n\t\t\t\tfor (var i = 0; i < node._cells.length; i++)\n\t\t\t\t\tstate = state.concat(this.getState(node._cells[i], children));\n\t\t\t}\n\t\t}\n\t\treturn state;\n\t},\n\tsetState:function(states) {\n\t\tif (!isArray(states)) states = [states];\n\t\n\t\tfor (var i = 0; i < states.length; i++) {\n\t\t\tvar state = states[i];\n\t\t\tvar node = $$(state.id);\n\t\t\tif (!node) continue;\n\t\n\t\t\tif (!isUndefined(state.collapsed)) node.define(\"collapsed\", state.collapsed);\n\t\t\tif (!isUndefined(state.activeCell)) node.setValue(state.activeCell);\n\t\n\t\t\tnode.define(\"width\", state.width);\n\t\t\tnode.define(\"height\", state.height);\n\t\t\tnode.define(\"gravity\", state.gravity);\n\t\t}\n\t\tvar top = $$(states[0].id);\n\t\tif (top) top.resize();\n\t}\n};\n\nready(function() {\n\tUIManager._enable();\n\n\tUIManager.addHotKey(\"enter\", function(view, ev){\n\t\tif (view && view.callEvent)\n\t\t\tview.callEvent(\"onEnter\", [ev]);\n\t\tif (view && view.editStop && view._in_edit_mode){\n\t\t\tview.editStop();\n\t\t\treturn true;\n\t\t} else if (view && view.touchable){\n\t\t\tvar form = view.getFormView();\n\t\t\tif (form && !view._skipSubmit)\n\t\t\t\tform.callEvent(\"onSubmit\",[view,ev]);\n\t\t}\n\t});\n\tUIManager.addHotKey(\"esc\", function(view){\n\t\tif (view){\n\t\t\tif (view.editCancel && view._in_edit_mode){\n\t\t\t\tview.editCancel();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar top = view.getTopParentView();\n\t\t\tif (top && top.setPosition){\n\t\t\t\tif(fullscreen._fullscreen == top)\n\t\t\t\t\tfullscreen.exit();\n\t\t\t\ttop._hide();\n\t\t\t}\n\t\t}\n\t});\n\tUIManager.addHotKey(\"shift+tab\", UIManager._tab_logic);\n\tUIManager.addHotKey(\"tab\", UIManager._tab_logic);\n});\n\ndefine(\"UIManager\", UIManager);\n\nexport default UIManager;","import {extend} from \"../webix/helpers\";\n\nconst Settings={\n\t$init:function(){\n\t\t/* \n\t\t\tproperty can be accessed as this.config.some\n\t\t\tin same time for inner call it have sense to use _settings\n\t\t\tbecause it will be minified in final version\n\t\t*/\n\t\tthis._settings = this.config= {}; \n\t},\n\tdefine:function(property, value){\n\t\tif (typeof property == \"object\")\n\t\t\treturn this._parseSeetingColl(property);\n\t\treturn this._define(property, value);\n\t},\n\t_define:function(property,value){\n\t\t//method with name {prop}_setter will be used as property setter\n\t\t//setter is optional\n\t\tvar setter = this[property+\"_setter\"];\n\t\treturn (this._settings[property]=setter?setter.call(this,value,property):value);\n\t},\n\t//process configuration object\n\t_parseSeetingColl:function(coll){\n\t\tif (coll){\n\t\t\tfor (var a in coll)\t\t\t\t//for each setting\n\t\t\t\tthis._define(a,coll[a]);\t\t//set value through config\n\t\t}\n\t},\n\t//helper for object initialization\n\t_parseSettings:function(obj,initial){\n\t\t//initial - set of default values\n\t\tvar settings = {}; \n\t\tif (initial)\n\t\t\tsettings = extend(settings,initial);\n\t\t\t\t\t\n\t\t//code below will copy all properties over default one\n\t\tif (typeof obj == \"object\" && !obj.tagName)\n\t\t\textend(settings,obj, true);\t\n\t\t//call config for each setting\n\t\tthis._parseSeetingColl(settings);\n\t},\n\t_mergeSettings:function(config, defaults){\n\t\tfor (var key in defaults)\n\t\t\tswitch(typeof config[key]){\n\t\t\t\tcase \"object\": \n\t\t\t\t\tconfig[key] = this._mergeSettings((config[key]||{}), defaults[key]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tconfig[key] = defaults[key];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\t//do nothing\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\treturn config;\n\t}\n};\n\nexport default Settings;","import state from \"./state\";\n\nimport {_to_array} from \"../webix/helpers\";\nimport {event, _events_final_destructor} from \"../webix/htmlevents\";\nimport {callEvent} from \"../webix/customevents\";\n\nimport {ui} from \"../ui/core\";\nimport UIManager from \"../core/uimanager\";\n\n\nconst Destruction = {\n\t$init:function(){\n\t\t//wrap in object to simplify removing self-reference\n\t\t//submenu can trigger this handler two times, preserve a single destructor reference\n\t\tvar t  = this._destructor_handler = this._destructor_handler || { obj: this};\n\n\t\t//register self in global list of destructors\n\t\tstate.destructors.push(t);\n\t},\n\t//will be called automatically on unload, can be called manually\n\t//simplifies job of GC\n\tdestructor:function(){\n\t\tvar config = this._settings;\n\n\t\tif (this._last_editor)\n\t\t\tthis.editCancel();\n\n\t\tif(this.callEvent)\n\t\t\tthis.callEvent(\"onDestruct\",[]);\n\n\t\t//destructor can be called only once\n\t\tthis.destructor=function(){};\n\t\t//remove self reference from global destructions collection\n\t\tthis._destructor_handler.obj = null;\n\n\t\t//destroy child and related cells\n\t\tif (this.getChildViews){\n\t\t\tvar cells = this.getChildViews();\n\t\t\tif (cells)\n\t\t\t\tfor (let i=0; i < cells.length; i++)\n\t\t\t\t\tcells[i].destructor();\n\n\t\t\tif (this._destroy_with_me)\n\t\t\t\tfor (let i=0; i < this._destroy_with_me.length; i++)\n\t\t\t\t\tthis._destroy_with_me[i].destructor();\n\t\t}\n\n\t\tdelete ui.views[config.id];\n\n\t\tif (config.$id){\n\t\t\tvar top = this.getTopParentView();\n\t\t\tif (top && top._destroy_child)\n\t\t\t\ttop._destroy_child(config.$id);\n\t\t}\n\n\t\t//html collection\n\t\tthis._htmlmap  = null;\n\t\tthis._htmlrows = null;\n\t\tthis._html = null;\n\n\n\t\tif (this._contentobj) {\n\t\t\tthis._contentobj.innerHTML=\"\";\n\t\t\tthis._contentobj._htmlmap = null;\n\t\t}\n\n\t\t//removes view container\n\t\tif (this._viewobj&&this._viewobj.parentNode){\n\t\t\tthis._viewobj.parentNode.removeChild(this._viewobj);\n\t\t}\n\n\t\tif (this.data && this.data.destructor)\n\t\t\tthis.data.destructor();\n\n\t\tif (this.unbind)\n\t\t\tthis.unbind();\n\n\t\tthis.data = null;\n\t\tthis._viewobj = this.$view = this._contentobj = this._dataobj = null;\n\t\tthis._evs_events = this._evs_handlers = {};\n\n\t\t//remove focus from destructed view\n\t\tif (UIManager._view == this)\n\t\t\tUIManager._view = null;\n\n\t\tvar url = config.url;\n\t\tif (url && url.$proxy && url.release)\n\t\t\turl.release();\n\n\t\tthis.$scope = null;\n\t\t// this flag is checked in delay method\n\t\tthis.$destructed = true;\n\t}\n};\n//global list of destructors\nevent(window,\"unload\",function(){\n\tcallEvent(\"unload\", []);\n\tstate._final_destruction = true;\n\t\n\t//call all registered destructors\n\tfor (var i=0; i<state.destructors.length; i++){\n\t\tvar obj = state.destructors[i].obj;\n\t\tif (obj)\n\t\t\tobj.destructor();\n\t}\n\tstate.destructors = [];\n\tstate._popups = _to_array();\n\n\t_events_final_destructor();\n});\n\nexport default Destruction;","import {bind} from \"../webix/helpers\";\n\nconst CollectionBind={\n\t$init:function(){\n\t\tthis._cursor = null;\n\t\tthis.attachEvent(\"onSelectChange\", function(){\n\t\t\tvar sel = this.getSelectedId();\n\t\t\tthis.setCursor(sel?(sel.id||sel):null);\n\t\t});\n\t\tthis.attachEvent(\"onAfterCursorChange\", this._update_binds);\t\t\n\t\tthis.attachEvent(\"onAfterDelete\", function(id){\n\t\t\tif (id == this.getCursor())\n\t\t\t\tthis.setCursor(null);\n\t\t});\n\t\tthis.data.attachEvent(\"onStoreUpdated\", bind(function(id, data, mode){\n\t\t\t//paint - ignored\n\t\t\t//delete - handled by onAfterDelete above\n\t\t\tif (id && id == this.getCursor() && mode != \"paint\" && mode != \"delete\")\n\t\t\t\tthis._update_binds();\n\t\t\t\n\t\t},this));\n\t\tthis.data.attachEvent(\"onClearAll\", bind(function(){\n\t\t\tthis._cursor = null;\n\t\t},this));\n\t\tthis.data.attachEvent(\"onIdChange\", bind(function(oldid, newid){\n\t\t\tif (this._cursor == oldid){\n\t\t\t\tthis._cursor = newid;\n\t\t\t\tthis._update_binds();\n\t\t\t}\n\t\t},this));\n\t},\n\trefreshCursor:function(){\n\t\tif (this._cursor)\n\t\t\tthis.callEvent(\"onAfterCursorChange\",[this._cursor]);\n\t},\n\tsetCursor:function(id){\n\t\tif (id == this._cursor || (id !== null && !this.getItem(id))) return;\n\t\t\n\t\tthis.callEvent(\"onBeforeCursorChange\", [this._cursor]);\n\t\tthis._cursor = id;\n\t\tthis.callEvent(\"onAfterCursorChange\",[id]);\n\t},\n\tgetCursor:function(){\n\t\treturn this._cursor;\n\t},\n\t_bind_update:function(target, rule, format){\n\t\tif (rule == \"$level\" && this.data.getBranch)\n\t\t\treturn (target.data || target).importData(this.data.getBranch(this.getCursor()));\n\n\t\tvar data = this.getItem(this.getCursor())|| this._settings.defaultData || null;\n\t\tif (rule == \"$data\"){\n\t\t\tif (typeof format === \"function\")\n\t\t\t\tformat.call(target, data, this);\n\t\t\telse\n\t\t\t\ttarget.data.importData(data?data[format]:[]);\n\t\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\n\t\t} else {\n\t\t\tif (format)\n\t\t\t\tdata = format(data);\n\t\t\tthis._bind_update_common(target, rule, data);\n\t\t}\n\t}\n};\n\nexport default CollectionBind;","const ValueBind={\n\t$init:function(){\n\t\tthis.attachEvent(\"onChange\", this._update_binds);\n\t},\n\t_bind_update:function(target, rule, format){\n\t\trule = rule || \"value\";\n\t\tvar data = this.getValue()||\"\";\n\t\tif (format) data = format(data);\n\t\t\n\t\tif (target.setValue)\n\t\t\ttarget.setValue(data);\n\t\telse if (!target.filter){\n\t\t\tvar pod = {}; pod[rule] = data;\n\t\t\tif (target._check_data_feed(data))\n\t\t\t\ttarget.setValues(pod);\n\t\t} else{\n\t\t\ttarget.data.silent(function(){\n\t\t\t\tthis.filter(rule,data);\n\t\t\t});\n\t\t}\n\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\n\t}\n};\n\nexport default ValueBind;","const RecordBind={\n\t$init:function(){\n\t\tthis.attachEvent(\"onChange\", this._update_binds);\t\t\n\t},\n\t_bind_update:function(target, rule, format){\n\t\tvar data = this.getValues()||null;\n\t\tif (format)\n\t\t\tdata = format(data);\n\t\tthis._bind_update_common(target, rule, data);\n\t}\n};\n\n\nexport default RecordBind;","import {extend, clone} from \"../webix/helpers\";\n\nimport {$$} from \"../ui/core\";\n\nimport CollectionBind from \"./collectionbind\";\nimport ValueBind from \"./valuebind\";\nimport RecordBind from \"./recordbind\";\n\nconst BindSource = {\n\t$init:function(){\n\t\tthis._bind_hash = {};\t\t//rules per target\n\t\tthis._bind_updated = {};\t//update flags\n\t\tthis._ignore_binds = {};\n\t\t\n\t\t//apply specific bind extension\n\t\tthis._bind_specific_rules(this);\n\t},\n\tsaveBatch:function(code){\n\t\tthis._do_not_update_binds = true;\n\t\tcode.call(this);\n\t\tthis._do_not_update_binds = false;\n\t\tthis._update_binds();\n\t},\n\tsetBindData:function(data, key){\n\t\t//save called, updating master data\n\t\tif (key)\n\t\t\tthis._ignore_binds[key] = true;\n\n\t\tif (this.setValue)\n\t\t\tthis.setValue(data);\n\t\telse if (this.setValues)\n\t\t\tthis.setValues(data);\n\t\telse {\n\t\t\tvar id = this.getCursor();\n\t\t\tif (id)\n\t\t\t\tthis.updateItem(id, data);\n\t\t\telse\n\t\t\t\tthis.add(data);\n\t\t}\n\t\tthis.callEvent(\"onBindUpdate\", [data, key]);\t\t\n\t\tif (this.save)\n\t\t\tthis.save();\n\t\t\n\t\tif (key)\n\t\t\tthis._ignore_binds[key] = false;\n\t},\n\t//fill target with data\n\tgetBindData:function(key, update){\n\t\t//fire only if we have data updates from the last time\n\t\tif (this._bind_updated[key]) return false;\n\t\tvar target = $$(key);\n\t\t//fill target only when it visible\n\t\tif (target.isVisible(target._settings.id)){\n\t\t\tthis._bind_updated[key] = true;\n\t\t\tthis._bind_update(target, this._bind_hash[key][0], this._bind_hash[key][1]); //trigger component specific updating logic\n\t\t\tif (update && target.filter)\n\t\t\t\ttarget.refresh();\n\t\t}\n\t},\n\t//add one more bind target\n\taddBind:function(source, rule, format){\n\t\tthis._bind_hash[source] = [rule, format];\n\t},\n\tremoveBind:function(source){\n\t\tdelete this._bind_hash[source];\n\t\tdelete this._bind_updated[source];\n\t\tdelete this._ignore_binds[source];\n\t},\n\t//returns true if object belong to \"collection\" type\n\t_bind_specific_rules:function(obj){\n\t\tif (obj.filter)\n\t\t\textend(this, CollectionBind);\n\t\telse if (obj.setValue)\n\t\t\textend(this, ValueBind);\n\t\telse\n\t\t\textend(this, RecordBind);\n\t},\n\t//inform all binded objects, that source data was updated\n\t_update_binds:function(){\n\t\tif (!this._do_not_update_binds)\n\t\t\tfor (var key in this._bind_hash){\n\t\t\t\tif (this._ignore_binds[key]) continue;\n\t\t\t\tthis._bind_updated[key] = false;\n\t\t\t\tthis.getBindData(key, true);\n\t\t\t}\n\t},\n\t//copy data from source to the target\n\t_bind_update_common:function(target, rule, data){\n\t\tif (target.setValue)\n\t\t\ttarget.setValue((data&&rule)?data[rule]:data);\n\t\telse if (!target.filter){\n\t\t\tif (!data && target.clear)\n\t\t\t\ttarget.clear();\n\t\t\telse {\n\t\t\t\tif (target._check_data_feed(data))\n\t\t\t\t\ttarget.setValues(clone(data));\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.data.silent(function(){\n\t\t\t\tthis.filter(rule,data);\n\t\t\t});\n\t\t}\n\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\n\t}\n};\n\nexport default BindSource;","import {extend, bind} from \"../webix/helpers\";\n\nimport {$$} from \"../ui/core\";\n\nimport BindSource from \"./bindsource\";\nimport EventSystem from \"./eventsystem\";\n\nconst BaseBind = {\n\tbind:function(target, rule, format){\n\t\tif (!this.attachEvent)\n\t\t\textend(this, EventSystem);\n\n\t\tif (typeof target == \"string\")\n\t\t\ttarget = $$(target);\n\t\t\t\n\t\tif (target._initBindSource) target._initBindSource();\n\t\tif (this._initBindSource) this._initBindSource();\n\t\t\t\n\t\tif (!target.getBindData)\n\t\t\textend(target, BindSource);\n\n\t\tthis._bind_ready();\n\n\t\ttarget.addBind(this._settings.id, rule, format);\n\t\tthis._bind_source = target._settings.id;\n\t\tthis._bind_id = this._settings.id;\n\n\t\t//FIXME - check for touchable is not the best solution, to detect necessary event\n\t\tthis._bind_refresh_handler = this.attachEvent(this.touchable?\"onAfterRender\":\"onBindRequest\", function(){\n\t\t\treturn target.getBindData(this._bind_id);\n\t\t});\n\n\t\tif (this.refresh && this.isVisible(this._bind_id))\n\t\t\tthis.refresh();\n\t},\n\tunbind:function(){\n\t\tif (this._bind_source){\n\t\t\tvar target = $$(this._bind_source);\n\t\t\tif (target)\n\t\t\t\ttarget.removeBind(this._bind_id);\n\t\t\tthis.detachEvent(this._bind_refresh_handler);\n\t\t\tthis._bind_source = this._bind_refresh_handler = null;\n\t\t}\n\t},\n\t_bind_ready:function(){\n\t\tvar config = this._settings;\n\t\tif (this.filter){\n\t\t\tvar key = config.id;\n\t\t\tthis.data._on_sync = bind(function(){\n\t\t\t\t$$(this._bind_source)._bind_updated[key] = false;\n\t\t\t}, this);\n\t\t}\n\n\t\tvar old_render = this.render;\n\t\tthis.render = function(){\n\t\t\tif (this._in_bind_processing) return;\n\t\t\t\n\t\t\tthis._in_bind_processing = true;\n\t\t\tvar result = this.callEvent(\"onBindRequest\");\n\t\t\tthis._in_bind_processing = false;\n\t\t\t\n\t\t\treturn old_render.apply(this, ((result === false)?arguments:[]));\n\t\t};\n\n\t\tif (this.getValue||this.getValues)\n\t\t\tthis.save = function(data){\n\t\t\t\tvar source = $$(this._bind_source);\n\t\t\t\tif (data)\n\t\t\t\t\tsource.setBindData(data);\n\t\t\t\telse {\n\t\t\t\t\tif (this.validate && !this.validate()) return false;\n\t\t\t\t\tvar values = this.getValue?this.getValue:this.getValues();\n\t\t\t\t\tsource.setBindData(values,this._settings.id);\n\t\t\t\t\t//reset form, so it will be counted as saved\n\t\t\t\t\tif (this.setDirty)\n\t\t\t\t\t\tthis.setDirty(false);\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis._bind_ready = function(){};\n\t}\n};\n\nexport default BaseBind;","import {assert} from \"../webix/debug\";\nimport {debug_size_box} from \"../webix/debug\";\n\nimport {callEvent} from \"../webix/customevents\";\nimport {create, createCss, remove, addCss, removeCss, triggerEvent, preventEvent} from \"../webix/html\";\nimport {toNode, extend} from \"../webix/helpers\";\nimport env from \"../webix/env\";\n\nimport {$$,ui,protoUI} from \"../ui/core\";\nimport {_uid, _each} from \"../ui/helpers\";\n\nimport state from \"../core/state\";\nimport UIManager from \"../core/uimanager\";\n\nimport Settings from \"../core/settings\";\nimport Destruction from \"../core/destruction\";\nimport BaseBind from \"../core/basebind\";\n\nconst UIExtension = window.webix_view||{};\n\nconst api = {\n\tname:\"baseview\",\n\t//attribute , which will be used for ID storing\n\t$init:function(config){\n\t\tif (!config.id) \n\t\t\tconfig.id = _uid(this.name);\n\t\t\n\t\tthis._parent_cell = state._parent_cell;\n\t\tstate._parent_cell = null;\n\n\t\t// if scope not provided directly, and there is no parent view\n\t\t// check if we have a global scope\n\t\tthis.$scope = config.$scope || (this._parent_cell ? this._parent_cell.$scope : state._global_scope);\n\t\t\n\t\tif (!this._viewobj){\n\t\t\tthis._contentobj = this._viewobj = create(\"DIV\",{\n\t\t\t\t\"class\":\"webix_view\"\n\t\t\t});\n\t\t\tthis.$view = this._viewobj;\n\t\t}\n\n\t\t//luoyifan\n\t\tthis.$ready.push(()=>{\n\t\t\tif(typeof this.callEvent === \"function\"){\n\t\t\t\tthis.callEvent(\"onInited\",[]);\n\t\t\t}\n\t\t});\n\t},\n\t$skin:false,\n\tdefaults:{\n\t\twidth:0,\n\t\theight:0,\n\t\tgravity:1\n\t},\n\tgetNode:function(){\n\t\treturn this._viewobj;\n\t},\n\t// needed only to maintain the deprecated ActiveContent module\n\t// do not use it anywhere else\n\t$setNode:function(node){\n\t\tthis._viewobj = this._dataobj = this.$view = node;\n\t},\n\tgetParentView:function(){\n\t\treturn this._parent_cell||null;\t\n\t},\n\tgetTopParentView:function(){\n\t\tvar parent = this.getParentView();\n\t\treturn parent ? parent.getTopParentView() :  this;\n\t},\n\tgetFormView:function(){\n\t\tvar parent = this.getParentView();\n\t\treturn (!parent || parent._recollect_elements) ? parent : parent.getFormView();\n\t},\n\tgetChildViews:function(){ return []; },\n\tqueryView:function(search, all){\n\t\tvar confirm;\n\t\tif (typeof search === \"string\")\n\t\t\tsearch = { view:search };\n\t\tif (typeof search === \"object\"){\n\t\t\t//IE8 compatibility\n\t\t\tconfirm = function(test){\n\t\t\t\tvar config = test.config;\n\t\t\t\tfor (var key in search){\n\t\t\t\t\tif (config[key] != search[key])\n\t\t\t\t\t\treturn false; \n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t} else\n\t\t\tconfirm = search;\n\n\t\tif (all === \"self\" && confirm(this)) return this;\n\t\tvar results = all === \"all\" ? [] : false;\n\t\tvar direction = all === \"parent\" ? this._queryGoUp : this._queryGoDown;\n\n\t\tvar found = this._queryView(confirm, direction, results);\n\t\treturn all === \"all\" ? results : found;\n\t},\n\t_queryGoDown:function(node){\n\t\treturn node.getChildViews();\n\t},\n\t_queryGoUp:function(node){\n\t\tvar parent = node.getParentView();\n\t\treturn parent ? [parent] : [];\n\t},\n\t_queryView:function(confirm, next, all){\n\t\tvar kids = next(this);\n\t\tfor (var i =0; i<kids.length; i++){\n\t\t\tif (confirm(kids[i])){\n\t\t\t\tif (all)\n\t\t\t\t\tall.push(kids[i]);\n\t\t\t\telse\n\t\t\t\t\treturn kids[i];\n\t\t\t}\n\n\t\t\tvar sub = kids[i]._queryView(confirm, next, all);\n\t\t\tif (sub && !all){\n\t\t\t\treturn sub;\n\t\t\t} \n\t\t}\n\t\treturn null;\n\t},\n\tisVisible:function(base_id){\n\t\tif (this._settings.hidden){\n\t\t\tif(base_id){\n\t\t\t\tif (!this._hidden_render) {\n\t\t\t\t\tthis._hidden_render = [];\n\t\t\t\t\tthis._hidden_hash = {};\n\t\t\t\t}\n\t\t\t\tif (!this._hidden_hash[base_id]){\n\t\t\t\t\tthis._hidden_hash[base_id] =  true;\n\t\t\t\t\tthis._hidden_render.push(base_id);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tvar parent = this.getParentView();\n\t\tif (parent) return parent.isVisible(base_id, this._settings.id);\n\t\t\n\t\treturn true;\n\t},\n\tisEnabled:function(){\n\t\tif(this._disable_cover)\n\t\t\treturn false;\n\n\t\tvar parent= this.getParentView();\n\t\tif(parent)\n\t\t\treturn parent.isEnabled();\n\n\t\treturn true;\n\t},\n\tdisable:function(){\n\t\tremove(this._disable_cover);\n\t\tthis._settings.disabled = true;\n\n\t\tthis._disable_cover = create(\"div\",{\n\t\t\t\"class\":\"webix_disabled\"\n\t\t});\n\n\t\tthis._viewobj.appendChild(this._disable_cover);\n\t\tthis._viewobj.setAttribute(\"aria-disabled\", \"true\");\n\t\taddCss(this._viewobj,\"webix_disabled_view\",true);\n\t\tUIManager._moveChildFocus(this);\n\t},\n\tenable:function(){\n\t\tthis._settings.disabled = false;\n\n\t\tif (this._disable_cover){\n\t\t\tremove(this._disable_cover);\n\t\t\tremoveCss(this._viewobj,\"webix_disabled_view\");\n\t\t\tthis._viewobj.removeAttribute(\"aria-disabled\");\n\t\t\tthis._disable_cover = null;\n\t\t}\n\t},\n\tdisabled_setter:function(value){\n\t\tif (value)\n\t\t\tthis.disable();\n\t\telse\n\t\t\tthis.enable();\n\t\treturn value;\n\t},\n\tcontainer_setter:function(value){\n\t\tassert(toNode(value),\"Invalid container\");\n\t\treturn true;\n\t},\n\tcss_setter:function(value){\n\t\tif (typeof value == \"object\")\n\t\t\tvalue = createCss(value);\n\n\t\tthis._viewobj.className += \" \"+value;\n\t\treturn value;\n\t},\n\tid_setter:function(value){\n\t\tif (state._global_collection && (state._global_collection != this || this._prev_global_col)){\n\t\t\tvar oldvalue = this.config.$id = value;\n\t\t\t(this._prev_global_col || state._global_collection)._elements[value] = this;\n\t\t\tvalue = _uid(this.name);\n\t\t\t(this._prev_global_col || state._global_collection)._translate_ids[value]=oldvalue;\n\t\t}\n\t\tassert(!ui.views[value], \"Non unique view id: \"+value);\n\t\tui.views[value] = this;\n\t\tthis._viewobj.setAttribute(/*@attr*/\"view_id\", value);\n\t\treturn value;\n\t},\n\t$setSize:function(x,y){\n\t\tvar last = this._last_size;\n\t\tif (last && last[0]==x && last[1]==y) {\n\t\t\tif (DEBUG) debug_size_box(this, [x,y,\"not changed\"]);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (DEBUG) debug_size_box(this, [x,y]);\n\t\t\n\t\tthis._last_size = [x,y];\n\t\tthis.$width  = this._content_width = x-(this._scroll_y?env.scrollSize:0);\n\t\tthis.$height = this._content_height = y-(this._scroll_x?env.scrollSize:0);\n\n\t\tvar config = this._settings;\n\t\tif (!config.flex){\n\t\t\tthis._viewobj.style.width = x+\"px\";\n\t\t\tthis._viewobj.style.height = y+\"px\";\n\t\t}\n\n\t\treturn true;\n\t},\n\t$getSize:function(dx, dy){\n\t\tvar s = this._settings;\n\n\t\tvar size = [\n\t\t\t(s.width || s.minWidth || 0)*1,\n\t\t\t(s.width || s.maxWidth || 100000)*1,\n\t\t\t(s.height || s.minHeight || 0)*1,\n\t\t\t(s.height || s.maxHeight || 100000)*1,\n\t\t\ts.gravity\n\t\t];\n\n\t\tif (assert){\n\t\t\tvar check = (isNaN(size[0]) || isNaN(size[1]) || isNaN(size[2]) || isNaN(size[3]));\n\t\t\tif (check){\n\t\t\t\tassert(false, \"Size is not a number \"+this._settings.id);\n\t\t\t\ts.width = s.height = s.maxWidth = s.maxHeight = s.minWidth = s.minHeight = 0;\n\t\t\t\tsize = [0,0,100000,100000,1];\n\t\t\t}\n\t\t}\n\n\t\tsize[0]+=dx; size[1]+=dx;\n\t\tsize[2]+=dy; size[3]+=dy;\n\t\treturn size;\n\t},\n\tshow:function(force, animate_settings){\n\t\tvar parent = this.getParentView();\n\t\tvar show = !arguments[2];\n\t\tif (parent) {\n\t\t\tif(!animate_settings && animate_settings !== false && this._settings.animate)\n\t\t\t\tif (parent._settings.animate)\n\t\t\t\t\tanimate_settings = extend((parent._settings.animate?extend({},parent._settings.animate):{}), this._settings.animate, true);\n\n\t\t\tif (show?parent._show:parent._hide)\n\t\t\t\t(show?parent._show:parent._hide).call(parent, this, animate_settings);\n\t\t\tif (show)\n\t\t\t\tthis._render_hidden_views();\n\n\t\t\t//force show of parent view\n\t\t\t//stop further processing is view is a part of isolated scope\n\t\t\tif (force && show)  \n\t\t\t\tparent.show(parent.$$?false:force);\n\t\t}\n\t\telse{\n\t\t\tif (this._settings.hidden){\n\t\t\t\tif (show){\n\t\t\t\t\tvar node = toNode(this._settings._container||document.body);\n\t\t\t\t\tnode.appendChild(this._viewobj);\n\t\t\t\t\tthis._settings.hidden = false;\n\n\t\t\t\t\tthis.adjust();\n\n\t\t\t\t\tif (this.callEvent){\n\t\t\t\t\t\tthis.callEvent(\"onViewShow\", []);\n\n\t\t\t\t\t\tif (this._signal_hidden_cells)\n\t\t\t\t\t\t\t_each(this, this._signal_hidden_cells);\n\t\t\t\t\t}\n\t\t\t\t\tthis._render_hidden_views();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!show){\n\t\t\t\t\tthis._settings.hidden = this._settings._hidden = true;\n\t\t\t\t\tif (this._viewobj){\n\t\t\t\t\t\tthis._settings._container = this._viewobj.parentNode;\n\t\t\t\t\t\tremove(this._viewobj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t_render_hidden_views:function(){\n\t\tif (this._hidden_render){\n\t\t\tfor (var i=0; i < this._hidden_render.length; i++){\n\t\t\t\tvar ui_to_render = $$(this._hidden_render[i]);\n\t\t\t\tif (ui_to_render)\n\t\t\t\t\tui_to_render.render();\n\t\t\t}\n\t\t\tthis._hidden_render = [];\n\t\t\tthis._hidden_hash = {};\n\t\t}\n\t},\n\t_onKeyPress:function(code, e){\n\t\tvar target = e.srcElement || e.target, role = target.getAttribute(\"role\");\n\n\t\tif((code === 13 || code === 32) && (role == \"button\" || role == \"tab\") && !this._settings.disabled){\n\t\t\ttriggerEvent(target, \"MouseEvents\", \"click\");\n\t\t\tpreventEvent(e);\n\t\t}\n\t},\n\thidden_setter:function(value){\n\t\tif (value) this.hide();\n\t\treturn this._settings.hidden;\n\t},\n\thide:function(){\n\t\tthis.show(null, null, true);\n\t\tUIManager._moveChildFocus(this);\n\t},\n\tadjust:function(){\n\t\tif(!this._viewobj.parentNode)\n\t\t\treturn false;\n\n\t\tvar x = this._viewobj.parentNode.clientWidth||0;\n\t\tvar y = this._viewobj.parentNode.clientHeight||0;\n\n\t\tvar sizes=this.$getSize(0,0);\n\t\tvar fullscreen = (this._viewobj.parentNode == document.body) && !this.setPosition;\n\n\t\t//minWidth\n\t\tif (sizes[0]>x) x = sizes[0];\n\t\t//minHeight\n\t\tif (sizes[2]>y) y = sizes[2];\n\n\t\t//maxWidth rule\n\t\tif ((!fullscreen || this._settings.width)  && x>sizes[1]) x = sizes[1];\n\t\t//maxHeight rule\n\t\tif ((!fullscreen || this._settings.height) && y>sizes[3]) y = sizes[3];\n\n\t\tthis.$setSize(x,y);\n\t\tif (state._responsive_exception){\n\t\t\tstate._responsive_exception = false;\n\t\t\tthis.adjust();\n\t\t}\n\t},\n\tresize:function(){\n\t\tif (state._child_sizing_active || state._freeze_resize || state._responsive_tinkery ) return;\n\n\t\tvar parent = this.getParentView();\n\t\tif (parent){\n\t\t\tif (parent.resizeChildren)\n\t\t\t\tparent.resizeChildren();\n\t\t\telse\n\t\t\t\tparent.resize();\n\t\t} else {\n\t\t\tthis.adjust();\n\t\t\tcallEvent(\"onResize\",[]);\n\t\t}\n\t}\n};\n\nconst view = protoUI(api, Settings, Destruction, BaseBind, UIExtension);\nexport default { api, view };","import {isUndefined} from \"../webix/helpers\";\nimport {debug_size_box} from \"../webix/debug\";\nimport {protoUI} from \"../ui/core\";\n\nimport base from \"./baseview\";\n\nconst api = {\n\tname:\"view\",\n\t$init:function(config){\n\t\tthis._set_inner(config);\n\t},\n\n\t//deside, will component use borders or not\n\t_set_inner:function(config){\n\t\tvar border_not_set = isUndefined(config.borderless);\n\t\tif (border_not_set && !this.setPosition && config.$topView){\n\t\t\tconfig.borderless = true;\n\t\t\tborder_not_set = false;\n\t\t}\n\n\t\tif ((border_not_set && this.defaults.borderless) || config.borderless){\n\t\t\t//button and custom borderless\n\t\t\tconfig._inner = { top:true, left:true, bottom:true, right:true };\n\t\t} else {\n\t\t\t//default borders\n\t\t\tif (!config._inner)\n\t\t\t\tconfig._inner = {};\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\n\t\t}\n\t},\n\n\t$getSize:function(dx, dy){\n\n\t\tvar _borders = this._settings._inner;\n\t\tif (_borders){\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\n\t\t}\n\t\t\n\t\tvar size = base.api.$getSize.call(this, dx, dy);\n\t\t\n\t\tif (DEBUG) debug_size_box(this, size, true);\n\t\treturn size;\n\t},\n\t$setSize:function(x,y){\n\t\tif (DEBUG) debug_size_box(this, [x,y]);\n\t\t\t\n\t\tvar _borders = this._settings._inner;\n\t\tif (_borders){\n\t\t\tx -= (_borders.left?0:1)+(_borders.right?0:1);\n\t\t\ty -= (_borders.top?0:1)+(_borders.bottom?0:1);\n\t\t}\n\t\t\t\n\t\treturn base.api.$setSize.call(this,x,y);\n\t}\n};\n\nconst view = protoUI(api, base.view);\nexport default { api, view };\n\n//not necessary anymore\n//preserving for backward compatibility\nview.call(-1);\n","import AtomRender from \"../core/atomrender\";\nimport {proto} from \"../ui/core\";\nimport template from \"../webix/template\";\n\nimport type from \"../webix/type\";\n/*\n\tREnders single item. \n\tCan be used for elements without datastore, or with complex custom rendering logic\n\t\n\t@export\n\t\trender\n*/\n\nconst SingleRender = proto({\n\ttemplate_setter:function(value){\n\t\tthis.type.template=template(value);\n\t},\n\t//convert item to the HTML text\n\t_toHTML:function(obj){\n\t\tvar type = this.type;\n\t\treturn (type.templateStart?type.templateStart(obj,type):\"\") + type.template(obj,type) + (type.templateEnd?type.templateEnd(obj,type):\"\");\n\t},\n\tcustomize:function(obj){\n\t\ttype(this,obj);\n\t}\n}, AtomRender);\n\n\nexport default SingleRender;","import base from \"../views/view\";\nimport SingleRender from \"../core/singlerender\";\nimport Settings from \"../core/settings\";\nimport EventSystem from \"../core/eventsystem\";\nimport {create, createCss, insertBefore} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {extend} from \"../webix/helpers\";\nimport template from \"../webix/template\";\n\n\n/*\n\tUI: Tooltip\n\t\n\t@export\n\t\tshow\n\t\thide\n*/\n\n// #include core/template.js\n// #include core/single_render.js\n\nconst api = {\n\tname:\"tooltip\",\n\tdefaults:{\n\t\tdy:0,\n\t\tdx:20\n\t},\n\t$init:function(config){\n\t\tif (typeof config == \"string\"){\n\t\t\tconfig = { template:config };\n\t\t}\n\n\t\t//create  container for future tooltip\n\t\tthis.$view = this._viewobj = this._contentobj = this._dataobj = create(\"DIV\", {role:\"alert\", \"aria-atomic\":\"true\"});\n\t\tthis._contentobj.className = \"webix_tooltip\";\n\t\tinsertBefore(this._contentobj,document.body.firstChild,document.body);\n\t},\n\tadjust:function(){  },\n\tisVisible:function(){\n\t\treturn this._visible;\n\t},\n\t_alt_render:function(text){\n\t\tif (this.callEvent(\"onBeforeRender\",[text])){\n\t\t\t//it is critical to have this as two commands\n\t\t\t//its prevent destruction race in Chrome\n\t\t\tthis._dataobj.innerHTML = \"\";\n\t\t\tthis._dataobj.innerHTML = text;\n\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\t\t}\n\t},\n\tcss_setter:function(value){\n\t\tif (typeof value === \"object\")\n\t\t\tvalue = createCss(value);\n\n\t\tthis._viewobj.className = \"webix_tooltip \"+value;\n\t\treturn value;\n\t},\n\t//show tooltip\n\t//pos - object, pos.x - left, pox.y - top\n\tshow:function(data,pos){\n\t\tif (this._disabled) return;\n\n\t\tthis._visible = true;\n\t\tif (typeof data === \"string\")\n\t\t\tthis._alt_render(data);\n\t\telse {\n\t\t\tthis.data = extend({}, data);\n\t\t\tthis.render();\n\t\t}\n\n\t\tif (this._dataobj.firstChild){\n\t\t\t//show at specified position\n\t\t\tvar w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\t\t\tvar h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\t\t\tvar positionX = w - pos.x;\n\t\t\tvar positionY = h - pos.y;\n\n\t\t\tthis._contentobj.style.display = \"block\";\n\t\t\t\n\t\t\tif (positionX - this._settings.dx > this._contentobj.offsetWidth)\n\t\t\t\tpositionX = pos.x;\n\t\t\telse {\n\t\t\t\tpositionX = (pos.x - (this._settings.dx * 2)) - this._contentobj.offsetWidth;\n\t\t\t\tif (positionX < 0) positionX = 0;\n\t\t\t}\n\n\t\t\tif (positionY - this._settings.dy > this._contentobj.offsetHeight)\n\t\t\t\tpositionY = pos.y;\n\t\t\telse {\n\t\t\t\tpositionY = (pos.y - (this._settings.dy * 2)) - this._contentobj.offsetHeight;\n\t\t\t\tif (positionY < 0) positionY = 0;\n\t\t\t}\n\t\t\tthis._contentobj.style.left = positionX+this._settings.dx+\"px\";\n\t\t\tthis._contentobj.style.top = positionY+this._settings.dy+\"px\";\n\t\t} else this.hide();\n\t},\n\t//hide tooltip\n\thide:function(){\n\t\tif (this._visible){\n\t\t\tthis.data = null; //nulify, to be sure that on next show it will be fresh-rendered\n\t\t\tthis._contentobj.style.display = \"none\";\n\t\t\tthis._visible = false;\n\t\t}\n\t},\n\tdisable:function(){\n\t\tthis._disabled = true;\n\t},\n\tenable:function(){\n\t\tthis._disabled = false;\n\t},\n\ttype:{\n\t\ttemplate:template(\"{obj.value}\"),\n\t\ttemplateStart:template.empty,\n\t\ttemplateEnd:template.empty\n\t}\n\n};\n\n\nconst view = protoUI(api,  SingleRender, Settings, EventSystem, base.view);\nexport default {api, view};","import {pos as getPos} from \"../webix/html\";\nimport {delay, extend} from \"../webix/helpers\";\nimport TooltipControl from \"../core/tooltipcontrol\";\n\n//indirect UI import\nimport \"../views/tooltip\";\n\n/*\n\tBehavior: AutoTooltip - links tooltip to data driven item\n*/\n\nconst AutoTooltip = {\n\ttooltip_setter:function(value){\n\t\tif (value){\n\t\t\tif (typeof value === \"function\" || typeof value === \"string\")\n\t\t\t\tvalue = { template:value };\n\t\t\tif (typeof value !== \"object\")\n\t\t\t\tvalue = {};\n\n\t\t\tthis._init_tooltip_once();\n\t\t\treturn value;\n\t\t}\n\t},\n\t_init_tooltip_once:function(){\n\t\tTooltipControl.addTooltip(this);\n\t\tthis.attachEvent(\"onDestruct\",function(){\n\t\t\tTooltipControl.removeTooltip(this);\n\t\t});\n\t\tthis.attachEvent(\"onAfterScroll\", function(){\n\t\t\tif (TooltipControl._tooltip_exist)\n\t\t\t\tTooltipControl._hide_tooltip();\n\t\t});\n\n\t\tthis._init_tooltip_once = function(){};\n\t},\n\t$tooltipIn:function(t){\n\t\tlet tooltip = TooltipControl._tooltip;\n\t\tlet def = extend({dx:20, dy:0, template:\"{obj.value}\", css:\"\"}, this._settings.tooltip, true);\n\n\t\ttooltip.define( def );\n\t\treturn t;\n\t},\n\t$tooltipOut:function(){\n\t\tTooltipControl._hide_tooltip();\n\t\treturn null;\n\t},\n\t$tooltipMove:function(t,e,text){\n\t\tTooltipControl._tooltip.hide();\n\n\t\tclearTimeout(TooltipControl._before_show_delay);\n\t\tTooltipControl._before_show_delay = delay(this._show_tooltip,this,[t,e,text],TooltipControl.delay);\n\t},\n\t_show_tooltip:function(t,e,text){\n\t\tlet data = text || this._get_tooltip_data(t,e);\n\t\tif (!data || !this.isVisible())\n\t\t\treturn;\n\n\t\tTooltipControl._tooltip.show(data,getPos(e));\n\t},\n\t_get_tooltip_data:function(t,e){\n\t\tif (this.locate && this.getItem){\n\t\t\tlet id = this.locate(e);\n\t\t\tif (!id) return null;\n\n\t\t\treturn this.getItem(id);\n\t\t}\n\t\treturn this._settings;\n\t}\n};\n\nexport default AutoTooltip;","import {create, remove} from \"../webix/html\";\nimport {isUndefined, toNode} from \"../webix/helpers\";\nimport {proto} from \"../ui/core\";\n\nconst Canvas = proto({\n\t$init:function(container){\n\t\tthis._canvas_labels = [];\n\t\tthis._canvas_series =  (!isUndefined(container.series)?container.series:container.name);\n\t\tthis._obj = toNode(container.container||container);\n\t\tvar width = container.width*(window.devicePixelRatio||1);\n\t\tvar height = container.height*(window.devicePixelRatio||1);\n\t\tvar style = container.style||\"\";\n\t\tstyle += \";width:\"+container.width+\"px;height:\"+container.height+\"px;\";\n\t\tthis._prepareCanvas(container.name, style ,width, height, container.title);\n\t},\n\t_prepareCanvas:function(name,style,x,y, title){\n\t\t//canvas has the same size as master object\n\t\tthis._canvas = create(\"canvas\",{ title:title, width:x, height:y, canvas_id:name, style:(style||\"\")});\n\t\tthis._obj.appendChild(this._canvas);\n\t\treturn this._canvas;\n\t}, \n\tgetCanvas:function(context){\n\t\tvar ctx = (this._canvas||this._prepareCanvas(this._contentobj)).getContext(context||\"2d\");\n\t\tif(!this._webixDevicePixelRatio){\n\t\t\tthis._webixDevicePixelRatio = true;\n\t\t\tctx.scale(window.devicePixelRatio||1, window.devicePixelRatio||1);\n\t\t}\n\t\treturn ctx;\n\t},\n\t_resizeCanvas:function(x, y){\n\t\tif (this._canvas){\n\t\t\tthis._canvas.setAttribute(\"width\", x*(window.devicePixelRatio||1));\n\t\t\tthis._canvas.setAttribute(\"height\", y*(window.devicePixelRatio||1));\n\t\t\tthis._canvas.style.width = x+\"px\";\n\t\t\tthis._canvas.style.height = y+\"px\";\n\t\t\tthis._webixDevicePixelRatio = false;\n\t\t}\n\t},\n\trenderText:function(x,y,text,css,w){\n\t\tif (!text) return; //ignore empty text\n\t\tif (w) w = Math.max(w,0);\n\t\tif (y) y = Math.max(y,0);\n\t\tvar t = create(\"DIV\",{\n\t\t\t\"class\":\"webix_canvas_text\"+(css?(\" \"+css):\"\"),\n\t\t\t\"style\":\"left:\"+x+\"px; top:\"+y+\"px;\",\n\t\t\t\"aria-hidden\":\"true\"\n\t\t},text);\n\t\tthis._obj.appendChild(t);\n\t\tthis._canvas_labels.push(t); //destructor?\n\t\tif (w)\n\t\t\tt.style.width = w+\"px\";\n\t\treturn t;\n\t},\n\trenderTextAt:function(valign,align, x,y,t,c,w){\n\t\tvar text=this.renderText.call(this,x,y,t,c,w);\n\t\tif (text){\n\t\t\tif (valign){\n\t\t\t\tif(valign == \"middle\")\n\t\t\t\t\ttext.style.top = parseInt(y-text.offsetHeight/2,10) + \"px\";\n\t\t\t\telse\n\t\t\t\t\ttext.style.top = y-text.offsetHeight + \"px\";\n\t\t\t}\n\t\t\tif (align){\n\t\t\t\tif(align == \"left\")\n\t\t\t\t\ttext.style.left = x-text.offsetWidth + \"px\";\n\t\t\t\telse\n\t\t\t\t\ttext.style.left = parseInt(x-text.offsetWidth/2,10) + \"px\";\n\t\t\t}\n\t\t}\n\t\treturn text;\n\t},\n\tclearCanvas:function(skipMap){\n\t\tvar areas=[];\n\n\t\tremove(this._canvas_labels);\n\t\tthis._canvas_labels = [];\n\n\t\tif (!skipMap&&this._obj._htmlmap){\n\n\t\t\t//areas that correspond this canvas layer\n\t\t\tareas = this._getMapAreas();\n\t\t\t//removes areas of this canvas\n\t\t\twhile(areas.length){\n\t\t\t\tareas[0].parentNode.removeChild(areas[0]);\n\t\t\t\tareas.splice(0,1);\n\t\t\t}\n\t\t\tareas = null;\n\n\t\t\t//removes _htmlmap object if all its child nodes are removed\n\t\t\tif(!this._obj._htmlmap.getElementsByTagName(\"AREA\").length){\n\t\t\t\tthis._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap);\n\t\t\t\tthis._obj._htmlmap = null;\n\t\t\t}\n\t\t}\n\t\t//FF breaks, when we are using clear canvas and call clearRect without parameters\n\t\t//width|height are used insead of offsetWidth|offsetHeight for hidden canvas (series)\n\t\tthis.getCanvas().clearRect(0,0,\n\t\t\tthis._canvas.offsetWidth||Math.floor(this._canvas.width/(window.devicePixelRatio||1)), \n\t\t\tthis._canvas.offsetHeight||Math.floor(this._canvas.height/(window.devicePixelRatio||1))\n\t\t);\n\t},\n\ttoggleCanvas:function(){\n\t\tthis._toggleCanvas(this._canvas.style.display==\"none\");\n\t},\n\tshowCanvas:function(){\n\t\tthis._toggleCanvas(true);\n\t},\n\thideCanvas:function(){\n\t\tthis._toggleCanvas(false);\n\t},\n\t_toggleCanvas:function(show){\n\t\tvar areas, i;\n\n\t\tfor(i=0; i < this._canvas_labels.length;i++)\n\t\t\tthis._canvas_labels[i].style.display = (show?\"\":\"none\");\n\n\t\tif (this._obj._htmlmap){\n\t\t\tareas = this._getMapAreas();\n\t\t\tfor( i = 0; i < areas.length; i++){\n\t\t\t\tif(show)\n\t\t\t\t\tareas[i].removeAttribute(\"disabled\");\n\t\t\t\telse\n\t\t\t\t\tareas[i].setAttribute(\"disabled\",\"true\");\n\t\t\t}\n\t\t}\n\t\t//FF breaks, when we are using clear canvas and call clearRect without parameters\n\t\tthis._canvas.style.display = (show?\"\":\"none\");\n\t},\n\t_getMapAreas:function(){\n\t\tvar res = [], areas, i;\n\t\tareas = this._obj._htmlmap.getElementsByTagName(\"AREA\");\n\t\tfor(i = 0; i < areas.length; i++){\n\t\t\tif(areas[i].getAttribute(\"userdata\") == this._canvas_series){\n\t\t\t\tres.push(areas[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t}\n});\n\nexport default Canvas;","import {insertBefore, remove} from \"../webix/html\";\nimport state from \"../core/state\";\nimport env from \"../webix/env\";\nimport {isArray, clone, toNode, delay} from \"../webix/helpers\";\nimport {event, eventRemove} from \"../webix/htmlevents\";\nimport Settings from \"../core/settings\";\n\n\nconst animate = function(html_element, config){\n\tvar animation = config;\n\tif (isArray(html_element)){\n\t\tfor (var i=0; i < html_element.length; i++) {\n\t\t\tif(isArray(config))\n\t\t\t\tanimation = config[i];\n\n\t\t\tif(animation.type == \"slide\"){\n\t\t\t\tif(animation.subtype == \"out\" && i===0) { // next\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(animation.subtype == \"in\" && i==1) { // current\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(animation.type == \"flip\"){\n\t\t\t\tvar animation_copy = clone(animation);\n\t\t\t\tif(i===0) { // next\n\t\t\t\t\tanimation_copy.type = \"flipback\";\n\t\t\t\t}\n\t\t\t\tif(i==1) { // current\n\t\t\t\t\tanimation_copy.callback = null;\n\t\t\t\t}\n\t\t\t\tanimate(html_element[i], animation_copy);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tanimate(html_element[i], animation);\n\t\t}\n\t\treturn;\n\t}\n\tvar node = toNode(html_element);\n\tif (node._has_animation)\n\t\tanimate.end(node, animation);\n\telse\n\t\tanimate.start(node, animation);\n};\nanimate.end = function(node, animation){\n\t//stop animation\n\tnode.style[env.transitionDuration] = \"1ms\";\n\tnode._has_animation = null;\n\t//clear animation wait order, if any\n\tif (state._wait_animate)\n\t\twindow.clearTimeout(state._wait_animate);\n\n\t//plan next animation, if any\n\tstate._wait_animate = delay(animate, this, [node,animation],10);\n};\nanimate.isSupported=function(){\n\treturn !state.$testmode && env.transform && env.transition && !env.isOpera;\n};\nanimate.formLine=function(next, current, animation){\n\tvar direction = animation.direction;\n\n\t//sometimes user can initiate animation multiple times ( fast clicking )\n\t//as result animation may be called against already removed from the dom node\n\tif(current.parentNode)\n\t\tcurrent.parentNode.style.position = \"relative\";\n\t\n\tcurrent.style.position = \"absolute\";\n\tnext.style.position = \"absolute\";\n\n\t//this is initial shift of second view in animation\n\t//normally we need to have this value as 0\n\t//but FF has bug with animation initially invisible elements\n\t//so we are adjusting this value, to make 1px of second view visible\n\tvar defAniPos = env.isFF ? ( direction == \"top\" || direction == \"left\" ? -1 : 1) : 0;\n\n\tif(direction==\"top\"||direction==\"bottom\"){\n\t\tnext.style.left=\"0px\";\n\t\tnext.style.top = (animation.top || defAniPos) + (direction==\"top\"?1:-1)*current.offsetHeight+\"px\";\n\t}\n\telse{\n\t\tnext.style.top = (animation.top || 0) + \"px\";\n\t\tnext.style.left = defAniPos + (direction==\"left\"?1:-1)*current.offsetWidth+\"px\";\n\t}\n\n\t// apply 'keepViews' mode, iframe, datatable with x scroll solution\n\t//( keepViews won't work in case of \"in\" and \"out\" subtypes )\n\tif(current.parentNode == next.parentNode && animation.keepViews)\n\t\tnext.style.display = \"\";\n\telse\n\t\tinsertBefore(next, current.nextSibling, current.parentNode);\n\n\tif(animation.type == \"slide\" && animation.subtype == \"out\") {\n\t\tnext.style.left = \"0px\";\n\t\tnext.style.top = (animation.top || 0)+\"px\";\n\t\tcurrent.parentNode.removeChild(current);\n\t\tinsertBefore(current, next.nextSibling, next.parentNode);\n\t}\n\treturn [next, current];\n};\nanimate.breakLine=function(line){\n\tif(arguments[1])\n\t\tline[1].style.display = \"none\"; // 'keepViews' multiview mode\n\telse\n\t\tremove(line[1]); // 1 = current\n\tanimate.clear(line[0]);\n\tanimate.clear(line[1]);\n\tline[0].style.position=\"\";\n};\nanimate.clear=function(node){\n\tnode.style[env.transform] = \"none\";\n\tnode.style[env.transition] = \"none\";\n\tnode.style.top = node.style.left = \"\";\n};\nanimate.defaults = {\n\ttype: \"slide\",\n\tdelay: \"0\",\n\tduration: \"500\",\n\ttiming: \"ease-in-out\",\n\tx: 0,\n\ty: 0\n};\nanimate.start = function(node, animation){\n\t//getting config object by merging specified and default options\n\tif (typeof animation == \"string\")\n\t\tanimation = {type: animation};\n\n\tanimation = Settings._mergeSettings(animation,animate.defaults);\n\n\tvar prefix = env.cssPrefix;\n\tvar settings = node._has_animation = animation;\n\tvar skew_options, scale_type;\n\n\t//jshint -W086:true\n\tswitch(settings.type == \"slide\" && settings.direction) { // getting new x, y in case it is slide with direction\n\t\tcase \"right\":\n\t\t\tsettings.x = node.offsetWidth;\n\t\t\tbreak;\n\t\tcase \"left\":\n\t\t\tsettings.x = -node.offsetWidth;\n\t\t\tbreak;\n\t\tcase \"top\":\n\t\t\tsettings.y = -node.offsetHeight;\n\t\t\tbreak;\n\t\tcase \"bottom\":\n\t\tdefault:\n\t\t\tsettings.y = settings.y||node.offsetHeight;\n\t\t\tbreak;\n\t}\n\n\tif(settings.type == \"flip\" || settings.type == \"flipback\") {\n\t\tskew_options = [0, 0];\n\t\tscale_type = \"scaleX\";\n\t\tif(settings.subtype == \"vertical\") {\n\t\t\tskew_options[0] = 20;\n\t\t\tscale_type = \"scaleY\";\n\t\t}\n\t\telse\n\t\t\tskew_options[1] = 20;\n\t\tif(settings.direction == \"right\" || settings.direction == \"bottom\") {\n\t\t\tskew_options[0] *= -1; skew_options[1] *= -1;\n\t\t}\n\t}\n\n\tvar duration = settings.duration + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\n\tvar css_general = prefix+\"TransformStyle: preserve-3d;\"; // general css rules\n\tvar css_transition = \"\";\n\tvar css_transform = \"\";\n\n\tswitch(settings.type) {\n\t\tcase \"fade\": // changes opacity to 0\n\t\t\tcss_transition = \"opacity \" + duration;\n\t\t\tcss_general = \"opacity: 0;\";\n\t\t\tbreak;\n\t\tcase \"show\": // changes opacity to 1\n\t\t\tcss_transition = \"opacity \" + duration;\n\t\t\tcss_general = \"opacity: 1;\";\n\t\t\tbreak;\n\t\tcase \"flip\":\n\t\t\tduration = (settings.duration/2) + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\n\t\t\tcss_transform = \"skew(\"+skew_options[0]+\"deg, \"+skew_options[1]+\"deg) \"+scale_type+\"(0.00001)\";\n\t\t\tcss_transition = \"all \"+(duration);\n\t\t\tbreak;\n\t\tcase \"flipback\":\n\t\t\tsettings.delay += settings.duration/2;\n\t\t\tduration = (settings.duration/2) + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\n\t\t\tnode.style[env.transform] = \"skew(\"+(-1*skew_options[0])+\"deg, \"+(-1*skew_options[1])+\"deg) \"+scale_type+\"(0.00001)\";\n\t\t\tnode.style.left = \"0\";\n\n\t\t\tcss_transform = \"skew(0deg, 0deg) \"+scale_type+\"(1)\";\n\t\t\tcss_transition = \"all \"+(duration);\n\t\t\tbreak;\n\t\tcase \"slide\": // moves object to specified location\n\t\t\tvar x = settings.x +\"px\";\n\t\t\tvar y = settings.y +\"px\";\n\t\t\t// translate(x, y) OR translate3d(x, y, 0)\n\t\t\tcss_transform = env.translate+\"(\"+x+\", \"+y+((env.translate==\"translate3d\")?\", 0\":\"\")+\")\";\n\t\t\tcss_transition = prefix+\"transform \" + duration;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\t//set styles only after applying transition settings\n\tdelay(function(){\n\t\tnode.style[env.transition] = css_transition;\n\t\tdelay(function(){\n\t\t\tif (css_general)\n\t\t\t\tnode.style.cssText += css_general;\n\t\t\tif (css_transform)\n\t\t\t\tnode.style[env.transform] = css_transform;\n\t\t\tvar transitionEnded = false;\n\t\t\tvar tid = event(node, env.transitionEnd, function(ev){\n\t\t\t\tnode._has_animation = null;\n\t\t\t\tif (settings.callback) settings.callback.call((settings.master||window), node,settings,ev);\n\t\t\t\ttransitionEnded = true;\n\t\t\t\teventRemove(tid);\n\t\t\t});\n\t\t\twindow.setTimeout(function(){\n\t\t\t\tif(!transitionEnded){\n\t\t\t\t\tlet master = settings.master||window;\n\t\t\t\t\tnode._has_animation = null;\n\t\t\t\t\tif (!master.$destructed && settings.callback) settings.callback.call(master, node,settings);\n\t\t\t\t\ttransitionEnded = true;\n\t\t\t\t\teventRemove(tid);\n\t\t\t\t}\n\t\t\t}, (settings.duration*1+settings.delay*1)*1.3);\n\t\t});\n\t});\n};\n\nexport default animate;","const skin = {\n\ttopLayout:\"space\",\n\t//bar in accordion\n\tbarHeight:44,\t\t\t//!!!Set the same in skin.less!!!\n\ttabbarHeight: 42,\n\tsidebarTitleHeight: 44,\n\trowHeight:36,\n\ttoolbarHeight:44,\n\tlistItemHeight:36,\t\t//list, grouplist, dataview, etc.\n\tinputHeight: 38,\n\tbuttonHeight: 38,\n\tinputPadding: 3,\n\tmenuHeight: 36,\n\tlabelTopHeight: 22,\n\tpropertyItemHeight: 28,\n\ttimelineItemHeight:70,\n\tunitHeaderHeight:36,\n\n\tinputSpacing: 4,\n\tborderWidth: 1,\n\n\tsliderHandleWidth: 14,\n\tsliderPadding: 10,\n\tsliderBorder: 1,\n\tvSliderPadding:15,\n\tvSliderHeight:100,\n\tswitchHeight:22,\n\tswitchWidth:50,\n\n\t//margin - distance between cells\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 2  },\n\t//padding - distance inside cell between cell border and cell content\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:2, form:17, accordion: 0  },\n\t//space between tabs in tabbar\n\ttabMargin: 0,\n\ttabOffset: 0,\n\ttabBottomOffset: 0,\n\ttabTopOffset:0,\n\ttabBorder: true,\n\n\tcustomCheckbox: true,\n\tcustomRadio: true,\n\tsidebarMarkAll: true,\n\tpopupNoPoint: true,\n\tborderlessPopup: true,\n\n\tpopupPadding: 0,\n\n\tdataPadding: 12,\n\n\tcalendarWeekHeaderHeight: 18,\n\tpadding:0,\n\taccordionType: \"accordion\",\n\n\toptionHeight: 32,\n\torganogramLineColor: \"#CCD7E6\",\n\ttimelineColor:\"#1CA1C1\"\n};\n\nexport default skin;\n","const skin = {\n\ttopLayout:\"space\",\n\t//bar in accordion\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\n\ttabbarHeight: 34,\n\tsidebarTitleHeight: 36,\n\trowHeight:28,\n\ttoolbarHeight:36,\n\tlistItemHeight:28,\t//list, grouplist, dataview, etc.\n\tinputHeight: 30,\n\tbuttonHeight: 30,\n\tinputPadding: 3,\n\tmenuHeight: 28,\n\tlabelTopHeight: 16,\n\tpropertyItemHeight: 24,\n\tunitHeaderHeight:28,\n\ttimelineItemHeight:50,\n\n\tinputSpacing: 4,\n\tborderWidth: 1,\n\n\tsliderHandleWidth: 12,\n\tsliderPadding: 10,\n\tsliderBorder: 1,\n\tvSliderPadding:13,\n\tvSliderHeight:100,\n\tswitchHeight:20,\n\tswitchWidth:40,\n\n\t//margin - distance between cells\n\tlayoutMargin:{ space:5, wide:5, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 2  },\n\t//padding - distance inside cell between cell border and cell content\n\tlayoutPadding:{ space:5, wide:0, clean:0, head:0, line:0, toolbar:2, form:12, accordion: 0  },\n\t//space between tabs in tabbar\n\ttabMargin: 0,\n\ttabOffset: 0,\n\ttabBottomOffset: 0,\n\ttabTopOffset:0,\n\ttabBorder: true,\n\n\tcustomCheckbox: true,\n\tcustomRadio: true,\n\tsidebarMarkAll: true,\n\tpopupNoPoint: true,\n\tborderlessPopup: true,\n\n\tpopupPadding: 0,\n\n\tdataPadding: 12,\n\n\tcalendarWeekHeaderHeight: 18,\n\tpadding:0,\n\taccordionType: \"accordion\",\n\n\toptionHeight: 24,\n\torganogramLineColor: \"#CCD7E6\",\n\ttimelineColor:\"#1CA1C1\"\n};\n\nexport default skin;\n","const skin = {\n\ttopLayout:\"space\",\n\t//bar in accordion\n\tbarHeight:46,\t\t\t//!!!Set the same in skin.less!!!\n\ttabbarHeight: 46,\n\trowHeight:34,\n\ttoolbarHeight:46,\n\tsidebarTitleHeight:45,\n\tlistItemHeight:34,\t\t//list, grouplist, dataview, etc.\n\tinputHeight: 38,\n\tbuttonHeight: 38,\n\tinputPadding: 3,\n\tmenuHeight: 34,\n\tlabelTopHeight: 22,\n\tunitHeaderHeight:20,\n\tpropertyItemHeight: 28,\n\ttimelineItemHeight:70,\n\n\tinputSpacing: 4,\n\tborderWidth: 1,\n\n\tsliderHandleWidth: 14,\n\tsliderPadding: 10,\n\tsliderBorder: 1,\n\tvSliderPadding:15,\n\tvSliderHeight:100,\n\tswitchHeight:22,\n\tswitchWidth:50,\n\n\t//margin - distance between cells\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\n\t//padding - distance insede cell between cell border and cell content\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:3, form:17, accordion: 0  },\n\t//space between tabs in tabbar\n\ttabMargin:4,\n\ttabOffset: 0,\n\ttabBottomOffset: 6,\n\ttabTopOffset:1,\n\n\tcustomCheckbox: true,\n\tcustomRadio: true,\n\n\tpopupPadding: 8,\n\n\tdataPadding: 10,\n\n\tcalendarWeekHeaderHeight: 24,\n\tpadding:0,\n\taccordionType: \"accordion\",\n\n\toptionHeight: 32,\n\ttimelineColor:\"#3498db\"\n};\n\nexport default skin;","const skin = {\n\ttopLayout:\"space\",\n\t//bar in accordion\n\tbarHeight:34,\t\t\t//!!!Set the same in skin.less!!!\n\ttabbarHeight: 34,\n\tsidebarTitleHeight: 34,\n\trowHeight:24,\n\ttoolbarHeight:34,\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\n\tunitHeaderHeight:20,\n\tpropertyItemHeight:24,\n\ttimelineItemHeight:50,\n\tinputHeight: 30,\n\tbuttonHeight: 30,\n\tinputPadding: 3,\n\tmenuHeight: 28,\n\tlabelTopHeight: 16,\n\n\tinputSpacing: 4,\n\tborderWidth: 1,\n\n\tsliderHandleWidth: 12,\n\tsliderPadding: 10,\n\tsliderBorder: 1,\n\tvSliderPadding:13,\n\tvSliderHeight:100,\n\tswitchHeight:20,\n\tswitchWidth:40,\n\n\t//margin - distance between cells\n\tlayoutMargin:{ space:5, wide:5, clean:0, head:4, line:-1, toolbar:4, form:4, accordion: 5  },\n\t//padding - distance inside cell between cell border and cell content\n\tlayoutPadding:{ space:5, wide:0, clean:0, head:0, line:0, toolbar:1, form:12, accordion: 0  },\n\t//space between tabs in tabbar\n\ttabMargin:3,\n\ttabOffset: 0,\n\ttabBottomOffset: 3,\n\ttabTopOffset:1,\n\n\tcustomCheckbox: true,\n\tcustomRadio: true,\n\n\tpopupPadding: 8,\n\n\tdataPadding: 10,\n\n\tcalendarWeekHeaderHeight: 24,\n\tpadding:0,\n\taccordionType: \"accordion\",\n\n\toptionHeight: 23,\n\ttimelineColor:\"#3498db\"\n};\n\nexport default skin;","const skin = {\n\ttopLayout:\"space\",\n\t//bar in accordion\n\tbarHeight:46,\t\t\t// !!!Set the same in skin.less!!!\n\ttabbarHeight: 46,\n\trowHeight:34,\n\ttoolbarHeight:46,\n\tsidebarTitleHeight:45,\n\tlistItemHeight:34,\t\t// list, grouplist, dataview, etc.\n\tunitHeaderHeight:20,\n\tinputHeight: 38,\n\tbuttonHeight: 38,\n\tinputPadding: 3,\n\tmenuHeight: 34,\n\tlabelTopHeight: 22,\n\tpropertyItemHeight: 28,\n\ttimelineItemHeight:70,\n\n\tinputSpacing: 4,\n\tborderWidth: 1,\n\n\tsliderHandleWidth: 14,\n\tsliderPadding: 10,\n\tsliderBorder: 1,\n\tvSliderPadding:15,\n\tvSliderHeight:100,\n\tswitchHeight:22,\n\tswitchWidth:50,\n\n\t//margin - distance between cells\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:8, form:8, accordion: 10  },\n\t//padding - distance inside cell between cell border and cell content\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:3, form:17, accordion: 0  },\n\t//space between tabs in tabbar\n\ttabMargin:4,\n\ttabOffset: 0,\n\ttabBottomOffset: 6,\n\ttabTopOffset:1,\n\n\tcustomCheckbox: true,\n\tcustomRadio: true,\n\n\tpopupPadding: 8,\n\tdataPadding: 10,\n\n\tcalendarWeekHeaderHeight: 24,\n\tpadding:0,\n\taccordionType: \"accordion\",\n\n\toptionHeight: 32,\n\ttimelineColor:\"#b300b3\"\n};\n\nexport default skin;","import {assert} from \"../webix/debug\";\nimport {ui} from \"../ui/core\";\n\nimport material from \"../css/skins/material/config\";\nimport mini from \"../css/skins/mini/config\";\nimport flat from \"../css/skins/flat/config\";\nimport compact from \"../css/skins/compact/config\";\nimport contrast from \"../css/skins/contrast/config\";\n\nexport var $active, $name;\n\nexport function set(name){\n\tassert(skin[name], \"Incorrect skin name: \"+name);\n\tif ($name === name) return;\n\n\tskin.$active = $active = skin[name];\n\tskin.$name = $name = name;\n\n\tif (ui){\n\t\tfor (var key in ui){\n\t\t\tvar view = ui[key];\n\t\t\tif (view && view.prototype && view.prototype.$skin)\n\t\t\t\tview.prototype.$skin(view.prototype);\n\t\t}\n\t}\t\t\n}\n\nconst skin = { set, material, mini, flat, compact, contrast };\n\nset(window.webix_skin || \"material\");\n\n//necessary for skin builder\nexport { skin };","import env from \"../webix/env\";\nimport ready from \"../webix/ready\";\n\nimport {event, eventRemove} from \"../webix/htmlevents\";\nimport {callEvent} from \"../webix/customevents\";\nimport {preventEvent, removeCss, create, remove, addCss, addStyle} from \"../webix/html\";\n\n//late binding\nimport {ui, $$} from \"../ui/core\";\n\nconst Touch = {\n\tconfig:{\n\t\tlongTouchDelay:1000,\n\t\tscrollDelay:150,\n\t\tgravity:500,\n\t\tdeltaStep:30,\n\t\tspeed:\"0ms\",\n\t\tfinish:1500,\n\t\tellastic:true\n\t},\n\tlimit:function(value){\n\t\tTouch._limited = value !== false;\t\n\t},\n\tdisable:function(){\n\t\tTouch._disabled = true;\n\t},\n\tenable:function(){\n\t\tTouch._disabled = false;\n\t},\n\t$init:function(){\n\t\tTouch.$init = function(){};\n\n\t\tevent(document.body, mouse.down,\tTouch._touchstart, {passive:false});\n\t\tevent(document.body, mouse.move, \tTouch._touchmove, {passive:false});\n\t\tevent(document.body, mouse.up, \tTouch._touchend);\n\n\t\tevent(document.body,\"dragstart\",function(e){\n\t\t\tif(Touch._disabled || Touch._limited) return;\n\t\t\treturn preventEvent(e);\n\t\t});\n\n\t\tTouch._clear_artefacts();\n\t\tTouch._scroll = [null, null];\n\t\tTouch.$active = true;\n\t},\n\t_clear_artefacts:function(){\n\t\tTouch._start_context = Touch._current_context = Touch._prev_context = Touch._scroll_context = null;\n\t\tTouch._scroll_mode = Touch._scroll_node = Touch._scroll_stat = Touch._long_touched = null;\n\t\t//remove(Touch._scroll);\n\t\t//Touch._scroll = [null, null];\n\t\tTouch._delta = \t{ _x_moment:0, _y_moment:0, _time:0 };\n\n\t\tif (Touch._css_button_remove){\n\t\t\tremoveCss(Touch._css_button_remove,\"webix_touch\");\n\t\t\tTouch._css_button_remove = null;\n\t\t}\n\t\t\n\t\twindow.clearTimeout(Touch._long_touch_timer);\n\t\tTouch._was_not_moved = true;\n\t\tTouch._axis_x = true;\n\t\tTouch._axis_y = true;\n\t\tif (!Touch._active_transion)\n\t\t\tTouch._scroll_end();\n\t},\n\t_touchend:function(e){\n\t\tif (Touch._start_context) {\n\t\t\tif (!Touch._scroll_mode) {\n\t\t\t\tif (!Touch._long_touched) {\n\t\t\t\t\tif (Touch._axis_y && !Touch._axis_x) {\n\t\t\t\t\t\tTouch._translate_event(\"onSwipeX\");\n\t\t\t\t\t} else if (Touch._axis_x && !Touch._axis_y) {\n\t\t\t\t\t\tTouch._translate_event(\"onSwipeY\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar temp = Touch._get_matrix(Touch._scroll_node);\n\t\t\t\tvar x = temp.e;\n\t\t\t\tvar y = temp.f;\n\t\t\t\tvar finish = Touch.config.finish;\n\n\t\t\t\tvar delta = Touch._get_delta(e, true);\n\t\t\t\tvar view = $$(Touch._scroll_node);\n\n\t\t\t\tvar gravity = (view && view.$scroll ? view.$scroll.gravity : Touch.config.gravity);\n\t\t\t\tif (delta._time) {\n\t\t\t\t\tvar nx = x + gravity * delta._x_moment / delta._time;\n\t\t\t\t\tvar ny = y + gravity * delta._y_moment / delta._time;\n\n\t\t\t\t\tvar cnx = Touch._scroll[0] ? Touch._correct_minmax(nx, false, false, Touch._scroll_stat.dx, Touch._scroll_stat.px) : x;\n\t\t\t\t\tvar cny = Touch._scroll[1] ? Touch._correct_minmax(ny, false, false, Touch._scroll_stat.dy, Touch._scroll_stat.py) : y;\n\n\n\t\t\t\t\tvar size = Math.max(Math.abs(cnx - x), Math.abs(cny - y));\n\t\t\t\t\tif (size < 150)\n\t\t\t\t\t\tfinish = finish * size / 150;\n\n\t\t\t\t\tif (cnx != x || cny != y)\n\t\t\t\t\t\tfinish = Math.round(finish * Math.max((cnx - x) / (nx - x), (cny - y) / (ny - y)));\n\n\t\t\t\t\tvar result = {e: cnx, f: cny};\n\n\n\t\t\t\t\tview = $$(Touch._scroll_node);\n\t\t\t\t\tif (view && view.adjustScroll)\n\t\t\t\t\t\tview.adjustScroll(result);\n\n\n\t\t\t\t\t//finish = Math.max(100,(Touch._fast_correction?100:finish));\n\t\t\t\t\tfinish = Math.max(100, finish);\n\n\n\t\t\t\t\tif (x != result.e || y != result.f) {\n\t\t\t\t\t\tTouch._set_matrix(Touch._scroll_node, result.e, result.f, finish + \"ms\");\n\t\t\t\t\t\tif (Touch._scroll_master)\n\t\t\t\t\t\t\tTouch._scroll_master._sync_scroll(result.e, result.f, finish + \"ms\");\n\t\t\t\t\t\tTouch._set_scroll(result.e, result.f, finish + \"ms\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tTouch._scroll_end();\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\t\tTouch._scroll_end();\n\t\t\t}\n\t\t\tTouch._translate_event(\"onTouchEnd\");\n\t\t\tTouch._clear_artefacts();\n\t\t}\n\t},\n\t_touchmove:function(e){\n\t\tif (!Touch._scroll_context || !Touch._start_context) return;\n\n\t\tvar\tdelta = Touch._get_delta(e);\n\t\tTouch._translate_event(\"onTouchMove\");\n\n\t\tif (Touch._scroll_mode){\n\t\t\tTouch._set_scroll_pos(delta);\n\t\t} else {\n\t\t\tTouch._axis_x = Touch._axis_check(delta._x, \"x\", Touch._axis_x);\n\t\t\tTouch._axis_y = Touch._axis_check(delta._y, \"y\", Touch._axis_y);\n\t\t\tif (Touch._scroll_mode){\n\t\t\t\tvar view = Touch._get_event_view(\"onBeforeScroll\", true);\n\t\t\t\tif (view){\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tview.callEvent(\"onBeforeScroll\",[data]);\n\t\t\t\t\tif (data.update){\n\t\t\t\t\t\tTouch.config.speed = data.speed;\n\t\t\t\t\t\tTouch.config.scale = data.scale;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tTouch._init_scroller(delta); //apply scrolling\n\t\t\t} else if (env.isMac) {\n\t\t\t\tconst view = $$(Touch._start_context);\n\t\t\t\tif (view && view.$hasYScroll && view.$hasYScroll()){\n\t\t\t\t\treturn preventEvent(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (Touch._scroll_mode)\n\t\t\treturn preventEvent(e);\n\t},\n\t_set_scroll_pos:function(){\n\t\tif (!Touch._scroll_node) return;\n\t\tvar temp = Touch._get_matrix(Touch._scroll_node);\n\t\tvar prev = Touch._prev_context || Touch._start_context;\n\n\t\tvar view = $$(Touch._scroll_node);\n\t\tvar ellastic = (view&&view.$scroll)?view.$scroll.ellastic: Touch.config.ellastic;\n\t\tif (Touch._scroll[0])\n\t\t\ttemp.e = Touch._correct_minmax( temp.e - prev.x + Touch._current_context.x , ellastic, temp.e, Touch._scroll_stat.dx, Touch._scroll_stat.px);\n\t\tif (Touch._scroll[1])\n\t\t\ttemp.f = Touch._correct_minmax( temp.f - prev.y + Touch._current_context.y , ellastic, temp.f, Touch._scroll_stat.dy, Touch._scroll_stat.py);\n\n\t\tTouch._set_matrix(Touch._scroll_node, temp.e, temp.f, \"0ms\");\n\t\tif (Touch._scroll_master)\n\t\t\tTouch._scroll_master._sync_scroll(temp.e, temp.f, \"0ms\");\n\t\tTouch._set_scroll(temp.e, temp.f, \"0ms\");\n\t},\n\t_set_scroll:function(dx, dy, speed){\n\t\t\n\t\tvar edx = Touch._scroll_stat.px/Touch._scroll_stat.dx * -dx;\n\t\tvar edy = Touch._scroll_stat.py/Touch._scroll_stat.dy * -dy;\n\t\tif (Touch._scroll[0])\n\t\t\tTouch._set_matrix(Touch._scroll[0], edx, 0 ,speed);\n\t\tif (Touch._scroll[1])\n\t\t\tTouch._set_matrix(Touch._scroll[1], 0, edy ,speed);\n\t},\n\tscrollTo:function(node, x, y, speed){\n\t\tTouch._set_matrix(node,x,y,speed);\n\t},\n\t_set_matrix:function(node, xv, yv, speed){\n\t\tif (!speed){\n\t\t\tnode.style[env.transform] = \"\";\n\t\t\treturn;\n\t\t}\n\n\t\tTouch._active_transion = true;\n\t\tif (node){\n\t\t\tvar trans = Touch.config.translate || env.translate;\n\t\t\tnode.style[env.transform] = trans+\"(\"+Math.round(xv)+\"px, \"+Math.round(yv)+\"px\"+((trans==\"translate3d\")?\", 0\":\"\")+\")\";\n\t\t\tnode.style[env.transitionDuration] = speed;\n\t\t}\n\t},\n\t_get_matrix:function(node){\n\t\tvar matrix = window.getComputedStyle(node)[env.transform];\n\t\tvar tmatrix;\n\n\t\tif (matrix == \"none\")\n\t\t\ttmatrix = {e:0, f:0};\n\t\telse {\n\t\t\tif(window.WebKitCSSMatrix)\n\t\t\t\t/* global WebKitCSSMatrix */\n\t\t\t\ttmatrix = new WebKitCSSMatrix(matrix);\n\t\t\telse if (window.MSCSSMatrix)\n\t\t\t\t/* global MSCSSMatrix */\n\t\t\t\ttmatrix = new MSCSSMatrix(matrix);\n\t\t\telse {\n\t\t\t\t// matrix(1, 0, 0, 1, 0, 0) --> 1, 0, 0, 1, 0, 0\n\t\t\t\tvar _tmatrix = matrix.replace(/(matrix\\()(.*)(\\))/gi, \"$2\");\n\t\t\t\t// 1, 0, 0, 1, 0, 0 --> 1,0,0,1,0,0\n\t\t\t\t_tmatrix = _tmatrix.replace(/\\s/gi, \"\");\n\t\t\t\t_tmatrix = _tmatrix.split(\",\");\n\n\t\t\t\ttmatrix = {};\n\t\t\t\tvar tkey = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\t\t\t\tfor(var i=0; i<tkey.length; i++){\n\t\t\t\t\ttmatrix[tkey[i]] = parseInt(_tmatrix[i], 10);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (Touch._scroll_master)\n\t\t\tTouch._scroll_master._sync_pos(tmatrix);\n\n\t\treturn tmatrix;\n\t},\t\n\t_correct_minmax:function(value, allow, current, dx, px){\n\t\tif (value === current) return value;\n\t\t\n\t\tvar delta = Math.abs(value-current);\n\t\tvar sign = delta/(value-current);\n\t\t//\tTouch._fast_correction = true;\n\t\t\n\t\t\n\t\tif (value>0) return allow?(current + sign*Math.sqrt(delta)):0;\n\t\t\n\t\tvar max = dx - px;\n\t\tif (max + value < 0)\t\n\t\t\treturn allow?(current - Math.sqrt(-(value-current))):-max;\n\t\t\t\n\t\t//\tTouch._fast_correction = false;\n\t\treturn value;\n\t},\t\n\t_init_scroll_node:function(node){\n\t\tif (!node.scroll_enabled){ \n\t\t\tnode.scroll_enabled = true;\t\n\t\t\tnode.parentNode.style.position=\"relative\";\n\t\t\tvar prefix = env.cssPrefix;\n\t\t\tnode.style.cssText += prefix+\"transition: \"+prefix+\"transform; \"+prefix+\"user-select:none; \"+prefix+\"transform-style:flat;\";\n\t\t\tnode.addEventListener(env.transitionEnd,Touch._scroll_end,false);\n\t\t}\n\t},\n\t_init_scroller:function(){\n\t\tif (Touch._scroll_mode.indexOf(\"x\") != -1)\n\t\t\tTouch._scroll[0] = Touch._create_scroll(\"x\", Touch._scroll_stat.dx, Touch._scroll_stat.px, \"width\");\n\t\tif (Touch._scroll_mode.indexOf(\"y\") != -1)\n\t\t\tTouch._scroll[1] = Touch._create_scroll(\"y\", Touch._scroll_stat.dy, Touch._scroll_stat.py, \"height\");\n\n\t\tTouch._init_scroll_node(Touch._scroll_node);\n\t\twindow.setTimeout(function(){\n\t\t\tTouch._set_scroll_pos();\n\t\t\tif (Touch._scroll_stat && !Touch._scroll_stat.hidden){\n\t\t\t\tif (Touch._scroll[0]) Touch._scroll[0].style.visibility = \"visible\";\n\t\t\t\tif (Touch._scroll[1]) Touch._scroll[1].style.visibility = \"visible\";\n\t\t\t}\n\t\t}, 0);\n\t},\n\t_create_scroll:function(mode, dy, py, dim){\n\t\tif (dy - py <2){\n\t\t\tvar matrix = Touch._get_matrix(Touch._scroll_node);\n\t\t\tvar e = (mode==\"y\"?matrix.e:0);\n\t\t\tvar f = (mode==\"y\"?0:matrix.f);\n\t\t\tif (!Touch._scroll_master)\n\t\t\t\tTouch._set_matrix(Touch._scroll_node, e, f, \"0ms\");\n\t\t\tTouch._scroll_mode = Touch._scroll_mode.replace(mode,\"\");\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar scroll = create(\"DIV\", {\n\t\t\t\"class\":\"webix_scroll_\"+mode\n\t\t},\"\");\n\n\t\tscroll.style.visibility = \"hidden\";\n\t\tscroll.style[dim] = Math.max((py*py/dy-7),10) +\"px\";\n\t\tif (Touch._scroll_stat.left){\n\t\t\tif (mode === \"x\")\n\t\t\t\tscroll.style.left = Touch._scroll_stat.left+\"px\";\n\t\t\telse\n\t\t\t\tscroll.style.right = (-Touch._scroll_stat.left)+\"px\";\n\t\t}\n\n\t\tTouch._scroll_node.parentNode.appendChild(scroll);\n\n\t\treturn scroll;\n\t},\n\t_axis_check:function(value, mode, old){\n\t\tif (value > Touch.config.deltaStep){\n\t\t\tif (Touch._was_not_moved){\n\t\t\t\tTouch._long_move(mode);\n\t\t\t\tTouch._locate(mode);\n\t\t\t\tif ((Touch._scroll_mode||\"\").indexOf(mode) == -1) Touch._scroll_mode = \"\";\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn old;\n\t},\n\t_scroll_end:function(){\n\t\t//sending event to the owner of the scroll only\n\t\tvar result,state,view;\n\t\tview = $$(Touch._scroll_node||this);\n\t\tif (view){\n\t\t\tif (Touch._scroll_node)\n\t\t\t\tresult = Touch._get_matrix(Touch._scroll_node);\n\t\t\telse if(view.getScrollState){\n\t\t\t\tstate = view.getScrollState();\n\t\t\t\tresult = {e:-state.x, f:-state.y};\n\t\t\t}\n\t\t\tcallEvent(\"onAfterScroll\", [result]);\n\t\t\tif (view.callEvent)\n\t\t\t\tview.callEvent(\"onAfterScroll\",[result]);\n\t\t}\n\t\tif (!Touch._scroll_mode){\n\t\t\tremove(Touch._scroll);\n\t\t\tTouch._scroll = [null, null];\n\t\t}\n\t\tTouch._active_transion = false;\n\t},\n\t_long_move:function(){\n\t\twindow.clearTimeout(Touch._long_touch_timer);\n\t\tTouch._was_not_moved = false;\t\n\t},\t\n\t_stop_old_scroll:function(e){\n\t\tif (Touch._scroll[0] || Touch._scroll[1]){\n\t\t\tTouch._stop_scroll(e, Touch._scroll[0]?\"x\":\"y\");\n\t\t}else\n\t\t\treturn true;\n\t},\n\t_touchstart :function(e){\n\t\tvar target = e.target || window.event.srcElement;\n\n\t\tif (Touch._disabled || (target.tagName&&target.tagName.toLowerCase() == \"textarea\" && target.offsetHeight<target.scrollHeight))\n\t\t\treturn preventEvent(e);\n\n\t\tTouch._long_touched = null;\n\t\tTouch._scroll_context = Touch._start_context = mouse.context(e);\n\n\t\t// in \"limited\" mode we should have possibility to use slider\n\t\tvar element = $$(e);\n\n\t\tif (Touch._limited && !Touch._is_scroll() && !(element && element.$touchCapture)){\n\t\t\tTouch._scroll_context = null;\n\t\t}\n\n\t\tTouch._translate_event(\"onTouchStart\");\n\n\t\tif (Touch._stop_old_scroll(e))\n\t\t\tTouch._long_touch_timer = window.setTimeout(Touch._long_touch, Touch.config.longTouchDelay);\n\n\t\tif (element && element.touchable && (!target.className || target.className.indexOf(\"webix_view\")!==0)){\n\t\t\tTouch._css_button_remove = element.getNode(e);\n\t\t\taddCss(Touch._css_button_remove,\"webix_touch\");\n\t\t}\n\t},\n\t_long_touch:function(){\n\t\tif(Touch._start_context){\n\t\t\tTouch._long_touched = true;\n\t\t\tTouch._translate_event(\"onLongTouch\");\n\t\t\tcallEvent(\"onClick\", [Touch._start_context]);\n\t\t\t//Touch._clear_artefacts();\n\t\t}\n\t},\n\t_stop_scroll:function(e, stop_mode){ \n\t\tTouch._locate(stop_mode);\n\t\tvar scroll = Touch._scroll[0]||Touch._scroll[1];\n\t\tif (scroll){\n\t\t\tvar view = Touch._get_event_view(\"onBeforeScroll\", true);\n\t\t\tif (view)\n\t\t\t\tview.callEvent(\"onBeforeScroll\", [Touch._start_context,Touch._current_context]);\n\t\t}\n\t\tif (scroll && (!Touch._scroll_node || scroll.parentNode != Touch._scroll_node.parentNode)){\n\t\t\tTouch._clear_artefacts();\n\t\t\tTouch._scroll_end();\n\t\t\tTouch._start_context = mouse.context(e);\n\t\t}\n\t\tTouch._touchmove(e);\n\t},\t\n\t_get_delta:function(e){\n\t\tTouch._prev_context = Touch._current_context;\n\t\tTouch._current_context = mouse.context(e);\n\t\t\t\n\t\tTouch._delta._x = Math.abs(Touch._start_context.x - Touch._current_context.x);\n\t\tTouch._delta._y = Math.abs(Touch._start_context.y - Touch._current_context.y);\n\t\t\n\t\tif (Touch._prev_context){\n\t\t\tif (Touch._current_context.time - Touch._prev_context.time < Touch.config.scrollDelay){\n\t\t\t\tTouch._delta._x_moment = Touch._delta._x_moment/1.3+Touch._current_context.x - Touch._prev_context.x;\n\t\t\t\tTouch._delta._y_moment = Touch._delta._y_moment/1.3+Touch._current_context.y - Touch._prev_context.y;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tTouch._delta._y_moment = Touch._delta._x_moment = 0;\n\t\t\t}\n\t\t\tTouch._delta._time = Touch._delta._time/1.3+(Touch._current_context.time - Touch._prev_context.time);\n\t\t}\n\t\t\n\t\treturn Touch._delta;\n\t},\n\t_get_sizes:function(node){\n\t\tTouch._scroll_stat = {\n\t\t\tdx:node.offsetWidth,\n\t\t\tdy:node.offsetHeight,\n\t\t\tpx:node.parentNode.offsetWidth,\n\t\t\tpy:node.parentNode.offsetHeight\n\t\t};\n\t},\n\t_is_scroll:function(locate_mode){\n\t\tvar node = Touch._start_context.target;\n\t\tif (!env.touch && !env.transition && !env.transform) return null;\n\t\twhile(node && node.tagName!=\"BODY\"){\n\t\t\tif(node.getAttribute){\n\t\t\t\tvar mode = node.getAttribute(\"touch_scroll\");\n\t\t\t\tif (mode && (!locate_mode || mode.indexOf(locate_mode)!=-1))\n\t\t\t\t\treturn [node, mode];\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn null;\n\t},\n\t_locate:function(locate_mode){\n\t\tvar state = this._is_scroll(locate_mode);\n\t\tif (state){\n\t\t\tTouch._scroll_mode = state[1];\n\t\t\tTouch._scroll_node = state[0];\n\t\t\tTouch._get_sizes(state[0]);\n\t\t}\n\t\treturn state;\n\t},\n\t_translate_event:function(name){\n\t\tcallEvent(name, [Touch._start_context,Touch._current_context]);\n\t\tvar view = Touch._get_event_view(name);\n\t\tif (view)\n\t\t\tview.callEvent(name, [Touch._start_context,Touch._current_context]);\n\t},\n\t_get_event_view:function(name, active){\n\t\tvar view = $$(active ? Touch._scroll_node : Touch._start_context);\n\t\tif(!view) return null;\n\t\t\n\t\twhile (view){\n\t\t\tif (view.hasEvent&&view.hasEvent(name))\t\n\t\t\t\treturn view;\n\t\t\tview = view.getParentView();\n\t\t}\n\t\t\n\t\treturn null;\n\t},\t\n\t_get_context:function(e){\n\t\tif (!e.touches[0]) {\n\t\t\tvar temp = Touch._current_context;\n\t\t\ttemp.time = new Date();\n\t\t\treturn temp;\n\t\t}\n\t\t\t\n\t\treturn {\n\t\t\ttarget:e.target,\n\t\t\tx:e.touches[0].pageX,\n\t\t\ty:e.touches[0].pageY,\n\t\t\ttime:new Date()\n\t\t};\n\t},\n\t_get_context_m:function(e){\n\t\treturn {\n\t\t\ttarget:e.target || e.srcElement,\n\t\t\tx:e.pageX,\n\t\t\ty:e.pageY,\n\t\t\ttime:new Date()\n\t\t};\n\t}\n};\n\nfunction touchInit(){\n\tif (env.touch){\n\t\tTouch.$init();\n\t\t//not full screen mode\n\t\tif (document.body.className.indexOf(\"webix_full_screen\") == -1)\n\t\t\tTouch.limit(true);\n\n\t\tif (env.isSafari)\n\t\t\taddStyle(\".webix_view{ -webkit-overflow-scrolling: touch; }\");\n\n\t\tif (window.MSCSSMatrix)\n\t\t\taddStyle(\".webix_view{ -ms-touch-action: none; }\");\n\t} else {\n\t\tvar id = event(document.body, \"touchstart\", function(ev){\n\t\t\tif (ev.touches.length && ev.touches[0].radiusX > 4){\n\t\t\t\tenv.touch = true;\n\t\t\t\tsetMouse(mouse);\n\t\t\t\ttouchInit();\n\t\t\t\tfor (var key in ui.views){\n\t\t\t\t\tvar view = ui.views[key];\n\t\t\t\t\tif (view && view.$touch)\n\t\t\t\t\t\tview.$touch();\n\t\t\t\t}\n\t\t\t}\n\t\t\teventRemove(id);\n\t\t}, { capture: true });\n\t}\n}\n\nfunction setMouse(mouse){\n\tmouse.down = \"touchstart\";\n\tmouse.move = \"touchmove\";\n\tmouse.up   = \"touchend\";\n\tmouse.context = Touch._get_context;\n}\n\nready(touchInit);\n\n\nvar mouse = env.mouse = { down:\"mousedown\", up:\"mouseup\", \n\tmove:\"mousemove\", context:Touch._get_context_m };\n\nif (window.navigator.pointerEnabled){\n\tmouse.down = \"pointerdown\";\n\tmouse.move = \"pointermove\";\n\tmouse.up   = \"pointerup\";\n} else if (window.navigator.msPointerEnabled){\n\tmouse.down = \"MSPointerDown\";\n\tmouse.move = \"MSPointerMove\";\n\tmouse.up   = \"MSPointerUp\";\n} else if (env.touch)\n\tsetMouse(mouse);\n\t\n\nexport default Touch;","import {preventEvent, addCss, removeCss, pos as getPos, remove} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport Touch from \"../core/touch\";\nimport {zIndex} from \"../ui/helpers\";\nimport {_to_array, toNode} from \"../webix/helpers\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\nimport {attachEvent, callEvent} from \"../webix/customevents\";\n\n\n/*\n\tBehavior:DND - low-level dnd handling\n\t@export\n\t\tgetContext\n\t\taddDrop\n\t\taddDrag\n\t\t\n\tDND master can define next handlers\n\t\tonCreateDrag\n\t\tonDragIng\n\t\tonDragOut\n\t\tonDrag\n\t\tonDrop\n\tall are optional\n*/\n\nconst DragControl ={\n\t//has of known dnd masters\n\t_drag_masters : _to_array([\"dummy\"]),\n\t/*\n\t\tregister drop area\n\t\t@param node \t\t\thtml node or ID\n\t\t@param ctrl \t\t\toptions dnd master\n\t\t@param master_mode \t\ttrue if you have complex drag-area rules\n\t*/\n\taddDrop:function(node,ctrl,master_mode){\n\t\tnode = toNode(node);\n\t\tnode.webix_drop=this._getCtrl(ctrl);\n\t\tif (master_mode) node.webix_master=true;\n\t},\n\t//return index of master in collection\n\t//it done in such way to prevent dnd master duplication\n\t//probably useless, used only by addDrop and addDrag methods\n\t_getCtrl:function(ctrl){\n\t\tctrl = ctrl||DragControl;\n\t\tvar index = this._drag_masters.find(ctrl);\n\t\tif (index<0){\n\t\t\tindex = this._drag_masters.length;\n\t\t\tthis._drag_masters.push(ctrl);\n\t\t\tif (ctrl.attachEvent)\n\t\t\t\tctrl.attachEvent(\"onDestruct\", () => DragControl.unlink(ctrl));\n\t\t}\n\t\treturn index;\n\t},\n\tunlink(ctrl){\n\t\tvar index = this._drag_masters.find(ctrl);\n\t\tif (index > -1){\n\t\t\t// if active view was destroyed, stop dnd\n\t\t\tif (DragControl._active && DragControl._active.webix_drag == index)\n\t\t\t\tDragControl._stopDrag();\n\t\t\t// if last target was destroyed, reset it and continue dnd\n\t\t\tif (DragControl._last && DragControl._last.webix_drop == index)\n\t\t\t\tDragControl._last = null;\n\n\t\t\tthis._drag_masters[index] = null;\n\t\t}\n\t},\n\t_createTouchDrag: function(e){\n\t\tconst dragCtrl = DragControl;\n\t\tconst master = this._getActiveDragMaster();\n\t\t// for data items only\n\t\tif (master && master._getDragItemPos){\n\t\t\tif (!dragCtrl._html && !dragCtrl.createDrag(e)) return;\n\t\t\te.longtouch_drag = true;\n\n\t\t\tconst ctx = dragCtrl._drag_context;\n\t\t\tdragCtrl._html.style.left= e.x+dragCtrl.left+ (ctx.x_offset||0)+\"px\";\n\t\t\tdragCtrl._html.style.top= e.y+dragCtrl.top+ (ctx.y_offset||0) +\"px\";\n\t\t}\n\t},\n\t/*\n\t\tregister drag area\n\t\t@param node \thtml node or ID\n\t\t@param ctrl \toptions dnd master\n\t*/\n\taddDrag:function(node,ctrl){\n\t\tnode = toNode(node);\n\t\tnode.webix_drag=this._getCtrl(ctrl);\n\t\t_event(node,env.mouse.down,this._preStart,{ bind:node });\n\t\t_event(node,\"dragstart\",preventEvent);\n\t},\n\t//logic of drag - start, we are not creating drag immediately, instead of that we hears mouse moving\n\t_preStart:function(e){\n\t\tif (DragControl._active){\n\t\t\t//if we have nested drag areas, use the top one and ignore the inner one\n\t\t\tif (DragControl._saved_event == e) return;\n\t\t\tDragControl._preStartFalse(e);\n\t\t\tDragControl.destroyDrag(e);\n\t\t}\n\t\tDragControl._active = this;\n\n\t\tconst evobj = env.mouse.context(e);\n\t\tDragControl._start_pos = evobj;\n\t\tDragControl._saved_event = e;\n\n\t\tconst passive = env.touch ? { passive:false } : null;\n\t\tDragControl._webix_drag_mm = event(document.body,env.mouse.move,DragControl._startDrag,passive);\n\t\tDragControl._webix_drag_mu = event(document,env.mouse.up,DragControl._preStartFalse);\n\n\t\t//need to run here, or will not work in IE\n\t\taddCss(document.body,\"webix_noselect\", 1);\n\t},\n\t//if mouse was released before moving - this is not a dnd, remove event handlers\n\t_preStartFalse:function(e){\n\t\tDragControl._clean_dom_after_drag();\n\t\tDragControl._touch_animation = !e.cancelable;\n\t},\n\t//mouse was moved without button released - dnd started, update event handlers\n\t_startDrag:function(e){\n\t\t// check touch scroll animation\n\t\tDragControl._touch_animation = !e.cancelable;\n\t\tif (env.touch && DragControl._touch_animation){\n\t\t\tDragControl._clean_dom_after_drag();\n\t\t\treturn DragControl.destroyDrag(e);\n\t\t}\n\n\t\t//prevent unwanted dnd\n\t\tvar pos = env.mouse.context(e);\n\t\tvar master = DragControl._getActiveDragMaster();\n\n\t\t// only long-touched elements can be dragged\n\t\tvar longTouchLimit = (master && env.touch && master._getDragItemPos && !Touch._long_touched);\n\t\tif (longTouchLimit || Math.abs(pos.x-DragControl._start_pos.x)<5 && Math.abs(pos.y-DragControl._start_pos.y)<5)\n\t\t\treturn;\n\n\t\tDragControl._clean_dom_after_drag(true);\n\t\tif(!DragControl._html)\n\t\t\tif (!DragControl.createDrag(DragControl._saved_event)) return;\n\n\t\tDragControl.sendSignal(\"start\"); //useless for now\n\n\t\tconst passive = env.touch ? { passive:false } : null;\n\t\tDragControl._webix_drag_mm = event(document.body,env.mouse.move,DragControl._moveDrag,passive);\n\t\tDragControl._webix_drag_mu = event(document,env.mouse.up,DragControl._stopDrag);\n\t\tDragControl._moveDrag(e);\n\t},\n\t//mouse was released while dnd is active - process target\n\t_stopDrag:function(e){\n\t\tDragControl._clean_dom_after_drag();\n\t\tDragControl._saved_event = null;\n\n\t\tif (DragControl._last && e){\t//if some drop target was confirmed\n\t\t\tDragControl.$drop(DragControl._active, DragControl._last, e);\n\t\t\tDragControl.$dragOut(DragControl._active, DragControl._last, null, e);\n\t\t}\n\t\tDragControl.destroyDrag(e);\n\t\tDragControl.sendSignal(\"stop\");\t//useless for now\n\t},\n\t_clean_dom_after_drag:function(still_drag){\n\t\tthis._webix_drag_mm = eventRemove(this._webix_drag_mm);\n\t\tthis._webix_drag_mu = eventRemove(this._webix_drag_mu);\n\t\tif (!still_drag)\n\t\t\tremoveCss(document.body,\"webix_noselect\");\n\t},\n\t//dnd is active and mouse position was changed\n\t_moveDrag:function(e){\n\t\tvar dragCtrl = DragControl;\n\t\tvar pos = getPos(e);\n\n\t\t//give possibility to customize drag position\n\t\tvar customPos = dragCtrl.$dragPos(pos, e);\n\t\t//adjust drag marker position\n\t\tvar ctx = dragCtrl._drag_context;\n\t\tdragCtrl._html.style.top=pos.y+dragCtrl.top+(customPos||!ctx.y_offset?0:ctx.y_offset) +\"px\";\n\t\tdragCtrl._html.style.left=pos.x+dragCtrl.left+(customPos||!ctx.x_offset?0:ctx.x_offset)+\"px\";\n\n\t\tvar evobj = e;\n\t\tif (dragCtrl._skip)\n\t\t\tdragCtrl._skip=false;\n\t\telse {\n\t\t\tif (env.touch){\n\t\t\t\tvar context = env.mouse.context(e);\n\t\t\t\tvar target = document.elementFromPoint(context.x, context.y);\n\t\t\t\tevobj = new Proxy(e, {\n\t\t\t\t\tget: function(obj, prop){\n\t\t\t\t\t\tif (prop === \"target\"){\n\t\t\t\t\t\t\treturn target;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar res = obj[prop];\n\t\t\t\t\t\tif (typeof res === \"function\"){\n\t\t\t\t\t\t\treturn res.bind(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tdragCtrl._checkLand((evobj.target || evobj.srcElement), evobj);\n\t\t}\n\t\t\n\t\treturn preventEvent(e);\n\t},\n\t//check if item under mouse can be used as drop landing\n\t_checkLand:function(node,e){\n\t\twhile (node && node.tagName!=\"BODY\"){\n\t\t\tif (node.webix_drop){\t//if drop area registered\n\t\t\t\tif (this._last && (this._last!=node || node.webix_master))\t//if this area with complex dnd master\n\t\t\t\t\tthis.$dragOut(this._active,this._last,node,e);\t\t\t//inform master about possible mouse-out\n\t\t\t\tif (!this._last || this._last!=node || node.webix_master){\t//if this is new are or area with complex dnd master\n\t\t\t\t\tthis._last=null;\t\t\t\t\t\t\t\t\t\t//inform master about possible mouse-in\n\t\t\t\t\tthis._landing=this.$dragIn(DragControl._active,node,e);\n\t\t\t\t\tif (this._landing)\t//landing was rejected\n\t\t\t\t\t\tthis._last=node;\n\t\t\t\t\treturn;\t\t\t\t\n\t\t\t\t} \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnode=node.parentNode;\n\t\t}\n\t\tif (this._last)\t//mouse was moved out of previous landing, and without finding new one \n\t\t\tthis._last = this._landing = this.$dragOut(this._active,this._last,null,e);\n\t},\n\t//mostly useless for now, can be used to add cross-frame dnd\n\tsendSignal:function(signal){\n\t\tDragControl.active=(signal==\"start\");\n\t\tcallEvent(\"onDragMode\", [signal]);\n\t},\n\t\n\t//return master for html area\n\tgetMaster:function(t){\n\t\treturn this._drag_masters[t.webix_drag||t.webix_drop];\n\t},\n\t//return dhd-context object\n\tgetContext:function(){\n\t\treturn this._drag_context;\n\t},\n\tgetNode:function(){\n\t\treturn this._html;\n\t},\n\t//called when dnd is initiated, must create drag representation\n\tcreateDrag:function(e){ \n\t\tvar dragCtl = DragControl;\n\t\tvar a=dragCtl._active;\n\n\t\tdragCtl._drag_context = {};\n\t\tvar master = this._drag_masters[a.webix_drag];\n\t\tvar drag_container;\n\n\t\t//if custom method is defined - use it\n\t\tif (master.$dragCreate){\n\t\t\tdrag_container=master.$dragCreate(a,e);\n\t\t\tif (!drag_container) return false;\n\t\t\tthis._setDragOffset(e);\n\t\t\tdrag_container.style.position = \"absolute\";\n\t\t} else {\n\t\t//overvise use default one\n\t\t\tvar text = dragCtl.$drag(a,e);\n\t\t\tdragCtl._setDragOffset(e);\n\n\t\t\tif (!text) return false;\n\t\t\tdrag_container = document.createElement(\"DIV\");\n\t\t\tdrag_container.innerHTML=text;\n\t\t\tdrag_container.className=\"webix_drag_zone\";\n\t\t\tdocument.body.appendChild(drag_container);\n\n\t\t\tvar context = dragCtl._drag_context;\n\t\t\tif (context.html && env.pointerevents){\n\t\t\t\tcontext.x_offset = -Math.round(drag_container.offsetWidth  * 0.5);\n\t\t\t\tcontext.y_offset = -Math.round(drag_container.offsetHeight * 0.75);\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\tdragged item must have topmost z-index\n\t\t\tin some cases item already have z-index\n\t\t\tso we will preserve it if possible\n\t\t*/\n\t\tdrag_container.style.zIndex = Math.max(drag_container.style.zIndex,zIndex());\n\n\t\tDragControl._skipDropH = event(drag_container,env.mouse.move,DragControl._skip_mark);\n\n\t\tif (!DragControl._drag_context.from)\n\t\t\tDragControl._drag_context = {source:a, from:a};\n\t\t\n\t\tDragControl._html=drag_container;\n\t\treturn true;\n\t},\n\t//helper, prevents unwanted mouse-out events\n\t_skip_mark:function(){\n\t\tDragControl._skip=true;\n\t},\n\t//after dnd end, remove all traces and used html elements\n\tdestroyDrag:function(e){\n\t\tvar a=DragControl._active;\n\t\tvar master = this._drag_masters[a.webix_drag];\n\n\t\tif (master && master.$dragDestroy){\n\t\t\tDragControl._skipDropH = eventRemove(DragControl._skipDropH);\n\t\t\tif(DragControl._html)\n\t\t\t\tmaster.$dragDestroy(a,DragControl._html,e);\n\t\t} else\n\t\t\tremove(DragControl._html);\n\n\t\tif (master && master._auto_scroll_delay)\n\t\t\tmaster._auto_scroll_delay = window.clearTimeout(master._auto_scroll_delay);\n\n\t\tif (DragControl._dropHTML)\n\t\t\tremove(DragControl._dropHTML);\n\n\t\tDragControl._landing=DragControl._active=DragControl._last=DragControl._html=DragControl._dropHTML=null;\n\t\tDragControl._drag_context = null;\n\t},\n\t_getActiveDragMaster: function(){\n\t\treturn DragControl._drag_masters[DragControl._active.webix_drag];\n\t},\n\ttop:0,\t //relative position of drag marker to mouse cursor\n\tleft:0,\n\t_setDragOffset:function(e){\n\t\tvar dragCtl = DragControl;\n\t\tvar pos = dragCtl._start_pos;\n\t\tvar ctx = dragCtl._drag_context;\n\n\t\tif(typeof ctx.x_offset != \"undefined\" && typeof ctx.y_offset != \"undefined\")\n\t\t\treturn null;\n\n\t\tctx.x_offset = ctx.y_offset = 0;\n\t\tif(env.pointerevents){\n\t\t\tvar m=DragControl._getActiveDragMaster();\n\n\t\t\tif (m._getDragItemPos && m!==this){\n\t\t\t\tvar itemPos = m._getDragItemPos(pos,e);\n\n\t\t\t\tif(itemPos){\n\t\t\t\t\tctx.x_offset = itemPos.x - pos.x;\n\t\t\t\t\tctx.y_offset = itemPos.y - pos.y;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t},\n\t$dragPos:function(pos, e){\n\t\tvar m=this._drag_masters[DragControl._active.webix_drag];\n\t\tif (m.$dragPos && m!=this){\n\t\t\tm.$dragPos(pos, e, DragControl._html);\n\t\t\treturn true;\n\t\t}\n\t},\n\t//called when mouse was moved in drop area\n\t$dragIn:function(s,t,e){\n\t\tvar m=this._drag_masters[t.webix_drop];\n\t\tif (m.$dragIn && m!=this) return m.$dragIn(s,t,e);\n\t\tt.className=t.className+\" webix_drop_zone\";\n\t\treturn t;\n\t},\n\t//called when mouse was moved out drop area\n\t$dragOut:function(s,t,n,e){\n\t\tvar m=this._drag_masters[t.webix_drop];\n\t\tif (m.$dragOut && m!=this) return m.$dragOut(s,t,n,e);\n\t\tt.className=t.className.replace(\"webix_drop_zone\",\"\");\n\t\treturn null;\n\t},\n\t//called when mouse was released over drop area\n\t$drop:function(s,t,e){\n\t\tvar m=this._drag_masters[t.webix_drop];\n\t\tDragControl._drag_context.from = DragControl.getMaster(s);\n\t\tif (m.$drop && m!=this) return m.$drop(s,t,e);\n\t\tt.appendChild(s);\n\t},\n\t//called when dnd just started\n\t$drag:function(s,e){\n\t\tvar m=this._drag_masters[s.webix_drag];\n\t\tif (m.$drag && m!=this) return m.$drag(s,e);\n\t\treturn \"<div style='\"+s.style.cssText+\"'>\"+s.innerHTML+\"</div>\";\n\t}\t\n};\n\n//global touch-drag handler\nattachEvent(\"onLongTouch\", function(ev){\n\tif(DragControl._active && !DragControl._touch_animation)\n\t\tDragControl._createTouchDrag(ev);\n});\n\n\nexport default DragControl;","import {offset, pos as getPos} from \"../webix/html\";\nimport {toNode, extend} from \"../webix/helpers\";\nimport DragControl from \"../core/dragcontrol\";\n\nconst Movable = {\n\tmove_setter:function(value){\n\t\tif (value){\n\t\t\textend(this, Move, true);\n\t\t\tDragControl.addDrag(this._headobj?this._headobj:this.$view, this);\n\t\t\tdelete this.move_setter;\t//prevent double initialization\n\t\t}\n\t\treturn value;\n\t}\n};\n\nconst Move = {\n\t$dragCreate:function(object, e){\n\t\tif(this.config.move){\n\t\t\tvar elOffset = offset(object);\n\t\t\tvar elPos = getPos(e);\n\t\t\tDragControl.top = elOffset.y - elPos.y;\n\t\t\tDragControl.left = elOffset.x - elPos.x;\n\n\t\t\treturn toNode(this._viewobj);\n\t\t}\n\t},\n\t$dragDestroy:function(node, drag){\n\t\tvar view = this;\n\t\tif (view._settings){\n\t\t\tview._settings.top = parseInt(drag.style.top,10);\n\t\t\tview._settings.left = parseInt(drag.style.left,10);\n\t\t}\n\n\t\tDragControl.top = DragControl.left = 0;\n\t\tthis.callEvent(\"onViewMoveEnd\", []);\n\t\treturn;\n\t},\n\t$dragPos:function(pos, e){\n\t\tthis.callEvent(\"onViewMove\", [pos, e]);\n\t}\n};\n\nexport default Movable;","import {create, remove} from \"../webix/html\";\nimport {zIndex} from \"../ui/helpers\";\nimport {bind} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\n\nimport state from \"./state\";\n\nconst Modality = {\n\t_modal_set:function(value){\n\t\tif (value){\n\t\t\tif (!this._modal_cover){\n\t\t\t\tthis._modal_cover = create(\"div\",{\n\t\t\t\t\t\"class\":\"webix_modal\"\n\t\t\t\t});\n\t\t\t\t/*\twith below code we will have the same zIndex for modal layer as for the previous \n\t\t\t\t\tabs positioned element, but because of attaching order modal layer will be on top anyway\n\t\t\t\t*/\n\t\t\t\tconst index = zIndex(this._settings.zIndex);\n\n\t\t\t\t//set topmost modal layer\n\t\t\t\tthis._previous_modality = state._modality;\n\t\t\t\tstate._modality = index;\n\n\t\t\t\tthis._modal_cover.style.zIndex = index-1;\n\t\t\t\tthis._viewobj.style.zIndex = index;\n\t\t\t\tdocument.body.appendChild(this._modal_cover);\n\t\t\t\tdocument.body.style.overflow = \"hidden\";\n\t\t\t\t_event( this._modal_cover, \"click\", bind(this._ignore_clicks, this));\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (this._modal_cover){\n\t\t\t\tremove(this._modal_cover);\n\t\t\t\tthis._modal_cover = null;\n\n\t\t\t\t//restore topmost modal layer\n\t\t\t\tstate._modality = this._previous_modality;\n\n\t\t\t\tif (!state._modality)\n\t\t\t\t\tdocument.body.style.overflow = \"\";\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n};\n\n\nexport default Modality;","import {create, offset, addCss, pos as getPos, remove, removeCss} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport {zIndex} from \"../ui/helpers\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\n\n\nconst ResizeArea = {\n\tresize_setter:function(value){\n\t\tif (value && !this._resizeHandlers)\n\t\t\tthis._renderResizeHandler();\n\n\t\treturn value;\n\t},\n\t_renderResizeHandler: function(){\n\t\tif(!this._rwHandle){\n\t\t\tvar rp = this._viewobj;\n\t\t\tif (rp.firstChild){\n\t\t\t\trp = rp.firstChild;\n\t\t\t\trp.style.position = \"relative\";\n\t\t\t}\n\n\t\t\tthis._rwHandle = create(\"DIV\",{\n\t\t\t\t\"class\"\t: \"webix_resize_handle\",\n\t\t\t\t/*@attr*/\"webix_disable_drag\" : \"true\"\n\t\t\t});\n\t\t\trp.appendChild(this._rwHandle);\n\t\t\t_event(this._rwHandle, env.mouse.down, this._wrDown, {bind:this});\n\t\t}\n\t},\n\t_showResizeFrame: function(width,height){\n\t\tif(!this._resizeFrame){\n\t\t\tthis._resizeFrame = create(\"div\", {\"class\":\"webix_resize_frame\"},\"\");\n\t\t\tdocument.body.appendChild(this._resizeFrame);\n\t\t\tvar elPos = offset(this._viewobj);\n\t\t\tthis._resizeFrame.style.left = elPos.x+\"px\";\n\t\t\tthis._resizeFrame.style.top = elPos.y+\"px\";\n\t\t\tthis._resizeFrame.style.zIndex = zIndex();\n\t\t}\n\n\t\tthis._resizeFrame.style.width = width + \"px\";\n\t\tthis._resizeFrame.style.height = height + \"px\";\n\t},\n\t_wrDown:function(){\n\t\tif (this.config.resize){\n\t\t\taddCss(document.body,\"webix_noselect webix_resize_cursor\");\n\t\t\tthis._wsReady = offset(this._viewobj);\n\n\t\t\tthis._resizeHandlersMove = event(document.body, env.mouse.move, this._wrMove, {bind:this});\n\t\t\tthis._resizeHandlersUp   = event(document.body, env.mouse.up, this._wrUp, {bind:this});\n\t\t}\n\t},\n\t_wrMove:function(e){\n\t\tif (this._wsReady !== false){\n\t\t\tvar elPos = getPos(e);\n\t\t\tvar progress = {x:elPos.x - this._wsReady.x, y: elPos.y - this._wsReady.y};\n\n\t\t\tif (this.$resizeMove)\n\t\t\t\tthis.$resizeMove(progress);\n\t\t\telse {\n\t\t\t\tvar config = this.config;\n\t\t\t\tvar minWidth = config.minWidth||100;\n\t\t\t\tvar minHeight = config.minHeight||100;\n\n\t\t\t\tif (progress.x < minWidth)\n\t\t\t\t\tprogress.x = minWidth;\n\t\t\t\telse if(progress.x > config.maxWidth)\n\t\t\t\t\tprogress.x = config.maxWidth;\n\n\t\t\t\tif (progress.y < minHeight)\n\t\t\t\t\tprogress.y = minHeight;\n\t\t\t\telse if(progress.y > config.maxHeight)\n\t\t\t\t\tprogress.y = config.maxHeight;\n\t\t\t}\n\n\t\t\tthis._wsProgress = progress;\n\t\t\tthis._showResizeFrame(progress.x,progress.y);\n\t\t}\n\t},\n\t_wrUp:function(){\n\t\t// remove resize frame and css styles\n\t\tif (this._resizeFrame)\n\t\t\tthis._resizeFrame = remove(this._resizeFrame);\n\t\t\n\t\tremoveCss(document.body,\"webix_resize_cursor\");\n\t\tremoveCss(document.body,\"webix_noselect\");\n\t\teventRemove(this._resizeHandlersMove);\n\t\teventRemove(this._resizeHandlersUp);\n\n\t\t// set Window sizes\n\t\tif (this._wsProgress){\n\t\t\tif (this.$resizeEnd)\n\t\t\t\tthis.$resizeEnd(this._wsProgress);\n\t\t\telse {\n\t\t\t\tthis.config.width = this._wsProgress.x;\n\t\t\t\tthis.config.height = this._wsProgress.y;\n\t\t\t\tthis.resize();\n\t\t\t}\n\t\t}\n\n\t\tthis._wsReady = this._wsProgress = false;\n\t\tthis.callEvent(\"onViewResize\",[]);\n\t}\n};\n\nexport default ResizeArea;","import {pos as getPos, offset} from \"../webix/html\";\nimport {protoUI, ui, $$} from \"../ui/core\";\nimport animate from \"../webix/animate\";\nimport {$active} from \"../webix/skin\";\n\nimport state from \"../core/state\";\nimport env from \"../webix/env\";\nimport UIManager from \"../core/uimanager\";\nimport Destruction from \"../core/destruction\";\n\nimport {zIndex} from \"../ui/helpers\";\nimport {toNode, delay, clone, uid, extend} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\nimport {callEvent, attachEvent} from \"../webix/customevents\";\n\nimport EventSystem from \"../core/eventsystem\";\nimport Movable from \"../core/movable\";\nimport Modality from \"../core/modality\";\nimport ResizeArea from \"../core/resizearea\";\n\nimport baseview from \"./baseview\";\nimport base from \"./view\";\n\nconst api = {\n\tname:\"window\",\n\n\t$init:function(config){\n\t\tthis._viewobj.innerHTML = \"<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>\";\n\t\t\n\t\tthis._contentobj = this._viewobj.firstChild;\n\t\tthis._headobj = this._contentobj.childNodes[0];\n\t\tthis._dataobj = this._bodyobj = this._contentobj.childNodes[1];\n\t\tthis._viewobj.className +=\" webix_window\";\n\n\t\tthis._viewobj.setAttribute(\"role\", \"dialog\");\n\t\tthis._viewobj.setAttribute(\"tabindex\", \"0\");\n\n\t\tthis._head_cell = this._body_cell = null;\n\t\tconfig._inner = {top:false, left:false, right:false, bottom:false }; //set border flags\n\t\tif (!config.id) config.id = uid();\n\n\t\t_event(this._contentobj, \"click\", this._ignore_clicks, {bind:this});\n\t\t_event(this._contentobj, \"click\", function(){\n\t\t\t// brings a window to the front of other windows\n\t\t\tif(!this._settings.zIndex && this._settings.toFront){\n\t\t\t\tthis._viewobj.style.zIndex = zIndex();\n\t\t\t}\n\t\t}, {bind:this, capture:true});\n\n\t\t// hidden_setter handling\n\t\tif(config.modal)\n\t\t\tthis._modal = true;\n\t\t// head_setter handling\n\t\tif(config.close)\n\t\t\tthis._settings.close = config.close;\n\n\t\tthis.attachEvent(\"onViewMoveEnd\", function(){\n\t\t\tif(this._settings.position)\n\t\t\t\tdelete this._settings.position;\n\t\t});\n\t},\n\t_ignore_clicks:function(e){\n\t\tvar popups = state._popups;\n\t\tvar index = popups.find(this);\n\t\tif (index == -1)\n\t\t\tindex = popups.length - 1;\n\n\t\te.click_view = index;\n\t},\n\tgetChildViews:function(){\n\t\tif (this._head_cell)\n\t\t\treturn [this._head_cell, this._body_cell];\n\t\telse\n\t\t\treturn [this._body_cell];\n\t},\n\tzIndex_setter:function(value){\n\t\tthis._viewobj.style.zIndex = value;\n\t\treturn value;\n\t},\n\t_remove:function(){ \n\t\tthis.body_setter();\n\t},\n\t_replace:function(new_view, old_view){\n\t\told_view = old_view || this._body_cell;\n\t\tconst isBody = old_view == this._body_cell;\n\n\t\told_view.destructor();\n\n\t\tif(isBody)\n\t\t\tthis._body_cell = new_view;\n\t\telse \n\t\t\tthis._head_cell = new_view;\n\n\t\t(isBody ? this._bodyobj : this._headobj).appendChild(new_view._viewobj);\n\n\t\tconst cell = new_view._viewobj.style;\n\n\t\tlet settings = { top:true, left:true, right:true, bottom:true };\n\t\tlet size = \"0px\";\n\n\t\tif(new_view.config.borderless === false){\n\t\t\tsettings = clone(this._settings._inner);\n\t\t\tsize = \"1px\";\n\t\t}\n\t\tnew_view._settings._inner = settings;\n\t\tcell.borderTopWidth = cell.borderBottomWidth = cell.borderLeftWidth = cell.borderRightWidth = size;\n\n\t\tthis.resize(true);\n\t},\n\tshow:function(node, mode, point){\n\t\tif (node === true){\n\t\t\t//recursive call from some child item\n\t\t\tif (!this._settings.hidden)\n\t\t\t\treturn;\n\t\t\tnode = null;\n\t\t}\n\n\t\tif(!this.callEvent(\"onBeforeShow\",arguments))\n\t\t\treturn false;\n\n\t\tthis._settings.hidden = false;\n\t\tthis._viewobj.style.zIndex = zIndex(this._settings.zIndex);\n\t\tif (this._settings.modal || this._modal){\n\t\t\tthis._modal_set(true);\n\t\t\tthis._modal = null; // hidden_setter handling\n\t\t}\n\n\t\tvar elPos, dx, dy;\n\t\tmode = mode || {};\n\t\tif (!mode.pos)\n\t\t\tmode.pos = this._settings.relative;\n\n\t\t//get position of source html node\n\t\t//we need to show popup which pointing to that node\n\t\tif (node){\n\t\t\t//if event was provided - get node info from it\n\t\t\tif (typeof node == \"object\" && !node.tagName){\n\t\t\t\t/*below logic is far from ideal*/\n\t\t\t\tif (node.target || node.srcElement){\n\t\t\t\t\telPos = getPos(node);\n\t\t\t\t\tdx = 20;\n\t\t\t\t\tdy = 5;\n\t\t\t\t} else\n\t\t\t\t\telPos = node;\n\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tnode = toNode(node);\n\t\t\t\tassert(node,\"Not existing target for window:show\");\n\t\t\t\telPos = offset(node);\n\t\t\t}\t\n\n\t\t\t//size of body, we need to fit popup inside\n\t\t\tvar x = Math.max(window.innerWidth || 0, document.body.offsetWidth);\n\t\t\tvar y = Math.max(window.innerHeight || 0, document.body.offsetHeight);\n\n\t\t\t//size of node, near which popup will be rendered\n\t\t\tdx = dx || node.offsetWidth  || 0;\n\t\t\tdy = dy || node.offsetHeight || 0;\n\t\t\t//size of popup element\n\t\t\tvar size = this._last_size;\n\n\t\t\tvar fin_x = elPos.x;\n\t\t\tvar fin_y = elPos.y;\n\t\t\tvar point_y=0;\n\t\t\tvar point_x = 0;\n\t\t\tvar scrollLeft = 0, scrollTop = 0;\n\t\t\tvar fit = this._settings.autofit;\n\t\t\tif (fit){\n\t\t\t\tvar nochange = (fit === \"node\");\n\t\t\t\tvar delta_x = 6; var delta_y=6; var delta_point = 6;\n\t\t\t\tif (!this._settings.point)\n\t\t\t\t\tdelta_x = delta_y = delta_point = 0;\n\n\t\t\t\t//default pointer position - top \n\t\t\t\tpoint = \"top\";\n\t\t\t\tfin_y=0; fin_x = 0;\n\n\t\t\t\tscrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft;\n\t\t\t\t//if we want to place menu at righ, but there is no place move it to left instead\n\t\t\t\tif (x - elPos.x - dx < size[0] && mode.pos == \"right\" && !nochange)\n\t\t\t\t\tmode.pos = \"left\";\n\n\t\t\t\tif (mode.pos == \"right\"){\n\t\t\t\t\tfin_x = elPos.x+delta_x+dx; \n\t\t\t\t\tdelta_y = -dy;\n\t\t\t\t\tpoint = \"left\";\n\t\t\t\t\tpoint_y = Math.round(elPos.y+dy/2);\n\t\t\t\t\tpoint_x = fin_x - delta_point;\n\t\t\t\t} else if (mode.pos == \"left\"){\n\t\t\t\t\tfin_x = elPos.x-delta_x-size[0]-1;\n\t\t\t\t\tdelta_y = -dy;\n\t\t\t\t\tpoint = \"right\";\n\t\t\t\t\tpoint_y = Math.round(elPos.y+dy/2);\n\t\t\t\t\tpoint_x = fin_x + size[0]+1;\n\t\t\t\t} else  {\n\t\t\t\t\t//left border of screen\n\t\t\t\t\tif (elPos.x < scrollLeft){\n\t\t\t\t\t\tfin_x = scrollLeft;\n\t\t\t\t\t//popup exceed the right border of screen\n\t\t\t\t\t} else if (x+scrollLeft-elPos.x > size[0]){\n\t\t\t\t\t\tfin_x = elPos.x; //aligned\n\t\t\t\t\t} else{\n\t\t\t\t\t\tfin_x = x+scrollLeft-delta_x-size[0]; //not aligned\n\t\t\t\t\t}\n\n\t\t\t\t\tpoint_x = Math.round(elPos.x+dx/2);\n\t\t\t\t\t//when we have a small popup, point need to be rendered at center of popup\n\t\t\t\t\tpoint_x = Math.min(point_x, fin_x + size[0] - delta_point*3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//if height is not fixed - use default position\n\t\t\t\tscrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\t\tif (((!size[1] || (y+scrollTop-dy-elPos.y-delta_y > size[1])) || nochange) && mode.pos != \"top\"){\n\t\t\t\t\t//bottom\t\n\t\t\t\t\tfin_y = dy+elPos.y+delta_y - (!this._settings.point ? 0: 4);\n\t\t\t\t\tif (!point_y){\n\t\t\t\t\t\tpoint = \"top\";\n\t\t\t\t\t\tpoint_y = fin_y-delta_point;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//top\n\t\t\t\t\tfin_y = elPos.y-delta_y - size[1];\n\t\t\t\t\tif (fin_y < 0){\n\t\t\t\t\t\tfin_y = 0; \n\t\t\t\t\t\t//left|right point can be used, but there is no place for top point\n\t\t\t\t\t\tif (point == \"top\") point = false;\n\t\t\t\t\t} else if (!point_y){\n\t\t\t\t\t\tpoint = \"bottom\";\n\t\t\t\t\t\tfin_y --;\n\t\t\t\t\t\tpoint_y = fin_y+size[1]+1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar deltax = (mode.x || 0);\n\t\t\tvar deltay = (mode.y || 0);\n\n\t\t\tvar fixed = this._checkFixedPosition();\n\t\t\tthis.$view.style.position = fixed ? \"fixed\" : \"absolute\";\n\t\t\tif (fixed){\n\t\t\t\tfin_y = fin_y - scrollTop;\n\t\t\t\tpoint_y = point_y - scrollTop;\n\t\t\t}\n\n\t\t\tthis.setPosition(fin_x+deltax, fin_y+deltay);\n\t\t\tif (this._set_point){\n\t\t\t\tif (point && this._settings.point)\n\t\t\t\t\tthis._set_point(point,point_x+deltax, point_y+deltay, fixed);\n\t\t\t\telse\n\t\t\t\t\tthis._hide_point();\n\t\t\t}\n\t\t} else\n\t\t\tthis._setPosition(this._settings.left, this._settings.top);\n\n\t\tthis._viewobj.style.display = \"block\";\n\t\tthis._hide_timer = 1;\n\t\tdelay(function(){ this._hide_timer = 0; }, this, [], (env.touch ? 400 : 100 ));\n\t\t\n\t\tthis._render_hidden_views();\n\t\t\n\t\t\n\t\tif (this.config.autofocus){\n\t\t\tthis._prev_focus = UIManager.getFocus();\n\t\t\tUIManager.setFocus(this);\n\t\t}\n\n\t\tif (-1 == state._popups.find(this))\n\t\t\tstate._popups.push(this);\n\n\t\tthis.callEvent(\"onShow\",[]);\n\t}, \n\t_hide:function(e){\n\t\t//do not hide modal windows\n\t\tif (this._settings.hidden || this._settings.modal || this._hide_timer) return;\n\t\t//do not hide submenu when clicking on menu folder\n\t\tif (e && e.showpopup && (e.showpopup == this._settings.id || (this.getTopMenu && this.getTopMenu()._settings.id == e.showpopup))) return;\n\t\t//do not hide popup, when starting dnd with a long touch\n\t\tif (e && env.touch && e.longtouch_drag) return;\n\t\t//do not hide popup, when we have modal layer above the popup\n\t\tif (state._modality && this._viewobj.style.zIndex <= state._modality) return;\n\n\t\t//ignore inside clicks and clicks in child-popups\n\n\t\tif (e){\n\t\t\tvar index = e.click_view;\n\t\t\tif (!index && index !== 0) index = -1;\n\n\t\t\tvar myindex = state._popups.find(this);\n\n\t\t\tif (myindex <= index) return;\n\t\t}\n\n\t\tthis._hide_single();\n\t},\n\thidden_setter:function(value){\n\t\tif(value) \n\t\t\tthis.hide();\n\t\telse\n\t\t\tthis.show();\n\t\treturn !!value;\n\t},\n\thide:function(){\n\t\tconst index = this._hide_single();\n\t\tthis._hide_sub_popups(index);\n\t},\n\t_hide_single:function(){\n\t\tif (this.$destructed || this._settings.hidden) return;\n\n\t\tif (this._settings.modal)\n\t\t\tthis._modal_set(false);\n\n\t\tthis._hiding_process();\n\n\t\tif (this._settings.autofocus){\n\t\t\tvar el = document.activeElement;\n\t\t\t//as result of hotkey, we can have a activeElement set to document.body\n\t\t\tif (el && this._viewobj && (this._viewobj.contains(el) || el === document.body)){\n\t\t\t\tUIManager.setFocus(this._prev_focus);\n\t\t\t\tthis._prev_focus = null;\n\t\t\t}\n\t\t}\n\n\t\t// clear state\n\t\tconst index = state._popups.find(this);\n\t\tif (index > -1)\n\t\t\tstate._popups.removeAt(index);\n\n\t\treturn index;\n\t},\n\t_hiding_process:function(){\n\t\tif (this._settings.position == \"top\"){\n\t\t\tanimate(this._viewobj, {type: \"slide\", x:0, y:-(this._content_height+20), duration: 300,\n\t\t\t\tcallback:this._hide_callback, master:this});\n\t\t} else \n\t\t\tthis._hide_callback();\n\t},\n\t//hide all child-popups\n\t_hide_sub_popups:function(index){\n\t\tif (index > -1){\n\t\t\tconst order = state._popups;\n\t\t\tfor (let i=order.length-1; i>=index; i--)\n\t\t\t\tif (order[i]._hide_point)\t//hide only popups, skip windows\n\t\t\t\t\torder[i]._hide_single();\n\t\t}\n\t},\n\tdestructor: function() {\n\t\tthis.hide();\n\t\tDestruction.destructor.apply(this, []);\n\t},\n\t_hide_callback:function(){\n\t\tif (!this.$destructed){\n\t\t\tthis._viewobj.style.display = \"none\";\n\t\t\tthis._settings.hidden = true;\n\t\t\tthis.callEvent(\"onHide\",[]);\n\t\t}\n\t},\n\tclose:function(){\n\t\tthis.destructor(); \n\t},\n\t_inner_body_set:function(value){\n\t\tif (typeof value.borderless == \"undefined\")\n\t\t\tvalue.borderless = true;\n\t},\n\tbody_setter:function(value){\n\t\tif (typeof value != \"object\")\n\t\t\tvalue = {template:value };\n\t\tthis._inner_body_set(value);\n\n\t\tstate._parent_cell = this;\n\t\tthis._body_cell = ui._view(value);\n\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\n\t\treturn value;\n\t},\n\thead_setter:function(value){\n\t\tif (value === false) return value;\n\n\t\tconst text = typeof value == \"string\";\n\t\tconst config = { padding:0, css: \"webix_win_title\", type:\"header\", borderless:true };\n\t\tif(text){\n\t\t\tthis._viewobj.setAttribute(\"aria-label\", value);\n\t\t\tvalue = { template:value };\n\t\t}\n\t\tif(value.view == \"template\" || (!value.view && value.template)){\n\t\t\textend(value, config);\n\t\t}\n\t\tif(text && this.config.close){\n\t\t\tvalue = { padding:{ left: $active.inputHeight+2, right:2 }, cols:[\n\t\t\t\tvalue,\n\t\t\t\t{ view:\"icon\", icon:\"wxi-close\", click:()=>{\n\t\t\t\t\tthis.hide();\n\t\t\t\t}}\n\t\t\t]};\n\t\t}\n\t\telse\n\t\t\textend(value, {borderless:true});\n\n\t\tstate._parent_cell = this;\n\t\tthis._head_cell = ui._view(value);\n\n\t\tthis._headobj.appendChild(this._head_cell._viewobj);\n\t\treturn value;\n\t},\n\tgetBody:function(){\n\t\treturn this._body_cell;\n\t},\n\tgetHead:function(){\n\t\treturn this._head_cell;\n\t},\n\tadjust:function(){ return this.resize(); },\n\tresizeChildren:function(){\n\t\tif (this._body_cell)\n\t\t\tthis.resize();\n\t},\n\tresize:function(){\n\t\tbaseview.api.adjust.call(this);\n\t\tcallEvent(\"onResize\", []);\n\t\tif (this.isVisible()){\n\t\t\tthis._setPosition(this._settings.left, this._settings.top);\n\t\t}\n\t},\n\t_checkFixedPosition: function() {\n\t\tif(this._settings.master) {\n\t\t\tvar top = $$(this._settings.master).getTopParentView().$view;\n\t\t\treturn top && top.style.position === \"fixed\";\n\t\t}\n\t\treturn false;\n\t},\n\t_setPosition:function(x,y){\n\t\tif ((this._settings.position || this._checkFixedPosition())){\n\t\t\tthis.$view.style.position = \"fixed\";\n\n\t\t\tvar width = this._content_width;\n\t\t\tvar height = this._content_height;\n\t\t\tif (width <= 0 || height <= 0) return;\n\n\t\t\tvar maxWidth = (window.innerWidth||document.documentElement.offsetWidth);\n\t\t\tvar maxHeight = (window.innerHeight||document.documentElement.offsetHeight);\n\t\t\tvar left = Math.round((maxWidth-width)/2);\n\t\t\tvar top = Math.round((maxHeight-height)/2);\n\n\t\t\tif (typeof this._settings.position == \"function\"){\n\t\t\t\tvar state = { \tleft:left, top:top, \n\t\t\t\t\twidth:width, height:height, \n\t\t\t\t\tmaxWidth:maxWidth, maxHeight:maxHeight };\n\t\t\t\tthis._settings.position.call(this, state);\n\n\t\t\t\tif (state.width != width || state.height != height)\n\t\t\t\t\tthis.$setSize(state.width, state.height);\n\n\t\t\t\tthis.setPosition(state.left, state.top);\n\t\t\t} else {\n\t\t\t\tif (this._settings.position == \"top\"){\n\t\t\t\t\tif (animate.isSupported())\n\t\t\t\t\t\ttop = -1*height;\n\t\t\t\t\telse\n\t\t\t\t\t\ttop = 10;\n\t\t\t\t}\n\t\t\t\t//popup inside a fixed win\n\t\t\t\tif(!this._settings.position){\n\t\t\t\t\tleft = this._settings.left || left;\n\t\t\t\t\ttop = this._settings.top || top;\n\t\t\t\t}\n\t\t\t\tthis.setPosition(left, top);\n\t\t\t}\n\t\t\t\n\t\t\tif (this._settings.position == \"top\")\n\t\t\t\tanimate(this._viewobj, {type: \"slide\", x:0, y:height-((this._settings.padding||0)*2), duration: 300 ,callback:this._topPositionCallback, master:this});\n\t\t} else \n\t\t\tthis.setPosition(x,y);\n\t},\n\t_topPositionCallback:function(node){\n\t\tanimate.clear(node);\n\t\tthis._settings.top=-((this._settings.padding||0)*2);\n\t\tthis.setPosition(this._settings.left, this._settings.top);\n\t},\n\tsetPosition:function(x,y){\n\t\tthis._viewobj.style.top = y+\"px\";\n\t\tthis._viewobj.style.left = x+\"px\";\n\t\tthis._settings.left = x; this._settings.top=y;\n\t},\n\t$getSize:function(dx, dy){\n\t\tvar _borders = this._settings._inner;\n\t\tif (_borders){\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\n\t\t}\n\t\t//line between head and body\n\t\tif (this._settings.head)\n\t\t\tdy += 1;\n\n\t\tvar size =  this._body_cell.$getSize(0,0);\n\t\tvar headMinWidth = 0;\n\t\tif (this._head_cell){\n\t\t\tvar head_size = this._head_cell.$getSize(0,0);\n\t\t\tif (head_size[3]==head_size[2])\n\t\t\t\tthis._settings.headHeight = head_size[3];\n\t\t\tdy += this._settings.headHeight;\n\t\t\theadMinWidth = head_size[0];\n\t\t}\n\n\t\tif (this._settings.fullscreen){\n\t\t\tvar width = window.innerWidth || document.body.clientWidth;\n\t\t\tvar height = window.innerHeight || document.body.clientHeight;\n\t\t\treturn [width, width, height, height];\n\t\t}\n\n\t\t//get layout sizes\n\t\tvar self_size = base.api.$getSize.call(this, 0, 0);\n\n\t\t//use child settings if layout's one was not defined\n\t\tif (headMinWidth && size[1] > 100000)\n\t\t\tsize[0] = Math.max(headMinWidth, size[0]);\n\n\t\tself_size[1] = Math.min(self_size[1],(size[1]>=100000&&self_size[1]>=100000?Math.max(size[0], self_size[0]):size[1])+dx);\n\t\tself_size[3] = Math.min(self_size[3],(size[3]>=100000&&self_size[3]>=100000?Math.max(size[2], self_size[2]):size[3])+dy);\n\n\t\tself_size[0] = Math.min(Math.max(self_size[0],size[0] + dx), self_size[1]);\n\t\tself_size[2] = Math.min(Math.max(self_size[2],size[2] + dy), self_size[3]);\n\n\t\treturn self_size;\n\t},\n\t$setSize:function(x,y){\n\t\tbase.api.$setSize.call(this,x,y);\n\t\tx = this._content_width;\n\t\ty = this._content_height;\n\t\tif (this._settings.head === false) {\n\t\t\tthis._headobj.style.display=\"none\";\n\t\t\tthis._body_cell.$setSize(x,y);\n\t\t} else { \n\t\t\tthis._head_cell.$setSize(x,this._settings.headHeight);\n\t\t\tthis._body_cell.$setSize(x,y-this._settings.headHeight);\n\t\t}\n\t},\n\t$skin:function(){\n\t\tthis.defaults.headHeight = $active.barHeight;\n\t},\n\tdefaults:{\n\t\ttop:0,\n\t\tleft:0,\n\t\tautofit:true,\n\t\trelative:\"bottom\",\n\t\tbody:\"\",\n\t\thead:\"\",\n\t\thidden: true,\n\t\tautofocus:true,\n\t\tminWidth:300,\n\t\tminHeight:200\n\t}\n};\n\n//global longtouch handler\nattachEvent(\"onLongTouch\", function(ev){\n\tif (!ev || !ev.target) return;\n\n\tlet view = $$(ev.target);\n\tif (view){\n\t\tview = view.queryView(a => !a.getParentView(), \"parent\")||view;\n\n\t\tconst popups = state._popups;\n\t\tconst index = popups.find(view);\n\t\tif (index !== -1) ev.click_view = index;\n\t}\n});\n\nconst view = protoUI(api, base.view, Movable, Modality, EventSystem, ResizeArea);\nexport default {api, view};","import {preventEvent} from \"../webix/html\";\nimport {bind, toNode} from \"../webix/helpers\";\nimport window from \"../views/window\";\nimport {$$} from \"../ui/core\";\nimport {event, eventRemove} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\nimport {callEvent} from \"../webix/customevents\";\n\n\nconst ContextHelper = {\n\tdefaults:{\n\t\tpadding:\"4\",\n\t\thidden:true\n\t},\n\tbody_setter:function(value){\n\t\tvalue = window.api.body_setter.call(this, value);\n\t\tthis._body_cell._viewobj.style.borderWidth = \"0px\";\n\t\treturn value;\n\t},\n\tattachTo:function(obj){\n\t\tassert(obj, \"Invalid target for Context::attach\");\n\t\tvar id;\n\t\tif (obj.on_context)\n\t\t\tid = obj.attachEvent(\"onAfterContextMenu\", bind(this._show_at_ui, this));\n\t\telse \n\t\t\tid = event(obj, \"contextmenu\", this._show_at_node, {bind:this});\n\n\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\tif (obj.callEvent)\n\t\t\t\tobj.detachEvent(id);\n\t\t\telse\n\t\t\t\teventRemove(id);\n\t\t\tobj = null;\t\t\t\n\t\t});\n\t},\n\tgetContext:function(){\n\t\treturn this._area;\n\t},\n\tsetContext:function(area){\n\t\tthis._area = area;\n\t},\n\t_show_at_node:function(e){\n\t\tthis._area = toNode(e||window.event);\n\t\treturn this._show_at(e);\n\t},\n\t_show_at_ui:function(id, e){\n\t\tthis._area = { obj:$$(e), id:id };\n\t\treturn this._show_at(e);\n\t},\n\t_show_at:function(e){\n\t\tvar result = this.show(e, null, true);\n\t\tif (result === false) return result;\n\n\t\t//event forced to close other popups|context menus\n\t\tcallEvent(\"onClick\", []);\t\t\n\t\treturn preventEvent(e);\n\t},\n\t_show_on_mouse_out:true,\n\tmaster_setter:function(value){\n\t\tthis.attachTo(value);\n\t\treturn null;\n\t}\n};\n\nexport default ContextHelper;","import state from \"../core/state\";\nimport UIManager from \"../core/uimanager\";\nimport {bind, delay} from \"../webix/helpers\";\nimport {event} from \"../webix/htmlevents\";\n\n\nconst clipbuffer = {\n\n\t_area: null,\n\t_blur_id: null,\n\t_ctrl: 0,\n\n\t/*! create textarea or returns existing\n\t **/\n\tinit: function() {\n\t\t// returns existing textarea\n\t\tif (this._area !== null)\n\t\t\treturn this._area;\n\n\t\tstate.destructors.push({ obj: this });\n\t\t// creates new textarea\n\t\tthis._area = document.createElement(\"textarea\");\n\t\tthis._area.className = \"webix_clipbuffer\";\n\t\tthis._area.setAttribute(/*@attr*/\"webixignore\", 1);\n\t\tthis._area.setAttribute(\"spellcheck\", \"false\");\n\t\tthis._area.setAttribute(\"autocapitalize\", \"off\");\n\t\tthis._area.setAttribute(\"autocorrect\", \"off\");\n\t\tthis._area.setAttribute(\"autocomplete\", \"off\");\n\t\tdocument.body.appendChild(this._area);\n\n\t\tevent(document.body, \"keydown\", bind(function(e){\n\t\t\tvar key = e.keyCode;\n\t\t\tvar ctrl = !!(e.ctrlKey || e.metaKey);\n\t\t\tif (key === 86 && ctrl){\n\t\t\t\tthis._area.value = \"\";\n\t\t\t\tdelay(this._paste, this, [e], 100);\n\t\t\t}\n\t\t}, this));\n\n\t\treturn this._area;\n\t},\n\tdestructor: function(){\n\t\tthis._area = null;\n\t},\n\t/*! set text into buffer\n\t **/\n\tset: function(text) {\n\t\tthis.init();\n\t\ttext = text === \"\" ? \"\\n\" : text;\n\t\tthis._area.value = text;\n\t\tthis.focus();\n\t},\n\t/*! select text in textarea\n\t **/\n\tfocus: function() {\n\t\t// if there is native browser selection, skip focus\n\t\tif(!this._isSelectRange()){\n\t\t\tthis.init();\n\t\t\tthis._area.focus();\n\t\t\tthis._area.select();\n\t\t}\n\n\t},\n\t/*! checks document selection\n\t **/\n\t_isSelectRange: function() {\n\t\tvar text = \"\";\n\t\tif (typeof window.getSelection != \"undefined\") {\n\t\t\ttext = window.getSelection().toString();\n\t\t} else if (typeof document.selection != \"undefined\" && document.selection.type == \"Text\") {\n\t\t\ttext = document.selection.createRange().text;\n\t\t}\n\t\treturn !!text;\n\t},\n\t/*! process ctrl+V pressing\n\t **/\n\t_paste: function(e) {\n\t\tvar trg = e.target || e.srcElement;\n\t\tif (trg === this._area) {\n\t\t\tvar text = this._area.value;\n\t\t\tvar last_active = UIManager.getFocus();\n\t\t\tif (last_active && (!last_active.getEditor || !last_active.getEditor())){\n\t\t\t\tlast_active.callEvent(\"onPaste\", [text]);\n\t\t\t\tthis._area.select();\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default clipbuffer;","import UIManager from \"../core/uimanager\";\nimport {isUndefined} from \"../webix/helpers\";\nimport template from \"../webix/template\";\n\nimport clipbuffer from \"../webix/clipbuffer\";\n\nconst CopyPaste = {\n\tclipboard_setter: function(value) {\n\t\tif (value === true || value === 1) value = \"modify\";\n\t\tthis.attachEvent(\"onAfterSelect\", function(id) {\n\t\t\tif (!this.getEditor || !this.getEditor()){\n\t\t\t\tvar item = this.getItem(id);\n\t\t\t\tvar text = this.type.templateCopy(item);\n\t\t\t\tclipbuffer.set(text, this);\n\t\t\t\tclipbuffer.focus();\n\t\t\t\tUIManager.setFocus(this);\n\t\t\t}\n\t\t});\n\t\tthis.attachEvent(\"onPaste\", function(text) {\n\t\t\tif (!isUndefined(this._paste[this._settings.clipboard]))\n\t\t\t\tthis._paste[this._settings.clipboard].call(this, text);\n\t\t});\n\t\tthis.attachEvent(\"onFocus\", function() {\n\t\t\tclipbuffer.focus();\n\t\t});\n\t\t// solution for clicks on selected items\n\t\tthis.attachEvent(\"onItemClick\",function(id){\n\t\t\tif(!this._selected || this._selected.find(id)!==-1){\n\t\t\t\tclipbuffer.focus();\n\t\t\t\tUIManager.setFocus(this);\n\t\t\t}\n\t\t});\n\t\treturn value;\n\t},\n\t_paste: {\n\t\t// insert new item with pasted value\n\t\tinsert: function(text) {\n\t\t\tthis.add({ value: text });\n\t\t},\n\t\t// change value of each selected item\n\t\tmodify: function(text) {\n\t\t\tvar sel = this.getSelectedId(true);\n\t\t\tfor (var i = 0; i < sel.length; i++) {\n\t\t\t\tthis.getItem(sel[i]).value = text;\n\t\t\t\tthis.refresh(sel[i]);\n\t\t\t}\n\t\t},\n\t\t// do nothing\n\t\tcustom: function() {}\n\t},\n\ttemplateCopy_setter: function(value) {\n\t\tthis.type.templateCopy = template(value);\n\t},\n\ttype:{\n\t\ttemplateCopy: function(item) {\n\t\t\treturn this.template(item);\n\t\t}\n\t}\n};\n\nexport default CopyPaste;","import {create, insertBefore, remove} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport {extend, bind} from \"../webix/helpers\";\n\n\nconst CustomPrint = {\n\t$customPrint:function(options, htmlOnly){\n\t\tif(this._prePrint(options, htmlOnly))\n\t\t\treturn true;\n\n\t\tvar tableData = this._getTableArray(options);\n\t\tvar table = this._getTableHTML(tableData, options);\n\n\t\tif(htmlOnly)\n\t\t\treturn table;\n\n\t\tvar doc = create(\"div\", { \"class\":\"webix_ui_print\"});\n\t\tdoc.appendChild(table);\n\n\t\tinsertBefore(doc, options.docFooter, document.body);\n\t\twindow.print();\n\t\t\n\t\tremove(doc);\n\t},\n\t_prePrint:function(options, htmlOnly){\n\t\tif(!htmlOnly && (this.config.layout ==\"y\" || options.scroll || this.config.prerender || this.config.autoheight)) return true;\n\t\t\n\t\tif(this.config.layout ==\"x\")\n\t\t\textend(options || {}, {xCount:this.count(), nobreaks:true}, true);\n\t},\n\t_getPageWidth:function(options){\n\t\tvar size = options.size;\n\t\tvar width = size[options.mode == \"portrait\"?\"width\":\"height\"];\n\t\t\n\t\treturn Math.min(width*env.printPPI-2*env.printMargin);\n\t},\n\t_getTableArray:function(options, base, start){\n\t\tvar maxWidth = options.fit ==\"page\" ? Infinity : this._getPageWidth(options);\n\t\tvar xCount = options.xCount || this._getVisibleRange()._dx;\n\n\t\tvar tableArray = [];\n\t\tvar colrow = [];\n\t\tvar width = 0;\n\t\t\n\t\tvar newTableStart, rownum, colnum;\n\n\t\tstart = start || 0;\n\t\tbase = base || [];\n\n\t\tfor(var i = 0; i<this.data.order.length;){\n\t\t\tvar obj = this.data.pull[this.data.order[i]];\n\t\t\trownum = parseInt(i/xCount);\n\t\t\tcolnum = i-(rownum*xCount);\n\n\t\t\tif(obj && colnum>=start){\n\t\t\t\twidth += this.type.width;\n\t\t\t\t\n\t\t\t\t//start a new table, if cells do not fit page width\n\t\t\t\tif(width > maxWidth && colnum>start){ // 'colnum>start' ensures that a single long cell will have to fit the page\n\t\t\t\t\tnewTableStart = colrow.length+start;\n\t\t\t\t\ttableArray.push(colrow);\n\t\t\t\t\ti = i+(xCount-colrow.length);\n\t\t\t\t\tcolrow = [];\n\t\t\t\t\twidth = 0;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar cellValue = this.type.template(obj, this.type);\n\t\t\t\tvar className = this._itemClassName;\n\t\t\t\t\n\t\t\t\tvar style  = {\n\t\t\t\t\tdisplay:\"table-cell\",\n\t\t\t\t\theight:this.type.height + \"px\",\n\t\t\t\t\twidth:this.type.width + \"px\"\n\t\t\t\t};\n\t\t\t\t//push a cell to a row\n\t\t\t\tcolrow.push({\n\t\t\t\t\ttxt: cellValue,\n\t\t\t\t\tclassName: className+\" \"+(obj.$css || \"\"),\n\t\t\t\t\tstyle: style\n\t\t\t\t});\n\t\t\t\t//push a row to a table and start a new row\n\t\t\t\tif((i+1)%xCount === 0){\n\t\t\t\t\ttableArray.push(colrow);\n\t\t\t\t\tcolrow = [];\n\t\t\t\t\twidth = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tbase.push(tableArray);\n\n\t\tif(newTableStart)\n\t\t\tthis._getTableArray(options, base, newTableStart);\t\n\n\t\treturn base;\n\t},\n\t_getTableHTML:function(tableData, options){\n\t\t\n\t\tvar container = create(\"div\");\n\n\t\ttableData.forEach(bind(function(table, i){\n\n\t\t\tvar tableHTML = create(\"table\", {\n\t\t\t\t\"class\":\"webix_table_print \"+this.$view.className,\n\t\t\t\t\"style\":\"border-collapse:collapse\"\n\t\t\t});\n\n\t\t\ttable.forEach(function(row){\n\t\t\t\tvar tr = create(\"tr\");\n\n\t\t\t\trow.forEach(function(column){\n\t\t\t\t\tvar td = create(\"td\");\n\n\n\t\t\t\t\tif (column.txt) td.innerHTML = column.txt;\n\t\t\t\t\tif (column.className) td.className = column.className;\n\t\t\t\t\tif (column.style) {\n\t\t\t\t\t\tvar keys = Object.keys(column.style);\n\t\t\t\t\t\tkeys.forEach(function(key){\n\t\t\t\t\t\t\tif (column.style[key])\n\t\t\t\t\t\t\t\ttd.style[key] = column.style[key];\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif(column.span){\n\t\t\t\t\t\tif(column.span.colspan > 1)\n\t\t\t\t\t\t\ttd.colSpan = column.span.colspan;\n\t\t\t\t\t\tif(column.span.rowspan > 1)\n\t\t\t\t\t\t\ttd.rowSpan = column.span.rowspan;\n\t\t\t\t\t}\n\t\t\t\t\ttr.appendChild(td);\n\t\t\t\t});\n\t\t\t\ttableHTML.appendChild(tr);\n\t\t\t});\n\t\t\tcontainer.appendChild(tableHTML);\n\n\t\t\tif(!options.nobreaks && i+1 < tableData.length){\n\t\t\t\tvar br = create(\"DIV\", {\"class\":\"webix_print_pagebreak\"});\n\t\t\t\tcontainer.appendChild(br);\n\t\t\t}\n\t\t\t\n\t\t}, this));\n\n\t\treturn container;\n\t}\n};\n\nexport default CustomPrint;","import {pos as getPos, create, remove, removeCss, preventEvent, addCss} from \"../webix/html\";\nimport state from \"../core/state\";\nimport {$$} from \"../ui/core\";\nimport {delay, isUndefined, bind} from \"../webix/helpers\";\n\nimport env from \"../webix/env\";\nimport {$active} from \"../webix/skin\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\nimport {attachEvent} from \"../webix/customevents\";\n\n\nconst CustomScroll= {\n\tscrollStep:40,\n\tinit:function(){\n\t\tthis._init_once();\n\t\tthis.scrollStep = $active.rowHeight;\n\t\tenv.$customScroll = true;\n\t\tenv.scrollSize = 0;\n\n\t\tstate.destructors.push({\n\t\t\tobj:{\n\t\t\t\tdestructor:function(){\n\t\t\t\t\tthis._last_active_node = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tattachEvent(\"onReconstruct\", CustomScroll._on_reconstruct);\n\t\tattachEvent(\"onResize\", CustomScroll._on_reconstruct);\n\n\t\t//adjusts scroll after view repainting\n\t\t//for example, opening a branch in the tree\n\t\t//it will be better to handle onAfterRender of the related view\n\t\tattachEvent(\"onClick\", CustomScroll._on_reconstruct);\n\t},\n\tresize:function(){\n\t\tthis._on_reconstruct();\n\t},\n\t_enable_datatable:function(view){\n\t\tview._body._custom_scroll_view = view._settings.id;\n\t\tview.attachEvent(\"onAfterRender\", function(){\n\t\t\tvar scroll = CustomScroll._get_datatable_sizes(this);\n\t\t\tvar y = Math.max(scroll.dy - scroll.py, 0);\n\t\t\tvar x = Math.max(scroll.dx - scroll.px, 0);\n\n\t\t\tif (this._y_scroll && this._scrollTop > y){\n\t\t\t\tthis._y_scroll.scrollTo(y);\n\t\t\t}\n\t\t\telse if (this._x_scroll && this._scrollLeft > x){\n\t\t\t\tthis._x_scroll.scrollTo(x);\n\t\t\t}\n\n\t\t\tif ( CustomScroll._last_active_node == this._body)\n\t\t\t\tCustomScroll._on_reconstruct();\n\t\t});\n\t\t_event(view._body, \"mouseover\", \tCustomScroll._mouse_in \t\t);\n\t\t_event(view._body, \"mouseout\", \tCustomScroll._mouse_out\t\t);\n\t},\n\tenable:function(view, mode){\n\t\tCustomScroll._init_once();\n\t\tif (view.mapCells)\n\t\t\treturn this._enable_datatable(view);\n\n\t\tvar node = view;\n\t\tif (view._dataobj)\n\t\t\tnode = view._dataobj.parentNode;\n\n\t\tnode._custom_scroll_mode = mode||\"xy\";\n\t\t_event(node, \"mouseover\", \tCustomScroll._mouse_in \t\t);\n\t\t_event(node, \"mouseout\", \tCustomScroll._mouse_out\t\t);\n\t\t_event(node, \"mousewheel\", \tCustomScroll._mouse_wheel, {passive:false});\n\t\t_event(node, \"DOMMouseScroll\", \tCustomScroll._mouse_wheel, {passive:false});\n\n\t\tthis._set_additional_handlers(view);\n\t},\n\t_on_reconstruct:function(){\n\t\tvar last = CustomScroll._last_active_node;\n\t\tif (last && last._custom_scroll_size){\n\t\t\tCustomScroll._mouse_out_timed.call(last);\n\t\t\tCustomScroll._mouse_in.call(last);\n\t\t}\n\t},\n\t_init_once:function(){\n\t\tevent(document.body, \"mousemove\", \tfunction(e){\n\t\t\tif (CustomScroll._active_drag_area)\n\t\t\t\tCustomScroll._adjust_scroll(CustomScroll._active_drag_area, CustomScroll._active_drag_area._scroll_drag_pos, getPos(e));\n\t\t});\n\t\tCustomScroll._init_once = function(){};\n\t},\n\t_mouse_in:function(){\n\t\tCustomScroll._last_active_node  = this;\n\n\t\tclearTimeout(this._mouse_out_timer);\n\n\t\tif (this._custom_scroll_size || CustomScroll._active_drag_area) return;\n\t\tvar view = $$(this);\n\t\tif (view && !view.isEnabled()) return;\n\n\t\tvar sizes;\n\t\tif (this._custom_scroll_view){\n\t\t\t//ger related view\n\t\t\tview = $$(this._custom_scroll_view);\n\t\t\t//if view was removed, we need not scroll anymore\n\t\t\tif (!view) return;\n\t\t\tsizes = CustomScroll._get_datatable_sizes(view);\n\t\t} else{\n\t\t\tsizes = {\n\t\t\t\tdx:this.scrollWidth,\n\t\t\t\tdy:this.scrollHeight,\n\t\t\t\tpx:this.clientWidth,\n\t\t\t\tpy:this.clientHeight\n\t\t\t};\n\t\t\tsizes._scroll_x = sizes.dx > sizes.px && this._custom_scroll_mode.indexOf(\"x\") != -1;\n\t\t\tsizes._scroll_y = sizes.dy > sizes.py && this._custom_scroll_mode.indexOf(\"y\") != -1;\n\t\t}\n\n\t\tthis._custom_scroll_size = sizes;\n\t\tif (sizes._scroll_x){\n\t\t\tsizes._scroll_x_node = CustomScroll._create_scroll(this, \"x\", sizes.dx, sizes.px, \"width\", \"height\");\n\t\t\tsizes._sx = (sizes.px - sizes._scroll_x_node.offsetWidth - 4);\n\t\t\tsizes._vx = sizes.dx - sizes.px;\n\t\t\tif(CustomScroll.trackBar)\n\t\t\t\tsizes._bar_x = CustomScroll._create_bar(this,\"x\");\n\t\t}\n\t\tif (sizes._scroll_y){\n\t\t\tsizes._scroll_y_node = CustomScroll._create_scroll(this, \"y\", sizes.dy, sizes.py, \"height\", \"width\");\n\t\t\tsizes._sy = (sizes.py - sizes._scroll_y_node.offsetHeight - 4);\n\t\t\tsizes._vy = sizes.dy - sizes.py;\n\n\t\t\tif(CustomScroll.trackBar)\n\t\t\t\tsizes._bar_y = CustomScroll._create_bar(this,\"y\");\n\t\t}\n\n\t\tCustomScroll._update_scroll(this);\n\t},\n\t_create_bar: function(node, mode){\n\t\tvar bar = create(\"DIV\", {\n\t\t\t/*@attr*/\"webixignore\":\"1\",\n\t\t\t\"class\":\"webix_c_scroll_bar_\"+mode\n\t\t},\"\");\n\n\t\tnode.appendChild(bar);\n\t\treturn bar;\n\t},\n\t_adjust_scroll:function(node, old, pos){\n\t\tvar config = node._custom_scroll_size;\n\t\tvar view = node._custom_scroll_view;\n\t\tif (view) view = $$(view);\n\n\t\tif (config._scroll_x_node == node._scroll_drag_enabled){\n\t\t\tlet next = (pos.x - old.x)*config._vx/config._sx;\n\t\t\tif (view)\n\t\t\t\tview._x_scroll.scrollTo(view._scrollLeft+next);\n\t\t\telse\n\t\t\t\tCustomScroll._set_scroll_value(node, \"scrollLeft\", next);\n\t\t}\n\t\tif (config._scroll_y_node == node._scroll_drag_enabled){\n\t\t\tlet next = (pos.y - old.y)*config._vy/config._sy;\n\t\t\tif (view)\n\t\t\t\tview._y_scroll.scrollTo(view._scrollTop+next);\n\t\t\telse\n\t\t\t\tCustomScroll._set_scroll_value(node, \"scrollTop\", next);\n\t\t}\n\n\t\tnode._scroll_drag_pos = pos;\n\t\tCustomScroll._update_scroll(node);\n\t},\n\t_get_datatable_sizes:function(view){\n\t\tvar sizes = {};\n\t\tif (view._x_scroll && view._settings.scrollX){\n\t\t\tsizes.dx = view._x_scroll.getSize();\n\t\t\tsizes.px = view._x_scroll._last_set_size || 1;\n\t\t\tsizes._scroll_x = sizes.dx - sizes.px > 1;\n\t\t}\n\t\tif (view._y_scroll && view._settings.scrollY){\n\t\t\tsizes.dy = view._y_scroll.getSize();\n\t\t\tsizes.py = view._y_scroll._last_set_size || 1;\n\t\t\tsizes._scroll_y = sizes.dy - sizes.py > 1;\n\t\t}\n\t\treturn sizes;\n\t},\n\t_mouse_out:function(){\n\t\tclearTimeout(this._mouse_out_timer);\n\t\tthis._mouse_out_timer = delay(CustomScroll._mouse_out_timed, this, [], 200);\n\t},\n\t_removeScroll:function(scroll){\n\t\tif (scroll){\n\t\t\tremove(scroll);\n\t\t\tif (scroll._webix_event_sc1){\n\t\t\t\teventRemove(scroll._webix_event_sc1);\n\t\t\t\teventRemove(scroll._webix_event_sc2);\n\t\t\t\teventRemove(scroll._webix_event_sc3);\n\t\t\t}\n\t\t}\n\t},\n\t_mouse_out_timed:function(){\n\t\tif (this._custom_scroll_size){\n\t\t\tif (this._scroll_drag_enabled){\n\t\t\t\tthis._scroll_drag_released = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar sizes = this._custom_scroll_size;\n\t\t\tCustomScroll._removeScroll(sizes._scroll_x_node);\n\t\t\tCustomScroll._removeScroll(sizes._scroll_y_node);\n\t\t\tif(sizes._bar_x){\n\t\t\t\tremove(sizes._bar_x);\n\t\t\t}\n\t\t\tif(sizes._bar_y){\n\t\t\t\tremove(sizes._bar_y);\n\t\t\t}\n\t\t\tthis._custom_scroll_size = null;\n\t\t}\n\t},\n\t_mouse_wheel:function(e){\n\t\tvar sizes = this._custom_scroll_size;\n\t\tvar delta = e.wheelDelta/-40;\n\t\tvar toblock = false;\n\t\tif (!delta && e.detail && isUndefined(e.wheelDelta))\n\t\t\tdelta = e.detail;\n\t\tif (sizes){\n\t\t\tif(!e.scrolledBy)\n\t\t\t\te.scrolledBy = sizes._scroll_y ? \"y\" : \"x\";\n\n\t\t\tconst touchpadMoveX = e.wheelDeltaX && Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY);\n\t\t\tif (sizes._scroll_x_node && ((e.scrolledBy !== \"y\" && (e.wheelDeltaX || delta)) || touchpadMoveX)){\n\t\t\t\tvar x_dir = (e.wheelDeltaX/-40)||delta;\n\t\t\t\t//see below\n\t\t\t\ttoblock = CustomScroll._set_scroll_value(this, \"scrollLeft\", x_dir*CustomScroll.scrollStep);\n\t\t\t} else if (!touchpadMoveX && delta && sizes._scroll_y_node){\n\t\t\t\t//lesser flickering of scroll in IE\n\t\t\t\t//also prevent scrolling outside of borders because of scroll-html-elements\n\t\t\t\ttoblock = CustomScroll._set_scroll_value(this, \"scrollTop\", delta*CustomScroll.scrollStep);\n\t\t\t}\n\t\t}\n\n\t\tCustomScroll._update_scroll(this);\n\t\tif (toblock !== false){\n\t\t\treturn preventEvent(e);\n\t\t}\n\t},\n\t_set_scroll_value:function(node, pose, value){\n\t\tvar sizes = node._custom_scroll_size;\n\t\tvar max_scroll = (pose == \"scrollLeft\") ? (sizes.dx - sizes.px) : (sizes.dy - sizes.py);\n\t\tvar now = node[pose];\n\n\t\tif (now+value > max_scroll)\n\t\t\tvalue = max_scroll - now;\n\t\tif (!value || (now+value < 0 && now === 0))\n\t\t\treturn false;\n\n\n\t\tif (env.isIE){\n\t\t\tCustomScroll._update_scroll(node, pose, value + now);\n\t\t\tnode[pose] += value;\n\t\t} else\n\t\t\tnode[pose] += value;\n\n\t\treturn true;\n\t},\n\t_create_scroll:function(node, mode, dy, py, dim){\n\t\tvar scroll = create(\"DIV\", {\n\t\t\t/*@attr*/\"webixignore\":\"1\",\n\t\t\t\"class\":\"webix_c_scroll_\"+mode\n\t\t},\"<div></div>\");\n\n\t\tscroll.style[dim] = Math.max((py*py/dy-7),40)+\"px\";\n\t\tscroll.style[dim == \"height\"?\"top\":\"left\"] = \"0px\";\n\t\tnode.style.position = \"relative\";\n\t\tnode.appendChild(scroll);\n\t\tnode._webix_event_sc1 = event(scroll, \"mousedown\", CustomScroll._scroll_drag(node));\n\t\tnode._webix_event_sc2 = event(document.body, \"mouseup\", bind(CustomScroll._scroll_drop, node));\n\t\tnode._webix_event_sc3 = event(document.body, \"mouseleave\", bind(CustomScroll._scroll_drop, node));\n\t\treturn scroll;\n\t},\n\t_scroll_drag:function(node){\n\t\treturn function(e){\n\t\t\taddCss(document.body,\"webix_noselect\",1);\n\t\t\tthis.className += \" webix_scroll_active\";\n\t\t\tCustomScroll._active_drag_area = node;\n\t\t\tnode._scroll_drag_enabled = this;\n\t\t\tnode._scroll_drag_pos = getPos(e);\n\t\t};\n\t},\n\t_scroll_drop:function(){\n\t\tif (this._scroll_drag_enabled){\n\t\t\tremoveCss(document.body,\"webix_noselect\");\n\t\t\tthis._scroll_drag_enabled.className = this._scroll_drag_enabled.className.toString().replace(\" webix_scroll_active\",\"\");\n\t\t\tthis._scroll_drag_enabled = false;\n\t\t\tCustomScroll._active_drag_area = 0;\n\t\t\tif (this._scroll_drag_released){\n\t\t\t\tCustomScroll._mouse_out_timed.call(this);\n\t\t\t\tthis._scroll_drag_released = false;\n\t\t\t}\n\t\t}\n\t},\n\t_update_scroll:function(node, pose, value){\n\t\tvar sizes = node._custom_scroll_size;\n\t\tif (sizes && (sizes._scroll_x_node||sizes._scroll_y_node)){\n\t\t\tvar view = node._custom_scroll_view;\n\n\t\t\tvar left_scroll = pose == \"scrollLeft\" ? value : node.scrollLeft;\n\t\t\tvar left = view?$$(view)._scrollLeft:left_scroll;\n\t\t\tvar shift_left = view?0:left;\n\n\t\t\tvar top_scroll = pose == \"scrollTop\" ? value : node.scrollTop;\n\t\t\tvar top = view?($$(view)._scrollTop):top_scroll;\n\t\t\tvar shift_top = view?0:top;\n\n\t\t\tif (sizes._scroll_x_node){\n\t\t\t\tsizes._scroll_x_node.style.bottom = 1 - shift_top + \"px\";\n\t\t\t\tsizes._scroll_x_node.style.left = Math.round(sizes._sx*left/(sizes.dx-sizes.px)) + shift_left + 1 +\"px\";\n\t\t\t\tif(sizes._bar_x){\n\t\t\t\t\tsizes._bar_x.style.bottom = 1 - shift_top + \"px\";\n\t\t\t\t\tsizes._bar_x.style.left = shift_left + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (sizes._scroll_y_node){\n\t\t\t\tsizes._scroll_y_node.style.right = 0 - shift_left + \"px\";\n\t\t\t\tsizes._scroll_y_node.style.top = Math.round(sizes._sy*top/(sizes.dy-sizes.py)) + shift_top + 1 + \"px\";\n\t\t\t\tif(sizes._bar_y){\n\t\t\t\t\tsizes._bar_y.style.right = 0 - shift_left + \"px\";\n\t\t\t\t\tsizes._bar_y.style.top = shift_top + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t_set_additional_handlers:function(view){\n\t\t// update scroll when showing view\n\t\tif (view.attachEvent){\n\t\t\tview.attachEvent(\"onViewShow\", () => this._resize_scroll(view));\n\t\t\tview.attachEvent(\"onAfterAutoScroll\", () => this._resize_scroll(view));\n\t\t}\n\n\t\t// update scroll on data change\n\t\tif (view.data && view.data.attachEvent)\n\t\t\tview.data.attachEvent(\"onStoreUpdated\", () => this._resize_scroll(view));\n\t},\n\t_resize_scroll:function(view){\n\t\tconst node = CustomScroll._last_active_node;\n\t\tif (node && view.$view.contains(node))\n\t\t\tCustomScroll._on_reconstruct();\n\t\telse\n\t\t\tCustomScroll._mouse_out_timed.call(view.$view);\n\t}\n};\n\nexport default CustomScroll;","const DataMarks = {\n\taddCss:function(id, css, silent){\n\t\tif (!this.addRowCss && !silent){\n\t\t\tif (!this.hasCss(id, css)){\n\t\t\t\tvar node = this.getItemNode(id);\n\t\t\t\tif (node){\n\t\t\t\t\tnode.className += \" \"+css;\n\t\t\t\t\tsilent = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.data.addMark(id, css, 1, 1, silent);\n\t},\n\tremoveCss:function(id, css, silent){\n\t\tif (!this.addRowCss && !silent){\n\t\t\tif (this.hasCss(id, css)){\n\t\t\t\tvar node = this.getItemNode(id);\n\t\t\t\tif (node){\n\t\t\t\t\tnode.className = node.className.replace(css,\"\").replace(\"  \",\" \");\n\t\t\t\t\tsilent = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.data.removeMark(id, css, 1, silent);\n\t},\n\thasCss:function(id, mark){\n\t\treturn this.data.getMark(id, mark);\n\t},\n\tclearCss:function(css, silent){\n\t\treturn this.data.clearMark(css, 1, silent);\n\t}\n};\n\nexport default DataMarks;","import {isArray, extend, uid} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\n\n\n/*\n\tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\n\t@export\n\t\tcopy\n\t\tmove\n*/\nconst DataMove ={\n\t//creates a copy of the item\n\tcopy:function(sid,tindex,tobj, details){\n\t\tdetails = details || {};\n\t\tvar new_id = details.newId || sid;\n\t\ttobj = tobj||this;\n\n\t\tvar data = this.getItem(sid);\n\t\tassert(data,\"Incorrect ID in DataMove::copy\");\n\t\t\n\t\t//make data conversion between objects\n\t\tif (tobj)\n\t\t\tdata = tobj._externalData(data);\n\t\t\n\t\t//adds new element same as original\n\t\treturn tobj.data.add(tobj._externalData(data,new_id),tindex,(details.parent || 0));\n\t},\n\t_next_move_index:function(nid, next, source){\n\t\tif (next && nid){\n\t\t\tvar new_index = this.getIndexById(nid);\n\t\t\treturn new_index + ((source == this && source.getIndexById(next) < new_index) ? 0 : 1);\n\t\t}\n\t},\n\t//move item to the new position\n\tmove:function(sid,tindex,tobj, details){\n\t\tdetails = details || {};\n\t\tvar new_id = details.newId || sid;\n\n\t\ttobj = tobj||this;\n\t\tassert(tobj.data, \"moving attempt to component without datastore\");\n\t\tif (!tobj.data) return;\n\n\t\t//can process an arrya - it allows to use it from onDrag \n\t\tif (isArray(sid)){\n\t\t\t//block separate repaint operations\n\t\t\tif (sid.length > 3) //heuristic value, duplicated below\n\t\t\t\tthis.$blockRender = tobj.$blockRender = true;\n\n\t\t\tfor (var i=0; i < sid.length; i++) {\n\t\t\t\t//increase index for each next item in the set, so order of insertion will be equal to order in the array\n\t\t\t\tconst nid = this.move(sid[i], tindex, tobj, details);\n\t\t\t\ttindex = tobj._next_move_index(nid, sid[i+1], this);\n\t\t\t}\n\n\t\t\tthis.$blockRender = tobj.$blockRender = false;\n\t\t\tif (sid.length > 3){\n\t\t\t\t//repaint whole component\n\t\t\t\tthis.refresh();\n\t\t\t\tif (tobj != this)\n\t\t\t\t\ttobj.refresh();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet nid = sid; //id after moving\n\n\t\tvar data = this.getItem(sid);\n\t\tassert(data,\"Incorrect ID in DataMove::move\");\n\t\t\n\t\tif (!tobj || tobj == this){\n\t\t\tif (tindex < 0) tindex = this.data.order.length - 1;\n\t\t\tthis.data.move(this.getIndexById(sid),tindex);\t//move inside the same object\n\t\t\tthis.data.callEvent(\"onDataMove\", [sid, tindex, null, this.data.order[tindex+1]]);\n\t\t} else {\n\t\t\t//copy to the new object\n\t\t\tnid = tobj.data.add(tobj._externalData(data,new_id),tindex, (details.parent || 0));\n\t\t\tthis.data.remove(sid);//delete in old object\n\t\t}\n\t\treturn nid;\t//return ID of item after moving\n\t},\n\t//move item on one position up\n\tmoveUp:function(id,step){\n\t\tconst index = this.getIndexById(id)-(step||1);\n\t\treturn this.move(id,(index<0)?0:index);\n\t},\n\t//move item on one position down\n\tmoveDown:function(id,step){\n\t\treturn this.moveUp(id, (step||1)*-1);\n\t},\n\t//move item to the first position\n\tmoveTop:function(id){\n\t\treturn this.move(id,0);\n\t},\n\t//move item to the last position\n\tmoveBottom:function(id){\n\t\treturn this.move(id,this.data.count()-1);\n\t},\n\t/*\n\t\tthis is a stub for future functionality\n\t\tcurrently it just makes a copy of data object, which is enough for current situation\n\t*/\n\t_externalData:function(data,id){\n\t\tvar newdata = extend({},data);\n\t\tnewdata.id = (!id || this.data.pull[id])?uid():id;\n\t\t\n\n\t\tnewdata.$template=null;\n\n\t\tif (this._settings.externalData)\n\t\t\tnewdata = this._settings.externalData.call(this, newdata, id, data);\n\t\treturn newdata;\n\t}\n};\n\nexport default DataMove;","const rules = {\n\tisEmail: function(value){\n\t\treturn (/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/).test((value || \"\").toString());\n\t},\n\tisNumber: function(value){\n\t\treturn (parseFloat(value) == value);\n\t},\n\tisChecked: function(value){\n\t\treturn (!!value) || value === \"0\";\n\t},\n\tisNotEmpty: function(value){\n\t\treturn (value === 0 || value);\n\t}\n};\n\nexport default rules;","import {assert} from \"../webix/debug\";\nimport CodeParser from \"../core/codeparser\";\nimport rules from \"../webix/rules\";\n\n\n\nconst ValidateData = {\n\t$init:function(){\n\t\tif(this._events)\n\t\t\tthis.attachEvent(\"onChange\",this.clearValidation);\n\t},\n\tclearValidation:function(){\n\t\tif(this.elements){\n\t\t\tfor(var id in this.elements){\n\t\t\t\tthis._clear_invalid(id);\n\t\t\t}\n\t\t}\n\t},\n\tvalidate:function(mode, obj) {\n\t\tassert(this.callEvent, \"using validate for eventless object\");\n\t\t\n\t\tthis.callEvent(\"onBeforeValidate\", []);\n\n\t\tvar failed = this._validate_details = {};\n\n\t\t//optimistic by default :) \n\t\tvar result =true;\n\t\tvar rules = this._settings.rules;\n\t\t\n\t\tvar isHidden = this.isVisible && !this.isVisible();\n\t\tvar validateHidden = mode && mode.hidden;\n\t\tvar validateDisabled = mode && mode.disabled;\n\n\t\t//prevent validation of hidden elements\n\t\tvar elements = {}, hidden = {};\n\t\tfor(var i in this.elements){\n\t\t\tvar name = this.elements[i].config.name;\n\t\t\t//we are ignoring hidden and disabled fields during validation\n\t\t\t//if mode doesn not instruct us otherwise\n\t\t\t//if form itself is hidden, we can't separate hidden fiels,\n\t\t\t//so we will vaidate all fields\n\t\t\tif((isHidden || this.elements[i].isVisible() || validateHidden) && (this.elements[i].isEnabled() || validateDisabled))\n\t\t\t\telements[name] = this.elements[i];\n\t\t\telse{\n\t\t\t\thidden[name]=true;\n\t\t\t}\n\t\t}\n\t\tif (rules || elements)\n\t\t\tif(!obj && this.getValues)\n\t\t\t\tobj = this.getValues();\n\n\t\tif (rules){\n\t\t\t//complex rule, which may chcek all properties of object\n\t\t\tif (rules.$obj)\n\t\t\t\tresult = this._validate(rules.$obj, obj, obj, \"\") && result;\n\t\t\t\n\t\t\t//all - applied to all fields\n\t\t\tvar all = rules.$all;\n\t\t\tvar data = obj;\n\n\t\t\tif (this._settings.complexData)\n\t\t\t\tdata = CodeParser.collapseNames(obj, \"\", {}, (v) => !rules[v]);\n\n\t\t\tif (all)\n\t\t\t\tfor (let key in obj){\n\t\t\t\t\tif(hidden[key]) continue;\n\t\t\t\t\tlet subresult = this._validate(all, data[key], obj, key);\n\t\t\t\t\tif (!subresult)\n\t\t\t\t\t\tfailed[key] = true;\n\t\t\t\t\tresult =  subresult && result;\n\t\t\t\t}\n\n\n\t\t\t//per-field rules\n\t\t\tfor (let key in rules){\n\t\t\t\tif(hidden[key]) continue;\n\t\t\t\tif (key.indexOf(\"$\")!==0 && !failed[key]){\n\t\t\t\t\tassert(rules[key], \"Invalid rule for:\"+key);\n\t\t\t\t\tlet subresult = this._validate(rules[key], data[key], obj, key);\n\t\t\t\t\tif (!subresult)\n\t\t\t\t\t\tfailed[key] = true;\n\t\t\t\t\tresult = subresult && result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//check personal validation rules\n\t\tif (elements){\n\t\t\tfor (var key in elements){\n\t\t\t\tif (failed[key]) continue;\n\n\t\t\t\tvar subview = elements[key];\n\t\t\t\tif (subview.validate){\n\t\t\t\t\tlet subresult = subview.validate();\n\t\t\t\t\tresult = subresult && result;\n\t\t\t\t\tif (!subresult)\n\t\t\t\t\t\tfailed[key] = true;\n\t\t\t\t} else {\n\t\t\t\t\tvar input = subview._settings;\n\t\t\t\t\tif (input){\t//ignore non webix inputs\n\t\t\t\t\t\tvar validator = input.validate;\n\t\t\t\t\t\tif (!validator && input.required)\n\t\t\t\t\t\t\tvalidator = rules.isNotEmpty;\n\n\t\t\t\t\t\tif (validator){\n\t\t\t\t\t\t\tlet subresult = this._validate(validator, obj[key], obj, key);\n\t\t\t\t\t\t\tif (!subresult)\n\t\t\t\t\t\t\t\tfailed[key] = true;\n\t\t\t\t\t\t\tresult = subresult && result;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tthis.callEvent(\"onAfterValidation\", [result, this._validate_details]);\n\t\treturn result;\n\t},\n\t_validate:function(rule, data, obj, key){\n\t\tif (typeof rule == \"string\")\n\t\t\trule = rules[rule];\n\t\tif (rule.call(this, data, obj, key)){\n\t\t\tif(this.callEvent(\"onValidationSuccess\",[key, obj]) && this._clear_invalid)\n\t\t\t\tthis._clear_invalid(key);\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\tif(this.callEvent(\"onValidationError\",[key, obj]) && this._mark_invalid)\n\t\t\t\tthis._mark_invalid(key);\n\t\t}\n\t\treturn false;\n\t}\n};\n\nexport default ValidateData;","import {assert} from \"../webix/debug\";\nimport {copy, isUndefined, bind, isArray} from \"../webix/helpers\";\nimport {callEvent} from \"../webix/customevents\";\nimport {define} from \"../services\";\n\nimport {$$, proto} from \"../ui/core\";\n\nimport {ajax} from \"../load/ajax\";\nimport proxy from \"../load/proxy\";\nimport promise from \"../thirdparty/promiz\";\n\nimport Settings from \"../core/settings\";\nimport EventSystem from \"../core/eventsystem\";\nimport ValidateData from \"../core/validatedata\";\n\nconst _pull = {};\n\nexport function dp(name,getOnly){\n\tif (typeof name == \"object\" && name._settings)\n\t\tname = name._settings.id;\n\tif (_pull[name] || getOnly)\n\t\treturn _pull[name];\n\n\tif (typeof name == \"string\"||typeof name == \"number\")\n\t\tname = { master:$$(name) };\n\n\tvar dp = new DataProcessor(name);\n\tvar masterId = dp._settings.master._settings.id;\n\t_pull[masterId]=dp;\n\n\t$$(masterId).attachEvent(\"onDestruct\",function(){\n\t\t_pull[this._settings.id] = null;\n\t\tdelete _pull[this._settings.id];\n\t});\n\n\treturn dp;\n}\n\ndefine(\"dp\", dp);\n\ndp.$$ = function(id){\n\treturn _pull[id];\n};\n\n\nexport const DataProcessor = proto({\n\tdefaults: {\n\t\tautoupdate:true,\n\t\tupdateFromResponse:false,\n\t\tmode:\"post\",\n\t\toperationName:\"webix_operation\",\n\t\ttrackMove:false\n\t},\n\n\n\t/*! constructor\n\t **/\n\t$init: function() {\n\t\tthis.reset();\n\t\tthis._ignore = false;\n\t\tthis.name = \"DataProcessor\";\n\t\tthis.$ready.push(this._after_init_call);\n\t},\n\treset:function(){\n\t\tthis._updates = [];\n\t},\n\turl_setter:function(value){\n\t\t/*\n\t\t\twe can use simple url or mode->url\n\t\t*/\n\t\tvar mode = \"\";\n\t\tif (typeof value == \"string\"){\n\t\t\tvar parts = value.split(\"->\");\n\t\t\tif (parts.length > 1){\n\t\t\t\tvalue = parts[1];\n\t\t\t\tmode = parts[0];\n\t\t\t}\n\t\t} else if (value && value.mode){\n\t\t\tmode = value.mode;\n\t\t\tvalue = value.url;\n\t\t}\n\n\t\tif (mode)\n\t\t\treturn proxy(mode, value);\n\n\t\treturn value;\n\t},\n\tmaster_setter:function(value){\n\t\tvar store = value;\n\t\tif (value.name != \"DataStore\")\n\t\t\tstore = value.data;\n\n\t\tthis._settings.store = store;\n\t\treturn value;\n\t},\n\t_promise:function(handler){\n\t\tconst prev = this._waitSave;\n\t\tthis._waitSave = [];\n\t\t\n\t\thandler();\n\t\tconst result = Promise.all(this._waitSave);\n\n\t\tthis._waitSave = prev;\n\t\tif (prev)\n\t\t\tprev.push(result);\n\n\t\treturn result;\n\t},\n\t/*! attaching onStoreUpdated event\n\t **/\n\t_after_init_call: function(){\n\t\tconst store = this._settings.store;\n\t\tif (store){\n\t\t\tstore.attachEvent(\"onStoreUpdated\", bind(this._onStoreUpdated, this));\n\t\t\tstore.attachEvent(\"onDataMove\", bind(this._onDataMove, this));\n\t\t}\n\t},\n\tignore:function(code,master){\n\t\tvar temp = this._ignore;\n\t\tthis._ignore = true;\n\t\tcode.call((master||this));\n\t\tthis._ignore = temp;\n\t},\n\toff:function(){\n\t\tthis._ignore = true;\n\t},\n\ton:function(){\n\t\tthis._ignore = false;\n\t},\n\n\t_copy_data:function(source){\n\t\tvar obj = {};\n\t\tfor (var key in source)\t\n\t\t\tif (key.indexOf(\"$\")!==0)\n\t\t\t\tobj[key]=source[key];\n\t\treturn obj;\n\t},\n\tsave:function(id, operation, obj){\n\t\toperation = operation || \"update\";\n\t\treturn this._save_inner(id, obj, operation, true);\n\t},\n\t_save_inner:function(id, obj, operation, now){\n\t\tif (typeof id == \"object\") id = id.toString();\n\t\tif (!id || this._ignore === true || !operation || operation == \"paint\") return;\n\n\t\tvar store = this._settings.store;\n\t\tif (store){\n\t\t\tobj = obj || this._settings.store.getItem(id);\n\t\t\tif (store._scheme_serialize)\n\t\t\t\tobj = store._scheme_serialize(obj);\n\t\t}\n\n\t\tvar update = { id: id, data:this._copy_data(obj), operation:operation };\n\t\t//save parent id\n\t\tif (!isUndefined(obj.$parent)) update.data.parent = obj.$parent;\n\n\t\tif (update.operation != \"delete\"){\n\t\t\t//prevent saving of not-validated records\n\t\t\tvar master = this._settings.master;\n\t\t\tif (master && master.data && master.data.getMark && master.data.getMark(id, \"webix_invalid\"))\n\t\t\t\tupdate._invalid = true;\n\n\t\t\tif (!this.validate(null, update.data))\n\t\t\t\tupdate._invalid = true;\n\t\t}\n\n\t\tif (this._check_unique(update))\n\t\t\tthis._updates.push(update);\n\n\t\tif (this._settings.autoupdate || now)\n\t\t\treturn this._sendData(id);\n\t\t\t\n\t\treturn;\n\t},\n\t_onDataMove:function(sid, tindex, parent, targetid){\n\t\tif (this._settings.trackMove){\n\t\t\tvar obj = copy(this._settings.store.getItem(sid));\n\n\t\t\tobj.webix_move_index = tindex;\n\t\t\tobj.webix_move_id = targetid;\n\t\t\tobj.webix_move_parent = parent;\n\t\t\tthis._save_inner(sid, obj, \"order\");\n\t\t}\n\t},\n\t_onStoreUpdated: function(id, obj, operation){\n\t\tswitch (operation) {\n\t\t\tcase \"save\":\n\t\t\t\toperation = \"update\";\n\t\t\t\tbreak;\n\t\t\tcase \"update\":\n\t\t\t\toperation = \"update\";\n\t\t\t\tbreak;\n\t\t\tcase \"add\":\n\t\t\t\toperation = \"insert\";\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\t\toperation = \"delete\";\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t\treturn this._save_inner(id, obj, operation);\n\t},\n\t_check_unique:function(check){\n\t\tfor (var i = 0; i < this._updates.length; i++){\n\t\t\tvar one = this._updates[i];\n\t\t\tif (one.id == check.id && !one._in_progress){\n\t\t\t\tif (check.operation == \"delete\"){\n\t\t\t\t\tif (one.operation == \"insert\")\n\t\t\t\t\t\tthis._updates.splice(i,1);\n\t\t\t\t\telse \n\t\t\t\t\t\tone.operation = \"delete\";\n\t\t\t\t}\n\t\t\t\tone.data = check.data;\n\t\t\t\tone._invalid = check._invalid;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tsend:function(){\n\t\treturn this._sendData();\n\t},\n\t_sendData: function(triggerId){\n\t\tif (!this._settings.url)\n\t\t\treturn;\n\n\t\tvar wait;\n\t\tvar marked = this._updates;\n\t\tvar to_send = [];\n\t\tvar url = this._settings.url;\n\n\t\tfor (let i = 0; i < marked.length; i++) {\n\t\t\tvar tosave = marked[i];\n\n\t\t\tif (tosave._in_progress) continue;\n\t\t\tif (tosave._invalid) continue;\n\n\t\t\tvar id = tosave.id;\n\t\t\t// call to .save(id) without autoupdate mode will send the specific object only\n\t\t\tif (!this._settings.autoupdate && triggerId && triggerId != id)\n\t\t\t\tcontinue;\n\n\t\t\tvar operation = tosave.operation;\n\t\t\tvar precise_url = proxy.$parse((typeof url == \"object\" && !url.$proxy) ? url[operation] : url);\n\t\t\tvar custom = precise_url && (precise_url.$proxy || typeof precise_url === \"function\");\n\n\t\t\tif (!precise_url) continue;\n\n\t\t\tconst store = this._settings.store;\n\t\t\tif (store && store._scheme_save)\n\t\t\t\tstore._scheme_save(tosave.data);\n\n\t\t\tif (!this.callEvent(\"onBefore\"+operation, [id, tosave]))\n\t\t\t\tcontinue;\n\t\t\ttosave._in_progress = true;\n\n\t\t\tif (!this.callEvent(\"onBeforeDataSend\", [tosave])) return;\n\n\t\t\ttosave.data = this._updatesData(tosave.data);\n\n\t\t\tlet result;\n\t\t\tif (precise_url.$proxy){\n\t\t\t\tif (precise_url.save){\n\t\t\t\t\t//proxy\n\t\t\t\t\tresult = precise_url.save(this.config.master, tosave, this);\n\t\t\t\t}\n\t\t\t\tto_send.push(tosave);\n\t\t\t} else {\n\t\t\t\tif (operation == \"insert\")\n\t\t\t\t\tdelete tosave.data.id;\n\t\t\t\t\n\t\t\t\tif (custom){\n\t\t\t\t\t//save function\n\t\t\t\t\tresult = precise_url.call(this.config.master, tosave.id, tosave.operation, tosave.data);\n\t\t\t\t} else {\n\t\t\t\t\t//normal url\n\t\t\t\t\ttosave.data[this._settings.operationName] = operation;\n\n\t\t\t\t\tresult = this._send(precise_url, tosave.data, this._settings.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (result){\n\t\t\t\tresult = this._proxy_on_save(result, { id: tosave.id, status: tosave.operation });\n\t\t\t\tif (triggerId && id === triggerId){\n\t\t\t\t\twait = result;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onAfterDataSend\", [tosave]);\n\t\t}\n\n\t\tif (url.$proxy && url.saveAll && to_send.length){\n\t\t\tlet result = url.saveAll(this.config.master, to_send, this);\n\t\t\tif (result){\n\t\t\t\tresult = this._proxy_on_save(result, null);\n\t\t\t\tif (!wait)\n\t\t\t\t\twait = result;\n\t\t\t}\n\t\t}\n\n\t\treturn wait;\n\t},\n\t_proxy_on_save:function(result, state){\n\t\tif(result){\n\t\t\tif(!result.then)\n\t\t\t\tresult = promise.resolve(result);\n\n\t\t\tresult = result.then((data) => {\n\t\t\t\tif (data && typeof data.json == \"function\")\n\t\t\t\t\tdata = data.json();\n\n\t\t\t\tvar processed;\n\t\t\t\tif (state === null){\n\t\t\t\t\tprocessed = this._processResult(data); //array of responses\n\t\t\t\t} else {\n\t\t\t\t\tprocessed = this._processResult(state, \"\", data, -1); //text, data, loader\n\t\t\t\t}\n\n\t\t\t\tif (!processed)\n\t\t\t\t\tthrow processed; // trigger rejection\n\n\t\t\t\treturn processed;\n\t\t\t}, (x) => {\n\t\t\t\tthis._processError(state, \"\", null, x);\n\t\t\t\tthrow x;\n\t\t\t});\n\n\t\t\tif (this._waitSave)\n\t\t\t\tthis._waitSave.push(result);\n\n\t\t\treturn result;\n\t\t}\n\t},\n\n\t/*! process updates list to POST and GET params according dataprocessor protocol\n\t *\t@param updates\n\t *\t\tlist of objects { id: \"item id\", data: \"data hash\", operation: \"type of operation\"}\n\t *\t@return\n\t *\t\tobject { post: { hash of post params as name: value }, get: { hash of get params as name: value } }\n\t **/\n\n\n\n\t_updatesData:function(source){\n\t\tvar target = {};\n\t\tfor (var j in source){\n\t\t\tif (j.indexOf(\"$\")!==0)\n\t\t\t\ttarget[j] = source[j];\n\t\t}\n\t\treturn target;\n\t},\n\n\n\n\t/*! send dataprocessor query to server\n\t *\tand attach event to process result\n\t *\t@param url\n\t *\t\tserver url\n\t *\t@param get\n\t *\t\thash of get params\n\t *\t@param post\n\t *\t\thash of post params\n\t *\t@mode\n\t *\t\t'post' or 'get'\n\t **/\n\t_send: function(url, post, mode) {\n\t\tassert(url, \"url was not set for DataProcessor\");\n\t\treturn ajax()[mode](url, post);\n\t},\n\tattachProgress:function(start, end, error){\n\t\tthis.attachEvent(\"onBeforeDataSend\", start);\n\t\tthis.attachEvent(\"onAfterSync\", end);\n\t\tthis.attachEvent(\"onAfterSaveError\", error);\n\t\tthis.attachEvent(\"onLoadError\", error);\n\t},\n\t_processError:function(id, text, data, loader){\n\t\tif (id)\n\t\t\tthis._innerProcessResult(true, id.id, false, id.status, false, {text:text, data:data, loader:loader});\n\t\telse {\n\t\t\tthis.callEvent(\"onLoadError\", arguments);\n\t\t\tcallEvent(\"onLoadError\", [text, data, loader, this]);\n\t\t}\n\t},\n\t_innerProcessResult:function(error, id, newid, status, obj, details){\n\t\tvar master = this._settings.master;\n\t\tvar update = this.getItemState(id);\n\t\tupdate._in_progress = false;\n\n\n\n\t\tif (error){\n\t\t\tif (this.callEvent(\"onBeforeSaveError\", [id, status, obj, details])){\n\t\t\t\tupdate._invalid = true;\n\t\t\t\tif(this._settings.undoOnError && master._settings.undo){\n\t\t\t\t\tthis.ignore(function(){\n\t\t\t\t\t\tmaster.undo(id);\n\t\t\t\t\t});\n\t\t\t\t\tthis.setItemState(id, false);\n\t\t\t\t}\n\t\t\t\tthis.callEvent(\"onAfterSaveError\", [id, status, obj, details]);\n\t\t\t}\n\t\t\treturn;\n\t\t} else\n\t\t\tthis.setItemState(id, false);\n\n\t\tconst store = this._settings.store;\n\t\tif (store && store.exists(id)){\n\t\t\t//update from response\n\t\t\tif (newid && id != newid)\n\t\t\t\tstore.changeId(id, newid);\n\n\t\t\tif (obj && status != \"delete\" && this._settings.updateFromResponse)\n\t\t\t\tthis.ignore(function(){\t\t\t\t\n\t\t\t\t\tstore.updateItem(newid || id, obj);\n\t\t\t\t});\n\t\t}\n\t\t\t\n\n\t\t//clean undo history, for the saved record\n\t\tif(this._settings.undoOnError && master._settings.undo)\n\t\t\tmaster.removeUndo(newid||id);\n\n\t\tthis.callEvent(\"onAfterSave\",[obj, id, details]);\n\t\tthis.callEvent(\"onAfter\"+status, [obj, id, details]);\n\n\t\treturn obj || {};\n\t},\n\tprocessResult: function(state, hash, details){\n\t\t//compatibility with custom json response\n\t\tvar error = (hash && (hash.status == \"error\" || hash.status == \"invalid\"));\n\t\tvar newid = (hash ? ( hash.newid || hash.id ) : false);\n\n\t\treturn this._innerProcessResult(error, state.id, newid, state.status, hash, details);\n\t},\n\t// process saving from result\n\t_processResult: function(state, text, data, loader){\n\t\tvar finalResult;\n\t\tthis.callEvent(\"onBeforeSync\", [state, text, data, loader]);\n\n\t\tif(isArray(state)){ //saveAll results\n\t\t\tfinalResult = [];\n\t\t\tstate.forEach((one) => {\n\t\t\t\tfinalResult.push(this.processResult(one, one, {}));\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\tif (loader === -1){\n\t\t\t\t//callback from promise\n\t\t\t\tfinalResult = this.processResult(state, data, {});\n\t\t\t} else {\n\t\t\t\tvar proxy = this._settings.url;\n\t\t\t\tif (proxy.$proxy && proxy.result){\n\t\t\t\t\tfinalResult = proxy.result(state, this._settings.master, this, text,  data, loader) || {};\n\t\t\t\t} else {\n\t\t\t\t\tvar hash;\n\t\t\t\t\tif (text){\n\t\t\t\t\t\thash = data.json();\n\t\t\t\t\t\t//invalid response\n\t\t\t\t\t\tif (text && (hash === null || typeof hash == \"undefined\"))\n\t\t\t\t\t\t\thash = { status:\"error\" };\n\t\t\t\t\t}\n\t\t\t\t\tfinalResult = this.processResult(state, hash,  {text:text, data:data, loader:loader});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.callEvent(\"onAfterSync\", [state, text, data, loader]);\n\t\treturn finalResult;\n\t},\n\n\n\t/*! if it's defined escape function - call it\n\t *\t@param value\n\t *\t\tvalue to escape\n\t *\t@return\n\t *\t\tescaped value\n\t **/\n\tescape: function(value) {\n\t\tif (this._settings.escape)\n\t\t\treturn this._settings.escape(value);\n\t\telse\n\t\t\treturn encodeURIComponent(value);\n\t},\n\tgetState:function(){\n\t\tif (!this._updates.length) return false;\n\t\tfor (var i = this._updates.length - 1; i >= 0; i--)\n\t\t\tif (this._updates[i]._in_progress)\n\t\t\t\treturn \"saving\";\n\n\t\treturn true;\n\t},\n\tgetItemState:function(id){\n\t\tvar index = this._get_stack_index(id);\n\t\treturn this._updates[index] || null;\n\t},\n\tsetItemState:function(id, state){\n\t\tif (state){\n\t\t\tthis._save_inner(id, null, \"update\");\n\t\t} else{\n\t\t\tvar index = this._get_stack_index(id);\n\t\t\tif (index > -1)\n\t\t\t\tthis._updates.splice(index, 1);\n\t\t}\n\t},\n\t_get_stack_index: function(id) {\n\t\tvar index = -1;\n\t\tfor (var i=0; i < this._updates.length; i++)\n\t\t\tif (this._updates[i].id == id) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\treturn index;\n\t}\n\n}, Settings, EventSystem, ValidateData);","import {extend, _to_array, uid, isUndefined, copy, isArray, bind} from \"../webix/helpers\";\nimport {$$} from \"../ui/core\";\nimport {assert} from \"../webix/debug\";\nimport {callEvent} from \"../webix/customevents\";\n\nimport EventSystem from \"./eventsystem\";\nimport DataDriver from \"../load/drivers/index\";\n\n\n\n\n/*\n\tDataStore is not a behavior, it standalone object, which represents collection of data.\n\tCall provideAPI to map data API\n\n\t@export\n\t\texists\n\t\tgetIdByIndex\n\t\tgetIndexById\n\t\tget\n\t\tset\n\t\trefresh\n\t\tcount\n\t\tsort\n\t\tfilter\n\t\tnext\n\t\tprevious\n\t\tclearAll\n\t\tfirst\n\t\tlast\n*/\n\nfunction DataStore(){\n\tthis.name = \"DataStore\";\n\t\n\textend(this, EventSystem);\n\n\tthis.setDriver(\"json\");\t//default data source is an\n\tthis.pull = {};\t\t\t\t\t\t//hash of IDs\n\tthis.order = _to_array();\t\t//order of IDs\n\tthis._marks = {};\n}\n\nDataStore.prototype={\n\t//defines type of used data driver\n\t//data driver is an abstraction other different data formats - xml, json, csv, etc.\n\tsetDriver:function(type){\n\t\tassert(DataDriver[type],\"incorrect DataDriver\");\n\t\tthis.driver = DataDriver[type];\n\t},\n\t//process incoming raw data\n\t_parse:function(data){\n\t\tthis.callEvent(\"onParse\", [this.driver, data]);\n\n\t\tif (this._filter_order)\n\t\t\tthis.filter();\n\t\n\t\t//get size and position of data\n\t\tvar info = this.driver.getInfo(data);\n\n\t\tif (info.config)\n\t\t\tthis.callEvent(\"onServerConfig\",[info.config]);\n\n\t\tvar options = this.driver.getOptions(data);\n\t\tif (options)\n\t\t\tthis.callEvent(\"onServerOptions\", [options]);\n\n\t\t//get array of records\n\t\tvar recs = this.driver.getRecords(data);\n\n\t\tthis._inner_parse(info, recs);\n\n\t\t//in case of tree store we may want to group data\n\t\tif (this._scheme_group && this._group_processing && !this._not_grouped_order)\n\t\t\tthis._group_processing(this._scheme_group);\n\n\t\t//optional data sorting\n\t\tif (this._scheme_sort){\n\t\t\tthis.blockEvent();\n\t\t\tthis.sort(this._scheme_sort);\n\t\t\tthis.unblockEvent();\n\t\t}\n\n\t\tthis.callEvent(\"onStoreLoad\",[this.driver, data]);\n\t\t//repaint self after data loading\n\t\tthis.refresh();\n\t},\n\t_inner_parse:function(info, recs){\n\t\tvar from = info.from;\n\t\tvar subload = true;\n\t\tvar marks = false;\n\n\t\t//some data is loaded and new data doesn't have \"pos\" - assuming update\n\t\tif (!from && from !== 0 && this.order[0]){\n\t\t\tif (this._removeMissed){\n\t\t\t\t//update mode, create kill list\n\t\t\t\tmarks = {};\n\t\t\t\tfor (let i=0; i<this.order.length; i++)\n\t\t\t\t\tmarks[this.order[i]]=true;\n\t\t\t}\n\t\t\t\n\t\t\tsubload = false;\n\t\t\tfrom = this.order.length;\n\t\t} else \n\t\t\tfrom = (from || 0)*1;\n\n\t\tvar j=0;\n\t\tfor (let i=0; i<recs.length; i++){\n\t\t\t//get hash of details for each record\n\t\t\tvar temp = this.driver.getDetails(recs[i]);\n\t\t\tvar id = this.id(temp); \t//generate ID for the record\n\t\t\tif (!this.pull[id]){\t\t//if such ID already exists - update instead of insert\n\t\t\t\tthis.order[j+from]=id;\t\n\t\t\t\tj++;\n\t\t\t} else if (subload && this.order[j+from])\n\t\t\t\tj++;\n\n\t\t\tif(this.pull[id]){\n\t\t\t\textend(this.pull[id],temp,true);//add only new properties\n\t\t\t\tif (this._scheme_update)\n\t\t\t\t\tthis._scheme_update(this.pull[id]);\n\t\t\t\t//update mode, remove item from kill list\n\t\t\t\tif (marks)\n\t\t\t\t\tdelete marks[id];\n\t\t\t} else{\n\t\t\t\tthis.pull[id] = temp;\n\t\t\t\tif (this._scheme_init)\n\t\t\t\t\tthis._scheme_init(temp);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t//update mode, delete items which are not existing in the new xml\n\t\tif (marks){\n\t\t\tthis.blockEvent();\n\t\t\tfor (var delid in marks)\n\t\t\t\tthis.remove(delid);\n\t\t\tthis.unblockEvent();\n\t\t}\n\n\t\tvar endpos = info.size * 1;\n\t\tif (endpos) {\n\t\t\tif (!this.order[endpos-1])\n\t\t\t\tthis.order[endpos-1] = undefined;\n\t\t\tif (endpos < this.order.length)\n\t\t\t\tthis.order = this.order.slice(0, endpos);\n\t\t}\n\t},\n\t//generate id for data object\n\tid:function(data){\n\t\treturn data.id||(data.id=uid());\n\t},\n\tchangeId:function(old, newid){\n\t\t//assert(this.pull[old],\"Can't change id, for non existing item: \"+old);\n\t\tif(old == newid) return;\n\t\t\n\t\tif(this.pull[old])\n\t\t\tthis.pull[newid] = this.pull[old];\n\t\t\n\t\tthis.pull[newid].id = newid;\n\t\tthis.order[this.order.find(old)]=newid;\n\t\tif (this._filter_order)\n\t\t\tthis._filter_order[this._filter_order.find(old)]=newid;\n\t\tif (this._marks[old]){\n\t\t\tthis._marks[newid] = this._marks[old];\n\t\t\tdelete this._marks[old];\n\t\t}\n\n\n\t\tthis.callEvent(\"onIdChange\", [old, newid]);\n\t\tif (this._render_change_id)\n\t\t\tthis._render_change_id(old, newid);\n\t\tdelete this.pull[old];\n\t},\n\t//get data from hash by id\n\tgetItem:function(id){\n\t\treturn this.pull[id];\n\t},\n\t//assigns data by id\n\tupdateItem:function(id, update, mode){\n\t\tif (typeof id === \"object\")\n\t\t\tid = id.toString();\n\n\t\tvar data = this.getItem(id);\n\t\tvar old = null;\n\n\t\t//check is change tracking active\n\t\tvar changeTrack = this.hasEvent(\"onDataUpdate\");\n\t\n\t\tassert(data, \"Invalid ID for updateItem\");\n\t\tassert(!update || !update.id || update.id == id, \"Attempt to change ID in updateItem\");\n\t\tif (!isUndefined(update) && data !== update){\n\t\t\t//preserve original object\n\t\t\tif (changeTrack)\n\t\t\t\told = copy(data);\n\n\t\t\tid = data.id;\t//preserve id\n\t\t\textend(data, update, true);\n\t\t\tdata.id = id;\n\t\t}\n\n\t\tif (this._scheme_update)\n\t\t\tthis._scheme_update(data);\n\n\t\tthis.callEvent(\"onStoreUpdated\",[id, data, (mode||\"update\")]);\n\n\t\tif (changeTrack)\n\t\t\tthis.callEvent(\"onDataUpdate\", [id, data, old]);\n\t},\n\t//sends repainting signal\n\trefresh:function(id){\n\t\tif (this._skip_refresh) return; \n\t\t\n\t\tif (id){\n\t\t\tif (this.exists(id))\n\t\t\t\tthis.callEvent(\"onStoreUpdated\",[id, this.pull[id], \"paint\"]);\n\t\t}else\n\t\t\tthis.callEvent(\"onStoreUpdated\",[null,null,null]);\n\t},\n\tsilent:function(code, master){\n\t\tthis._skip_refresh = true;\n\t\tcode.call(master||this);\n\t\tthis._skip_refresh = false;\n\t},\n\t//converts range IDs to array of all IDs between them\n\tgetRange:function(from,to){\t\t\n\t\t//if some point is not defined - use first or last id\n\t\t//BEWARE - do not use empty or null ID\n\t\tif (from)\n\t\t\tfrom = this.getIndexById(from);\n\t\telse \n\t\t\tfrom = (this.$min||this.startOffset)||0;\n\t\tif (to)\n\t\t\tto = this.getIndexById(to);\n\t\telse {\n\t\t\tto = this.$max === 0 ? 0 : Math.min((this.$max?this.$max-1:(this.endOffset||Infinity)),(this.count()-1));\n\t\t\tif (to<0) to = 0; //we have not data in the store\n\t\t}\n\n\t\tif (from>to){ //can be in case of backward shift-selection\n\t\t\tvar a=to; to=from; from=a;\n\t\t}\n\n\t\treturn this.getIndexRange(from,to);\n\t},\n\t//converts range of indexes to array of all IDs between them\n\tgetIndexRange:function(from,to){\n\t\tto=Math.min((to === 0 ? 0 :(to||Infinity)),this.count()-1);\n\t\t\n\t\tvar ret=_to_array(); //result of method is rich-array\n\t\tfor (var i=(from||0); i <= to; i++)\n\t\t\tret.push(this.getItem(this.order[i]));\n\t\treturn ret;\n\t},\n\t//returns total count of elements\n\tcount:function(){\n\t\treturn this.order.length;\n\t},\n\t//returns truy if item with such ID exists\n\texists:function(id){\n\t\treturn !!(this.pull[id]);\n\t},\n\t//nextmethod is not visible on component level, check DataMove.move\n\t//moves item from source index to the target index\n\tmove:function(sindex,tindex){\n\t\tassert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\n\t\tif (sindex == tindex) return;\n\n\t\tvar id = this.getIdByIndex(sindex);\n\t\tvar obj = this.getItem(id);\n\n\t\tif (this._filter_order)\n\t\t\tthis._move_inner(this._filter_order, 0, 0, this.getIdByIndex(sindex), this.getIdByIndex(tindex));\n\n\t\tthis._move_inner(this.order, sindex, tindex);\n\t\t\n\t\t\n\t\t//repaint signal\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"move\"]);\n\t},\n\t_move_inner:function(col, sindex, tindex, sid, tid){\n\t\tif (sid||tid){\n\t\t\tsindex = tindex = -1;\n\t\t\tfor (var i=0; i<col.length; i++){\n\t\t\t\tif (col[i] == sid && sindex<0)\n\t\t\t\t\tsindex = i;\n\t\t\t\tif (col[i] == tid && tindex<0)\n\t\t\t\t\ttindex = i;\n\t\t\t}\n\t\t}\n\t\tvar id = col[sindex];\n\t\tcol.removeAt(sindex);\t//remove at old position\n\t\tcol.insertAt(id,Math.min(col.length, tindex));\t//insert at new position\n\t},\n\tscheme:function(config){\n\t\tthis._scheme = {};\n\t\tthis._scheme_save = config.$save;\n\t\tthis._scheme_init = config.$init||config.$change;\n\t\tthis._scheme_update = config.$update||config.$change;\n\t\tthis._scheme_serialize = config.$serialize;\n\t\tthis._scheme_group = config.$group;\n\t\tthis._scheme_sort = config.$sort;\n\t\tthis._scheme_export = config.$export;\n\n\t\t//ignore $-starting properties, as they have special meaning\n\t\tfor (var key in config)\n\t\t\tif (key.substr(0,1) != \"$\")\n\t\t\t\tthis._scheme[key] = config[key];\n\t},\n\timportData:function(target, silent){\n\t\tvar data = target ? (target.data || target) : [];\n\t\tthis._filter_order = null;\n\n\t\tif (typeof data.serialize == \"function\"){\n\t\t\tthis.order = _to_array([].concat(data.order));\n\n\t\t\t//make full copy, to preserve object properties\n\t\t\t//[WE-CAN-DO-BETTER]\n\t\t\tif (this._make_full_copy){\n\t\t\t\tthis._make_full_copy = false;\n\t\t\t\tvar oldpull = this.pull;\n\t\t\t\tthis.pull = {};\n\t\t\t\tfor (let key in data.pull){\n\t\t\t\t\tvar old = oldpull[key];\n\t\t\t\t\tthis.pull[key] = copy(data.pull[key]);\n\t\t\t\t\tif (old && old.open) this.pull[key].open = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.pull = {};\n\t\t\t\tfor (let key in data.pull)\n\t\t\t\t\tthis.pull[key] = data.pull[key];\n\t\t\t}\n\n\t\t\tif (data.branch && this.branch){\n\t\t\t\tthis.branch = copy(data.branch);\n\t\t\t\tthis._filter_branch = null;\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.order = _to_array();\n\t\t\tthis.pull = {};\n\t\t\tvar id, obj;\n\n\t\t\tif (isArray(target))\n\t\t\t\tfor (let key=0; key<target.length; key++){\n\t\t\t\t\tobj = id = target[key];\n\t\t\t\t\tif (typeof obj == \"object\")\n\t\t\t\t\t\tobj.id  = obj.id || uid();\n\t\t\t\t\telse\n\t\t\t\t\t\tobj = { id:id, value:id };\n\n\t\t\t\t\tthis.order.push(obj.id);\n\t\t\t\t\tif (this._scheme_init)\n\t\t\t\t\t\tthis._scheme_init(obj);\n\t\t\t\t\tthis.pull[obj.id] = obj;\n\t\t\t\t}\n\t\t\telse\n\t\t\t\tfor (let key in data){\n\t\t\t\t\tthis.order.push(key);\n\t\t\t\t\tthis.pull[key] = { id:key, value: data[key] };\n\t\t\t\t}\n\t\t}\n\t\tif (this._extraParser && !data.branch){\n\t\t\tthis.branch = { 0:[]};\n\t\t\tif (!this._datadriver_child)\n\t\t\t\tthis._set_child_scheme(\"data\");\n\n\t\t\tfor (var i = 0; i<this.order.length; i++){\n\t\t\t\tvar key = this.order[i];\n\t\t\t\tthis._extraParser(this.pull[key], 0, 0, false);\n\t\t\t}\n\t\t}\n\n\t\tthis.callEvent(\"onStoreLoad\",[]);\n\t\tif (!silent)\n\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\n\t},\n\tsync:function(source, filter, silent){\n\t\tthis.unsync();\n\n\t\tvar type = typeof source;\n\t\tif (type == \"string\")\n\t\t\tsource = $$(source);\n\n\t\tif (type != \"function\" && type != \"object\"){\n\t\t\tsilent = filter;\n\t\t\tfilter = null;\n\t\t}\n\t\t\n\t\tif (source.name != \"DataStore\" && source.name != \"TreeStore\"){\n\t\t\tif (source.data && (source.data.name === \"DataStore\" || source.data.name === \"TreeStore\"))\n\t\t\t\tsource = source.data;\n\t\t\telse {\n\t\t\t\tthis._sync_source = source;\n\t\t\t\treturn callEvent(\"onSyncUnknown\", [this, source, filter]);\n\t\t\t}\n\t\t}\n\n\t\tvar\tsync_logic = bind(function(id, data, mode){\n\t\t\tif (this._skip_next_sync) return;\n\n\t\t\t//sync of tree-structure with after-filtering\n\t\t\t//we need to make a full copy, to preserve $count\n\t\t\t//[WE-CAN-DO-BETTER]\n\t\t\tif (filter && this.branch) this._make_full_copy = true;\n\t\t\tthis.importData(source, true);\n\t\t\t\n\t\t\tif (filter)\n\t\t\t\tthis.silent(filter);\n\t\t\tif (this._on_sync)\n\t\t\t\tthis._on_sync();\n\n\t\t\tif(!(id && data && mode))//clearall\n\t\t\t\tthis._marks = {};\n\t\t\tif(mode ==\"delete\" && this._marks[id])\n\t\t\t\tdelete this._marks[id];\n\n\t\t\tthis.callEvent(\"onSyncApply\",[]);\n\n\t\t\tif (!silent) \n\t\t\t\tthis.refresh();\n\t\t\telse\n\t\t\t\tsilent = false;\n\t\t}, this);\n\n\n\n\t\tthis._sync_events = [\n\t\t\tsource.attachEvent(\"onStoreUpdated\", sync_logic),\n\t\t\tsource.attachEvent(\"onIdChange\", bind(function(old, nid){ this.changeId(old, nid); this.refresh(nid); }, this))\n\t\t];\n\t\tthis._sync_source = source;\n\n\t\t//backward data saving\n\t\tthis._back_sync_handler = this.attachEvent(\"onStoreUpdated\", function(id, data, mode){\n\t\t\tif (mode == \"update\" || mode == \"save\"){\n\t\t\t\tthis._skip_next_sync = 1;\n\t\t\t\tsource.updateItem(id, data);\n\t\t\t\tthis._skip_next_sync = 0;\n\t\t\t}\n\t\t});\n\n\t\tsync_logic();\n\t},\n\tunsync:function(){\n\t\tif (this._sync_source){\n\t\t\tvar source = this._sync_source;\n\n\t\t\tif ((source.name != \"DataStore\" && source.name != \"TreeStore\") &&\n\t\t\t\t\t(!source.data || source.data.name != \"DataStore\" || source.data.name != \"TreeStore\")){\n\t\t\t\t//data sync with external component\n\t\t\t\tcallEvent(\"onUnSyncUnknown\", [this, source]);\n\t\t\t} else {\n\t\t\t\t//data sync with webix component\n\t\t\t\tfor (var i = 0; i < this._sync_events.length; i++)\n\t\t\t\t\tsource.detachEvent(this._sync_events[i]);\n\t\t\t\tthis.detachEvent(this._back_sync_handler);\n\t\t\t}\n\n\t\t\tthis._sync_source = null;\n\t\t}\n\t},\n\tdestructor:function(){\n\t\tthis.unsync();\n\n\t\tthis.pull = this.order = this._marks = null;\n\t\tthis._evs_events = this._evs_handlers = {};\n\t},\n\t//adds item to the store\n\tadd:function(obj,index){\n\t\t//default values\t\t\n\t\tif (this._scheme)\n\t\t\tfor (var key in this._scheme)\n\t\t\t\tif (isUndefined(obj[key]))\n\t\t\t\t\tobj[key] = this._scheme[key];\n\t\t\n\t\tif (this._scheme_init)\n\t\t\tthis._scheme_init(obj);\n\t\t\n\t\t//generate id for the item\n\t\tvar id = this.id(obj);\n\n\t\t//in case of treetable order is sent as 3rd parameter\n\t\tvar order = arguments[2]||this.order;\n\t\t\n\t\t//by default item is added to the end of the list\n\t\tvar data_size = order.length;\n\t\t\n\t\tif (isUndefined(index) || index < 0)\n\t\t\tindex = data_size; \n\t\t//check to prevent too big indexes\t\t\t\n\t\tif (index > data_size){\n\t\t\tassert(0, \"Warning\",\"DataStore:add\",\"Index of out of bounds\");\n\t\t\tindex = Math.min(order.length,index);\n\t\t}\n\t\tif (this.callEvent(\"onBeforeAdd\", [id, obj, index]) === false) return false;\n\n\t\tassert(!this.exists(id), \"Not unique ID\");\n\t\t\n\t\tthis.pull[id]=obj;\n\t\torder.insertAt(id,index);\n\t\tif (this._filter_order){\t//adding during filtering\n\t\t\t//we can't know the location of new item in full dataset, making suggestion\n\t\t\t//put at end of original dataset by default\n\t\t\tvar original_index = this._filter_order.length;\n\t\t\t//if some data exists, put at the same position in original and filtered lists\n\t\t\tif (this.order.length)\n\t\t\t\toriginal_index = Math.min((index || 0), original_index);\n\n\t\t\tthis._filter_order.insertAt(id,original_index);\n\t\t}\n\t\t\n\t\t//repaint signal\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"add\"]);\n\t\tthis.callEvent(\"onAfterAdd\",[id,index]);\n\n\t\treturn obj.id;\n\t},\n\t\n\t//removes element from datastore\n\tremove:function(id){\n\t\t//id can be an array of IDs - result of getSelect, for example\n\t\tif (isArray(id)){\n\t\t\tfor (var i=0; i < id.length; i++)\n\t\t\t\tthis.remove(id[i]);\n\t\t\treturn;\n\t\t}\n\t\tif (this.callEvent(\"onBeforeDelete\",[id]) === false) return false;\n\t\t\n\t\tassert(this.exists(id), \"Not existing ID in remove command\"+id);\n\n\t\tvar obj = this.getItem(id);\t//save for later event\n\t\t//clear from collections\n\t\tthis.order.remove(id);\n\t\tif (this._filter_order) \n\t\t\tthis._filter_order.remove(id);\n\t\t\t\n\t\tdelete this.pull[id];\n\t\tif (this._marks[id])\n\t\t\tdelete this._marks[id];\n\n\t\t//repaint signal\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"delete\"]);\n\t\tthis.callEvent(\"onAfterDelete\",[id]);\n\t},\n\t//deletes all records in datastore\n\tclearAll:function(soft){\n\t\t//instead of deleting one by one - just reset inner collections\n\t\tthis.pull = {};\n\t\tthis._marks = {};\n\t\tthis.order = _to_array();\n\t\t//this.feed = null;\n\t\tthis._filter_order = null;\n\t\tif (!soft)\n\t\t\tthis.url = null;\n\t\tthis.callEvent(\"onClearAll\",[soft]);\n\t\tthis.refresh();\n\t},\n\t//converts index to id\n\tgetIdByIndex:function(index){\n\t\tassert(index >= 0,\"DataStore::getIdByIndex Incorrect index\");\n\t\treturn this.order[index];\n\t},\n\t//converts id to index\n\tgetIndexById:function(id){\n\t\tif (!this.pull[id])\n\t\t\treturn -1;\n\t\telse\n\t\t\treturn this.order.find(id);\t//slower than getIdByIndex\n\t},\n\t//returns ID of next element\n\tgetNextId:function(id,step){\n\t\treturn this.order[this.getIndexById(id)+(step||1)];\n\t},\n\t//returns ID of first element\n\tgetFirstId:function(){\n\t\treturn this.order[0];\n\t},\n\t//returns ID of last element\n\tgetLastId:function(){\n\t\treturn this.order[this.order.length-1];\n\t},\n\t//returns ID of previous element\n\tgetPrevId:function(id,step){\n\t\treturn this.order[this.getIndexById(id)-(step||1)];\n\t},\n\t/*\n\t\tsort data in collection\n\t\t\tby - settings of sorting\n\n\t\tor\n\t\t\tby - array of settings\n\n\t\tor\n\n\t\t\tby - sorting function\n\t\t\tdir - \"asc\" or \"desc\"\n\n\t\tor\n\n\t\t\tby - property\n\t\t\tdir - \"asc\" or \"desc\"\n\t\t\tas - type of sortings\n\n\t\tSorting function will accept 2 parameters and must return 1,0,-1, based on desired order\n\t*/\n\tsort:function(by, dir, as){\n\t\tlet parameters;\n\t\tlet sort = by;\n\n\t\tif (isArray(sort)){\n\t\t\tsort = sort.map(a => this._sort_init(a));\n\t\t\tparameters = [sort];\n\t\t} else {\n\t\t\tsort = this._sort_init(by, dir, as);\n\t\t\tparameters = [sort.by, sort.dir, sort.as, sort];\n\t\t}\n\n\t\tif (!this.callEvent(\"onBeforeSort\", parameters)) return;\n\t\tconst sorter = this.sorting.create(sort);\n\n\t\tthis.order = this._sort_core(sorter, this.order);\n\t\tif (this._filter_order && this._filter_order.length != this.order.length)\n\t\t\tthis._filter_order = this._sort_core(sorter, this._filter_order);\n\n\t\t//repaint self\n\t\tthis.refresh();\n\t\t\n\t\tthis.callEvent(\"onAfterSort\", parameters);\n\t},\n\t_sort_init:function(by, dir, as){\n\t\tlet sort = by;\n\n\t\tif (typeof by == \"function\")\n\t\t\tsort = {as:by, dir:dir};\n\t\telse if (typeof by == \"string\")\n\t\t\tsort = {by:by, dir:dir, as:as};\n\n\t\tif (typeof sort.by == \"string\")\n\t\t\tsort.by = sort.by.replace(/#/g,\"\");\n\n\t\treturn sort;\n\t},\n\t_sort_core:function(sorter, order){\n\t\tif (this.order.length){\n\t\t\tvar pre = order.splice(0, this.$freeze);\n\t\t\t//get array of IDs\n\t\t\tvar neworder = _to_array();\n\t\t\tfor (var i=order.length-1; i>=0; i--)\n\t\t\t\tneworder[i] = this.pull[order[i]];\n\n\t\t\tneworder.sort(sorter);\n\t\t\treturn _to_array(pre.concat(neworder.map(function(obj){ \n\t\t\t\tassert(obj, \"Client sorting can't be used with dynamic loading\");\n\t\t\t\treturn this.id(obj);\n\t\t\t},this)));\n\t\t}\n\t\treturn order;\n\t},\n\t/*\n\t\tFilter datasource\n\t\t\n\t\ttext - property, by which filter\n\t\tvalue - filter mask\n\t\t\n\t\tor\n\t\t\n\t\ttext  - filter method\n\t\t\n\t\tFilter method will receive data object and must return true or false\n\t*/\n\t_filter_reset:function(preserve){\n\t\t//remove previous filtering , if any\n\t\tif (this._filter_order && !preserve){\n\t\t\tthis.order = this._filter_order;\n\t\t\tdelete this._filter_order;\n\t\t}\n\t},\n\t_filter_core:function(filter, value, preserve){\n\t\tvar neworder = _to_array();\n\t\tvar freeze = this.$freeze || 0;\n\t\t\n\t\tfor (var i=0; i < this.order.length; i++){\n\t\t\tvar id = this.order[i];\n\t\t\tif (i < freeze || filter(this.getItem(id),value))\n\t\t\t\tneworder.push(id);\n\t\t}\n\t\t//set new order of items, store original\n\t\tif (!preserve ||  !this._filter_order)\n\t\t\tthis._filter_order = this.order;\n\t\tthis.order = neworder;\n\t},\n\tfind:function(config, first){\n\t\tvar result = [];\n\n\t\tfor(var i in this.pull){\n\t\t\tvar data = this.pull[i];\n\n\t\t\tvar match = true;\n\t\t\tif (typeof config == \"object\"){\n\t\t\t\tfor (var key in config)\n\t\t\t\t\tif (data[key] != config[key]){\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t} else if (!config(data))\n\t\t\t\tmatch = false;\n\n\t\t\tif (match)\n\t\t\t\tresult.push(data);\n\t\t\t\n\t\t\tif (first && result.length)\n\t\t\t\treturn result[0];\n\t\t}\n\n\t\treturn first ? null : result;\n\t},\n\tfilter:function(text,value,preserve){\n\t\t//unfilter call but we already in not-filtered state\n\t\tif (!text && !this._filter_order && !this._filter_branch) return;\n\t\tif (!this.callEvent(\"onBeforeFilter\", [text, value])) return;\n\t\t\n\t\tthis._filter_reset(preserve);\n\t\tif (!this.order.length) return;\n\t\t\n\t\t//if text not define -just unfilter previous state and exit\n\t\tif (text){\n\t\t\tvar filter = text;\n\t\t\tvalue = value||\"\";\n\t\t\tif (typeof text == \"string\"){\n\t\t\t\ttext = text.replace(/#/g,\"\");\n\t\t\t\tif (typeof value == \"function\")\n\t\t\t\t\tfilter = function(obj){\n\t\t\t\t\t\treturn value(obj[text]);\n\t\t\t\t\t};\n\t\t\t\telse{\n\t\t\t\t\tvalue = value.toString().toLowerCase();\n\t\t\t\t\tfilter = function(obj,value){\t//default filter - string start from, case in-sensitive\n\t\t\t\t\t\tassert(obj, \"Client side filtering can't be used with dynamic loading\");\n\t\t\t\t\t\treturn (obj[text]||\"\").toString().toLowerCase().indexOf(value)!=-1;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._filter_core(filter, value, preserve, this._filterMode);\n\t\t}\n\t\t//repaint self\n\t\tthis.refresh();\n\t\t\n\t\tthis.callEvent(\"onAfterFilter\", []);\n\t},\n\t/*\n\t\tIterate through collection\n\t*/\n\t_obj_array:function(){\n\t\tvar data = [];\n\t\tfor (var i = this.order.length - 1; i >= 0; i--)\n\t\t\tdata[i]=this.pull[this.order[i]];\n\n\t\treturn data;\n\t},\n\teach:function(method, master, all){\n\t\tvar order = this.order;\n\t\tif (all)\n\t\t\torder = this._filter_order || order;\n\n\t\tfor (var i=0; i<order.length; i++){\n\t\t\tif(order[i])\n\t\t\t\tmethod.call((master||this), this.getItem(order[i]), i);\n\t\t}\n\t},\n\t_methodPush:function(object,method){\n\t\treturn function(){ return object[method].apply(object,arguments); };\n\t},\n\t/*\n\t\tmap inner methods to some distant object\n\t*/\n\tprovideApi:function(target,eventable){\n\t\t\t\n\t\tif (eventable){\n\t\t\tthis.mapEvent({\n\t\t\t\tonbeforesort:\ttarget,\n\t\t\t\tonaftersort:\ttarget,\n\t\t\t\tonbeforeadd:\ttarget,\n\t\t\t\tonafteradd:\t\ttarget,\n\t\t\t\tonbeforedelete:\ttarget,\n\t\t\t\tonafterdelete:\ttarget,\n\t\t\t\tondataupdate:\ttarget/*,\n\t\t\t\tonafterfilter:\ttarget,\n\t\t\t\tonbeforefilter:\ttarget*/\n\t\t\t});\n\t\t}\n\t\t\t\n\t\tvar list = [\"sort\",\"add\",\"remove\",\"exists\",\"getIdByIndex\",\"getIndexById\",\"getItem\",\"updateItem\",\"refresh\",\"count\",\"filter\",\"find\",\"getNextId\",\"getPrevId\",\"clearAll\",\"getFirstId\",\"getLastId\",\"serialize\",\"sync\"];\n\t\tfor (var i=0; i < list.length; i++)\n\t\t\ttarget[list[i]] = this._methodPush(this,list[i]);\n\t},\n\taddMark:function(id, mark, css, value, silent){\n\t\tvar obj = this._marks[id]||{};\n\t\tthis._marks[id] = obj;\n\t\tif (!obj[mark]){\n\t\t\tobj[mark] = value||true;\t\n\t\t\tif (css){\n\t\t\t\tvar old_css = obj.$css||\"\";\n\t\t\t\tobj.$css = old_css+\" \"+mark;\n\t\t\t}\n\t\t\tif (!silent)\n\t\t\t\tthis.refresh(id);\n\t\t}\n\t\treturn obj[mark];\n\t},\n\tremoveMark:function(id, mark, css, silent){\n\t\tvar obj = this._marks[id];\n\t\tif (obj){\n\t\t\tif (obj[mark])\n\t\t\t\tdelete obj[mark];\n\t\t\tif (css){\n\t\t\t\tvar current_css = obj.$css;\n\t\t\t\tif (current_css){\n\t\t\t\t\tobj.$css = current_css.replace(mark, \"\").replace(\"  \",\" \");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!silent) \n\t\t\t\tthis.refresh(id);\n\t\t}\n\t},\n\tgetMark:function(id, mark){\n\t\tvar obj = this._marks[id];\n\t\treturn (obj?obj[mark]:false);\n\t},\n\tclearMark:function(name, css, silent){\n\t\tfor (var id in this._marks){\n\t\t\tvar obj = this._marks[id];\n\t\t\tif (obj[name]){\n\t\t\t\tdelete obj[name];\n\t\t\t\tif (css && obj.$css)\n\t\t\t\t\tobj.$css = obj.$css.replace(name, \"\").replace(\"  \",\" \");\n\t\t\t\tif (!silent)\n\t\t\t\t\tthis.refresh(id);\n\t\t\t}\n\t\t}\n\t},\t\n\t/*\n\t\tserializes data to a json object\n\t*/\n\tserialize: function(all){\n\t\tvar ids = this.order;\n\t\tif (all && this._filter_order)\n\t\t\tids = this._filter_order;\n\n\t\tvar result = [];\n\t\tfor(var i=0; i< ids.length;i++) {\n\t\t\tvar el = this.pull[ids[i]];\n\t\t\tif (this._scheme_serialize){\n\t\t\t\tel = this._scheme_serialize(el);\n\t\t\t\tif (el===false) continue;\n\t\t\t}\n\t\t\tresult.push(el);\n\t\t}\n\t\treturn result;\n\t},\n\tsorting:{\n\t\tcreate:function(config){\n\t\t\tif (isArray(config))\n\t\t\t\treturn this._multi(config);\n\t\t\treturn this._dir(config.dir, this._by(config.by, config.as));\n\t\t},\n\t\tas:{\n\t\t\t//handled by dataFeed\n\t\t\t\"server\":function(){\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"date\":function(a,b){\n\t\t\t\ta = a-0; b = b-0;\n\t\t\t\tif (isNaN(b)) return 1;\n\t\t\t\tif (isNaN(a)) return -1;\n\n\t\t\t\treturn a>b?1:(a<b?-1:0);\n\t\t\t},\n\t\t\t\"int\":function(a,b){\n\t\t\t\ta = a*1; b = b*1;\n\t\t\t\tif (isNaN(b)) return 1;\n\t\t\t\tif (isNaN(a)) return -1;\n\n\t\t\t\treturn a>b?1:(a<b?-1:0);\n\t\t\t},\n\t\t\t\"string_strict\":function(a,b){\n\t\t\t\tif (!b) return 1;\n\t\t\t\tif (!a) return -1;\n\n\t\t\t\ta = a.toString(); b = b.toString();\n\t\t\t\treturn a>b?1:(a<b?-1:0);\n\t\t\t},\n\t\t\t\"string\":function(a,b){\n\t\t\t\tif (!b) return 1;\n\t\t\t\tif (!a) return -1;\n\n\t\t\t\ta = a.toString().toLowerCase(); b = b.toString().toLowerCase();\n\t\t\t\treturn a>b?1:(a<b?-1:0);\n\t\t\t},\n\t\t\t\"raw\":function(a,b){\n\t\t\t\treturn a>b?1:(a<b?-1:0);\n\t\t\t}\n\t\t},\n\t\t_multi:function(methods){\n\t\t\tmethods = methods.map(c => this._dir(c.dir, this._by(c.by, c.as)));\n\n\t\t\treturn function(a,b){\n\t\t\t\tlet result, i = 0;\n\t\t\t\tdo {\n\t\t\t\t\tresult = methods[i](a,b);\n\t\t\t\t} while(!result && methods[++i]);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t},\n\t\t_by:function(prop, method){\n\t\t\tif (!prop)\n\t\t\t\treturn method;\n\t\t\tif (typeof method != \"function\")\n\t\t\t\tmethod = this.as[method||\"string\"];\n\n\t\t\tassert(method, \"Invalid sorting method\");\n\t\t\treturn function(a,b){\n\t\t\t\treturn method(a[prop],b[prop]);\n\t\t\t};\n\t\t},\n\t\t_dir:function(prop, method){\n\t\t\tif (prop == \"asc\" || !prop)\n\t\t\t\treturn method;\n\t\t\treturn function(a,b){\n\t\t\t\treturn method(a,b)*-1;\n\t\t\t};\n\t\t}\n\t}\n};\n\n\nexport default DataStore;","import {ajax} from \"../load/ajax\";\nimport {bind, delay, extend, toFunctor, isArray} from \"../webix/helpers\";\nimport {proto} from \"../ui/core\";\n\nimport {dp} from \"../load/dataprocessor\";\nimport proxy from \"../load/proxy\";\nimport promise from \"../thirdparty/promiz\";\n\nimport DataStore from \"../core/datastore\";\nimport AtomDataLoader from \"../core/atomdataloader\";\n\n\n/*\n\tBehavior:DataLoader - load data in the component\n\t\n\t@export\n\t\tload\n\t\tparse\n*/\nconst DataLoader =proto({\n\t$init:function(config){\n\t\t//prepare data store\n\t\tconfig = config || \"\";\n\n\t\tthis._feed_last = {};\n\t\tthis._data_generation = 1;\n\n\t\tthis.data = new DataStore();\n\t\tthis.data.attachEvent(\"onClearAll\",bind(this._call_onclearall,this));\n\t\tthis.data.attachEvent(\"onServerConfig\", bind(this._call_on_config, this));\n\t\tthis.attachEvent(\"onDestruct\", this._call_onclearall);\n\n\t\tthis.data.feed = this._feed;\n\t\tthis.data.owner = config.id;\n\t},\n\t_feed:function(from,count,callback,defer){\n\t\t//allow only single request at same time\n\t\tif (this._load_count){\n\t\t\tdefer = promise.defer();\n\t\t\tthis._load_count=[from,count,callback,defer];\t//save last ignored request\n\t\t\treturn defer;\n\t\t}\n\t\telse\n\t\t\tthis._load_count=true;\n\t\tthis._feed_last.from = from;\n\t\tthis._feed_last.count = count;\n\t\treturn this._feed_common.call(this, from, count, callback, false, false, defer);\n\t},\n\t_feed_common:function(from, count, callback, url, details, defer){\n\t\tvar state = null;\n\t\turl = url || this.data.url;\n\n\t\tif (from<0) from = 0;\n\n\t\tif(!details)\n\t\t\tdetails = { start: from, count:count };\n\n\t\tif(this.count())\n\t\t\tdetails[\"continue\"] = \"true\";\n\n\t\tif (this.getState)\n\t\t\tstate = this.getState();\n\n\t\t// proxy\n\t\tif (url && typeof url != \"string\"){\n\t\t\tif (state){\n\t\t\t\tif (state.sort)\n\t\t\t\t\tdetails.sort = state.sort;\n\t\t\t\tif (state.filter)\n\t\t\t\t\tdetails.filter = state.filter;\n\t\t\t}\n\t\t\treturn this.load(url, 0, details).then(\n\t\t\t\tdata => this._feed_on_load(data, callback, defer),\n\t\t\t\t() => this._feed_callback()\n\t\t\t);\n\t\t} else { // GET\n\t\t\turl = url+((url.indexOf(\"?\")==-1)?\"?\":\"&\");\n\n\t\t\tvar params = [];\n\t\t\tfor(var d in details){\n\t\t\t\tparams.push(d+\"=\"+details[d]);\n\t\t\t}\n\t\t\tif (state){\n\t\t\t\tif (state.sort){\n\t\t\t\t\tvar sort = isArray(state.sort) ? state.sort : [state.sort];\n\t\t\t\t\tfor (var i=0; i<sort.length; i++)\n\t\t\t\t\t\tparams.push(\"sort[\"+sort[i].id+\"]=\"+encodeURIComponent(sort[i].dir));\n\t\t\t\t}\n\t\t\t\tif (state.filter)\n\t\t\t\t\tfor (var key in state.filter){\n\t\t\t\t\t\tvar filterValue = state.filter[key];\n\t\t\t\t\t\tif(typeof filterValue == \"object\")\n\t\t\t\t\t\t\tfilterValue = ajax().stringify(filterValue); //server daterangefilter\n\t\t\t\t\t\tparams.push(\"filter[\"+key+\"]=\"+encodeURIComponent(filterValue));\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\turl += params.join(\"&\");\n\t\t\tif (this._feed_last.url !== url){\n\t\t\t\tthis._feed_last.url = url;\n\t\t\t\treturn this.load(url).then(\n\t\t\t\t\tdata => this._feed_on_load(data, callback, defer),\n\t\t\t\t\t() => this._feed_callback()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis._load_count = false;\n\t\t\t\treturn promise.reject();\n\t\t\t}\n\t\t}\n\t},\n\t_feed_on_load:function(data, callback, defer){\n\t\tdelay(()=> this._feed_callback(), \"\", \"\", 100);\n\t\tif(callback)\n\t\t\tajax.$callback(this, callback, data);\n\t\tif(defer)\n\t\t\tdefer.resolve(data);\n\t\treturn data;\n\t},\n\t_feed_callback:function(){\n\t\t//after loading check if we have some ignored requests\n\t\tvar temp = this._load_count;\n\t\tthis._load_count = false;\n\t\tif (typeof temp ==\"object\")\n\t\t\tthis.data.feed.apply(this, temp);\t//load last ignored request\n\t},\n\t//loads data from external URL\n\tload:function(url){\n\t\turl = proxy.$parse(url);\n\t\tvar ajax = AtomDataLoader.load.apply(this, arguments);\n\n\t\t//prepare data feed for dyn. loading\n\t\tif (!this.data.url)\n\t\t\tthis.data.url = url;\n\n\t\treturn ajax;\n\t},\n\t//load next set of data rows\n\tloadNext:function(count, start, callback, url, now){\n\t\tvar config = this._settings;\n\t\tif (config.datathrottle && !now){\n\t\t\tif (this._throttle_request)\n\t\t\t\twindow.clearTimeout(this._throttle_request);\n\n\t\t\tlet defer = promise.defer();\n\t\t\tthis._throttle_request = delay(function(){\n\t\t\t\tdefer.resolve(this.loadNext(count, start, callback, url, true));\n\t\t\t},this, 0, config.datathrottle);\n\t\t\treturn defer;\n\t\t}\n\n\t\tif (!start && start !== 0) start = this.count();\n\t\tif (!count)\n\t\t\tcount = config.datafetch || this.count();\n\n\t\tthis.data.url = this.data.url || url;\n\t\tif (this.callEvent(\"onDataRequest\", [start,count,callback,url]) && this.data.url)\n\t\t\treturn this.data.feed.call(this, start, count, callback);\n\t\treturn promise.reject();\n\t},\n\t_maybe_loading_already:function(count, from){\n\t\tvar last = this._feed_last;\n\t\tif(this._load_count && last.url){\n\t\t\tif (last.from<=from && (last.count+last.from >= count + from )) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tremoveMissed_setter:function(value){\n\t\treturn (this.data._removeMissed = value);\n\t},\n\t//init of dataprocessor delayed after all settings processing\n\t//because it need to be the last in the event processing chain\n\t//to get valid validation state\n\t_init_dataprocessor:function(){\n\t\tvar url = this._settings.save;\n\n\t\tif (url === true)\n\t\t\turl = this._settings.save = this._settings.url;\n\n\t\tvar obj = { master: this };\n\t\t\n\t\tif (url && url.url)\n\t\t\textend(obj, url);\n\t\telse\n\t\t\tobj.url = url;\n\n\t\tdp(obj);\n\t},\n\tsave_setter:function(value){\n\t\tif (value)\n\t\t\tthis.$ready.push(this._init_dataprocessor);\n\n\t\treturn value;\n\t},\n\twaitSave:function(handler){\n\t\treturn dp(this)._promise(() => {\n\t\t\thandler.call(this);\n\t\t}).then(many => many.length == 1 ? many[0] : many);\n\t},\n\tscheme_setter:function(value){\n\t\tthis.data.scheme(value);\n\t},\n\tdataFeed_setter:function(value){\n\t\tvalue = proxy.$parse(value);\n\n\t\tthis.data.attachEvent(\"onBeforeFilter\", bind(function(text, filtervalue){\n\t\t\tvar result;\n\n\t\t\t//complex filtering, can't be routed to dataFeed\n\t\t\tif (typeof text == \"function\") return true;\n\n\t\t\t//we have dataFeed and some text\n\t\t\tif (this._settings.dataFeed && (text || filtervalue)){\n\t\t\t\ttext = text || \"id\";\n\t\t\t\tif (filtervalue && typeof filtervalue == \"object\")\n\t\t\t\t\tfiltervalue = filtervalue.id;\n\n\t\t\t\tvar url = this._settings.dataFeed;\n\n\t\t\t\t//url data feed\n\t\t\t\tif(typeof url ==\"string\"){\n\t\t\t\t\tvar urldata = \"filter[\"+text+\"]=\"+encodeURIComponent(filtervalue);\n\t\t\t\t\tresult = this._fetch(\n\t\t\t\t\t\turl+(url.indexOf(\"?\")<0?\"?\":\"&\")+urldata,\n\t\t\t\t\t\tthis._settings.datatype\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t//js data feed\n\t\t\t\telse{\n\t\t\t\t\tvar filter = {};\n\t\t\t\t\tfilter[text] = filtervalue;\n\t\t\t\t\tif (typeof url == \"function\"){\n\t\t\t\t\t\tresult = url.call(this, filtervalue, filter);\n\t\t\t\t\t} else if (url.$proxy && url.load) {\n\t\t\t\t\t\tresult = url.load(this, { filter });\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (result){\n\t\t\t\t\tif (!result.then)\n\t\t\t\t\t\tresult = promise.resolve(result);\n\n\t\t\t\t\tresult.then(\n\t\t\t\t\t\tdata => {\n\t\t\t\t\t\t\tthis.clearAll();\n\t\t\t\t\t\t\tthis._onLoad(data);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tx => this._onLoadError(x)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},this));\n\t\treturn value;\n\t},\n\t_call_onready:function(){\n\t\tif (this._settings.ready && !this._ready_was_used){\n\t\t\tvar code = toFunctor(this._settings.ready, this.$scope);\n\t\t\tif (code)\n\t\t\t\tdelay(code, this, arguments);\n\t\t\tif (this.callEvent)\n\t\t\t\tdelay(this.callEvent, this, [\"onReady\", []]);\n\t\t\tthis._ready_was_used = true;\n\t\t}\n\t},\n\t_call_onclearall:function(soft){\n\t\tthis._data_generation++;\n\t\tif (!soft){\n\t\t\tthis._load_count = false;\n\t\t\tthis._feed_last = {};\n\t\t\tthis.waitData = promise.defer();\n\t\t}\n\t},\n\t_call_on_config:function(config){\n\t\tthis._parseSeetingColl(config);\n\t}\n},AtomDataLoader);\n\n\n\nexport default DataLoader;","import {isArray} from \"../webix/helpers\";\n\nconst DataState = {\n\tgetState:function(){\n\t\tvar cols_n = this.config.columns.length;\n\t\tvar columns = this.config.columns;\n\t\tvar settings = { \n\t\t\tids:[],\n\t\t\tsize:[],\n\t\t\tselect:this.getSelectedId(true),\n\t\t\tscroll:this.getScrollState()\n\t\t};\n\t\tfor(var i = 0; i < cols_n; i++){\n\t\t\tvar col = columns[i];\n\t\t\tsettings.ids.push(col.id);\n\t\t\tsettings.size.push((col.fillspace || col.adjust) ? -1 : col.width);\n\t\t}\n\n\t\tsettings.order = [].concat(this._hidden_column_order.length ? this._hidden_column_order : settings.ids);\n\n\t\tif (this._last_order.length){\n\t\t\tvar sort = this._last_order.map(id => {\n\t\t\t\treturn { id:id, dir:this._last_sorted[id].dir };\n\t\t\t});\n\t\t\tsettings.sort = (sort.length == 1) ? sort[0] : sort;\n\t\t}\n\n\t\t//this method will try to access the rendered values\n\t\t//just ignore it if grid is not rendered yet\n\t\tif (this._filter_elements && this._dtable_fully_ready) {\n\t\t\tvar filter = {};\n\t\t\tvar any_filter = 0;\n\t\t\tfor (let key in this._filter_elements) {\n\t\t\t\tif (this._hidden_column_hash[key]) continue;\n\n\t\t\t\tvar f = this._filter_elements[key];\n\t\t\t\tf[1].value = filter[key] = f[2].getValue(f[0]);\n\t\t\t\tany_filter = 1;\n\t\t\t}\n\t\t\tif (any_filter)\n\t\t\t\tsettings.filter=filter;\n\t\t}\n\n\t\tsettings.hidden = [];\n\t\tfor (let key in this._hidden_column_hash)\n\t\t\tsettings.hidden.push(key);\n\t\t\n\t\treturn settings;\n\t},\n\tsetState:function(obj){\n\t\tvar columns = this.config.columns;\n\t\tif(!obj) return;\n\n\t\tthis.markSorting();\n\t\tthis._last_order = [];\n\t\tthis._last_sorted = {};\n\n\t\tthis.blockEvent();\n\n\t\tif (obj.order && obj.order.length){\n\t\t\tthis._hidden_column_order = [].concat(obj.order);\n\t\t\tthis._hidden_split = [ this._settings.leftSplit, obj.order.length - this._settings.rightSplit ];\n\t\t}\n\n\t\tif (obj.hidden){\n\t\t\tvar hihash = {};\n\t\t\tfor (let i=0; i<obj.hidden.length; i++){\n\t\t\t\thihash[obj.hidden[i]] = true;\n\t\t\t\tif(!this._hidden_column_order.length)\n\t\t\t\t\tthis.hideColumn(obj.hidden[i]);\n\t\t\t}\n\n\t\t\tif(this._hidden_column_order.length){\n\t\t\t\tfor (let i=0; i<this._hidden_column_order.length; i++){\n\t\t\t\t\tvar hikey = this._hidden_column_order[i];\n\t\t\t\t\tif (!!hihash[hikey] == !this._hidden_column_hash[hikey])\n\t\t\t\t\t\tthis.hideColumn(hikey, {}, false, !!hihash[hikey]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (obj.ids){\n\t\t\tvar reorder = false;\n\t\t\tfor (let i=0; i<columns.length; i++)\n\t\t\t\tif (columns[i].id != obj.ids[i])\n\t\t\t\t\treorder = true;\n\t\t\tif (reorder){\n\t\t\t\tfor (let i=0; i<obj.ids.length; i++)\n\t\t\t\t\tcolumns[i] = this.getColumnConfig(obj.ids[i]) || columns[i];\n\t\t\t\tthis.refreshColumns();\n\t\t\t}\n\t\t}\n\n\t\tif (obj.size){\n\t\t\tvar cols_n = Math.min(obj.size.length, columns.length);\n\t\t\tfor(let i = 0; i < cols_n; i++){\n\t\t\t\tvar col = columns[i];\n\t\t\t\tif(col && obj.size[i] > 0 && col.width != obj.size[i]){\n\t\t\t\t\tdelete col.fillspace;\n\t\t\t\t\tdelete col.adjust;\n\t\t\t\t\tthis._setColumnWidth( i, obj.size[i], true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.unblockEvent();\n\n\t\tvar silent = !(this._settings.leftSplit || this._settings.rightSplit);\n\t\tthis._updateColsSizeSettings(silent);\n\t\tthis.callEvent(\"onStructureUpdate\", []);\n\n\t\tif (obj.sort){\n\t\t\tlet sort = obj.sort, multi = true;\n\t\t\tif (!isArray(sort)){\n\t\t\t\tsort = [sort]; multi = false;\n\t\t\t}\n\t\t\tfor (let i=0; i<sort.length; i++){\n\t\t\t\tconst col = this.getColumnConfig(sort[i].id);\n\t\t\t\tif (col)\n\t\t\t\t\tthis._sort(col.id, sort[i].dir, col.sort, multi);\n\t\t\t}\n\t\t}\n\n\t\tif (obj.filter){\n\t\t\t//temporary disable filtering \n\t\t\tlet temp = this.filterByAll;\n\t\t\tthis.filterByAll = function(){};\n\n\t\t\t//apply defined filters\n\t\t\tfor (let key in obj.filter) {\n\t\t\t\tlet value = obj.filter[key];\n\t\t\t\tif (!value) continue;\n\n\t\t\t\tif (!this._filter_elements[key]) continue;\n\t\t\t\tlet f = this._filter_elements[key];\n\t\t\t\tf[2].setValue(f[0], value);\n\t\t\t\tvar contentid = f[1].contentId;\n\t\t\t\tif (contentid)\n\t\t\t\t\tthis._active_headers[contentid].value = value;\n\t\t\t}\n\n\t\t\t//remove old filters\n\t\t\tfor (let key in this._filter_elements){\n\t\t\t\tif (!obj.filter[key]){\n\t\t\t\t\tlet f = this._filter_elements[key];\n\t\t\t\t\tf[2].setValue(f[0], \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t//restore and apply filtering\n\t\t\tthis.filterByAll = temp;\n\t\t\tthis.filterByAll();\n\t\t}\n\n\t\tif (obj.select && this.select){\n\t\t\tlet select = obj.select;\n\t\t\tthis.unselect();\n\t\t\tfor (let i = 0; i < select.length; i++)\n\t\t\t\tif (!select[i].row || this.exists(select[i].row))\n\t\t\t\t\tthis._select(select[i], true);\n\t\t}\n\n\t\tif(obj.scroll)\n\t\t\tthis.scrollTo(obj.scroll.x, obj.scroll.y);\n\t}\n};\n\nexport default DataState;","import {pos, offset} from \"../webix/html\";\nimport {use} from \"../services\";\nimport env from \"../webix/env\";\nimport Touch from \"../core/touch\";\nimport {extend, delay, _power_array, isArray} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport DragControl from \"../core/dragcontrol\";\nimport AutoScroll from \"../core/autoscroll\";\n\n\n/*\n\tBehavior:DragItem - adds ability to move items by dnd\n\t\n\tdnd context can have next properties\n\t\tfrom - source object\n\t\tto - target object\n\t\tsource - id of dragged item(s)\n\t\ttarget - id of drop target, null for drop on empty space\n\t\tstart - id from which DND was started\n*/\n\nconst DragItem ={\n\t//helper - defines component's container as active zone for dragging and for dropping\n\t_initHandlers:function(obj, source, target){\n\t\tif (!source) DragControl.addDrop(obj._contentobj,obj,true);\n\t\tif (!target) DragControl.addDrag(obj._contentobj,obj);\n\t\tthis.attachEvent(\"onDragOut\",function(a,b){ this.$dragMark(a,b); });\n\t\tthis.attachEvent(\"onBeforeAutoScroll\",function(){\n\t\t\tvar context = DragControl.getContext();\n\t\t\treturn !!(DragControl._active && context && (context.to === this || this._auto_scroll_force));\n\t\t});\n\t},\n\tdrag_setter:function(value){\n\t\tif (value){\n\t\t\textend(this, AutoScroll, true);\n\t\t\tif (value == \"order\" || value == \"move\")\n\t\t\t\textend(this, use(\"DragOrder\"), true);\n\t\t\tif (value == \"inner\" || value == \"order\")\n\t\t\t\tthis._inner_drag_only = true;\n\n\t\t\tthis._initHandlers(this, value == \"source\", value == \"target\");\n\t\t\tdelete this.drag_setter;\t//prevent double initialization\n\t\t}\n\t\treturn value;\n\t},\n\t/*\n\t\ts - source html element\n\t\tt - target html element\n\t\td - drop-on html element ( can be not equal to the target )\n\t\te - native html event \n\t*/\n\t//called when drag moved over possible target\n\t$dragIn:function(s,t,e){\n\t\tvar id = this.locate(e) || null;\n\t\tvar context = DragControl._drag_context;\n\n\t\t//in inner drag mode - ignore dnd from other components\n\t\tif ((this._inner_drag_only || context.from._inner_drag_only) && context.from !== this) return false;\n\n\t\tvar to = DragControl.getMaster(t);\n\t\t//previous target\n\t\tvar html = (this.getItemNode(id, e)||this._dataobj);\n\t\t//prevent double processing of same target\n\t\tif (html == DragControl._landing) return html;\n\t\tcontext.target = id;\n\t\tcontext.to = to;\n\n\t\tif (this._auto_scroll_delay)\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n\n\t\tconst fragile = (this.addRowCss && env.touch && !this._settings.prerender);\n\t\tif (this._settings.dragscroll !== false  && !fragile)\n\t\t\tthis._auto_scroll_delay = delay(function(pos,id){\n\t\t\t\tthis._drag_pause(id);\n\t\t\t\tthis._auto_scroll(pos,id);\n\t\t\t}, this, [pos(e), id], 250);\n\n\t\tif (!this.$dropAllow(context, e)  || !this.callEvent(\"onBeforeDragIn\",[context, e])){\n\t\t\tcontext.to = context.target = null;\n\t\t\tif (this._auto_scroll_delay)\n\t\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n\t\t\treturn null;\n\t\t}\n\t\t//mark target only when landing confirmed\n\t\tthis.$dragMark(context,e);\n\t\treturn html;\n\t},\n\t$dropAllow:function(){\n\t\treturn true;\n\t},\n\t_drag_pause:function(){\n\t\t//may be reimplemented in some components\n\t\t// tree for example\n\t},\n\t_target_to_id:function(target){\n\t\treturn target && typeof target === \"object\" ? target.toString() : target;\n\t},\n\t//called when drag moved out from possible target\n\t$dragOut:function(s,t,n,e){\n\t\tvar id = (this._viewobj.contains(n) ? this.locate(e): null) || null;\n\t\tvar context = DragControl._drag_context;\n\n\t\t//still over previous target\n\t\tif ((context.target||\"\").toString() == (id||\"\").toString()) return null;\n\t\tif (this._auto_scroll_delay)\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n\n\t\t//unmark previous target\n\t\tcontext.target = context.to = null;\n\t\tthis.callEvent(\"onDragOut\",[context,e]);\n\t\treturn null;\n\t},\n\t//called when drag moved on target and button is released\n\t$drop:function(s,t,e){\n\t\tvar context = DragControl._drag_context;\n\t\t//finalize context details\n\t\tcontext.to = this;\n\t\tthis._define_index(s,t,context);\n\n\t\t//unmark last target\n\t\tthis.$dragMark({}, e);\n\n\t\tif( context.from && context.from != context.to && context.from.callEvent ){\n\t\t\tif(!context.from.callEvent(\"onBeforeDropOut\", [context,e]))\n\t\t\t\treturn;\n\t\t}\n\n\t\tif (!this.callEvent(\"onBeforeDrop\",[context,e])) return;\n\t\t//moving\n\t\tthis._context_to_move(context,e);\n\t\t\n\t\tthis.callEvent(\"onAfterDrop\",[context,e]);\n\t},\n\t_define_index:function(s,t,context){\n\t\tvar target = this._target_to_id(context.target);\n\n\t\tif (this.getBranchIndex){\n\t\t\tif (target){\n\t\t\t\tcontext.parent = this.getParentId(target);\n\t\t\t\tcontext.index = this.getBranchIndex(target);\n\t\t\t} else context.index = -1;\n\t\t} else\n\t\t\tcontext.index = target?this.getIndexById(target):this.count();\n\t},\n\t_context_to_move:function(context){\n\t\tassert(context.from, \"Unsopported d-n-d combination\");\n\t\tif (context.from && context.from.move){\t//from different component with item dnd\n\t\t\tvar details = { parent: context.parent, mode: context.pos };\n\t\t\tcontext.from.move(context.source,context.index,context.to, details);\n\t\t}\n\t},\n\t_getDragItemPos: function(pos,e){\n\t\tif (this.getItemNode){\n\t\t\tvar id = this.locate(e, true);\n\t\t\t//in some case, node may be outiside of dom ( spans in datatable for example )\n\t\t\t//so getItemNode can return null\n\t\t\tvar node = id ? this.getItemNode(id) : null;\n\t\t\treturn node ? offset(node) : node;\n\t\t}\n\t},\n\t//called when drag action started\n\t$drag:function(s,e){\n\t\tvar id = this.locate(e, true);\n\t\tif (id){\n\t\t\tvar list = [id];\n\n\t\t\tif (this.getSelectedId){ //has selection model\n\t\t\t\t//if dragged item is one of selected - drag all selected\n\t\t\t\tvar selection = this.getSelectedId(true, true);\t\n\n\t\t\t\tif (selection && selection.length > 1 && _power_array.find.call(selection,id)!=-1){\n\t\t\t\t\tvar hash = {}; \n\t\t\t\t\tlist = [];\n\t\t\t\t\tfor (let i=0;i<selection.length; i++)\n\t\t\t\t\t\thash[selection[i]]=true;\n\t\t\t\t\tfor (let i = 0; i<this.data.order.length; i++){\n\t\t\t\t\t\tvar hash_id = this.data.order[i];\n\t\t\t\t\t\tif (hash[hash_id])\n\t\t\t\t\t\t\tlist.push(hash_id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//save initial dnd params\n\t\t\tvar context = DragControl._drag_context= { source:list, start:id };\n\t\t\tcontext.from = this;\n\n\t\t\tif (this.callEvent(\"onBeforeDrag\",[context,e])){\n\t\t\t\tif (env.touch && this._touch_scroll == \"touch\")\n\t\t\t\t\tdelay(function(){ Touch._start_context = null; });\n\n\t\t\t\t//set drag representation\n\t\t\t\treturn context.html||this.$dragHTML(this.getItem(id), e, context);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\t$dragHTML:function(obj,e,context){\n\t\tlet html = this._toHTML(obj);\n\t\tif ( isArray(context.source) && context.source.length > 1 )\n\t\t\thtml = this._toMultipleHTML(html, context.source.length);\n\t\treturn html;\n\t},\n\t_toMultipleHTML:function(html, len){\n\t\thtml = \"<div class='webix_drag_main'>\"+html+\"</div>\";\n\t\tlet multiple = \"<div class='webix_drag_multiple'></div>\";\n\t\tif ( len > 2 )\n\t\t\tmultiple = \"<div class='webix_drag_multiple_last'></div>\" + multiple;\n\t\treturn multiple+html+\"<span class='webix_badge'>\"+len+\"</span>\";\n\t},\n\t$dragMark:function(context){\n\t\tvar target = null;\n\t\tif (context.target)\n\t\t\ttarget = this._target_to_id(context.target);\n\n\t\t//touch webkit will stop touchmove event if source node removed\n\t\tif (this._marked && this._marked != target){\n\t\t\tthis._remove_css([this._marked], \"webix_drag_over\", true);\n\t\t\tthis._marked = null;\n\t\t}\n\n\t\tif (!this._marked && target){\n\t\t\tthis._marked = target;\n\t\t\tthis._add_css([target], \"webix_drag_over\", true);\n\t\t\treturn target;\n\t\t}\n\t\t\n\t\tif (context.to){\n\t\t\treturn true;\n\t\t}else\n\t\t\treturn false;\n\t},\n\t_add_css:function(source, css){\n\t\tfor (let i=0; i<source.length; i++)\n\t\t\tthis.addCss(source[i], css);\n\t},\n\t_remove_css:function(source, css){\n\t\tfor (let i=0; i<source.length; i++)\n\t\t\tthis.removeCss(source[i], css);\n\t},\n\n\t// methods used in order/move modes\n\t$dropHTML: function(){\n\t\treturn \"\";\n\t},\n\t_set_drop_area:function(target, t){\n\t\tlet node = this.getItemNode(target);\n\t\tif (node){\n\t\t\tnode.parentNode.insertBefore(DragControl._dropHTML[0], node);\n\t\t} else t.children[0].appendChild(DragControl._dropHTML[0]);\n\t}\n};\n\nexport default DragItem;","import {offset, pos, remove} from \"../webix/html\";\nimport {isArray} from \"../webix/helpers\";\nimport {define} from \"../services\";\n\nimport DragItem from \"../core/dragitem\";\nimport DragControl from \"../core/dragcontrol\";\n\nconst DragOrder ={\n\t$drag: function(s,e){\n\t\tlet html = DragItem.$drag.apply(this, arguments);\n\t\tif (!html) return html;\n\n\t\tlet context = DragControl._drag_context;\n\n\t\tif (this._close_branches)\n\t\t\tthis._close_branches(context);\n\n\t\tif (this._inner_drag_only && this.getBranchIndex)\n\t\t\tthis._drag_order_stored_left = this._drag_order_complex?((this.getItem(context.start).$level+1) * 20 + 8):0;\n\n\t\tif (isArray(context.source)){\n\t\t\tDragControl._setDragOffset(e);\n\t\t\tthis._add_css(context.source, \"webix_invisible\");\n\t\t}\n\t\treturn html;\n\t},\n\t$dragIn:function(s,t,e){\n\t\tlet html = DragItem.$dragIn.apply(this, arguments);\n\t\tif (!html) return html;\n\n\t\tif (!DragControl._dropHTML)\n\t\t\tDragControl._dropHTML = this._init_drop_area();\n\n\t\tlet context = DragControl._drag_context;\n\t\tlet target = \"$webix-last\";\n\t\tif (context.target)\n\t\t\ttarget = this._target_to_id(context.target);\n\n\t\tif (target != \"$webix-last\" && target != \"$webix-drop\"){\n\t\t\tlet settings = {direction:this._settings.layout||this._drag_direction||\"y\", x:\"width\", y:\"height\"};\n\t\t\tlet ofs = offset(html);\n\t\t\tlet direction = pos(e)[settings.direction] - ofs[settings.direction];\n\t\t\tif ( direction*2 > ofs[settings[settings.direction]] )\n\t\t\t\ttarget = this.getNextId(target) || \"$webix-last\";\n\t\t}\n\n\t\tif (target == this._marked_item_id || target == \"$webix-drop\")\n\t\t\treturn html;\n\n\t\tthis._marked_item_id = target;\n\t\tthis._set_drop_area(target, t);\n\n\t\treturn html;\n\t},\n\t$dragPos:function(pos){\n\t\tif (!this._inner_drag_only){\n\t\t\tlet context = DragControl._drag_context;\n\t\t\tpos.y += context.y_offset;\n\t\t\tpos.x += context.x_offset;\n\t\t\treturn;\n\t\t}\n\n\t\tlet box = offset(this.$view);\n\t\tlet xdrag = (this._settings.layout == \"x\");\n\n\t\tif (xdrag){\n\t\t\tbox.x -= 12;\n\t\t\tpos.y = box.y - 8;\n\t\t\tpos.x = pos.x - 18;\n\n\t\t\tif (pos.x < box.x)\n\t\t\t\tpos.x = box.x;\n\t\t\telse {\n\t\t\t\tlet max = box.x + box.width;\n\t\t\t\tif (pos.x > max)\n\t\t\t\t\tpos.x = max;\n\t\t\t}\n\t\t} else {\n\t\t\tbox.y += (this._header_height||0) - 12;\n\t\t\tpos.x = box.x + 8 + (this._drag_order_stored_left||0);\n\t\t\tpos.y = pos.y - 18;\n\n\t\t\tif (pos.y < box.y)\n\t\t\t\tpos.y = box.y;\n\t\t\telse {\n\t\t\t\tlet max = box.y + box.height - (this._header_height||0);\n\t\t\t\tif (pos.y > max)\n\t\t\t\t\tpos.y = max;\n\t\t\t}\n\t\t}\n\t},\n\t$dragOut:function(s,ot,nt){\n\t\tif (ot != nt){\n\t\t\tremove(DragControl._dropHTML);\n\t\t\tthis._marked_item_id = DragControl._dropHTML = null;\n\t\t}\n\t\treturn DragItem.$dragOut.apply(this, arguments);\n\t},\n\t_define_index:function(s,t,context){\n\t\tvar target = this._marked_item_id == \"$webix-last\" ? null : this._marked_item_id;\n\n\t\tif (this.getBranchIndex){\n\t\t\tif (target){\n\t\t\t\tcontext.parent = this.getParentId(target);\n\t\t\t\tcontext.index = this.getBranchIndex(target);\n\t\t\t\tif (s == t && this.getParentId(context.start) == context.parent && this.getBranchIndex(context.start) < context.index)\n\t\t\t\t\tcontext.index -= 1;\n\t\t\t} else context.index = -1;\n\t\t} else {\n\t\t\tcontext.index = target?this.getIndexById(target):this.count();\n\t\t\tcontext.index -= (s == t && this.getIndexById(context.start)<context.index?1:0);\n\t\t}\n\t},\n\t$dragDestroy: function(){\n\t\tlet context = DragControl._drag_context;\n\n\t\tif (isArray(context.source))\n\t\t\tthis._remove_css(context.source, \"webix_invisible\");\n\n\t\tremove(DragControl._html);\n\t},\n\t_init_drop_area: function(){\n\t\tlet node = document.createElement(\"div\");\n\t\tnode.className = \"webix_drop_area\";\n\t\tnode.style.width = this.type.width + \"px\";\n\t\tnode.style.height = this.type.height + \"px\";\n\t\tnode.innerHTML = this.$dropHTML();\n\t\tnode.setAttribute(this._id, \"$webix-drop\");\n\n\t\treturn [node];\n\t},\n\t$dragMark: function(){\n\t\treturn false;\n\t}\n};\n\ndefine(\"DragOrder\", DragOrder);\n\nexport default DragOrder;","import {extend, copy, _power_array} from \"../webix/helpers\";\n\n\nconst Undo = {\n\t$init:function(){\n\t\tthis._undoHistory = extend([],_power_array,true);\n\t\tthis._undoCursor = -1;\n\t},\n\tundo_setter: function(value){\n\t\tif(value){\n\t\t\tthis._init_undo();\n\t\t\tthis._init_undo = function(){};\n\t\t}\n\t\treturn value;\n\t},\n\t_init_undo: function(){\n\t\tvar view = this;\n\n\t\t// drag-n-drop\n\t\tthis.attachEvent(\"onBeforeDrop\", function(context){\n\t\t\tif(context.from == context.to){\n\t\t\t\tvar item = view._draggedItem = copy(this.getItem(context.start));\n\t\t\t\tif(this.data.branch){\n\t\t\t\t\titem.$index = this.getBranchIndex(item.id);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\titem.$index = this.getIndexById(item.id);\n\t\t\t}\n\t\t});\n\t\tthis.data.attachEvent(\"onDataMove\", function( sid ){\n\t\t\tif(view._draggedItem && view._draggedItem.id == sid){\n\t\t\t\tvar data = view._draggedItem;\n\t\t\t\tview._draggedItem = null;\n\t\t\t\tview._addToHistory(sid, data, \"move\");\n\t\t\t}\n\t\t});\n\n\t\t// add, remove\n\t\tthis.data.attachEvent(\"onBeforeDelete\", function(id){\n\t\t\tif(this.getItem(id)){\n\t\t\t\tvar item = view._deletedItem = copy(this.getItem(id));\n\t\t\t\tif(this.branch){\n\t\t\t\t\titem.$index = this.getBranchIndex(id);\n\t\t\t\t\tif(this.branch[id])\n\t\t\t\t\t\titem.$branch = copy(this.serialize(id));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\titem.$index = this.getIndexById(id);\n\t\t\t}\n\t\t});\n\t\tthis.data.attachEvent(\"onDataUpdate\", function(id, data, old){\n\t\t\tview._addToHistory(id+\"\", old, \"update\");\n\t\t});\n\t\tthis.data.attachEvent(\"onStoreUpdated\", function(id, item, mode){\n\t\t\tvar data = null;\n\t\t\tif(id){\n\t\t\t\tif(mode == \"add\"){\n\t\t\t\t\tdata = copy(item);\n\t\t\t\t}\n\t\t\t\telse if( mode == \"delete\") {\n\t\t\t\t\tdata = view._deletedItem;\n\t\t\t\t}\n\n\t\t\t\tif(data)\n\t\t\t\t\tview._addToHistory(id, data, mode);\n\t\t\t}\n\t\t});\n\n\t\t// id change\n\t\tthis.data.attachEvent(\"onIdChange\", function(oldId,newId){\n\t\t\tif(typeof oldId == \"object\")\n\t\t\t\toldId = oldId.row;\n\t\t\tfor(var i =0; i < view._undoHistory.length; i++){\n\t\t\t\tif(view._undoHistory[i].id == oldId){\n\t\t\t\t\tview._undoHistory[i].id = newId;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t_addToHistory: function(id, data, action){\n\t\tif(!this._skipHistory && this._settings.undo){\n\t\t\tthis._undoHistory.push({id: id, action: action, data: data});\n\t\t\tif(this._undoHistory.length==20)\n\t\t\t\tthis._undoHistory.splice(0,1);\n\t\t\tif(!this._skipCursorInc)\n\t\t\t\tthis._undoCursor = this._undoHistory.length - 1;\n\t\t}\n\t},\n\tignoreUndo: function(func, master){\n\t\tthis._skipHistory = true;\n\t\tfunc.call(master||this);\n\t\tthis._skipHistory = false;\n\t},\n\tremoveUndo: function(id){\n\t\tfor( var i = this._undoHistory.length-1; i >=0; i--){\n\t\t\tif(this._undoHistory[i].id == id){\n\t\t\t\tif(this._undoHistory[i].action == \"id\"){\n\t\t\t\t\tid = this._undoHistory[i].data;\n\t\t\t\t}\n\t\t\t\tthis._undoHistory.removeAt(i);\n\t\t\t}\n\t\t}\n\t\tthis._undoCursor = this._undoHistory.length - 1;\n\t},\n\tundo: function(id){\n\t\tif(id){\n\t\t\tthis.ignoreUndo(function(){\n\t\t\t\tvar data, i;\n\t\t\t\tfor( i = this._undoHistory.length-1; !data && i >=0; i--){\n\t\t\t\t\tif(this._undoHistory[i].id == id)\n\t\t\t\t\t\tdata = this._undoHistory[i];\n\t\t\t\t}\n\n\t\t\t\tif(data){\n\t\t\t\t\t/*if(data.action == \"id\")\n\t\t\t\t\t\tid = data.data;*/\n\t\t\t\t\tthis._undoAction(data);\n\t\t\t\t\tthis._undoHistory.removeAt(i+1);\n\t\t\t\t\tthis._undoCursor = this._undoHistory.length - 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\tvar data = this._undoHistory[this._undoCursor];\n\t\t\tif(data){\n\t\t\t\tthis.ignoreUndo(function(){\n\t\t\t\t\tthis._undoAction(data);\n\t\t\t\t\tthis._undoHistory.removeAt(this._undoCursor);\n\t\t\t\t});\n\t\t\t\tthis._undoCursor--;\n\t\t\t\t/*if(data.action == \"id\")\n\t\t\t\t\tthis.undo();*/\n\t\t\t}\n\t\t}\n\t},\n\t_undoAction: function(obj){\n\t\tif(obj.action == \"delete\"){\n\t\t\tvar branch = null,\n\t\t\t\tparentId = obj.data.$parent;\n\n\t\t\tif(obj.data.$branch){\n\t\t\t\tbranch = {\n\t\t\t\t\tparent: obj.id,\n\t\t\t\t\tdata: copy(obj.data.$branch)\n\t\t\t\t};\n\t\t\t\tdelete obj.data.$branch;\n\t\t\t\tif(parentId && !this.data.branch[parentId])\n\t\t\t\t\tparentId = 0;\n\t\t\t}\n\n\t\t\tthis.add(obj.data, obj.data.$index, parentId);\n\t\t\tif(branch){\n\t\t\t\tthis.parse(branch);\n\t\t\t}\n\t\t}\n\t\telse if(obj.action == \"add\"){\n\t\t\tthis.remove(obj.id);\n\t\t}\n\t\telse if(obj.action == \"update\"){\n\t\t\tthis.updateItem(obj.id, obj.data);\n\t\t}\n\t\telse if(obj.action == \"move\"){\n\t\t\tif(obj.data.$parent){\n\t\t\t\tif(this.getItem(obj.data.$parent))\n\t\t\t\t\tthis.move(obj.id, obj.data.$index, null, {parent: obj.data.$parent});\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.move(obj.id, obj.data.$index);\n\t\t}\n\t\t/*else if(obj.action == \"id\"){\n\t\t\tthis.data.changeId(obj.id, obj.data);\n\t\t}*/\n\t}\n};\n\nexport default Undo;","\n\nimport {create} from \"../webix/html\";\nimport {isArray, isUndefined, copy, toNode, bind, delay, extend} from \"../webix/helpers\";\nimport {ui, $$} from \"../ui/core\";\nimport i18n from \"../webix/i18n\";\nimport {_event} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\nimport {callEvent} from \"../webix/customevents\";\n\n\nfunction init_suggest(editor, input){\n\tvar suggest = editor.config.suggest;\n\tif (suggest){\n\t\tvar box = editor.config.suggest = create_suggest(suggest);\n\t\tvar boxobj = $$(box);\n\t\tif (boxobj && input)\n\t\t\tboxobj.linkInput(input);\n\t\treturn boxobj;\n\t}\n}\n\nfunction attach_editend(suggest){\n\tif (suggest && suggest.setMasterValue && !suggest._editor_initialized){\n\t\tsuggest._editor_initialized = true;\n\t\tsuggest.attachEvent(\"onValueSuggest\", function(){\n\t\t\tdelay(function(){ callEvent(\"onEditEnd\", []); });\n\t\t});\n\t}\n}\n\nfunction create_suggest(config){\n\tif (typeof config == \"string\") return config;\n\tif (config.linkInput) return config._settings.id;\n\n\n\tif (typeof config == \"object\"){\n\t\tif (isArray(config))\n\t\t\tconfig = { data: config };\n\t\tconfig.view = config.view || \"suggest\";\n\t} else if (config === true)\n\t\tconfig = { view:\"suggest\" };\n\n\tvar obj = ui(config);\n\treturn obj.config.id;\n}\n\nfunction getLabel(config){\n\tvar text = config.header && config.header[0]?config.header[0].text:config.editValue || config.label;\n\treturn (text || \"\").toString().replace(/<[^>]*>/g, \"\");\n}\n\n/*\nthis.node - html node, available after render call\nthis.config - editor config\nthis.value - original value\nthis.popup - id of popup \n*/\nconst editors = {\n\t\"text\":{\n\t\tfocus:function(){\n\t\t\tthis.getInputNode(this.node).focus();\n\t\t\tthis.getInputNode(this.node).select();\n\t\t},\n\t\tgetValue:function(){\n\t\t\treturn this.getInputNode(this.node).value;\n\t\t},\n\t\tsetValue:function(value){\n\t\t\tconst input = this.getInputNode(this.node);\n\t\t\tinput.value = value;\n\n\t\t\tconst suggest = init_suggest(this, input);\n\t\t\tattach_editend(suggest);\n\t\t},\n\t\tgetInputNode:function(){\n\t\t\treturn this.node.firstChild;\n\t\t},\n\t\trender:function(){\n\t\t\treturn create(\"div\", {\n\t\t\t\t\"class\":\"webix_dt_editor\"\n\t\t\t}, \"<input type='text' aria-label='\"+getLabel(this.config)+\"'>\");\n\t\t}\n\t},\n\t\"inline-checkbox\":{\n\t\trender:function(){ return {}; },\n\t\tgetValue:function(){\n\t\t\treturn this.node.checked;\n\t\t},\n\t\tsetValue:function(){},\n\t\tfocus:function(){\n\t\t\tthis.node.focus();\n\t\t},\n\t\tgetInputNode:function(){},\n\t\t$inline:true\n\t},\n\t\"inline-text\":{\n\t\trender:function(){ return {}; },\n\t\tgetValue:function(){\n\t\t\treturn this.node.value;\n\t\t},\n\t\tsetValue:function(){},\n\t\tfocus:function(){\n\t\t\ttry{\t//IE9\n\t\t\t\tthis.node.select();\n\t\t\t\tthis.node.focus();\n\t\t\t} catch(e){} //eslint-disable-line\n\t\t},\n\t\tgetInputNode:function(){},\n\t\t$inline:true\n\t},\n\t\"checkbox\":{\n\t\tfocus:function(){\n\t\t\tthis.getInputNode().focus();\n\t\t},\n\t\tgetValue:function(){\n\t\t\treturn this.getInputNode().checked;\n\t\t},\n\t\tsetValue:function(value){\n\t\t\tthis.getInputNode().checked = !!value;\n\t\t},\n\t\tgetInputNode:function(){\n\t\t\treturn this.node.firstChild.firstChild;\n\t\t},\n\t\trender:function(){\n\t\t\treturn create(\"div\", {\n\t\t\t\t\"class\":\"webix_dt_editor\"\n\t\t\t}, \"<div><input type='checkbox' aria-label='\"+getLabel(this.config)+\"'></div>\");\n\t\t}\n\t},\n\t\"select\":{\n\t\tfocus:function(){\n\t\t\tthis.getInputNode().focus();\n\t\t},\n\t\tgetValue:function(){\n\t\t\treturn this.getInputNode().value;\n\t\t},\n\t\tsetValue:function(value){\n\t\t\tthis.getInputNode().value = value;\n\t\t},\n\t\tgetInputNode:function(){\n\t\t\treturn this.node.firstChild;\n\t\t},\n\t\trender:function(){\n\t\t\tvar html = \"\";\n\t\t\tvar options = this.config.options || this.config.collection;\n\t\t\tassert(options,\"options not defined for select editor\");\n\n\t\t\tif (options.data && options.data.each)\n\t\t\t\toptions.data.each(function(obj){\n\t\t\t\t\thtml +=\"<option value='\"+obj.id+\"'>\"+obj.value+\"</option>\";\n\t\t\t\t});\n\t\t\telse {\n\t\t\t\tif (isArray(options)){\n\t\t\t\t\tfor (var i=0; i<options.length; i++){\n\t\t\t\t\t\tvar rec = options[i];\n\t\t\t\t\t\tvar isplain = isUndefined(rec.id);\n\t\t\t\t\t\tvar id = isplain ? rec : rec.id;\n\t\t\t\t\t\tvar label = isplain ? rec : rec.value;\n\n\t\t\t\t\t\thtml +=\"<option value='\"+id+\"'>\"+label+\"</option>\";\n\t\t\t\t\t}\n\t\t\t\t} else for (var key in options){\n\t\t\t\t\thtml +=\"<option value='\"+key+\"'>\"+options[key]+\"</option>\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn create(\"div\", {\n\t\t\t\t\"class\":\"webix_dt_editor\"\n\t\t\t}, \"<select aria-label='\"+getLabel(this.config)+\"'>\"+html+\"</select>\");\n\t\t}\n\t},\n\tpopup:{\n\t\tfocus:function(){\n\t\t\tthis.getInputNode().focus();\n\t\t},\n\t\tdestroy:function(){\n\t\t\tthis.getPopup().hide();\n\t\t},\n\t\tgetValue:function(){\n\t\t\treturn this.getInputNode().getValue()||\"\";\n\t\t},\n\t\tsetValue:function(value){\n\t\t\tthis.getPopup().show(this.node);\n\t\t\tthis.getInputNode().setValue(value);\n\t\t},\n\t\tgetInputNode:function(){\n\t\t\treturn this.getPopup().getChildViews()[0];\n\t\t},\n\t\tgetPopup:function(){\n\t\t\tif (!this.config.$popup)\n\t\t\t\tthis.config.$popup = this.createPopup();\n\n\t\t\treturn $$(this.config.$popup);\n\t\t},\n\t\tcreatePopup:function(){\n\t\t\tvar popup = this.config.popup || this.config.suggest;\n\t\t\tif (popup){\n\t\t\t\tvar pobj;\n\t\t\t\tif (typeof popup == \"object\" && !popup.name){\n\t\t\t\t\tpopup.view = popup.view || \"suggest\";\n\t\t\t\t\tpobj = ui(copy(popup));\n\t\t\t\t} else\n\t\t\t\t\tpobj = $$(popup);\n\n\t\t\t\t//custom popup may be linked already\n\t\t\t\tif(!pobj._linked){\n\t\t\t\t\tif (pobj.linkInput)\n\t\t\t\t\t\tpobj.linkInput(document.body);\n\t\t\t\t\telse if(this.linkInput)\n\t\t\t\t\t\tthis.linkInput(document.body);\n\t\t\t\t\tpobj._linked = true;\n\t\t\t\t}\n\t\t\t\tattach_editend(pobj);\n\n\t\t\t\treturn pobj;\n\t\t\t}\n\n\t\t\tvar type = editors.$popup[this.popupType];\n\t\t\tif (typeof type != \"string\" && !type.name){\n\t\t\t\ttype = editors.$popup[this.popupType] = ui(type);\n\t\t\t\tthis.popupInit(type);\n\n\t\t\t\tif(!type.linkInput)\n\t\t\t\t\tthis.linkInput(document.body);\n\t\t\t\n\t\t\t}\n\t\t\treturn type._settings.id;\n\t\t},\n\t\tlinkInput:function(node){\n\t\t\t_event(toNode(node), \"keydown\", bind(function(e){\n\t\t\t//abort, when editor was not initialized yet\n\t\t\t\tif (!this.config.$popup) return;\n\n\t\t\t\tvar code = e.which || e.keyCode, list = this.getInputNode();\n\t\t\t\tif(!list.isVisible()) return;\n\n\t\t\t\tif(list.moveSelection && code < 41 && code > 32){\n\t\t\t\t\tvar dir;\n\t\t\t\t\tif(code == 33) dir = \"pgup\";\n\t\t\t\t\tif(code == 34) dir = \"pgdown\";\n\t\t\t\t\tif(code == 35) dir = \"bottom\";\n\t\t\t\t\tif(code == 36) dir = \"top\";\n\t\t\t\t\tif(code == 37) dir = \"left\";\n\t\t\t\t\tif(code == 38) dir = \"up\";\n\t\t\t\t\tif(code == 39) dir = \"right\";\n\t\t\t\t\tif(code == 40) dir = \"down\";\n\n\t\t\t\t\tlist.moveSelection(dir);\n\t\t\t\t} \n\t\t\t\t// shift+enter support for 'popup' editor\n\t\t\t\telse if(code === 13 && ( e.target.nodeName !==\"TEXTAREA\" || !e.shiftKey))\n\t\t\t\t\tcallEvent(\"onEditEnd\", []);\n\t\t\t\n\t\t\t}, this));\n\t\t},\n\n\t\tpopupInit:function(){},\n\t\tpopupType:\"text\",\n\t\trender\t:function(){ return {}; },\n\t\t$inline:true\n\t}\n};\n\neditors.color = extend({\n\tfocus\t:function(){},\n\tpopupType:\"color\",\n\tpopupInit:function(popup){\n\t\tpopup.getChildViews()[0].attachEvent(\"onItemClick\", function(value){\n\t\t\tcallEvent(\"onEditEnd\",[value]);\n\t\t});\n\t}\n}, editors.popup);\n\neditors.date = extend({\n\tfocus\t:function(){},\n\tpopupType:\"date\",\n\tsetValue:function(value){\n\t\tthis._is_string = this.config.stringResult || (value && typeof value == \"string\");\n\t\teditors.popup.setValue.call(this, value);\n\t},\n\tgetValue:function(){\n\t\treturn this.getInputNode().getValue(this._is_string?i18n.parseFormatStr:\"\")||\"\";\n\t},\n\tpopupInit:function(popup){\n\t\tpopup.getChildViews()[0].attachEvent(\"onDateSelect\", function(value){\n\t\t\tcallEvent(\"onEditEnd\",[value]);\n\t\t});\n\t}\n}, editors.popup);\n\neditors.combo = extend({\n\t_create_suggest:function(config){\n\t\tlet suggest, id;\n\t\tif (this.config.popup){\n\t\t\tsuggest = this.config.popup;\n\t\t\tid = suggest.config.id;\n\t\t}\n\t\telse if (config){\n\t\t\tid = create_suggest(config);\n\t\t\tsuggest = $$(id);\n\t\t} else\n\t\t\tid = this._shared_suggest(config);\n\n\t\tattach_editend(suggest);\n\t\treturn id;\n\t},\n\t_shared_suggest:function(){\n\t\tvar e = editors.combo;\n\t\treturn (e._suggest = e._suggest || this._create_suggest(true));\n\t},\n\trender:function(){\n\t\tvar node = create(\"div\", {\n\t\t\t\"class\":\"webix_dt_editor\"\n\t\t}, \"<input type='text' role='combobox' aria-label='\"+getLabel(this.config)+\"'>\");\n\n\t\t//save suggest id for future reference\t\t\n\t\tvar suggest = this.config.suggest = this._create_suggest(this.config.suggest);\n\n\t\tif (suggest){\n\t\t\t$$(suggest).linkInput(node.firstChild, true);\n\t\t\t_event(node.firstChild, \"click\", bind(this.showPopup, this));\n\t\t}\n\t\treturn node;\n\t},\n\tgetPopup:function(){\n\t\treturn $$(this.config.suggest);\n\t},\n\tshowPopup:function(){\n\t\tvar popup = this.getPopup();\n\t\tvar list = popup.getList();\n\t\tvar input = this.getInputNode();\n\t\tvar value = this._initial_value;\n\n\t\tpopup.show(input);\n\t\tinput.setAttribute(\"aria-expanded\", \"true\");\n\t\tif (value){\n\t\t\tassert(list.exists(value), \"Option with ID \"+value+\" doesn't exist\");\n\t\t\tif (list.exists(value)){\n\t\t\t\tlist.select(value);\n\t\t\t\tlist.showItem(value);\n\t\t\t}\n\t\t} else {\n\t\t\tlist.unselect();\n\t\t\tlist.showItem(list.getFirstId());\n\t\t}\n\t\tpopup._last_input_target = input;\n\t},\n\tafterRender:function(){\n\t\tthis.showPopup();\n\t},\n\tsetValue:function(value){\n\t\tthis._initial_value = value;\n\t\tif (this.config.suggest){\n\t\t\tvar sobj = $$(this.config.suggest);\n\t\t\tvar data =  this.config.collection || this.config.options;\n\t\t\tif (data)\n\t\t\t\tsobj.getList().data.importData(data);\n\n\t\t\tthis.getInputNode(this.node).value = sobj.getItemText(value);\n\t\t}\n\t},\n\tgetValue:function(){\n\t\tvar value = this.getInputNode().value;\n\t\tif (this.config.suggest){\n\t\t\tvar suggest = $$(this.config.suggest),\n\t\t\t\tlist = suggest.getList();\n\t\t\tif (value || (list.getSelectedId && list.getSelectedId()))\t\n\t\t\t\tvalue = suggest.getSuggestion(value);\n\t\t}\n\t\n\t\treturn value;\n\t}\n}, editors.text);\n\n\neditors.richselect = extend({\n\tfocus:function(){},\n\tgetValue:function(){\n\t\treturn this.getPopup().getValue();\n\t},\n\tsetValue:function(value){\n\t\tvar suggest =  this.config.collection || this.config.options;\n\t\tthis.getInputNode();\n\t\tif (suggest)\n\t\t\tthis.getPopup().getList().data.importData(suggest);\n\n\t\tthis.getPopup().show(this.node);\n\t\tthis.getPopup().setValue(value);\n\t},\n\tgetInputNode:function(){\n\t\treturn this.getPopup().getList();\n\t},\n\tpopupInit:function(popup){\n\t\tpopup._show_selection = function(){};\n\t\tpopup.linkInput(document.body);\n\n\t\tattach_editend(popup);\n\t},\n\tpopupType:\"richselect\"\n}, editors.popup);\n\neditors.password = extend({\n\trender:function(){\n\t\treturn create(\"div\", {\n\t\t\t\"class\":\"webix_dt_editor\"\n\t\t}, \"<input type='password' aria-label='\"+getLabel(this.config)+\"'>\");\n\t}\n}, editors.text);\n\neditors.$popup = {\n\ttext:{\n\t\tview:\"popup\", width:250, height:150,\n\t\tbody:{ view:\"textarea\" }\n\t},\n\tcolor:{\n\t\tview:\"popup\",\n\t\tbody:{ view:\"colorboard\" }\n\t},\n\tdate:{\n\t\tview:\"popup\", width:250, height:250, padding:0,\n\t\tbody:{ view:\"calendar\", icons:true, borderless:true }\n\t},\n\trichselect:{\n\t\tview:\"suggest\",\n\t\tbody:{ view:\"list\", select:true }\n\t},\n\tmultiselect:{\n\t\tview:\"multisuggest\",\n\t\tsuggest:{\n\t\t\tbutton:true\n\t\t}\n\t}\n};\n\nexport default editors;","import {remove, removeCss, addCss} from \"../webix/html\";\nimport UIManager from \"../core/uimanager\";\nimport {extend, bind, delay, isUndefined} from \"../webix/helpers\";\nimport {ui, $$} from \"../ui/core\";\nimport {_event} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\nimport {attachEvent, callEvent, detachEvent} from \"../webix/customevents\";\nimport Undo from \"../core/undo\";\n\n\nimport globalState from \"../core/state\";\nimport editors from \"../webix/editors\";\n/*\n\tBehavior:EditAbility - enables item operation for the items\n\t\n\t@export\n\t\tedit\n\t\tstopEdit\n*/\n\nconst EditAbility ={\n\tdefaults:{\n\t\teditaction:\"click\"\n\t},\n\t$init:function(config){\n\t\tthis._editors = {};\n\t\tthis._in_edit_mode = 0;\n\t\tthis._edit_open_time = 0;\n\t\tthis._contentobj.style.position = \"relative\";\n\t\tif (config)\n\t\t\tconfig.onDblClick = config.onDblClick || {};\n\n\t\tthis.attachEvent(\"onAfterRender\", this._refocus_inline_editor);\n\n\t\t//when we call extend the editable prop can be already set\n\t\tif (this._settings.editable)\n\t\t\tthis._init_edit_events_once();\n\n\t\textend(this,Undo);\n\t},\n\t_refocus_try:function(newnode){\n\t\ttry{ //Chrome throws an error if selectionStart is not accessible\n\t\t\tif (typeof newnode.selectionStart == \"number\") {\n\t\t\t\tnewnode.selectionStart = newnode.selectionEnd = newnode.value.length;\n\t\t\t} else if (typeof newnode.createTextRange != \"undefined\") {\n\t\t\t\tvar range = newnode.createTextRange();\n\t\t\t\trange.collapse(false);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t} catch(e){} // eslint-disable-line\n\t},\n\t_refocus_inline_editor:function(){\n\t\tvar editor = this.getEditor();\n\t\tif (editor && editor.$inline && !editor.getPopup){\n\t\t\tvar newnode = this._locateInput(editor);\n\t\t\tif (newnode && newnode != editor.node){\n\t\t\t\tvar text = editor.node.value;\n\t\t\t\teditor.node = newnode;\n\t\t\t\tnewnode.value = text;\n\t\t\t\tnewnode.focus();\n\n\t\t\t\tthis._refocus_try(newnode);\n\t\t\t} else \n\t\t\t\tthis.editStop();\n\t\t}\n\t},\n\teditable_setter:function(value){\n\t\tif (value)\n\t\t\tthis._init_edit_events_once();\n\t\treturn value;\n\t},\n\t_init_edit_events_once:function(){\n\t\t//will close editor on any click outside\n\t\tconst e1 = attachEvent(\"onEditEnd\", bind(function(){\n\t\t\tif (this._in_edit_mode)\n\t\t\t\tthis.editStop();\n\t\t}, this));\n\t\tconst e2 = attachEvent(\"onClick\", bind(function(e){\n\t\t\t//but ignore click which opens editor\n\t\t\tif (this._in_edit_mode && (new Date())-this._edit_open_time > 200){\n\t\t\t\tif (!this._last_editor || this._last_editor.popupType || !e || ( !this._last_editor.node || !this._last_editor.node.contains(e.target || e.srcElement)))\n\t\t\t\t\tthis.editStop();\n\t\t\t}\n\t\t}, this));\n\n\t\tthis.attachEvent(\"onDestruct\", function(){ detachEvent(e1); detachEvent(e2); });\n\t\t\n\t\t//property sheet has simple data object, without events\n\t\tif (this.data.attachEvent)\n\t\t\tthis.data.attachEvent(\"onIdChange\", bind(function(oldid, newid){\n\t\t\t\tthis._changeEditorId(oldid, newid);\n\t\t\t}, this));\n\n\t\t//when clicking on row - will start editor\n\t\tthis.attachEvent(\"onItemClick\", function(id){\n\t\t\tif (this._settings.editable && this._settings.editaction == \"click\")\n\t\t\t\tthis.edit(id);\n\t\t});\n\t\tthis.attachEvent(\"onItemDblClick\", function(id){\n\t\t\tif (this._settings.editable && this._settings.editaction == \"dblclick\")\n\t\t\t\tthis.edit(id);\n\t\t});\n\t\t//each time when we clicking on input, reset timer to prevent self-closing\n\t\tthis._reset_active_editor = bind(function(){\n\t\t\tthis._edit_open_time = new Date();\n\t\t},this);\n\n\t\tthis._init_edit_events_once = function(){};\n\n\t\tif (this._component_specific_edit_init)\n\t\t\tthis._component_specific_edit_init();\n\t},\n\t_handle_live_edits:function(){\n\t\tdelay(function(){\n\t\t\tvar editor = this.getEditor();\n\t\t\tif (editor && editor.config.liveEdit){\n\t\t\t\tvar state = { value:editor.getValue(), old: editor.value };\n\t\t\t\tif (state.value == state.old) return;\n\n\t\t\t\teditor.value = state.value;\n\t\t\t\tthis._set_new_value(editor, state.value, false);\n\t\t\t\tthis.callEvent(\"onLiveEdit\", [state, editor]);\n\t\t\t}\n\t\t}, this);\n\t},\n\t_show_editor_form:function(id){\n\t\tvar form = this._settings.form;\n\t\tif (typeof form != \"string\")\n\t\t\tthis._settings.form = form = ui(form).config.id;\n\n\t\tform = $$(form);\n\t\tvar realform = form.setValues?form:form.getChildViews()[0];\n\n\t\t\n\t\trealform.setValues(this.getItem(id.row || id));\n\t\tform.config.master = this.config.id;\n\t\tform.show( this.getItemNode(id) );\n\n\t\tvar first = realform.getChildViews()[0];\n\t\tif (first.focus)\n\t\t\tfirst.focus();\n\t},\n\tedit:function(id, preserve, show){\n\t\tif (!this._settings.editable || !this.callEvent(\"onBeforeEditStart\", [id])) return;\n\t\tif (this._settings.form)\n\t\t\treturn this._show_editor_form(id);\n\n\t\tvar editor = this._get_editor_type(id);\n\t\tif (editor){\n\t\t\tif (this.getEditor(id)) return;\n\t\t\tif (!preserve) this.editStop();\n\n\t\t\t//render html input\n\t\t\tassert(editors[editor], \"Invalid editor type: \"+editor);\n\t\t\tvar type = extend({}, editors[editor]);\n\n\t\t\tvar node = this._init_editor(id, type, show);\n\t\t\tif (type.config.liveEdit)\n\t\t\t\tthis._live_edits_handler = this.attachEvent(\"onKeyPress\", this._handle_live_edits);\n\n\t\t\tvar area = type.getPopup?type.getPopup(node)._viewobj:node;\n\n\t\t\tif (area)\n\t\t\t\t_event(area, \"click\", this._reset_active_editor);\n\t\t\tif (node)\n\t\t\t\t_event(node, \"change\", this._on_editor_change, { bind:{ view:this, id:id }});\n\t\t\tif (show !== false)\n\t\t\t\ttype.focus();\n\n\t\t\tif (this.$fixEditor)\n\t\t\t\tthis.$fixEditor(type);\n\n\t\t\t//save time of creation to prevent instant closing from the same click\n\t\t\tthis._edit_open_time = globalState.edit_open_time = new Date();\n\n\t\t\tUIManager.setFocus(this, true);\n\t\t\tthis.callEvent(\"onAfterEditStart\", [id]);\n\t\t\treturn type;\n\t\t}\n\t\treturn null;\n\t},\n\tgetEditor:function(id){\n\t\tif (!id)\n\t\t\treturn this._last_editor;\n\n\t\treturn this._editors[id];\n\t},\n\t_changeEditorId:function(oldid, newid)\t{\n\t\tvar editor = this._editors[oldid];\n\t\tif (editor){\n\t\t\tthis._editors[newid] = editor;\n\t\t\teditor.id = newid;\n\t\t\tdelete this._editors[oldid];\n\t\t}\n\t},\n\t_on_editor_change:function(){\n\t\tif (this.view.hasEvent(\"onEditorChange\"))\n\t\t\tthis.view.callEvent(\"onEditorChange\", [this.id, this.view.getEditorValue(this.id) ]);\n\t},\n\t_get_edit_config:function(){\n\t\treturn this._settings;\n\t},\n\t_init_editor:function(id, type, show){\n\t\ttype.config = this._get_edit_config(id);\n\t\tvar node = type.render();\n\n\t\tif (type.$inline)\n\t\t\tnode = this._locateInput(id);\n\t\ttype.node = node;\n\n\t\tvar item = this.getItem(id);\n\t\t//value can be configured by editValue option\n\t\tvar value = item[this._settings.editValue||\"value\"];\n\t\t//if property was not defined - use empty value\n\t\tif (isUndefined(value))\n\t\t\tvalue = \"\";\n\n\t\ttype.setValue(value, item);\n\t\ttype.value = value;\n\n\t\tthis._addEditor(id, type);\n\n\t\t//show it over cell\n\t\tif (show !== false)\n\t\t\tthis.showItem(id);\n\t\tif (!type.$inline)\n\t\t\tthis._sizeToCell(id, node, true);\n\n\t\tif (type.afterRender)\n\t\t\ttype.afterRender();\n\n\t\treturn node;\n\t},\n\t_locate_cell:function(id){\n\t\treturn this.getItemNode(id);\n\t},\n\t_locateInput:function(id){\n\t\tvar cell = this._locate_cell(id);\n\t\tif (cell)\n\t\t\tcell = cell.getElementsByTagName(\"input\")[0] || cell;\n\n\t\treturn cell;\n\t},\n\t_get_editor_type:function(){\n\t\treturn this._settings.editor;\n\t},\n\t_addEditor:function(id, type){\n\t\ttype.id = id;\n\t\tthis._editors[id]= this._last_editor = type;\n\t\tthis._in_edit_mode++;\n\t},\n\t_removeEditor:function(editor){\n\t\tif (this._last_editor == editor)\n\t\t\tthis._last_editor = 0;\n\t\t\n\t\tif (editor.destroy)\n\t\t\teditor.destroy();\n\n\t\tdelete editor.popup;\n\t\tdelete editor.node;\n\n\t\tdelete this._editors[editor.id];\n\t\tthis._in_edit_mode--;\n\t},\n\tfocusEditor:function(){\n\t\tvar editor = this.getEditor.apply(this, arguments);\n\t\tif (editor && editor.focus)\n\t\t\teditor.focus();\n\t},\n\teditCancel:function(){\n\t\tthis.editStop(null, null, true);\n\t},\n\t_applyChanges: function(el){\n\t\tif (el){\n\t\t\tvar ed = this.getEditor();\n\t\t\tif (ed && ed.getPopup && ed.getPopup() == el.getTopParentView()) return;\n\t\t}\n\t\tthis.editStop();\n\t},\n\teditStop:function(id){\n\t\tif (this._edit_stop) return;\n\t\tthis._edit_stop = 1;\n\n\n\t\tvar cancel = arguments[2];\n\t\tvar result = 1;\n\t\tif (!id){\n\t\t\tthis._for_each_editor(function(editor){\n\t\t\t\tresult = result * this._editStop(editor, cancel);\n\t\t\t});\n\t\t} else \n\t\t\tresult = this._editStop(this._editors[id], cancel);\n\n\t\tthis._edit_stop = 0;\n\t\treturn result;\n\t},\n\t_cellPosition:function(id){\n\t\tvar html = this.getItemNode(id);\n\t\treturn {\n\t\t\tleft:html.offsetLeft, \n\t\t\ttop:html.offsetTop,\n\t\t\theight:html.offsetHeight,\n\t\t\twidth:html.offsetWidth,\n\t\t\tparent:this._contentobj\n\t\t};\n\t},\n\t_sizeToCell:function(id, node, inline){\n\t\t//fake inputs\n\t\tif (!node.style) return;\n\n\t\tvar pos = this._cellPosition(id);\n\n\t\tnode.style.top = pos.top + \"px\";\n\t\tnode.style.left = pos.left + \"px\";\n\n\t\tnode.style.width = pos.width-1+\"px\";\n\t\tnode.style.height = pos.height-1+\"px\";\n\n\t\tnode.top = pos.top; //later will be used during y-scrolling\n\n\t\tif (inline) pos.parent.appendChild(node);\n\t\treturn pos;\n\t},\n\t_for_each_editor:function(handler){\n\t\tfor (var editor in this._editors)\n\t\t\thandler.call(this, this._editors[editor]);\n\t},\n\t_editStop:function(editor, ignore){\n\t\tif (!editor || globalState._final_destruction) return;\n\t\tvar state = { \n\t\t\tvalue : this._get_new_value(editor), \n\t\t\told : editor.value\n\t\t};\n\t\tif (this.callEvent(\"onBeforeEditStop\", [state, editor, ignore])){\n\t\t\tif (!ignore){\n\t\t\t\t//special case, state.old = 0, state.value = \"\"\n\t\t\t\t//we need to state.old to string, to detect the change\n\t\t\t\tvar old = state.old;\n\t\t\t\tif (typeof state.value == \"string\") old += \"\";\n\n\t\t\t\tif (old != state.value || editor.config.liveEdit){\n\t\t\t\t\tvar item = this._set_new_value(editor, state.value, true);\t\n\t\t\t\t\tthis.updateItem(editor.row || editor.id, item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (editor.$inline)\n\t\t\t\teditor.node = null;\n\t\t\telse\n\t\t\t\tremove(editor.node);\n\n\t\t\tvar popup = editor.config.suggest;\n\t\t\tif (popup && typeof popup == \"string\")\n\t\t\t\t$$(popup).hide();\n\n\t\t\tthis._removeEditor(editor);\n\t\t\tif (this._live_edits_handler)\n\t\t\t\tthis.detachEvent(this._live_edits_handler);\n\n\t\t\tthis.callEvent(\"onAfterEditStop\", [state, editor, ignore]);\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t},\n\tvalidateEditor:function(id){\n\t\tvar result = true;\n\t\tif (this._settings.rules){\n\t\t\tvar editor = this.getEditor(id);\n\t\t\tvar key = editor.column||this._settings.editValue||\"value\";\n\t\t\tvar rule = this._settings.rules[key];\n\t\t\tvar all = this._settings.rules.$all;\n\n\t\t\tif (rule || all){\n\t\t\t\tvar obj = this.data.getItem(editor.row||editor.id);\n\t\t\t\tvar value = editor.getValue();\n\t\t\t\tvar input = editor.getInputNode();\n\n\t\t\t\tif (rule)\n\t\t\t\t\tresult = rule.call(this, value, obj, key);\n\t\t\t\tif (all)\n\t\t\t\t\tresult = all.call(this, value, obj, key) && result;\n\t\t\t\n\t\t\t\tif (result)\n\t\t\t\t\tremoveCss(input, \"webix_invalid\");\n\t\t\t\telse\n\t\t\t\t\taddCss(input, \"webix_invalid\");\n\n\t\t\t\tcallEvent(\"onLiveValidation\", [editor, result, obj, value]);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\tgetEditorValue:function(id){\n\t\tvar editor;\n\t\tif (arguments.length === 0)\n\t\t\teditor = this._last_editor;\n\t\telse\n\t\t\teditor = this.getEditor(id);\n\n\t\tif (editor)\n\t\t\treturn editor.getValue();\n\t},\n\tgetEditState:function(){\n\t\treturn this._last_editor || false;\n\t},\n\teditNext:function(next, from){ \n\t\tnext = next !== false; //true by default\n\t\tif (this._in_edit_mode == 1 || from){\n\t\t\t//only if one editor is active\n\t\t\tvar editor_next = this._find_cell_next((this._last_editor || from), function(id){\n\t\t\t\tif (this._get_editor_type(id))\n\t\t\t\t\treturn true;\n\t\t\t\treturn false;\n\t\t\t}, next);\n\n\t\t\tif (this.editStop()){\t//if we was able to close previous editor\n\t\t\t\tif (editor_next){\t//and there is a new target\n\t\t\t\t\tthis.edit(editor_next);\t//init new editor\n\t\t\t\t\tthis._after_edit_next(editor_next);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\t//stab, used in datatable\n\t_after_edit_next:function(){},\n\t_find_cell_next:function(start, check, direction){\n\t\tvar row = this.getIndexById(start.id);\n\t\tvar order = this.data.order;\n\t\t\n\t\tif (direction){\n\t\t\tfor (let i=row+1; i<order.length; i++){\n\t\t\t\tif (check.call(this, order[i]))\n\t\t\t\t\treturn order[i];\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i=row-1; i>=0; i--){\n\t\t\t\tif (check.call(this, order[i]))\n\t\t\t\t\treturn order[i];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\t_get_new_value(editor){\n\t\treturn editor.getValue();\n\t},\n\t_set_new_value:function(editor, new_value, copy){\n\t\tvar item = copy ? {} : this.getItem(editor.id);\n\t\titem[this._settings.editValue||\"value\"] = new_value;\n\t\treturn item;\n\t}\n};\n\nexport default EditAbility;","import {debug_size_box_start, debug_size_box_end} from \"../webix/debug\";\n\n\nconst FlexLayout = {\n\t$init:function(){\n\t\tthis.$view.className += \" webix_flexlayout\";\n\t},\n\t_fix_vertical_layout:function(){\n\n\t},\n\t_beforeResetBorders:function(){\n\n\t},\n\t_afterResetBorders:function(){\n\n\t},\n\t$getSize:function(){\n\t\tif (DEBUG) debug_size_box_start(this, true);\n\t\t\n\t\tvar w=0, h=0, g = this._settings.gravity;\n\t\tthis._sizes = [];\n\n\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\tvar size = this._cells[i].$getSize(0,0);\n\t\t\tthis._sizes.push(size);\n\n\t\t\tw = Math.max(w, size[0]);\n\t\t\th = Math.max(h, size[2]);\n\t\t}\n\n\t\tw += this._padding.left + this._padding.right;\n\t\th += this._padding.top + this._padding.bottom;\n\n\t\tif (this._settings.width)\n\t\t\tw = Math.max(w, this._settings.width);\n\t\tif (this._settings.height)\n\t\t\th = Math.max(h, this._settings.height);\n\n\t\tvar self_size = [w, 100000, h, 100000, g];\n\t\tif (DEBUG) debug_size_box_end(this, self_size);\n\t\treturn self_size;\n\t},\n\trender:function(){ this.resize(); },\n\t_set_child_size:function(){\n\t\tif (!this.isVisible(this._settings.id)) return;\n\t\tvar st = this.$view.style;\n\t\tvar margin = Math.round(this._margin/2);\n\t\tst.paddingTop = this._padding.top-margin + \"px\";\n\t\tst.paddingBottom = this._padding.bottom-margin + \"px\";\n\t\tst.paddingLeft = this._padding.left-margin + \"px\";\n\t\tst.paddingRight = this._padding.right-margin + \"px\";\n\n\t\tfor (let i=0; i<this._cells.length; i++){\n\t\t\tif (this._cells[i]._settings.hidden) continue;\n\t\t\tlet view = this._cells[i].$view;\n\t\t\tlet size = this._sizes[i];\n\t\t\tlet config = this._cells[i]._settings;\n\n\t\t\tif (view){\n\t\t\t\tview.style.minWidth = size[0]+\"px\";\n\t\t\t\tif (size[1] < 100000 && size[1] != size[0])\n\t\t\t\t\tview.style.maxWidth = size[1]+\"px\";\n\n\t\t\t\tview.style.flexBasis = config.flexBasis || (size[0])+\"px\";\n\t\t\t\tview.style.flexGrow = config.flexGrow || ((size[1] != size[0]) ? size[4] : 0);\n\t\t\t\tview.style.height = (size[3] != size[2]) ? \"auto\" : (size[2] + \"px\");\n\n\t\t\t\tview.style.minHeight = size[2]+\"px\";\n\t\t\t\tif (size[3] < 100000 && size[3] != size[2])\n\t\t\t\t\tview.style.maxHeight = size[3]+\"px\";\n\n\t\t\t\tview.style.margin = margin + \"px\";\n\t\t\t}\n\t\t}\n\n\t\tvar whs = [];\n\t\tfor (let i=0; i<this._cells.length; i++){\n\t\t\tif (this._cells[i]._settings.hidden) continue;\n\t\t\tlet view = this._cells[i].$view;\n\t\t\twhs[i] = [view.offsetWidth, view.offsetHeight];\n\t\t}\n\t\t\n\t\tfor (let i=0; i<this._cells.length; i++){\n\t\t\tif (this._cells[i]._settings.hidden) continue;\n\t\t\tlet cell = this._cells[i];\n\t\t\tlet view = cell.$view;\n\t\t\tif (view){\n\t\t\t\tcell._settings.flex = true;\n\t\t\t\tlet size = this._sizes[i];\n\t\t\t\tvar h = size[2] == size[3] ? size[2] : whs[i][1];\n\t\t\t\tcell.$setSize(whs[i][0], h);\n\t\t\t\tcell._settings.flex = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.$height = this._content_height = this.$view.scrollHeight;\n\t\tthis.$view.style.height = this._content_height+\"px\";\n\t}\n};\n\nexport default FlexLayout;","\n\nconst GroupMethods = {\n\tsum:function(property, data){\n\t\tdata = data || this;\n\t\tvar summ = 0;\n\t\tfor (var i = 0; i < data.length; i++){\n\t\t\tconst num = parseFloat(property(data[i]), 10);\n\t\t\tif (!isNaN(num))\n\t\t\t\tsumm+=num;\n\t\t}\n\n\t\treturn summ;\n\t},\n\tmin:function(property, data){\n\t\tdata = data || this;\n\t\tvar min = Infinity;\n\n\n\t\tfor (var i = 0; i < data.length; i++){\n\t\t\tconst num = parseFloat(property(data[i]), 10);\n\t\t\tif (isNaN(num)) continue;\n\t\t\tif (num < min) min = num;\n\t\t}\n\n\t\treturn min === Infinity ? 0 : min*1;\n\t},\n\tmax:function(property, data){\n\t\tdata = data || this;\n\t\tvar max = -Infinity;\n\n\t\tfor (var i = 0; i < data.length; i++){\n\t\t\tconst num = parseFloat(property(data[i]), 10);\n\t\t\tif (isNaN(num)) continue;\n\t\t\tif (num > max) max = num;\n\t\t}\n\n\t\treturn max === -Infinity ? 0 : max*1;\n\t},\n\tcount:function(property, data){\n\t\tvar count = 0;\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tvar some = property(data[i]);\n\t\t\tif (some !== null && typeof some !== \"undefined\")\n\t\t\t\tcount++;\n\t\t}\n\t\treturn count;\n\t},\n\tany:function(property, data){\n\t\treturn property(data[0]);\n\t},\n\tstring:function(property){\n\t\treturn property.$name;\n\t}\n};\n\nexport default GroupMethods;","import {_to_array, uid} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport GroupMethods from \"../core/groupmethods\";\n\n\nconst GroupStore = {\n\t$init:function(){\n\t\tthis.attachEvent(\"onClearAll\", () => this._not_grouped_order = null);\n\t\tthis.attachEvent(\"onSyncApply\", () => this._not_grouped_order = null);\n\t},\n\tungroup:function(target){\n\t\tif (this.getBranchIndex){\n\t\t\tif (!this._ungroupLevel(target)) return;\n\t\t} else {\n\t\t\tif (!this._not_grouped_order) return;\n\n\t\t\tthis.order = this._not_grouped_order;\n\t\t\tthis.pull = this._not_grouped_pull;\n\t\t}\n\t\t\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\n\t},\n\t_ungroupLevel(target){\n\t\tconst parent = target || 0;\n\t\tconst level = parent == \"0\" ? 1 : this.getItem(parent).$level + 1;\n\t\tlet changed = false;\n\t\tconst top = this.branch[parent];\n\t\tlet order = [];\n\n\t\tfor (var i=0; i<top.length; i++){\n\t\t\tconst id = top[i];\n\t\t\tif (this.pull[id].$group){\n\t\t\t\tchanged = true;\n\t\t\t\tvar group = this.branch[id];\n\n\t\t\t\tif (group)\n\t\t\t\t\tthis.branch[id] = group.filter(a => {\n\t\t\t\t\t\tif (!this.pull[a].$footer)\n\t\t\t\t\t\t\treturn a;\n\t\t\t\t\t\tthis._unregisterItem(a);\n\t\t\t\t\t});\n\t\t\t\torder = order.concat(this.branch[id] || []);\n\t\t\t\tthis._unregisterItem(id);\n\t\t\t} else\n\t\t\t\torder.push(id);\n\t\t}\n\n\t\tif (!changed) return false;\n\t\tthis.branch[parent] = order;\n\t\tthis._fix_group_levels(this.branch[parent], parent, level);\n\n\t\tif (typeof target === \"undefined\")\n\t\t\tthis._ungroupLevel();\n\n\t\treturn true;\n\t},\n\t_unregisterItem(id){\n\t\tdelete this.pull[id];\n\t\tdelete this.branch[id];\n\t},\n\t_group_processing:function(scheme){\n\t\tthis.blockEvent();\n\t\tthis.group(scheme);\n\t\tthis.unblockEvent();\n\t},\n\t_group_prop_accessor:function(val){\n\t\tif (typeof val == \"function\")\n\t\t\treturn val;\n\t\tconst acc = function(obj){ return obj[val]; };\n\t\tacc.$name = val;\n\t\treturn acc;\n\t},\t\n\tgroup:function(config, target){\n\t\tassert(config, \"Empty config\");\n\t\tlet input;\n\n\t\tif (typeof config === \"string\"){\n\t\t\tinput = config;\n\t\t\tconfig = { by:this._group_prop_accessor(config), map:{} };\n\t\t} else if (typeof config === \"function\"){\n\t\t\tconfig = { by:config, map:{} };\n\t\t} else if (typeof config.by === \"string\"){\n\t\t\tinput = config.by;\n\t\t\tconfig.by = this._group_prop_accessor(config.by);\n\t\t}\n\t\tconfig.map = config.map || {};\n\t\tif (input && !config.map[input])\n\t\t\tconfig.map[input] = [input];\n\t\tconfig.missing = (config.missing === undefined) ? true : config.missing;\n\n\t\tif (this.getBranchIndex)\n\t\t\treturn this._group_tree(config, target);\n\t\t\n\t\tif (!this._not_grouped_order){\n\t\t\tthis._not_grouped_order = this.order;\n\t\t\tthis._not_grouped_pull = this.pull;\n\t\t}\n\n\t\tconst groups = {};\n\t\tconst labels = [];\n\t\tconst missed = [];\n\t\tconst misGroup = config.missing;\n\t\tthis.each(function(data){\n\t\t\tlet current = config.by(data);\n\t\t\tif (!current && current !== 0){\n\t\t\t\tif (misGroup === false) return;\n\t\t\t\tif (misGroup === true){\n\t\t\t\t\tmissed.push(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcurrent = misGroup;\n\t\t\t}\n\n\t\t\tif (!groups[current]){\n\t\t\t\tlabels.push({ id:current, value:current, $group:true, $row:config.row });\n\t\t\t\tgroups[current] = _to_array();\n\t\t\t}\n\t\t\tgroups[current].push(data);\n\t\t});\n\n\t\tfor (let i=0; i<labels.length; i++){\n\t\t\tlet group = labels[i];\n\t\t\tthis._map_group(config.map, group, groups[labels[i].id]);\n\n\t\t\tif (this.hasEvent(\"onGroupCreated\"))\n\t\t\t\tthis.callEvent(\"onGroupCreated\", [group.id, group.value, groups[labels[i].id]]);\n\t\t}\n\n\t\tthis.order = _to_array();\n\t\tthis.pull = {};\n\t\tthis._fill_pull(labels);\n\t\tthis._fill_pull(missed);\n\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\n\t},\n\t_fill_pull:function(arr){\n\t\tfor (let i=0; i < arr.length; i++){\n\t\t\tlet id = this.id(arr[i]);\n\t\t\tif (this.pull[id])\n\t\t\t\tid = arr[i].id = uid();\n\n\t\t\tthis.pull[id] = arr[i];\n\t\t\tthis.order.push(id);\n\t\t\tif (this._scheme_init)\n\t\t\t\tthis._scheme_init(arr[i]);\n\t\t}\n\t},\n\t_map_group:function(map, group, data){\n\t\tfor (let prop in map){\n\t\t\tlet functor = (map[prop][1]||\"any\");\n\t\t\tlet property = this._group_prop_accessor(map[prop][0]);\n\t\t\tif (typeof functor != \"function\"){\n\t\t\t\tassert(GroupMethods[functor], \"Unknown grouping rule: \"+functor);\n\t\t\t\tfunctor = GroupMethods[functor];\n\t\t\t}\n\n\t\t\tgroup[prop] = functor.call(this, property, data);\n\t\t}\n\t},\n\t_group_tree:function(config, parent){\n\t\t//prepare\n\t\tlet level = 0;\n\t\tif (parent)\n\t\t\tlevel = this.getItem(parent).$level;\n\t\telse parent = 0;\n\n\t\t//run\n\t\tconst topbranch = [];\n\t\tconst labels = [];\n\t\tconst missed = [];\n\n\t\tlet order = this.branch[parent];\n\t\tfor (let i=0; i<order.length; i++){\n\t\t\tconst data = this.getItem(order[i]);\n\t\t\tlet current = config.by(data);\n\n\t\t\tif (!current && current !== 0)\n\t\t\t\tif (config.missing === false) continue;\n\t\t\t\telse if (config.missing === true){\n\t\t\t\t\tmissed.push(data.id);\n\t\t\t\t\tcontinue;\n\t\t\t\t} else current = config.missing;\n\n\t\t\tlet current_id = level+\"$\"+current;\n\t\t\tlet ancestor = this.branch[current_id];\n\n\t\t\tif (!ancestor){\n\t\t\t\tlet newitem = this.pull[current_id] = { id:current_id, value:current, $group:true, $row:config.row};\n\t\t\t\tif (this._scheme_init)\n\t\t\t\t\tthis._scheme_init(newitem);\n\n\t\t\t\tlabels.push(newitem);\n\t\t\t\tancestor = this.branch[current_id] = [];\n\t\t\t\tancestor._formath = [];\n\t\t\t\ttopbranch.push(current_id);\n\t\t\t}\n\t\t\tancestor.push(data.id);\n\t\t\tancestor._formath.push(data);\n\t\t}\n\n\t\tthis.branch[parent] = topbranch.concat(missed);\n\t\tfor (let i=0; i<labels.length; i++){\n\t\t\tlet group = labels[i];\n\t\t\tthis._map_group(config.map, group, this.branch[labels[i].id]._formath);\n\n\t\t\tif (this.hasEvent(\"onGroupCreated\"))\n\t\t\t\tthis.callEvent(\"onGroupCreated\", [group.id, group.value, this.branch[group.id]._formath]);\n\n\t\t\tif (config.footer){\n\t\t\t\tlet id = \"footer$\"+group.id;\n\t\t\t\tlet footer = this.pull[id] = { id:id, $footer:true, value: group.value, $level:level, $count:0, $parent:group.id, $row:config.footer.row};\n\n\t\t\t\tthis._map_group(config.footer, footer, this.branch[labels[i].id]._formath);\n\t\t\t\t\n\t\t\t\tthis.branch[group.id].push(footer.id);\n\t\t\t\tthis.callEvent(\"onGroupFooter\", [footer.id, footer.value, this.branch[group.id]._formath]);\n\t\t\t}\n\t\t\tdelete this.branch[group.id]._formath;\n\t\t}\n\n\t\tthis._fix_group_levels(this.branch[parent], parent, level+1);\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\n\t},\n\t_fix_group_levels:function(branch, parent, level){\n\t\tif (parent)\n\t\t\tthis.getItem(parent).$count = branch.length;\n\n\t\tfor (let i = 0; i < branch.length; i++) {\n\t\t\tconst item = this.pull[branch[i]];\n\t\t\titem.$level = level;\n\t\t\titem.$parent = parent;\n\n\t\t\tconst next = this.branch[item.id];\n\t\t\tif (next)\n\t\t\t\tthis._fix_group_levels(next, item.id, level+1);\n\t\t}\n\t}\n};\n\nexport default GroupStore;","import {extend} from \"../webix/helpers\";\nimport GroupStore from \"../core/groupstore\";\n\n\nconst Group = {\n\t$init:function(){\n\t\textend(this.data, GroupStore);\n\t},\n\tgroup:function(config, target){\n\t\tif (!target && target !== 0){\n\t\t\tthis.$blockRender=true;\n\t\t\tthis.data.ungroup();\n\t\t\tthis.$blockRender=false;\n\t\t}\n\t\tthis.data.group(config, target);\n\t},\n\tungroup:function(target){\n\t\tthis.data.ungroup(target);\n\t}\n};\n\nexport default Group;","import {preventEvent} from \"../webix/html\";\nimport {_power_array} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport UIManager from \"./uimanager\";\n\n\n/*aria-style handling for options of multiple-value controls (radio, segmented, tabbar)*/\n\nconst HTMLOptions = {\n\t$init: function(){\n\t\tthis.$ready.push(()=>{\n\t\t\tif(!this.customRadio_setter || this.config.customRadio)\n\t\t\t\t_event( this.$view, \"keydown\", this._moveSelection, {bind:this});\n\t\t});\n\t},\n\t_focus: function(){\n\t\tif(!UIManager.canFocus(this))\n\t\t\treturn false;\n\n\t\tconst input = this._getInputNode();\n\t\tif (input)\n\t\t\tfor (let i=0; i<input.length; i++)\n\t\t\t\tif (input[i].getAttribute(\"tabindex\") == \"0\")\n\t\t\t\t\treturn input[i].focus();\n\t},\n\t_blur: function(){\n\t\tconst input = this._getInputNode();\n\t\tif (input)\n\t\t\tfor (let i=0; i<input.length; i++)\n\t\t\t\tif (input[i].getAttribute(\"tabindex\") == \"0\")\n\t\t\t\t\treturn input[i].blur();\n\t},\n\t_moveSelection: function(e){\n\t\tconst code = e.which || e.keyCode;\n\n\t\tif (code>34 && code <41){\n\t\t\tconst inp = this._getInputNode();\n\t\t\tlet index = false;\n\n\t\t\tif (!inp.length) return;\n\t\t\tpreventEvent(e);\n\n\t\t\tconst dir = (code === 37 || code === 38 || code === 35)?-1:1;\n\t\t\tif (code === 35) index = inp.length-1;\n\t\t\telse if (code === 36 ) index = 0;\n\t\t\telse {\n\t\t\t\tfor (let i=0; i<inp.length; i++)\n\t\t\t\t\tif (inp[i].getAttribute(\"tabindex\") == \"0\"){\n\t\t\t\t\t\tindex = i + dir;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tif (index !== false){\n\t\t\t\tlet i = index;\n\t\t\t\tdo {\n\t\t\t\t\tif (i >= inp.length) i = 0;\n\t\t\t\t\tif (i < 0) i = inp.length-1;\n\n\t\t\t\t\tif (!inp[i].getAttribute(\"webix_disabled\")){\n\t\t\t\t\t\tconst id = inp[i].getAttribute(/*@attr*/\"button_id\");\n\n\t\t\t\t\t\tthis.setValue(id);\n\t\t\t\t\t\tinp[i].focus();\n\t\t\t\t\t\ti = \"success\";\n\t\t\t\t\t}\n\t\t\t\t\telse i += dir;\n\n\t\t\t\t} while(i !== \"success\" && i !== index);\n\t\t\t}\n\t\t}\n\t},\n\t_get_tooltip_data: function(t,e){\n\t\tlet id,\n\t\t\tnode = e.target || e.srcElement;\n\t\twhile (node && !node.webix_tooltip){\n\t\t\tid = node.getAttribute(\"webix_t_id\");\n\t\t\tif (id)\n\t\t\t\treturn this.getOption(id);\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn null;\n\t},\n\toptionIndex: function(id){\n\t\tconst options = this._settings.options;\n\t\tfor (let i=0; i<options.length; i++)\n\t\t\tif (options[i].id == id)\n\t\t\t\treturn i;\n\t\treturn -1;\n\t},\n\tgetOption: function(id){\n\t\tconst index = this.optionIndex(id);\n\t\tif (index !== -1)\n\t\t\treturn this._settings.options[index];\n\t\treturn null;\n\t},\n\taddOption: function(id, value, show, index){\n\t\tlet obj = id;\n\t\tif (typeof id != \"object\"){\n\t\t\tvalue = value || id;\n\t\t\tobj = { id:id, value:value };\n\t\t} else {\n\t\t\tid = obj.id;\n\t\t\tindex = show;\n\t\t\tshow = value;\n\t\t}\n\n\t\tif (this.optionIndex(id) === -1){\n\t\t\t_power_array.insertAt.call(this._settings.options, obj, index);\n\t\t\tthis.refresh();\n\n\t\t\tthis.callEvent(\"onOptionAdd\", [id, obj]);\n\t\t}\n\n\t\tif (show)\n\t\t\tthis.setValue(id);\n\t},\n\tremoveOption: function(id){\n\t\tconst index = this.optionIndex(id);\n\n\t\tif (index !== -1){\n\t\t\tconst options = this._settings.options;\n\n\t\t\t_power_array.removeAt.call(options, index);\n\t\t\tthis.refresh();\n\n\t\t\t// if we remove a selected option\n\t\t\tif (this._settings.value == id)\n\t\t\t\tthis._setNextVisible(options, index);\n\n\t\t\tthis.callEvent(\"onOptionRemove\", [id, this._settings.value]);\n\t\t}\n\t},\n\t_setNextVisible: function(options, index){\n\t\tconst size = options.length;\n\n\t\tif (size && !this.customRadio_setter){\n\t\t\tindex = Math.min(index, size-1);\n\t\t\t//forward search\n\t\t\tfor (let i=index; i<size; i++)\n\t\t\t\tif (!options[i].hidden)\n\t\t\t\t\treturn this.setValue(options[i].id);\n\t\t\t//backward search\n\t\t\tfor (let i=index; i>=0; i--)\n\t\t\t\tif (!options[i].hidden)\n\t\t\t\t\treturn this.setValue(options[i].id);\n\t\t}\n\n\t\t//nothing found\t\t\n\t\tthis.setValue(\"\");\n\t},\n\t_getFirstActive(first){\n\t\tconst options = this._settings.options;\n\n\t\tif (options.length){\n\t\t\tfor (let i=0; i<options.length; i++)\n\t\t\t\tif (!options[i].hidden && !options[i].disabled)\n\t\t\t\t\treturn options[i].id;\n\t\t\tif (first)\n\t\t\t\treturn options[0].id;\n\t\t}\n\t\treturn \"\";\n\t},\n\t_filterOptions: function(options){\n\t\tconst copy = [];\n\t\tfor(let i=0; i<options.length; i++)\n\t\t\tif(!options[i].hidden)\n\t\t\t\tcopy.push(options[i]);\n\t\treturn copy;\n\t},\n\t_setOptionState: function(id, field, state){\n\t\tconst options = this._settings.options;\n\t\tconst index = this.optionIndex(id);\n\n\t\tif (options[index] && state != !!options[index][field]){\t\t\t\t//new state differs from previous one\n\t\t\toptions[index][field] = state;\n\n\t\t\tif (state && field === \"hidden\" && this._settings.value == id)\t\t//switch to next visible one\n\t\t\t\tthis._setNextVisible(options, index);\n\t\t\tthis.refresh();\n\t\t}\n\t},\n\thideOption: function(id){\n\t\tthis._setOptionState(id, \"hidden\", true);\n\t},\n\tshowOption: function(id){\n\t\tthis._setOptionState(id, \"hidden\", false);\n\t},\n\tdisableOption: function(id){\n\t\tthis._setOptionState(id, \"disabled\", true);\n\t},\n\tenableOption: function(id){\n\t\tthis._setOptionState(id, \"disabled\", false);\n\t}\n};\n\nexport default HTMLOptions;","import {create} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport {uid} from \"../webix/helpers\";\nimport {proto} from \"../ui/core\";\n\n\nconst HtmlMap = proto({\n\t$init:function(key){\n\t\tthis._id = \"map_\"+uid();\n\t\tthis._key = key;\n\t\tthis._map = [];\n\t\tthis._areas = [];\n\t},\n\taddRect: function(id,points,userdata) {\n\t\tthis._createMapArea(id,\"RECT\",points,userdata);\n\t},\n\taddPoly: function(id,points,userdata) {\n\t\tthis._createMapArea(id,\"POLY\",points,userdata);\n\t},\n\t_createMapArea:function(id,shape,coords,userdata){\n\t\tvar extra_data = \"\";\n\t\tif(arguments.length==4) \n\t\t\textra_data = \"userdata='\"+userdata+\"'\";\n\t\tthis._map.push(\"<area \"+this._key+\"='\"+id+\"' shape='\"+shape+\"' coords='\"+coords.join()+\"' \"+extra_data+\"></area>\");\n\t\tthis._areas.push({index: userdata, points:coords});\n\n\t},\n\taddSector:function(id,alpha0,alpha1,x,y,R,ky,userdata){\n\t\tvar points = [];\n\t\tpoints.push(x);\n\t\tpoints.push(Math.floor(y*ky)); \n\t\tfor(var i = alpha0; i < alpha1; i+=Math.PI/18){\n\t\t\tpoints.push(Math.floor(x+R*Math.cos(i)));\n\t\t\tpoints.push(Math.floor((y+R*Math.sin(i))*ky));\n\t\t}\n\t\tpoints.push(Math.floor(x+R*Math.cos(alpha1)));\n\t\tpoints.push(Math.floor((y+R*Math.sin(alpha1))*ky));\n\t\tpoints.push(x);\n\t\tpoints.push(Math.floor(y*ky)); \n\t\t\n\t\treturn this.addPoly(id,points,userdata);\n\t},\n\thide:function(obj, data, mode){\n\t\tif (obj.querySelectorAll){\n\t\t\tvar nodes = obj.querySelectorAll(\"area[userdata=\\\"\"+data+\"\\\"]\");\n\t\t\tfor (var i = 0; i < nodes.length; i++){\n\t\t\t\tvar nod = nodes[i];\n\t\t\t\tif (mode){\n\t\t\t\t\tif (nod.getAttribute(\"coords\")){\n\t\t\t\t\t\tnod.coordsdis = nod.getAttribute(\"coords\");\n\t\t\t\t\t\tnod.setAttribute(\"coords\", \"\");\n\t\t\t\t\t\tnod.coords = \"\";\n\t\t\t\t\t}\n\t\t\t\t} else if (!mode){\n\t\t\t\t\tif (nod.coordsdis){\n\t\t\t\t\t\tnod.setAttribute(\"coords\", nod.coordsdis);\n\t\t\t\t\t\tnod.coords = nod.coordsdis;\n\t\t\t\t\t\tnod.coordsdis = \"\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnodes[i].style.display = mode?\"none\":\"\";\n\t\t\t}\n\t\t}\n\t},\n\trender:function(obj){\n\t\tvar d = create(\"DIV\");\n\t\td.style.cssText=\"position:absolute; width:100%; height:100%; top:0px; left:0px;\";\n\t\tobj.appendChild(d);\n\t\tvar src = env.isIE?\"\":\"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='\";\n\t\td.innerHTML=\"<map id='\"+this._id+\"' name='\"+this._id+\"'>\"+this._map.join(\"\\n\")+\"</map><img \"+src+\" class='webix_map_img' usemap='#\"+this._id+\"'>\";\n\t\t\n\t\tobj._htmlmap = d; //for clearing routine\n\t\t\n\t\tthis._map = [];\n\t}\n});\n\nexport default HtmlMap;","import {bind} from \"../webix/helpers\";\nimport {ui} from \"../ui/core\";\nimport state from \"./state\";\n\nconst IdSpace = {\n\t$init:function(){\n\t\tthis._elements = {};\n\t\tthis._translate_ids = {};\n\t\tthis.getTopParentView = this._get_self = bind(function(){ return this;}, this);\n\n\t\tthis._run_inner_init_logic();\n\t\tthis.$ready.push(this._run_after_inner_init_logic);\n\t},\n\t$$:function(id){\n\t\treturn this._elements[id];\n\t},\n\tinnerId:function(id){\n\t\treturn this._translate_ids[id];\n\t},\n\t_run_inner_init_logic:function(){\n\t\tthis._prev_global_col = state._global_collection;\n\t\tstate._global_collection = this;\n\t},\n\t_run_after_inner_init_logic:function(){\n\t\tfor (var name in this._elements){\n\t\t\tvar input = this._elements[name];\n\t\t\tif (this.callEvent && input.mapEvent && !input._evs_map.onitemclick)\n\t\t\t\tinput.mapEvent({\n\t\t\t\t\tonitemclick:this\n\t\t\t\t});\n\t\t\tinput.getTopParentView = this._get_self;\n\t\t}\n\n\t\tstate._global_collection = this._prev_global_col;\n\t\tthis._prev_global_col = 0;\n\t},\n\t_destroy_child:function(id){\n\t\tdelete this._elements[id];\n\t},\n\tui:function(){\n\t\tthis._run_inner_init_logic();\n\t\tvar temp = ui.apply(this, arguments);\n\t\tthis._run_after_inner_init_logic();\n\t\treturn temp;\n\t}\n};\n\n\nexport default IdSpace;","import {preventEvent} from \"../webix/html\";\nimport UIManager from \"../core/uimanager\";\nimport {$$} from \"../ui/core\";\nimport {assert} from \"../webix/debug\";\n\n\nconst KeysNavigation = {\n\t$init:function(){\n\t\tif(this.getSelectedId)\n\t\t\tthis.attachEvent(\"onAfterRender\", this._set_focusable_item);\n\t\tif(this.moveSelection)\n\t\t\tthis.attachEvent(\"onTabFocus\", this._set_item_focus);\n\t},\n\t_set_item_focus:function(){\n\t\tif(this.getSelectedId){\n\t\t\tvar sel = this.getSelectedId(true);\n\t\t\tif(!sel.length || !this.getItemNode(sel[0]))\n\t\t\t\tthis.moveSelection(\"down\"); //select and show\n\t\t}\n\t},\n\t_set_focusable_item:function(){\n\t\tvar sel = this.getSelectedId(true);\n\t\tif(!sel.length || !this.getItemNode(sel[0])){\n\t\t\tvar node =  this._dataobj.querySelector(\"[\"+this._id+\"]\");\n\t\t\tif(node)\n\t\t\t\tnode.setAttribute(\"tabindex\", \"0\");\n\t\t}\n\t},\n\t_navigation_helper:function(mode){\n\t\treturn function(view, e){\n\t\t\tvar tag = (e.srcElement || e.target);\n\n\t\t\t//ignore clipboard listener\n\t\t\tif (!tag.getAttribute(/*@attr*/\"webixignore\")){\n\t\t\t\t//ignore hotkeys if focus in the common input\n\t\t\t\t//to allow normal text edit operations\n\t\t\t\tvar name = tag.tagName;\n\t\t\t\tif (name == \"INPUT\" || name == \"TEXTAREA\" || name == \"SELECT\") return true;\n\t\t\t}\n\n\t\t\tif (view && view.moveSelection && view.config.navigation && !view._in_edit_mode){\n\t\t\t\tpreventEvent(e);\n\t\t\t\treturn view.moveSelection(mode, {shift:e.shiftKey, ctrl:e.ctrlKey});\n\t\t\t}\n\t\t};\n\t},\n\tmoveSelection:function(mode, details, focus){\n\t\tvar config = this._settings;\n\t\tif(config.disabled) return;\n\t\t//get existing selection\n\t\tvar selected = this.getSelectedId(true);\n\t\tvar x_layout = (this.count && (config.layout ==\"x\" || config.xCount > 1));\n\n\t\tif((mode == \"right\" || mode == \"left\") && this._parent_menu){\n\t\t\tvar parent = $$(this._parent_menu);\n\n\t\t\tparent._hide_sub_menu(true);\n\t\t\tif(parent.config.layout === \"x\")\n\t\t\t\tparent.moveSelection(mode);\n\t\t\telse\n\t\t\t\tUIManager.setFocus(parent);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!selected.length && this.count()){\n\t\t\tif (mode == \"down\" || (mode == \"right\" && x_layout)) mode = \"top\";\n\t\t\telse if (mode == \"up\" || (mode == \"left\" && x_layout)) mode = \"bottom\";\n\t\t\telse return;\n\t\t\tselected = [this.getFirstId()];\n\t\t}\n\n\t\tif (selected.length == 1){  //if we have a selection\n\t\t\tselected = selected[0];\n\t\t\tvar prev = selected;\n\n\t\t\tif (mode == \"left\" && this.close)\n\t\t\t\treturn this.close(selected);\n\t\t\tif (mode == \"right\" && this.open)\n\t\t\t\treturn this.open(selected);\n\n\t\t\telse if (mode == \"top\") {\n\t\t\t\tselected = this.getFirstId();\n\t\t\t} else if (mode == \"bottom\") {\n\t\t\t\tselected = this.getLastId();\n\t\t\t} else if (mode == \"up\" || mode == \"left\" || mode == \"pgup\") {\n\t\t\t\tlet index = this.getIndexById(selected);\n\t\t\t\tlet step = mode == \"pgup\" ? 10 : 1;\n\t\t\t\tselected = this.getIdByIndex(Math.max(0, index-step));\n\t\t\t} else if (mode == \"down\" || mode == \"right\" || mode == \"pgdown\") {\n\t\t\t\tlet index = this.getIndexById(selected);\n\t\t\t\tlet step = mode == \"pgdown\" ? 10 : 1;\n\t\t\t\tselected = this.getIdByIndex(Math.min(this.count()-1, index+step));\n\t\t\t} else {\n\t\t\t\tassert(false, \"Not supported selection moving mode\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dir = (mode == \"up\" || mode == \"left\" || mode == \"pgdown\" || mode == \"bottom\")?-1:1;\n\t\t\tif(this._skip_item)\n\t\t\t\tselected = this._skip_item(selected, prev, dir);\n\n\t\t\tthis.showItem(selected);\n\t\t\tthis.select(selected);\n\n\t\t\tif(this.getSubMenu && this.getSubMenu(selected))\n\t\t\t\tthis._mouse_move_activation(selected, this.getItemNode(selected));\n\n\t\t\tif(!this.config.clipboard && focus !== false){\n\t\t\t\tvar node = this.getItemNode(selected);\n\t\t\t\tif(node) node.focus();\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tnavigation_setter:function(value){\n\t\t//using global flag to apply hotkey only once\n\t\tif (value && !UIManager._global_nav_grid_hotkeys){\n\t\t\tUIManager._global_nav_grid_hotkeys = true;\n\t\t\t//hotkeys will react on any component but will not work in edit mode\n\t\t\t//you can define moveSelection method to handle navigation keys\n\t\t\tUIManager.addHotKey(\"up\",         this._navigation_helper(\"up\"));\n\t\t\tUIManager.addHotKey(\"down\",       this._navigation_helper(\"down\"));\n\t\t\tUIManager.addHotKey(\"right\",      this._navigation_helper(\"right\"));\n\t\t\tUIManager.addHotKey(\"left\",       this._navigation_helper(\"left\"));\n\n\t\t\tUIManager.addHotKey(\"shift+up\",   this._navigation_helper(\"up\"));\n\t\t\tUIManager.addHotKey(\"shift+down\", this._navigation_helper(\"down\"));\n\t\t\tUIManager.addHotKey(\"shift+right\",   this._navigation_helper(\"right\"));\n\t\t\tUIManager.addHotKey(\"shift+left\", this._navigation_helper(\"left\"));\n\n\t\t\tUIManager.addHotKey(\"ctrl+shift+up\",   this._navigation_helper(\"up\"));\n\t\t\tUIManager.addHotKey(\"ctrl+shift+down\", this._navigation_helper(\"down\"));\n\t\t\tUIManager.addHotKey(\"ctrl+shift+right\",   this._navigation_helper(\"right\"));\n\t\t\tUIManager.addHotKey(\"ctrl+shift+left\", this._navigation_helper(\"left\"));\n\n\t\t\tUIManager.addHotKey(\"pageup\", \tthis._navigation_helper(\"pgup\"));\n\t\t\tUIManager.addHotKey(\"pagedown\",   this._navigation_helper(\"pgdown\"));\n\t\t\tUIManager.addHotKey(\"home\", \t    this._navigation_helper(\"top\"));\n\t\t\tUIManager.addHotKey(\"end\", \t\tthis._navigation_helper(\"bottom\"));\n\n\t\t\t\n\n\t\t}\n\n\t\treturn value;\n\t}\n};\n\nexport default KeysNavigation;","import {uid, isArray} from \"../webix/helpers\";\nimport {$$} from \"../ui/core\";\n\nimport i18n from \"../webix/i18n\";\nimport {use} from \"../services\";\n\nimport template from \"../webix/template\";\n\n\n\n/*Data collection mapping logic */\n\nconst MapCollection = {\n\t$init:function(){\n\t\tthis.$ready.push(this._create_scheme_init);\n\t\tthis.attachEvent(\"onStructureUpdate\", this._create_scheme_init);\n\t\tthis.attachEvent(\"onStructureLoad\", function(){\n\t\t\tif(!this._scheme_init_order.length)\n\t\t\t\tthis._create_scheme_init();\n\t\t});\n\t},\n\t_create_scheme_init:function(){\n\t\tvar stack = this._scheme_init_order = [];\n\t\tvar config = this._settings;\n\n\t\tif (config.columns)\n\t\t\tthis._build_data_map(config.columns);\n\t\tif (this._settings.map)\n\t\t\tthis._process_field_map(config.map);\n\n\t\tif (stack.length){\n\t\t\tthis.data._scheme_init = function(obj){\n\t\t\t\tfor (var i=0; i<stack.length; i++){\n\t\t\t\t\tstack[i](obj);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\t_process_field_map:function(map){\n\t\tfor (var key in map)\n\t\t\tthis._scheme_init_order.push(this._process_single_map(key, map[key]));\n\t},\n\t_process_single_map:function(target, map, extra){\n\t\tvar source = map.replace(/^(\\s|)\\((date|number)\\)/, \"\");\n\t\tvar getSource;\n\t\tif (source === \"\"){\n\t\t\tgetSource = a => a[target];\n\t\t} else {\n\t\t\tif (source.indexOf(\"#\") === -1 && source.indexOf(\"{\") === -1){\n\t\t\t\tsource = \"#\"+source+\"#\";\n\t\t\t}\n\t\t\tgetSource = template(source);\n\t\t}\n\n\t\tif (map.indexOf(\"(date)\")===0){\n\t\t\tif (extra && !extra.format) extra.format = i18n.dateFormatStr;\n\n\t\t\treturn function(obj){\n\t\t\t\tconst dateStr = (getSource(obj) || \"\").toString();\n\t\t\t\tobj[target] = i18n.parseFormatDate(dateStr);\n\t\t\t};\n\t\t} else if (map.indexOf(\"(number)\")===0){\n\t\t\treturn function(obj){\n\t\t\t\tobj[target] = getSource(obj)*1;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(obj){\n\t\t\t\tobj[target] = getSource(obj) || \"\";\n\t\t\t};\n\t\t}\n\t},\n\t_build_data_map:function(columns){ //for datatable\n\t\tfor (var i=0; i<columns.length; i++){\n\t\t\tvar map = columns[i].map;\n\t\t\tvar id = columns[i].id;\n\t\t\tif (!id) {\n\t\t\t\tid = columns[i].id = \"i\"+uid();\n\t\t\t\tif (!columns[i].header)\n\t\t\t\t\tcolumns[i].header = \"\";\n\t\t\t}\n\t\t\tif (map)\n\t\t\t\tthis._scheme_init_order.push(this._process_single_map(id, map, columns[i]));\n\n\t\t\tthis._map_options(columns[i]);\n\t\t}\n\t},\n\t_create_collection:function(options){\n\t\tif (typeof options === \"string\"){\n\t\t\tlet options_view = $$(options);\t\t\t\t\t\t\t\t\t\t//id of some other view\n\n\t\t\tif (!options_view){\t\t\t\t\t\t\t\t\t\t\t\t\t//or url\n\t\t\t\toptions = new (use(\"DataCollection\"))({ url: options });\n\t\t\t\tthis._destroy_with_me.push(options);\n\t\t\t} else options = options_view;\n\t\t\tif (options.getBody)\t\t\t\t\t\t\t\t\t\t\t\t//if it was a view, special check for suggests\n\t\t\t\toptions = options_view.getBody();\n\n\t\t} else if (typeof options === \"function\" || options.$proxy){\t\t\t//proxy or function\n\t\t\toptions = new (use(\"DataCollection\"))({ url:options });\n\t\t\tthis._destroy_with_me.push(options);\n\n\t\t} else if (!options.loadNext){\n\t\t\tlet array = isArray(options);\n\t\t\tlet data = [];\n\n\t\t\tif (array && typeof options[0] !== \"object\"){\t\t\t\t\t\t//[\"one\", \"two\"]\n\t\t\t\tfor (let i=0; i<options.length; i++)\n\t\t\t\t\tdata.push({id:options[i], value:options[i]});\n\t\t\t\toptions = data;\n\t\t\t} else if (!array){\t\t\t\t\t\t\t\t\t\t\t\t\t//{ 1:\"one\", 2:\"two\" }\n\t\t\t\tfor (let i in options)\n\t\t\t\t\tdata.push({id:i, value:options[i]});\n\t\t\t\toptions = data;\n\t\t\t} \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// else [{ id:1, value:\"one\"}, ...]\n\n\t\t\toptions = new (use(\"DataCollection\"))({ data:options });\n\t\t\tthis._destroy_with_me.push(options);\n\n\t\t} \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// else data collection or view\n\t\treturn options;\n\t},\n\t_map_options:function(column){\n\t\tlet options = column.options||column.collection;\n\t\tif (options){\n\t\t\toptions = this._create_collection(options);\n\t\t\tthis._bind_collection(options, column);\n\t\t}\n\t\tif (column.header){\n\t\t\tthis._map_header_options(column.header);\n\t\t\tthis._map_header_options(column.footer);\n\t\t}\n\t},\n\t_map_header_options:function(arr){\n\t\tarr = arr || [];\n\t\tfor (let i=0; i<arr.length; i++){\n\t\t\tlet config = arr[i];\n\n\t\t\tif (config && config.options){\n\t\t\t\tlet options = config.options;\n\t\t\t\tif (!options.loadNext)\n\t\t\t\t\toptions = config.options = this._create_collection(options);\n\n\t\t\t\tlet id = options.data.attachEvent(\"onStoreUpdated\", () => {\n\t\t\t\t\tif(this.refreshFilter)\n\t\t\t\t\t\tthis.refreshFilter(config.columnId);\n\t\t\t\t});\n\t\t\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\t\t\tif (!options.$destructed) options.data.detachEvent(id);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t_bind_collection:function(options, column){\n\t\tif (column){\n\t\t\tdelete column.options;\n\t\t\tcolumn.collection = options;\n\t\t\tcolumn.template = column.template || this._bind_template(options, column.id, column.optionslist);\n\t\t\tlet id = options.data.attachEvent(\"onStoreUpdated\", () => {\n\t\t\t\tthis.refresh();\n\t\t\t\tif(this.refreshFilter)\n\t\t\t\t\tthis.refreshFilter(column.id);\n\t\t\t});\n\t\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\t\tif (!options.$destructed) options.data.detachEvent(id);\n\t\t\t});\n\t\t}\n\t},\n\t_bind_template:function(options, columnId, multi){\n\t\tcolumnId = this.getColumnConfig ? columnId : \"value\";\n\t\tif (multi) {\n\t\t\tlet separator = typeof multi==\"string\" ? multi : \",\";\n\t\t\treturn function(obj){\n\t\t\t\tlet value = obj[columnId];\n\t\t\t\tif (!value) return \"\";\n\n\t\t\t\tlet ids = value.toString().split(separator);\n\t\t\t\tfor (let i = 0; i < ids.length; i++){\n\t\t\t\t\tlet data = options.data.pull[ids[i]];\n\t\t\t\t\tids[i] = data ? (data.value  || \"\") : \"\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn ids.join(\", \");\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(obj){\n\t\t\t\tlet data = options.data.pull[ obj[columnId] ];\n\t\t\t\tif (data && (data.value || data.value === 0))\n\t\t\t\t\treturn data.value;\n\t\t\t\treturn \"\";\n\t\t\t};\n\t\t}\n\t}\n};\n\nexport default MapCollection;","import {_getClassName, locate} from \"../webix/html\";\nimport UIManager from \"../core/uimanager\";\nimport {extend, delay, toFunctor} from \"../webix/helpers\";\nimport env from \"../webix/env\";\nimport {_event} from \"../webix/htmlevents\";\n\n\nconst MouseEvents={\n\t$init: function(config){\n\t\tconfig = config || {};\n\n\t\tthis._clickstamp = 0;\n\t\tthis._dbl_sensetive = 300;\n\t\tthis._item_clicked = null;\n\n\t\tthis._mouse_action_extend(config.onClick, \"on_click\");\n\t\tthis._mouse_action_extend(config.onContext, \"on_context\");\n\t\tthis._mouse_action_extend(config.onDblClick, \"on_dblclick\");\n\t\tthis._mouse_action_extend(config.onMouseMove, \"on_mouse_move\");\n\n\t\t//attach dom events if related collection is defined\n\t\tif (this.on_click){\n\t\t\t_event(this._contentobj,\"click\",this._onClick,{bind:this});\n\t\t\tif (env.isIE8 && this.on_dblclick)\n\t\t\t\t_event(this._contentobj, \"dblclick\", this._onDblClick, {bind:this});\n\t\t}\n\t\tif (this.on_context)\n\t\t\t_event(this._contentobj,\"contextmenu\",this._onContext,{bind:this});\n\n\t\tif (this.on_mouse_move)\n\t\t\tthis._enable_mouse_move();\n\t},\n\n\t_enable_mouse_move:function(){\n\t\tif (!this._mouse_move_enabled){\n\t\t\tthis.on_mouse_move = this.on_mouse_move || {};\n\t\t\t_event(this._contentobj,\"mousemove\",this._onMouse,{bind:this});\n\t\t\t_event(this._contentobj,(env.isIE?\"mouseleave\":\"mouseout\"),this._onMouse,{bind:this});\n\t\t\tthis._mouse_move_enabled = 1;\n\t\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\t\tif (this._mouse_move_timer)\n\t\t\t\t\twindow.clearTimeout(this._mouse_move_timer);\n\t\t\t});\n\t\t}\n\n\t},\n\n\t_mouse_action_extend:function(config, key){\n\t\tif (config){\n\t\t\tvar now = this[key];\n\t\t\tvar step = now ? extend({}, now) : {};\n\t\t\tthis[key] = extend(step, config);\n\t\t}\n\t},\n\n\t//inner onclick object handler\n\t_onClick: function(e){\n\t\tif(!this.isEnabled())\n\t\t\treturn false;\n\n\t\tUIManager._focus_action(this);\n\t\tif(this.on_dblclick){\n\t\t\t// emulates double click\n\t\t\tvar stamp = (new Date()).valueOf();\n\n\t\t\tif (stamp - this._clickstamp <= this._dbl_sensetive && this.locate){\n\t\t\t\tvar item = this.locate(e);\n\t\t\t\tif (\"\"+item == \"\"+this._item_clicked) {\n\t\t\t\t\tthis._clickstamp = 0;\n\t\t\t\t\treturn this._onDblClick(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clickstamp = stamp;\n\t\t}\n\n\t\tvar result = this._mouseEvent(e,this.on_click,\"ItemClick\");\n\t\treturn result;\n\t},\n\t//inner ondblclick object handler\n\t_onDblClick: function(e) {\n\t\treturn this._mouseEvent(e,this.on_dblclick,\"ItemDblClick\");\n\t},\n\t//process oncontextmenu events\n\t_onContext: function(e) {\n\t\tthis._mouseEvent(e, this.on_context, \"BeforeContextMenu\", \"AfterContextMenu\");\n\t},\n\t/*\n\t\tevent throttler - ignore events which occurs too fast\n\t\tduring mouse moving there are a lot of event firing - we need no so much\n\t\talso, mouseout can fire when moving inside the same html container - we need to ignore such fake calls\n\t*/\n\t_onMouse:function(e){\n\t\tif (this.$destructed) return;\n\t\tif (document.createEventObject)\t//make a copy of event, will be used in timed call\n\t\t\te = document.createEventObject(event);\n\n\t\tif (this._mouse_move_timer)\t//clear old event timer\n\t\t\twindow.clearTimeout(this._mouse_move_timer);\n\n\t\t//this event just inform about moving operation, we don't care about details\n\t\tthis.callEvent(\"onMouseMoving\",[e]);\n\t\t//set new event timer\n\t\tthis._mouse_move_timer = delay(function(e){\n\t\t\t//called only when we have at least 100ms after previous event\n\t\t\tif (e.type == \"mousemove\")\n\t\t\t\tthis._onMouseMove(e);\n\t\t\telse\n\t\t\t\tthis._onMouseOut(e);\n\t\t}, this, [e], (this._settings.mouseEventDelay||500));\n\t},\n\n\t//inner mousemove object handler\n\t_onMouseMove: function(e) {\n\t\tif (!this._mouseEvent(e,this.on_mouse_move,\"MouseMove\"))\n\t\t\tthis._onMouseOut(e);\n\t},\n\t//inner mouseout object handler\n\t_onMouseOut: function(e) {\n\t\tthis.callEvent(\"onMouseOut\",[e||event]);\n\t},\n\t//common logic for click and dbl-click processing\n\t_mouseEvent:function(e,hash,name, pair){\n\t\te=e||event;\n\n\t\tif (e.processed || !this._viewobj) return;\n\t\te.processed = true;\n\n\t\tvar trg=e.target||e.srcElement;\n\n\t\t//IE8 can't modify event object\n\t\t//so we need to stop event bubbling to prevent double processing\n\t\tif (env.isIE8){\n\t\t\tvar vid = this._settings.id;\n\t\t\tvar wid = trg.w_view;\n\n\t\t\tif (!wid) trg.w_view = vid; else if (wid !== vid) return;\n\t\t}\n\n\t\tvar css = \"\";\n\t\tvar id = null;\n\t\tvar found = false;\n\t\t//loop through all parents\n\t\t//we need to check for this._viewobj as some handler can destroy the view\n\t\twhile (trg && trg.parentNode && this._viewobj && trg != this._viewobj.parentNode){\n\t\t\tif (!found && trg.getAttribute){\t\t\t\t\t\t\t\t\t\t\t\t\t//if element with ID mark is not detected yet\n\t\t\t\tid = trg.getAttribute(this._id);\t\t\t\t\t\t\t//check id of current one\n\t\t\t\tif (id){\n\t\t\t\t\t// prevent clicking on disabled items\n\t\t\t\t\tif (trg.getAttribute(\"webix_disabled\")){\n\t\t\t\t\t\tthis._item_clicked = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._item_clicked = id;\n\t\t\t\t\tif (this.callEvent){\n\t\t\t\t\t\t//it will be triggered only for first detected ID, in case of nested elements\n\t\t\t\t\t\tif (!this.callEvent(\"on\"+name,[id,e,trg])) return;\n\t\t\t\t\t\tif (pair) this.callEvent(\"on\"+pair,[id,e,trg]);\n\t\t\t\t\t}\n\t\t\t\t\t//set found flag\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcss=_getClassName(trg);\n\t\t\tif (css){\t\t//check if pre-defined reaction for element's css name exists\n\t\t\t\tcss = css.toString().split(\" \");\n\t\t\t\tfor (var i=0; i<css.length; i++){\n\t\t\t\t\tif (hash[css[i]]){\n\t\t\t\t\t\tvar functor = toFunctor(hash[css[i]], this.$scope);\n\t\t\t\t\t\tvar res =  functor.call(this,e,id||locate(e, this._id),trg);\n\t\t\t\t\t\tif(res === false)\n\t\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttrg=trg.parentNode;\n\t\t}\n\t\t\t\n\t\treturn found;\t//returns true if item was located and event was triggered\n\t}\n};\n\nexport default MouseEvents;","import {preventEvent, remove, create} from \"../webix/html\";\nimport {bind} from \"../webix/helpers\";\nimport {$$} from \"../ui/core\";\nimport i18n from \"../webix/i18n\";\nimport {event} from \"../webix/htmlevents\";\n\n\n/*\n    UI: navigation control\n*/\nconst NavigationButtons = {\n\t$init:function(){\n\t\tthis.$ready.push(function(){\n\t\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\n\t\t});\n\t},\n\t_moveActive:function(code, e){\n\t\tif(code === 37  || code === 39){\n\t\t\tpreventEvent(e);\n\t\t\tthis._showNavItem(code===37?-1:1);\n\n\t\t\tvar node = this._navPanel.querySelector(\"[tabindex='0']\");\n\t\t\tif(node) node.focus();\n\t\t}\n\t},\n\t_renderPanel:function(){\n\t\tremove(this._navPanel);\n\n\n\t\tthis._navPanel = create(\"DIV\",{\n\t\t\t\"class\":\"webix_nav_panel \"+\"webix_nav_panel_\"+this._settings.navigation.type,\n\t\t\t\"role\":\"tablist\"\n\t\t},\"\");\n\n\t\tthis._viewobj.appendChild(this._navPanel);\n\n\n\t\tthis._renderNavItems();\n\t\tthis._renderNavButtons();\n\t\tthis._setLinkEventHandler();\n\t},\n\t_setLinkEventHandler: function(){\n\t\tvar h = [];\n\t\tif(this._navPanel)\n\t\t\th[0] = event(this._navPanel,\"click\", bind(function(e){\n\t\t\t\tvar elem = (e.srcElement || e.target);\n\t\t\t\tvar found = false;\n\t\t\t\twhile(elem != this._navPanel && !found){\n\t\t\t\t\tvar bindId = elem.getAttribute(this._linkAttr);\n\t\t\t\t\tif(bindId){\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tthis._showPanelBind(bindId);\n\t\t\t\t\t}\n\t\t\t\t\telem = elem.parentNode;\n\t\t\t\t}\n\t\t\t},this));\n\t\tif(this._prevNavButton)\n\t\t\th[1] = event(this._prevNavButton,\"click\", bind(function(){\n\t\t\t\tthis._showNavItem(-1);\n\t\t\t},this));\n\t\tif(this._nextNavButton)\n\t\t\th[1] = event(this._nextNavButton,\"click\", bind(function(){\n\t\t\t\tthis._showNavItem(1);\n\t\t\t},this));\n\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\tfor(var i=0;i< h.length; i++){\n\t\t\t\tthis.detachEvent(h[i]);\n\t\t\t}\n\t\t\th = null;\n\t\t});\n\t},\n\t_showNavItem: function(inc){\n\t\tif(this._cells){\n\t\t\tvar index = this._active_cell + inc;\n\t\t\tif(index >= this._cells.length || index < 0){\n\t\t\t\tindex = (index < 0?this._cells.length-1:0);\n\t\t\t}\n\t\t\tthis.setActiveIndex(index);\n\t\t}\n\t},\n\t_showPanelBind: function(id){\n\t\tif(this._cells)\n\t\t\t$$(id).show();\n\t},\n\t_renderNavItems:function(){\n\t\tvar item, config;\n\t\tconfig = this._settings.navigation;\n\t\tif(config.items){\n\t\t\tthis._linkAttr = config.linkAttr || /*@attr*/\"bind_id\";\n\n\t\t\tif(!this._navPanel)\n\t\t\t\tthis._renderPanel();\n\t\t\telse\n\t\t\t\tthis._clearPanel();\n\n\t\t\tvar data = (this._cells?this._cells:this.data.order);\n\t\t\tif(data.length>1){\n\t\t\t\tfor (var i=0; i < data.length; i++){\n\n\t\t\t\t\titem = create(\"DIV\",{\n\t\t\t\t\t\t\"class\":\"webix_nav_item webix_nav_\"+(i==this._active_cell?\"active\":\"inactive\"),\n\t\t\t\t\t\t\"role\":\"tab\",\n\t\t\t\t\t\t\"tabindex\":(i==this._active_cell?\"0\":\"-1\")\n\t\t\t\t\t});\n\t\t\t\t\tvar id = this._cells?this._cells[i]._settings.id:data[i];\n\t\t\t\t\tif(id)\n\t\t\t\t\t\titem.setAttribute(this._linkAttr, id);\n\t\t\t\t\tthis._navPanel.appendChild(item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t_clearPanel:function(){\n\t\tif (this._navPanel){\n\t\t\tvar coll = this._navPanel.childNodes;\n\t\t\tfor (var i = coll.length - 1; i >= 0; i--)\n\t\t\t\tremove(coll[i]);\n\t\t}\n\t},\n\t_renderNavButtons: function(){\n\t\tvar config = this._settings.navigation;\n\t\tif(config.buttons){\n\n\t\t\tif(this._prevNavButton)\n\t\t\t\tremove(this._prevNavButton);\n\t\t\tif(this._prevNavButton)\n\t\t\t\tremove(this._nextNavButton);\n\n\n\t\t\tthis._prevNavButton = create(\n\t\t\t\t\"DIV\",\n\t\t\t\t{\n\t\t\t\t\t\"class\":\"webix_nav_button_\"+config.type+\" webix_nav_button_prev \"\n\t\t\t\t},\n\t\t\t\t\"<div role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\"+i18n.aria.prevTab+\"\\\" class=\\\"webix_nav_button_inner\\\"></div>\"\n\t\t\t);\n\t\t\tthis._viewobj.appendChild(this._prevNavButton);\n\n\t\t\tthis._nextNavButton = create(\n\t\t\t\t\"DIV\",\n\t\t\t\t{\n\t\t\t\t\t\"class\":\"webix_nav_button_\"+config.type+\" webix_nav_button_next \"\n\t\t\t\t},\n\t\t\t\t\"<div role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\"+i18n.aria.prevTab+\"\\\" class=\\\"webix_nav_button_inner\\\"></div>\"\n\t\t\t);\n\t\t\tthis._viewobj.appendChild(this._nextNavButton);\n\t\t}\n\t}\n};\n\nexport default NavigationButtons;","import {create, insertBefore, remove} from \"../webix/html\";\n\n\nconst OverlayBox = {\n\tshowOverlay:function(message){\n\t\tif (!this._overlay){\n\t\t\tthis._overlay = create(\"DIV\",{ \"class\":\"webix_overlay\" },(message||\"\"));\n\t\t\tinsertBefore(this._overlay, this._viewobj.firstChild, this._viewobj);\n\t\t\tthis._viewobj.style.position = \"relative\";\n\t\t} else \n\t\t\tthis._overlay.innerHTML = message;\n\t},\n\thideOverlay:function(){\n\t\tif (this._overlay){\n\t\t\tremove(this._overlay);\n\t\t\tthis._overlay = null;\n\t\t}\n\t}\n};\n\nexport default OverlayBox;","import {delay} from \"../webix/helpers\";\nimport {ui, $$} from \"../ui/core\";\n\n\nconst PagingAbility = {\n\tpager_setter:function(pager){\n\t\tif (typeof pager == \"string\"){\n\t\t\tvar ui_pager = $$(pager);\n\t\t\tif (!ui_pager){\n\t\t\t\tthis.$blockRender = true;\n\t\t\t\tdelay(function(){\n\t\t\t\t\tvar obj = $$(pager);\n\n\t\t\t\t\tthis._settings.pager = this.pager_setter(obj);\n\t\t\t\t\tvar s = obj._settings;\n\t\t\t\t\ts.count = this.data._count_pager_total(s.level);\n\t\t\t\t\tobj.refresh();\n\n\t\t\t\t\tthis.$blockRender = false;\n\t\t\t\t\tthis.render();\n\t\t\t\t}, this);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tpager = ui_pager;\n\t\t}\n\n\t\tfunction check_pager_sizes(repeat){\n\t\t\tif (pager.config.autosize && this.getVisibleCount){\n\t\t\t\tvar count = this.getVisibleCount();\n\t\t\t\tif (isNaN(count)){\n\t\t\t\t\tpager.config.size = 1;\n\t\t\t\t\tdelay(check_pager_sizes, this, [true]);\n\t\t\t\t} else if (count != pager.config.size){\n\t\t\t\t\tpager.config.size = count;\n\t\t\t\t\tpager.refresh();\n\t\t\t\t\tif (repeat === true)\n\t\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar s = this._settings.pager;\n\t\t\t//initial value of pager = -1, waiting for real value\n\t\t\tif (s.page == -1) return false;\t\n\t\t\t\n\t\t\tthis.data.$min = this._count_pager_index(0, s.page*s.size);\t//affect data.getRange\n\t\t\tthis.data.$max = this._count_pager_index(this.data.$min, s.size);\n\t\t\tthis.data.$pagesize = this.data.$max - this.data.$min;\n\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.attachEvent(\"onBeforeRender\",check_pager_sizes);\n\n\t\tif (!pager.$view){\n\t\t\tpager.view = \"pager\";\n\t\t\tpager = ui(pager);\n\t\t}\n\t\tthis._pager = pager;\n\t\tpager.$master = this;\n\n\t\tthis.data.attachEvent(\"onStoreUpdated\", function(){\n\t\t\tvar s = pager._settings;\n\t\t\ts.count = this._count_pager_total(s.level);\n\t\t\tpager.refresh();\n\t\t});\n\t\tthis.data._count_pager_total = this._count_pager_total;\n\n\t\treturn pager._settings;\n\t},\n\t_count_pager_total:function(level){\n\t\tif (level && level !== 0){\n\t\t\tvar count = 0; \n\t\t\tthis.each(function(obj){\n\t\t\t\tif (obj.$level == level) count++;\n\t\t\t});\n\t\t\treturn count;\n\t\t} else\n\t\t\treturn this.count();\n\t},\n\t_count_pager_index:function(start, count){\n\t\tvar s = this._settings.pager;\n\n\t\tif (s.level && s.level !== 0){\n\t\t\tvar end = start;\n\t\t\tvar max = this.data.order.length;\n\n\t\t\tif (count)\n\t\t\t\twhile (end < max){\n\t\t\t\t\tif (this.data.order[end] && this.data.getItem(this.data.order[end]).$level == s.level){\n\t\t\t\t\t\tif (count === 0)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tcount--;\n\t\t\t\t\t}\n\t\t\t\t\tend++;\n\t\t\t\t}\n\n\t\t\treturn end;\n\t\t} else\n\t\t\treturn start+count;\n\t},\n\tsetPage:function(value){\n\t\tif (this._pager)\n\t\t\tthis._pager.select(value);\n\t},\n\tgetPage:function(){\n\t\treturn this._pager._settings.page;\n\t},\n\tgetPager:function(){\n\t\treturn this._pager;\n\t}\n};\n\nexport default PagingAbility;","import {create, insertBefore, remove} from \"../webix/html\";\nimport Touch from \"../core/touch\";\nimport env from \"../webix/env\";\nimport {isUndefined, extend, delay} from \"../webix/helpers\";\n\n\nconst ProgressBar = {\n\t$init:function(){\n\t\tif (isUndefined(this._progress) && this.attachEvent){\n\t\t\tthis.attachEvent(\"onBeforeLoad\", () => this.showProgress());\n\t\t\tthis.attachEvent(\"onAfterLoad\", () => this.hideProgress());\n\t\t\tthis._progress = null;\n\t\t}\n\t},\n\tshowProgress:function(config){\n\t\t// { position: 0 - 1, delay: 2000ms by default, css : name of css class to use }\n\t\tvar width;\n\t\tif (!this._progress){\n\n\t\t\tconfig = extend({\n\t\t\t\tposition:0,\n\t\t\t\tdelay: 2000,\n\t\t\t\ttype:\"icon\",\n\t\t\t\ticon:\"wxi-sync\",\n\t\t\t\thide:false\n\t\t\t}, (config||{}), true);\n\n\t\t\tvar incss = (config.type == \"icon\") ? (config.icon+\" webix_spin\") : \"\";\n\n\t\t\tthis._progress = create(\n\t\t\t\t\"DIV\",\n\t\t\t\t{\n\t\t\t\t\t\"class\":\"webix_progress_\"+config.type,\n\t\t\t\t\t\"role\":\"progressbar\",\n\t\t\t\t\t\"aria-valuemin\":\"0\",\n\t\t\t\t\t\"aria-valuemax\":\"100\",\n\t\t\t\t\t\"tabindex\":\"0\"\n\t\t\t\t},\n\t\t\t\t\"<div class='webix_progress_state \"+incss+\"'></div>\"\n\t\t\t);\n\n\t\t\tif(!this.setPosition)\n\t\t\t\tthis._viewobj.style.position = \"relative\";\n\n\t\t\tinsertBefore(this._progress, this._viewobj.firstChild, this._viewobj);\n\t\t\tthis._viewobj.setAttribute(\"aria-busy\", \"true\");\n\n\t\t\tif(!Touch.$active || this._touch_scroll == \"native\"){\n\t\t\t\tif(this.getScrollState){\n\t\t\t\t\tvar scroll = this.getScrollState();\n\t\t\t\t\tif(this._viewobj.scrollWidth != this.$width){\n\t\t\t\t\t\tthis._progress.style.left = scroll.x +\"px\";\n\t\t\t\t\t}\n\t\t\t\t\tif(this._viewobj.scrollHeight != this.$height){\n\t\t\t\t\t\tif(config.type != \"bottom\"){\n\t\t\t\t\t\t\tthis._progress.style.top = scroll.y +\"px\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._progress.style.top =  scroll.y + this.$height - this._progress.offsetHeight +\"px\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._progress_animate = config.type != \"icon\";\n\t\t}\n\n\t\tif (!config) return;\n\n\t\tif (this._progress_animate){\n\t\t\tvar position = config.position || 1;\n\t\t\t//check for css-transition support\n\t\t\tif(this._progress.style[env.transitionDuration] !== undefined || !config.delay){\n\t\t\t\tif (config.delay){\n\t\t\t\t\t// force reflow\n\t\t\t\t\twidth = this._viewobj.firstChild.offsetWidth;\n\t\t\t\t\tthis._progress.firstChild.style[env.transitionDuration] = config.delay+\"ms\";\n\t\t\t\t}\n\n\t\t\t\t// animate to new value\n\t\t\t\tthis._progress.firstChild.style.width = position*100+\"%\";\n\t\t\t} else{\n\t\t\t\t//if animation is not supported fallback to timeouts [IE9]\n\t\t\t\tvar count = 0,\n\t\t\t\t\tstart = 0,\n\t\t\t\t\tstep = position/config.delay*30,\n\t\t\t\t\tview = this;\n\n\t\t\t\tif(this._progressTimer){\n\t\t\t\t\t//reset the existing progress\n\t\t\t\t\twindow.clearInterval(this._progressTimer);\n\t\t\t\t\tstart = this._progress.firstChild.offsetWidth/this._progress.offsetWidth*100;\n\t\t\t\t}\n\t\t\t\tthis._progressTimer = window.setInterval(function(){\n\t\t\t\t\tif(count*30 == config.delay){\n\t\t\t\t\t\twindow.clearInterval(view._progressTimer);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(view._progress && view._progress.firstChild)\n\t\t\t\t\t\t\tview._progress.firstChild.style.width = start+count*step*position*100+\"%\";\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t},30);\n\t\t\t}\n\t\t}\n\n\t\tif (this._progress_hide)\n\t\t\tclearTimeout(this._progress_hide);\n\n\t\tif(config.hide)\n\t\t\tthis._progress_hide = delay(this.hideProgress, this, [1], config.delay);\n\n\t\t// necessary to prevent code optimization\n\t\treturn width;\n\t},\n\thideProgress:function(now){\n\t\tif (this._progress){\n\t\t\tif (now || !this._progress_animate){\n\t\t\t\tif(this._progressTimer)\n\t\t\t\t\twindow.clearInterval(this._progressTimer);\n\t\t\t\tremove(this._progress);\n\t\t\t\tthis._progress = null;\n\t\t\t\tthis._viewobj.removeAttribute(\"aria-busy\");\n\t\t\t} else {\n\t\t\t\tthis.showProgress({ position:1.1, delay:300 , hide:true });\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default ProgressBar;","import {locate, insertBefore, remove} from \"../webix/html\";\nimport {bind, clone, extend, toFunctor} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport template from \"../webix/template\";\n\nimport type from \"../webix/type\";\n\nconst RenderStack ={\n\t$init:function(){\n\t\tassert(this.data,\"RenderStack :: Component doesn't have DataStore\");\n\t\tassert(template,\"template :: template is not accessible\");\n\n\t\t//used for temporary HTML elements\n\t\t//automatically nulified during destruction\n\t\tthis._html = document.createElement(\"DIV\");\n\t\t\t\t\n\t\tthis.data.attachEvent(\"onIdChange\", bind(this._render_change_id, this));\n\t\tthis.attachEvent(\"onItemClick\", this._call_onclick);\n\t\t\n\t\t//create copy of default type, and set it as active one\n\t\tif (!this.types){ \n\t\t\tthis.types = { \"default\" : this.type };\n\t\t\tthis.type.name = \"default\";\n\t\t}\n\n\t\tthis.type = clone(this.type);\n\t},\n\t\n\tcustomize:function(obj){ \n\t\ttype(this,obj);\n\t},\n\titem_setter:function(value){\n\t\treturn this.type_setter(value);\n\t},\n\ttype_setter:function(value){\n\t\tif(!this.types[value])\n\t\t\tthis.customize(value);\n\t\telse {\n\t\t\tthis.type = clone(this.types[value]);\n\t\t\tif (this.type.css) \n\t\t\t\tthis._contentobj.className+=\" \"+this.type.css;\n\t\t}\n\t\tif (this.type.on_click)\n\t\t\textend(this.on_click, this.type.on_click);\n\n\t\treturn value;\n\t},\n\t\n\ttemplate_setter:function(value){\n\t\tthis.type.template=template(value);\n\t},\n\t//convert single item to HTML text (templating)\n\t_toHTML:function(obj){\n\t\tvar mark = this.data._marks[obj.id];\n\t\t//check if related template exist\n\t\tassert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\n\t\tthis.callEvent(\"onItemRender\",[obj]);\n\t\treturn this.type.templateStart(obj,this.type, mark)+(obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type,mark)+this.type.templateEnd(obj, this.type,mark);\n\t},\n\t//convert item to HTML object (templating)\n\t_toHTMLObject:function(obj){\n\t\tthis._html.innerHTML = this._toHTML(obj);\n\t\treturn this._html.firstChild;\n\t},\n\t_render_change_id:function(old, newid){\n\t\tvar obj = this.getItemNode(old);\n\t\tif (obj) {\n\t\t\tobj.setAttribute(this._id, newid);\n\t\t\tthis._htmlmap[newid] = this._htmlmap[old];\n\t\t\tdelete this._htmlmap[old];\n\t\t}\n\t},\n\t//calls function that is set in onclick property\n\t_call_onclick:function(){\n\t\tif (this._settings.click){\n\t\t\tvar code = toFunctor(this._settings.click, this.$scope);\n\t\t\tif (code && code.call) code.apply(this,arguments);\n\t\t}\n\t},\n\t//return html container by its ID\n\t//can return undefined if container doesn't exists\n\tgetItemNode:function(search_id){\n\t\tif (this._htmlmap)\n\t\t\treturn this._htmlmap[search_id];\n\t\t\t\n\t\t//fill map if it doesn't created yet\n\t\tthis._htmlmap={};\n\t\t\n\t\tvar t = this._dataobj.childNodes;\n\t\tfor (var i=0; i < t.length; i++){\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\n\t\t\tif (id)\n\t\t\t\tthis._htmlmap[id]=t[i];\n\t\t}\n\t\t//call locator again, when map is filled\n\t\treturn this.getItemNode(search_id);\n\t},\n\t//return id of item from html event\n\tlocate:function(e){ return locate(e,this._id); },\n\t/*change scrolling state of top level container, so related item will be in visible part*/\n\tshowItem:function(id){\n\n\t\tvar html = this.getItemNode(id);\n\t\tif (html&&this.scrollTo){\n\t\t\tvar txmin = html.offsetLeft;\n\t\t\tvar txmax = txmin + html.offsetWidth;\n\t\t\tvar tymin = html.offsetTop;\n\n\t\t\tvar tymax = tymin + html.offsetHeight;\n\t\t\tvar state = this.getScrollState();\n\n\t\t\tvar x = state.x;\n\t\t\tif (x > txmin || x + this._content_width < txmax )\n\t\t\t\tx = txmin;\n\t\t\tvar y = state.y;\n\t\t\tif (y > tymin || y + this._content_height < tymax )\n\t\t\t\ty = tymin;\n\n\t\t\tthis.scrollTo(x,y);\n\t\t\tif(this._setItemActive)\n\t\t\t\tthis._setItemActive(id);\n\t\t}\n\t},\n\t//update view after data update\n\t//method calls low-level rendering for related items\n\t//when called without parameters - all view refreshed\n\trender:function(id,data,type){\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\n\t\t\treturn;\n\t\t\n\t\tif (id){\n\t\t\tvar cont = this.getItemNode(id); //get html element of updated item\n\t\t\tswitch(type){\n\t\t\t\tcase \"paint\":\n\t\t\t\tcase \"update\":\n\t\t\t\t\t//in case of update - replace existing html with updated one\n\t\t\t\t\tif (!cont) return;\n\t\t\t\t\tvar t1 = this._htmlmap[id] = this._toHTMLObject(data);\n\t\t\t\t\tinsertBefore(t1, cont); \n\t\t\t\t\tremove(cont);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"delete\":\n\t\t\t\t\t//in case of delete - remove related html\n\t\t\t\t\tif (!cont) return;\n\t\t\t\t\tremove(cont);\n\t\t\t\t\tdelete this._htmlmap[id];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"add\":\n\t\t\t\t\t//in case of add - put new html at necessary position\n\t\t\t\t\tvar t2 = this._htmlmap[id] = this._toHTMLObject(data);\n\t\t\t\t\tinsertBefore(t2, this.getItemNode(this.data.getNextId(id)), this._dataobj);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"move\":\n\t\t\t\t\t//moving without repainting the item\n\t\t\t\t\tinsertBefore(this.getItemNode(id), this.getItemNode(this.data.getNextId(id)), this._dataobj);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tassert(0, \"Unknown render command: \"+type);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\t//full reset\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\t\t//getRange - returns all elements\n\t\t\t\t(this._renderobj||this._dataobj).innerHTML = this.data.getRange().map(this._toHTML,this).join(\"\");\n\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default RenderStack;","import {create} from \"../webix/html\";\nimport {delay} from \"../webix/helpers\";\nimport env from \"../webix/env\";\nimport {_event} from \"../webix/htmlevents\";\n\nimport CustomScroll from \"../core/customscroll\";\n\nconst Scrollable= {\n\t$init:function(config){\n\t\t//do not spam unwanted scroll containers for templates \n\t\tif (config && !config.scroll && this._one_time_scroll) \n\t\t\treturn (this._dataobj = (this._dataobj||this._contentobj));\n\n\t\t(this._dataobj||this._contentobj).appendChild(create(\"DIV\",{ \"class\" : \"webix_scroll_cont\" },\"\"));\n\t\tthis._dataobj=(this._dataobj||this._contentobj).firstChild;\n\n\t\tif (this.callEvent && (!env.touch || this._touch_scroll == \"native\"))\n\t\t\t_event(this._viewobj, \"scroll\", function(){\n\t\t\t\tdelay(function(){\n\t\t\t\t\tthis.callEvent(\"onAfterScroll\", []);\n\t\t\t\t}, this);\n\t\t\t}, { bind:this });\n\t},\n\t_touch_scroll:\"native\",\n\tscroll_setter:function(value){\n\t\tif (!value) return false;\n\t\tvar auto = value === \"auto\";\n\t\tvar marker =  (value ==\"x\"?\"x\":(value==\"xy\"?\"xy\":(auto?\"xy\":\"y\")));\n\n\t\tif (env.$customScroll){\n\t\t\tCustomScroll.enable(this, marker);\n\t\t} else {\n\t\t\tvar node = this._dataobj.parentNode.style;\n\t\t\tif (auto){\n\t\t\t\tnode.overflowX = node.overflowY = \"auto\";\n\t\t\t} else {\n\t\t\t\tif (marker.indexOf(\"x\")!=-1){\n\t\t\t\t\tthis._scroll_x = true;\n\t\t\t\t\tnode.overflowX = \"scroll\";\n\t\t\t\t}\n\t\t\t\tif (marker.indexOf(\"y\")!=-1){\n\t\t\t\t\tthis._scroll_y = true;\n\t\t\t\t\tnode.overflowY = \"scroll\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn marker;\n\t},\n\t_onoff_scroll:function(mode, dir){\n\t\tif (!!this._settings.scroll == !!mode) return;\n\n\t\tif (!env.$customScroll){\n\t\t\tvar style = this._dataobj.parentNode.style;\n\t\t\tstyle[dir === \"x\" ? \"overflowX\" : \"overflowY\"] = mode ? \"auto\" : \"hidden\";\n\t\t}\n\n\t\tif (dir === \"x\"){\n\t\t\tthis._scroll_x = mode;\n\t\t} else {\n\t\t\tthis._scroll_y = mode;\n\t\t}\n\t\tthis._settings.scroll = mode?dir:false;\n\t},\n\tgetScrollState:function(){\n\t\treturn { x: this._dataobj.parentNode.scrollLeft, y: this._dataobj.parentNode.scrollTop };\n\t},\n\tscrollTo:function(x,y){\n\t\tthis._dataobj.parentNode.scrollLeft = x;\n\t\tthis._dataobj.parentNode.scrollTop = y;\n\t}\n};\n\nexport default Scrollable;","import {addCss, removeCss} from \"../webix/html\";\nimport {_to_array, bind, isArray} from \"../webix/helpers\";\nimport {_event, event} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\n\nimport ready from \"../webix/ready\";\nimport state from \"../core/state\";\n\n\n/*\n\tBehavior:SelectionModel - manage selection states\n\t@export\n\t\tselect\n\t\tunselect\n\t\tselectAll\n\t\tunselectAll\n\t\tisSelected\n\t\tgetSelectedId\n*/\nconst SelectionModel ={\n\t$init:function(){\n\t\t//collection of selected IDs\n\t\tthis._selected = _to_array();\n\t\tassert(this.data, \"SelectionModel :: Component doesn't have DataStore\");\n\n\t\t//remove selection from deleted items\n\t\tthis.data.attachEvent(\"onStoreUpdated\",bind(this._data_updated,this));\n\t\tthis.data.attachEvent(\"onStoreLoad\", bind(this._data_loaded,this));\n\t\tthis.data.attachEvent(\"onAfterFilter\", bind(this._data_filtered,this));\n\t\tthis.data.attachEvent(\"onSyncApply\", bind(this._select_check,this));\n\t\tthis.data.attachEvent(\"onIdChange\", bind(this._id_changed,this));\n\t\tthis.$ready.push(this._set_noselect);\n\t},\n\t_set_noselect: function(){\n\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect || this._settings.select==\"area\")\n\t\t\t_event(this.$view,\"mousedown\", function(e){\n\t\t\t\tvar shiftKey = (e||window.event).shiftKey;\n\t\t\t\tif(shiftKey){\n\t\t\t\t\tstate._noselect_element = this;\n\t\t\t\t\taddCss(this,\"webix_noselect\",1);\n\t\t\t\t}\n\t\t\t});\n\t},\n\t_id_changed:function(oldid, newid){\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--)\n\t\t\tif (this._selected[i]==oldid)\n\t\t\t\tthis._selected[i]=newid;\n\t},\n\t_data_filtered:function(){\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--){\n\t\t\tif (this.data.getIndexById(this._selected[i]) < 0) {\n\t\t\t\tvar id = this._selected[i];\n\t\t\t\tthis.removeCss(id, \"webix_selected\", true);\n\t\t\t\tthis._selected.splice(i,1);\n\t\t\t\tthis.callEvent(\"onSelectChange\",[id]);\n\t\t\t}\n\t\t}\n\t},\n\t//helper - linked to onStoreUpdated\n\t_data_updated:function(id,obj,type){\n\t\tif (type == \"delete\"){\t\t\t\t//remove selection from deleted items\n\t\t\tif (this.loadBranch){\n\t\t\t\t//hierarchy, need to check all\n\t\t\t\tthis._select_check();\n\t\t\t} else\n\t\t\t\tthis._selected.remove(id);\n\t\t}\n\t\telse if (!id && !this.data.count() && !this.data._filter_order && !this.data._filter_branch){\t//remove selection for clearAll\n\t\t\tthis._selected = _to_array();\n\t\t}\n\t},\n\t_data_loaded:function(){\n\t\tif (this._settings.select)\n\t\t\tthis.data.each(function(obj){\n\t\t\t\tif (obj && obj.$selected) this.select(obj.id);\n\t\t\t}, this);\n\t},\n\t_select_check:function(){\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--)\n\t\t\tif (!this.exists(this._selected[i]))\n\t\t\t\tthis._selected.splice(i,1);\n\t},\n\t//helper - changes state of selection for some item\n\t_select_mark:function(id,state,refresh,need_unselect){\n\t\tvar sname = state ? \"onBeforeSelect\" : \"onBeforeUnSelect\";\n\t\tif (!this.callEvent(sname,[id,state])) return false;\n\n\t\tif (need_unselect){\n\t\t\tthis._silent_selection = true;\n\t\t\tthis.unselectAll();\n\t\t\tthis._silent_selection = false;\n\t\t}\n\t\t\n\t\tif (state)\n\t\t\tthis.addCss(id, \"webix_selected\", true);\n\t\telse\n\t\t\tthis.removeCss(id, \"webix_selected\", true);\n\n\t\tif (refresh)\n\t\t\trefresh.push(id);\t\t\t\t//if we in the mass-select mode - collect all changed IDs\n\t\telse{\n\t\t\tif (state)\n\t\t\t\tthis._selected.push(id);\t\t//then add to list of selected items\n\t\t\telse\n\t\t\t\tthis._selected.remove(id);\n\t\t\tthis._refresh_selection(id);\t//othervise trigger repainting\n\t\t}\n\n\t\tvar ename = state ? \"onAfterSelect\" : \"onAfterUnSelect\";\n\t\tthis.callEvent(ename,[id]);\n\n\t\treturn true;\n\t},\n\t//select some item\n\tselect:function(id,preserve){\n\t\tvar ctrlKey = arguments[2];\n\t\tvar shiftKey = arguments[3];\n\t\t//if id not provide - works as selectAll\n\t\tif (!id) return this.selectAll();\n\n\t\t//allow an array of ids as parameter\n\t\tif (isArray(id)){\n\t\t\tfor (var i=0; i < id.length; i++)\n\t\t\t\tthis.select(id[i], (i?1:preserve), ctrlKey, shiftKey);\n\t\t\treturn;\n\t\t}\n\n\t\tassert(this.data.exists(id), \"Incorrect id in select command: \"+id);\n\t\t\n\t\t//block selection mode\n\t\tif (shiftKey && this._selected.length)\n\t\t\treturn this.selectAll(this._selected[this._selected.length-1],id);\n\n\t\t//single selection mode\n\t\tvar need_unselect = false;\n\t\tif (!ctrlKey && !preserve && (this._selected.length!=1 || this._selected[0]!=id))\n\t\t\tneed_unselect = true;\n\n\t\tif (!need_unselect && this.isSelected(id)){\n\t\t\tif (ctrlKey) this.unselect(id);\t//ctrl-selection of already selected item\n\t\t\treturn;\n\t\t}\n\n\t\tthis._select_mark(id, true, null, need_unselect);\n\t},\n\t//unselect some item\n\tunselect:function(id){\n\t\t//if id is not provided  - unselect all items\n\t\tif (!id) return this.unselectAll();\n\t\tif (!this.isSelected(id)) return;\n\t\t\n\t\tthis._select_mark(id,false);\n\t},\n\t//select all items, or all in defined range\n\tselectAll:function(from,to){\n\t\tvar range;\n\t\tvar refresh=[];\n\t\t\n\t\tif (from||to)\n\t\t\trange = this.data.getRange(from||null,to||null);\t//get limited set if bounds defined\n\t\telse\n\t\t\trange = this.data.getRange();\t\t\t//get all items in other case\n\t\t//in case of paging - it will be current page only\n\t\trange.each(function(obj){ \n\t\t\tif (!this.data.getMark(obj.id, \"webix_selected\")){\n\t\t\t\tthis._selected.push(obj.id);\t\n\t\t\t\tthis._select_mark(obj.id,true,refresh);\n\t\t\t}\n\t\t},this);\n\t\t//repaint self\n\t\tthis._refresh_selection(refresh);\n\t},\n\t//remove selection from all items\n\tunselectAll:function(){\n\t\tvar refresh=[];\n\t\t\n\t\tthis._selected.each(function(id){\n\t\t\tthis._select_mark(id,false,refresh);\t//unmark selected only\n\t\t},this);\n\t\t\n\t\tthis._selected=_to_array();\n\t\tthis._refresh_selection(refresh);\t//repaint self\n\t},\n\t//returns true if item is selected\n\tisSelected:function(id){\n\t\treturn this._selected.find(id)!=-1;\n\t},\n\t/*\n\t\treturns ID of selected items or array of IDs\n\t\tto make result predictable - as_array can be used, \n\t\t\twith such flag command will always return an array \n\t\t\tempty array in case when no item was selected\n\t*/\n\tgetSelectedId:function(as_array){\t\n\t\tswitch(this._selected.length){\n\t\t\tcase 0: return as_array?[]:\"\";\n\t\t\tcase 1: return as_array?[this._selected[0]]:this._selected[0];\n\t\t\tdefault: return ([].concat(this._selected)); //isolation\n\t\t}\n\t},\n\tgetSelectedItem:function(as_array){\n\t\tvar sel = this.getSelectedId(true);\n\t\tif (sel.length > 1 || as_array){\n\t\t\tfor (var i = sel.length - 1; i >= 0; i--)\n\t\t\t\tsel[i] = this.getItem(sel[i]);\n\t\t\treturn sel;\n\t\t} else if (sel.length)\n\t\t\treturn this.getItem(sel[0]);\n\t},\n\t//detects which repainting mode need to be used\n\t_is_mass_selection:function(obj){\n\t\t// crappy heuristic, but will do the job\n\t\treturn obj.length>100 || obj.length > this.data.count/2;\n\t},\n\t_refresh_selection:function(refresh){\n\t\tif (typeof refresh != \"object\") refresh = [refresh];\n\t\tif (!refresh.length) return;\t//nothing to repaint\n\t\t\n\t\tif (this._is_mass_selection(refresh))\t\n\t\t\tthis.data.refresh();\t//many items was selected - repaint whole view\n\t\telse\n\t\t\tfor (var i=0; i < refresh.length; i++)\t//repaint only selected\n\t\t\t\tthis.render(refresh[i],this.data.getItem(refresh[i]),\"update\");\n\t\t\t\n\t\tif (!this._silent_selection)\t\n\t\t\tthis.callEvent(\"onSelectChange\",[refresh]);\n\t}\n};\n\nready(function(){\n\tevent(document.body,\"mouseup\", function(){\n\t\tif(state._noselect_element){\n\t\t\tremoveCss(state._noselect_element,\"webix_noselect\");\n\t\t\tstate._noselect_element = null;\n\t\t}\n\t});\n});\n\nexport default SelectionModel;","import {isArray} from \"../webix/helpers\";\n\nconst color = {\n\t_toHex:[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"],\n\ttoHex:function(number, length){\n\t\tnumber=parseInt(number,10);\n\t\tvar str = \"\";\n\t\twhile (number>0){\n\t\t\tstr=this._toHex[number%16]+str;\n\t\t\tnumber=Math.floor(number/16);\n\t\t}\n\t\twhile (str.length <length)\n\t\t\tstr = \"0\"+str;\n\t\treturn str;\n\t},\n\trgbToHex:function(rgb){\n\t\tvar arr=[];\n\t\tif(typeof(rgb) === \"string\")\n\t\t\trgb.replace(/[\\d+.]+/g, function(v){ \n\t\t\t\tarr.push(parseFloat(v));\n\t\t\t});\n\t\telse if(isArray(rgb))  arr = rgb;\n\t\t\n\t\t//transparent\n\t\tif(arr[3] === 0) return \"\";\n\n\t\treturn arr.slice(0, 3).map(function(n){\n\t\t\treturn color.toHex(Math.floor(n), 2);\n\t\t}).join(\"\");\n\t},\n\thexToDec:function(hex){\n\t\treturn parseInt(hex, 16);\n\t},\n\ttoRgb:function(rgb){\n\t\tvar r,g,b,rgbArr;\n\t\tif (typeof(rgb) != \"string\") {\n\t\t\tr = rgb[0];\n\t\t\tg = rgb[1];\n\t\t\tb = rgb[2];\n\t\t} else if (rgb.indexOf(\"rgb\")!=-1) {\n\t\t\trgbArr = rgb.substr(rgb.indexOf(\"(\")+1,rgb.lastIndexOf(\")\")-rgb.indexOf(\"(\")-1).split(\",\");\n\t\t\tr = rgbArr[0];\n\t\t\tg = rgbArr[1];\n\t\t\tb = rgbArr[2];\n\t\t} else {\n\t\t\tif (rgb.substr(0, 1) == \"#\") {\n\t\t\t\trgb = rgb.substr(1);\n\t\t\t}\n\t\t\tr = this.hexToDec(rgb.substr(0, 2));\n\t\t\tg = this.hexToDec(rgb.substr(2, 2));\n\t\t\tb = this.hexToDec(rgb.substr(4, 2));\n\t\t}\n\t\tr = (parseInt(r,10)||0);\n\t\tg = (parseInt(g,10)||0);\n\t\tb = (parseInt(b,10)||0);\n\t\tif (r < 0 || r > 255)\n\t\t\tr = 0;\n\t\tif (g < 0 || g > 255)\n\t\t\tg = 0;\n\t\tif (b < 0 || b > 255)\n\t\t\tb = 0;\n\t\treturn [r,g,b];\n\t},\n\thsvToRgb:function(h, s, v){\n\t\tvar hi,f,p,q,t,r,g,b;\n\t\thi = Math.floor((h/60))%6;\n\t\tf = h/60-hi;\n\t\tp = v*(1-s);\n\t\tq = v*(1-f*s);\n\t\tt = v*(1-(1-f)*s);\n\t\tr = 0;\n\t\tg = 0;\n\t\tb = 0;\n\t\tswitch(hi) {\n\t\t\tcase 0:\n\t\t\t\tr = v; g = t; b = p;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tr = q; g = v; b = p;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tr = p; g = v; b = t;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tr = p; g = q; b = v;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tr = t; g = p; b = v;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tr = v; g = p; b = q;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tr = Math.floor(r*255);\n\t\tg = Math.floor(g*255);\n\t\tb = Math.floor(b*255);\n\t\treturn [r, g, b];\n\t},\n\trgbToHsv:function(r, g, b){\n\t\tvar r0,g0,b0,min0,max0,s,h,v;\n\t\tr0 = r/255;\n\t\tg0 = g/255;\n\t\tb0 = b/255;\n\t\tmin0 = Math.min(r0, g0, b0);\n\t\tmax0 = Math.max(r0, g0, b0);\n\t\th = 0;\n\t\ts = max0===0?0:(1-min0/max0);\n\t\tv = max0;\n\t\tif (max0 == min0) {\n\t\t\th = 0;\n\t\t} else if (max0 == r0 && g0>=b0) {\n\t\t\th = 60*(g0 - b0)/(max0 - min0)+0;\n\t\t} else if (max0 == r0 && g0 < b0) {\n\t\t\th = 60*(g0 - b0)/(max0 - min0)+360;\n\t\t} else if (max0 == g0) {\n\t\t\th = 60*(b0 - r0)/(max0-min0)+120;\n\t\t} else if (max0 == b0) {\n\t\t\th = 60*(r0 - g0)/(max0 - min0)+240;\n\t\t}\n\t\treturn [h, s, v];\n\t}\n};\n\nexport default color;","import color from \"../../webix/color\";\nimport {assert} from \"../../webix/debug\";\n\n\nfunction joinAttributes(attrs){\n\tvar result = \" \";\n\tif(attrs)\n\t\tfor(var a in attrs)\n\t\t\tresult += a+\"=\\\"\"+attrs[a]+\"\\\" \";\n\treturn result;\n}\n// SVG\nvar SVG = {};\n\nSVG.draw = function(content, width, height, css){\n\tvar attrs = {\n\t\txmlns: \"http://www.w3.org/2000/svg\",\n\t\tversion: \"1.1\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t\tviewBox: \"0 0 \"+width+\" \"+height,\n\t\t\"class\": css||\"\"\n\t};\n\treturn \"<svg \"+joinAttributes(attrs)+\">\"+content+\"</svg>\";\n};\nSVG.styleMap = {\n\t\"lineColor\": \"stroke\",\n\t\"color\": \"fill\"\n};\nSVG.group = function(path){\n\treturn \"<g>\"+path+\"</g>\";\n};\nSVG._handlers = {\n\t// MoveTo: {x:px,y:py}\n\t\"M\": function(p){\n\t\treturn \" M \"+ p.x+\" \"+ p.y;\n\t},\n\t// LineTo: {x:px,y:py}\n\t\"L\": function(p){\n\t\treturn \" L \"+ p.x+\" \"+ p.y;\n\t},\n\t// Curve: 3 points {x:px,y:py}: two control points and an end point\n\t\"C\": function(cp0, cp1, p){\n\t\treturn \" C \"+cp0.x + \" \"+cp0.y+\" \"+cp1.x + \" \"+cp1.y+\" \"+p.x + \" \"+p.y;\n\t},\n\t// Arc: center point {x:px,y:py}, radius, angle0, angle1\n\t\"A\": function(p, radius, angle0, angle1){\n\t\tvar x = p.x+Math.cos(angle1)*radius;\n\t\tvar y = p.y+Math.sin(angle1)*radius;\n\t\tvar bigCircle = angle1-angle0 >= Math.PI;\n\t\treturn  \" A \"+radius+\" \"+radius+\" 0 \"+(bigCircle?1:0)+\" 1 \"+x+\" \"+y;\n\t}\n};\n// points is an array of an array with two elements: {string} line type, {array}\nSVG.definePath = function(points, close){\n\tvar path = \"\";\n\tfor(var i =0; i < points.length; i++){\n\t\tassert(points[i][0]&&typeof points[i][0] == \"string\", \"Path type must be a string\");\n\t\tvar type = (points[i][0]).toUpperCase();\n\t\tassert(this._handlers[type], \"Incorrect path type\");\n\t\tpath += this._handlers[type].apply(this,points[i].slice(1));\n\n\t}\n\tif(close)\n\t\tpath += \" Z\";\n\n\treturn path;\n};\nSVG._linePoints = function(points){\n\tvar result = [];\n\tfor(var i = 0; i< points.length; i++){\n\t\tresult.push([i?\"L\":\"M\",points[i]]);\n\t}\n\treturn result;\n};\nSVG.setOpacity = function(rawColor,opacity){\n\tlet rgbColor = color.toRgb(rawColor);\n\trgbColor.push(opacity);\n\treturn \"rgba(\"+rgbColor.join(\",\")+\")\";\n};\nSVG._curvePoints = function(points){\n\tvar result = [];\n\tfor(var i = 0; i< points.length; i++){\n\t\tvar p = points[i];\n\t\tif(!i){\n\t\t\tresult.push([\"M\",p[0]]);\n\t\t}\n\t\tresult.push([\"C\",p[1],p[2],p[3]]);\n\t}\n\treturn result;\n};\nSVG.getPath = function(path, css, attrs){\n\tattrs = joinAttributes(attrs);\n\treturn \"<path class=\\\"\"+css+\"\\\" vector-effect=\\\"non-scaling-stroke\\\" d=\\\"\"+path+\"\\\" \"+attrs+\"/>\";\n};\nSVG.getSector = function(p, radius, angle0, angle1, css, attrs){\n\tattrs = joinAttributes(attrs);\n\tvar x0 = p.x+Math.cos(angle0)*radius;\n\tvar y0 = p.y+Math.sin(angle0)*radius;\n\tvar lines = [\n\t\t[\"M\",p],\n\t\t[\"L\",{x:x0, y:y0}],\n\t\t[\"A\", p,radius,angle0,angle1],\n\t\t[\"L\",p]\n\t];\n\n\n\treturn \"<path class=\\\"\"+css+\"\\\" vector-effect=\\\"non-scaling-stroke\\\" d=\\\"\"+SVG.definePath(lines,true)+\"\\\" \"+attrs+\"/>\";\n};\nSVG.getCurve = function(points,css, attrs){\n\tattrs = joinAttributes(attrs);\n\tvar path = this.definePath(this._curvePoints(points));\n\treturn \"<path fill=\\\"none\\\" class=\\\"\"+css+\"\\\" vector-effect=\\\"non-scaling-stroke\\\" d=\\\"\"+path+\"\\\" \"+attrs+\"/>\";\n};\nSVG.getLine = function(p0,p1,css, attrs){\n\treturn this.getPath(this.definePath(this._linePoints([p0,p1]),true),css,attrs);\n};\nSVG.getCircle = function(p, radius, css, attrs){\n\tattrs = joinAttributes(attrs);\n\treturn \"<circle class=\\\"\"+css+\"\\\" cx=\\\"\"+ p.x+\"\\\" cy=\\\"\"+ p.y+\"\\\" r=\\\"\"+radius+\"\\\" \"+attrs+\"/>\";\n};\nSVG.getRect = function(x, y, width, height, css, attrs){\n\tattrs = joinAttributes(attrs);\n\treturn \"<rect class=\\\"\"+css+\"\\\" rx=\\\"0\\\" ry=\\\"0\\\" x=\\\"\"+x+\"\\\" y=\\\"\"+y+\"\\\" width=\\\"\"+width+\"\\\" height=\\\"\"+height+\"\\\" \"+attrs+\"/>\";\n};\n\n\nexport default SVG;","import {createCss} from \"../../webix/html\";\nimport {extend, copy} from \"../../webix/helpers\";\n\nimport SVG from \"./svg\";\n\nvar defaults = {\n\tpaddingX: 6,\n\tpaddingY: 6,\n\tradius: 2,\n\tminHeight: 4,\n\teventRadius: 8\n};\nfunction Line(config){\n\tthis.config = extend(copy(defaults),config||{},true);\n}\n\nLine.prototype.draw = function(data, width, height){\n\tvar points = this.getPoints(data, width, height);\n\tvar config = this.config;\n\tvar renderer = SVG;\n\tvar styles = config.color?this._applyColor(renderer,config.color):null;\n\t// draw line\n\tvar path = renderer.definePath(this._getLinePoints(points));\n\tvar graph = renderer.group(renderer.getPath(path,\"webix_sparklines_line\"+(styles?\" \"+styles.line:\"\")));\n\t// draw items\n\tgraph += this._drawItems(renderer, points, config.radius, \"webix_sparklines_item\"+(styles?\" \"+styles.item:\"\"));\n\t// draw event items\n\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\n\tgraph += this._drawEventItems(renderer, points, eventRadius);\n\treturn  renderer.draw(graph, width, height, \"webix_sparklines_line_chart\"+(config.css?\" \"+config.css:\"\"));\n};\nLine.prototype._applyColor = function(renderer,color){\n\tvar config = {\"line\":{},\"item\":{}},\n\t\tmap = renderer.styleMap;\n\tif(color){\n\t\tconfig.line[map.lineColor] = color;\n\t\tconfig.item[map.color] = color;\n\t\tfor(var name in config)\n\t\t\tconfig[name] = createCss(config[name]);\n\t}\n\treturn config;\n};\nLine.prototype._drawItems = function(renderer,points,radius,css,attrs){\n\tvar items = [];\n\tfor(var i = 0; i< points.length; i++){\n\t\titems.push(renderer.getCircle(points[i], radius, css,attrs));\n\t}\n\treturn renderer.group(items.join(\"\"));\n};\nLine.prototype._drawEventItems = function(renderer,points,radius){\n\tvar items = [];\n\tfor(var i = 0; i< points.length; i++){\n\t\titems.push(renderer.getCircle(points[i], radius, \"webix_sparklines_event_area\", {webix_area:i}));\n\t}\n\treturn renderer.group(items.join(\"\"));\n};\n\nLine.prototype._getLinePoints = function(points){\n\tvar i, type, result =[];\n\tfor( i =0; i< points.length; i++){\n\t\ttype = i?\"L\":\"M\";\n\t\tresult.push([type,points[i]]);\n\t}\n\treturn result;\n};\nLine.prototype.getPoints = function(data, width, height) {\n\tvar config = this.config;\n\tvar minValue = Math.min.apply(null,data);\n\tif (typeof config.origin !== \"undefined\")\n\t\tminValue = Math.min(config.origin, minValue);\n\n\tvar maxValue = Math.max.apply(null,data);\n\tvar result = [];\n\tvar x = config.paddingX||0;\n\tvar y = config.paddingY||0;\n\twidth = (width||100)-x*2;\n\tvar minHeight = config.minHeight||0;\n\theight = (height||100)-y*2;\n\tif(data.length){\n\t\tif(data.length==1)\n\t\t\tresult.push({x: width/2+x, y: height/2+x});\n\t\telse{\n\t\t\tvar unitX = width/(data.length-1);\n\t\t\tvar yNum = config.scale || (maxValue - minValue);\n\t\t\tvar unitY = (height- minHeight)/(yNum?yNum:1);\n\t\t\tif(!yNum)\n\t\t\t\theight /= 2;\n\t\t\tfor(var i=0; i < data.length; i++){\n\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x, y: height-Math.ceil(unitY*(data[i]-minValue))+y-minHeight});\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n};\n\nexport default Line;","import {createCss} from \"../../webix/html\";\nimport {extend, copy} from \"../../webix/helpers\";\n\nimport SVG from \"./svg\";\nimport BaseLine from \"./line\";\n\n\n\nvar defaults = {\n\tpaddingX: 3,\n\tpaddingY: 4,\n\tradius: 1,\n\tminHeight: 4,\n\teventRadius: 8\n};\n\nfunction Area(config){\n\tthis.config = extend(copy(defaults),config||{},true);\n}\n\nArea.prototype.draw = function(data, width, height){\n\tvar eventRadius, graph, path, points, styles,\n\t\tconfig = this.config,\n\t\tLine = BaseLine.prototype,\n\t\trenderer = SVG;\n\n\t// draw area\n\tpoints = this.getPoints(data, width, height);\n\tpath = renderer.definePath(Line._getLinePoints(points),true);\n\n\tif(config.color)\n\t\tstyles = this._applyColor(renderer,config.color);\n\n\tgraph = renderer.group(renderer.getPath(path,\"webix_sparklines_area\"+(styles?\" \"+styles.area:\"\")));\n\t// draw line\n\tpoints.splice(points.length - 3, 3);\n\tpath = renderer.definePath(Line._getLinePoints(points));\n\tgraph += renderer.group(renderer.getPath(path,\"webix_sparklines_line\"+(styles?\" \"+styles.line:\"\")));\n\t// draw items\n\tgraph += Line._drawItems(renderer, points, config.radius, \"webix_sparklines_item\"+(styles?\" \"+styles.item:\"\"));\n\t// draw event areas\n\teventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\n\tgraph += Line._drawEventItems(renderer, points, eventRadius);\n\treturn  renderer.draw(graph, width, height, \"webix_sparklines_area_chart\"+(config.css?\" \"+config.css:\"\"));\n};\nArea.prototype._applyColor = function(renderer,color){\n\tvar config = {\"area\": {}, \"line\":{},\"item\":{}},\n\t\tmap = renderer.styleMap;\n\tif(color){\n\t\tconfig.area[map.color] = renderer.setOpacity(color,0.2);\n\t\tconfig.line[map.lineColor] = color;\n\t\tconfig.item[map.color] = color;\n\t\tfor(var name in config)\n\t\t\tconfig[name] = createCss(config[name]);\n\t}\n\n\treturn config;\n};\nArea.prototype.getPoints = function(data, width, height){\n\tvar Line = BaseLine.prototype;\n\tvar points =Line.getPoints.call(this, data, width, height);\n\tvar x = this.config.paddingX || 0;\n\tvar y = this.config.paddingY || 0;\n\tpoints.push({x: width - x, y: height - y},{x: x, y: height - y},{x: x, y: points[0].y});\n\treturn points;\n};\n\nexport default Area;","import {createCss} from \"../../webix/html\";\nimport {extend, copy} from \"../../webix/helpers\";\n\nimport SVG from \"./svg\";\n\n\nvar defaults = {\n\tpaddingX: 3,\n\tpaddingY: 4,\n\twidth: 20,\n\tmargin: 4,\n\tminHeight: 4,\n\teventRadius: 8,\n\torigin:0,\n\titemCss: function(value){return value < (this.config.origin||0)?\" webix_sparklines_bar_negative\":\"\";}\n};\nfunction Bar(config){\n\tthis.config = extend(copy(defaults),config||{},true);\n}\n\nBar.prototype.draw = function(data, width, height){\n\tvar i, css, p, y, padding,\n\t\tconfig = this.config,\n\t\tgraph = \"\", items = [],\n\t\tpoints = this.getPoints(data, width, height),\n\t\trenderer = SVG;\n\n\t// draw bars\n\tfor( i = 0; i< points.length; i++){\n\t\tcss = (typeof config.itemCss == \"function\"?config.itemCss.call(this,data[i]):(config.itemCss||\"\"));\n\t\tif (config.negativeColor && data[i] < config.origin)\n\t\t\tcss += \" \"+this._applyColor(renderer,config.negativeColor);\n\t\telse if(config.color)\n\t\t\tcss += \" \"+this._applyColor(renderer,config.color);\n\t\tp = points[i];\n\t\titems.push(renderer.getRect(p.x, p.y, p.width, p.height,\"webix_sparklines_bar \"+css));\n\t}\n\tgraph += renderer.group(items.join(\"\"));\n\t// origin)\n\ty = parseInt(this._getOrigin(data, width, height),10)+0.5;\n\tpadding = config.paddingX||0;\n\tgraph += renderer.group(renderer.getLine({x:padding, y: y},{x: width-padding, y: y},\"webix_sparklines_origin\"));\n\n\t// event areas\n\tvar evPoints = this._getEventPoints(data, width, height);\n\tvar evItems = [];\n\tfor( i = 0; i< evPoints.length; i++){\n\t\tp = evPoints[i];\n\t\tevItems.push(renderer.getRect(p.x, p.y, p.width, p.height,\"webix_sparklines_event_area \",{\"webix_area\":i}));\n\t}\n\tgraph += renderer.group(evItems.join(\"\"));\n\treturn  renderer.draw(graph, width, height, \"webix_sparklines_bar_chart\"+(config.css?\" \"+config.css:\"\"));\n};\nBar.prototype._applyColor = function(renderer,color){\n\tvar config = {},\n\t\tmap = renderer.styleMap;\n\tif(color)\n\t\tconfig[map.color] = color;\n\treturn createCss(config);\n};\nBar.prototype._getOrigin = function(data, width, height){\n\tvar config = this.config;\n\tvar y = config.paddingY||0;\n\theight = (height||100)-y*2;\n\tvar pos = y+height;\n\tif(config.origin !== false){\n\t\tvar minValue = Math.min.apply(null,data);\n\t\tvar maxValue = Math.max.apply(null,data);\n\t\tvar origin = config.origin||-0.000001;\n\t\tif(origin >= maxValue){\n\t\t\tpos = y;\n\t\t}\n\t\telse if(origin > minValue){\n\t\t\tvar unitY = height/(maxValue - minValue);\n\t\t\tpos -= unitY*(origin-minValue);\n\t\t}\n\t}\n\treturn pos;\n};\nBar.prototype._getEventPoints = function(data, width, height){\n\tvar result = [];\n\tvar x = this.config.paddingX||0;\n\tvar y = this.config.paddingY||0;\n\twidth = (width||100)-x*2;\n\theight = (height||100)-y*2;\n\tif(data.length){\n\t\tvar unitX = width/data.length;\n\t\tfor(var i=0; i < data.length; i++)\n\t\t\tresult.push({x: Math.ceil(unitX*i)+x, y: y, height: height, width: unitX});\n\t}\n\treturn result;\n};\nBar.prototype.getPoints = function(data, width, height){\n\tvar config = this.config;\n\tvar minValue = Math.min.apply(null,data);\n\tif (config.origin < minValue) \n\t\tminValue = config.origin;\n\n\tvar maxValue = Math.max.apply(null,data);\n\tvar result = [];\n\tvar x = config.paddingX;\n\tvar y = config.paddingY;\n\tvar margin = config.margin;\n\tvar barWidth = config.width||20;\n\tvar originY = this._getOrigin(data,width,height);\n\twidth = (width||100)-x*2;\n\theight = (height||100)-y*2;\n\tif(data.length){\n\t\tvar unitX = width/data.length;\n\t\tvar yNum = config.scale || (maxValue - minValue);\n\t\tbarWidth = Math.min(unitX-margin,barWidth);\n\t\tmargin = unitX-barWidth;\n\t\tvar minHeight = 0;\n\t\tvar origin = minValue;\n\n\t\tif(config.origin !== false && config.origin > minValue)\n\t\t\torigin = config.origin||0;\n\t\telse\n\t\t\tminHeight = config.minHeight;\n\n\t\tvar unitY = (height-minHeight)/(yNum?yNum:1);\n\n\t\tfor(var i=0; i < data.length; i++){\n\t\t\tvar h = Math.ceil(unitY*(data[i]-origin));\n\t\t\tresult.push({x: Math.ceil(unitX*i)+x+margin/2, y: originY-(data[i]>=origin?h:0)-minHeight, height: Math.abs(h)+minHeight, width: barWidth});\n\t\t}\n\n\t}\n\treturn result;\n};\n\nexport default Bar;","import {extend} from \"../../webix/helpers\";\n\nimport SVG from \"./svg\";\n\nvar defaults = {\n\tpaddingY: 2\n};\n\nfunction Pie(config){\n\tthis.config = extend(defaults,config||{},true);\n}\nPie.prototype._defColorsCursor = 0;\nPie.prototype._defColors  = [\n\t\"#f55b50\",\"#ff6d3f\",\"#ffa521\",\"#ffc927\",\"#ffee54\",\"#d3e153\",\"#9acb61\",\"#63b967\",\n\t\"#21a497\",\"#21c5da\",\"#3ea4f5\",\"#5868bf\",\"#7b53c0\",\"#a943ba\",\"#ec3b77\",\"#9eb0b8\"\n];\nPie.prototype._getColor = function(i,data){\n\tvar count = data.length;\n\tvar colorsCount = this._defColors.length;\n\tif(colorsCount > count){\n\t\tif(i){\n\t\t\tif(i < colorsCount - count)\n\t\t\t\ti = this._defColorsCursor +2;\n\t\t\telse\n\t\t\t\ti = this._defColorsCursor+1;\n\t\t}\n\t\tthis._defColorsCursor = i;\n\t}\n\telse\n\t\ti = i%colorsCount;\n\treturn this._defColors[i];\n};\nPie.prototype.draw = function(data, width, height){\n\tvar attrs, graph, i, sectors,\n\t\tconfig = this.config,\n\t\tcolor = config.color||this._getColor,\n\t\tpoints = this.getAngles(data),\n\t\trenderer = SVG,\n\t\ty = config.paddingY|| 0,\n\t\t// radius\n\t\tr = height/2 - y,\n\t\t// center\n\t\tx0 = width/2, y0 = height/2;\n\n\t// draw sectors\n\tif(typeof color != \"function\")\n\t\tcolor = function(){return color;};\n\tsectors = \"\";\n\tfor( i =0; i < points.length; i++){\n\t\tattrs = {};\n\t\tattrs[renderer.styleMap[\"color\"]] = color.call(this,i,data,this._context);\n\t\tsectors += renderer.getSector({x:x0,y:y0},r,points[i][0],points[i][1],\"webix_sparklines_sector\", attrs);\n\t}\n\tgraph = renderer.group(sectors);\n\n\t// draw event areas\n\tsectors = \"\";\n\tfor(i =0; i < points.length; i++){\n\t\tsectors += renderer.getSector({x:x0,y:y0},r,points[i][0],points[i][1],\"webix_sparklines_event_area\",{\"webix_area\":i});\n\t}\n\tgraph += renderer.group(sectors);\n\n\treturn  renderer.draw(graph, width, height, \"webix_sparklines_pie_chart\"+(config.css?\" \"+config.css:\"\"));\n};\nPie.prototype.getAngles = function(data){\n\tvar a0 = -Math.PI/ 2, a1,\n\t\ti, result = [];\n\n\tvar ratios = this._getRatios(data);\n\n\tfor( i =0; i < data.length; i++){\n\t\ta1= -Math.PI/2+ratios[i]-0.0001;\n\t\tresult.push([a0,a1]);\n\t\ta0 = a1;\n\t}\n\treturn result;\n};\nPie.prototype._getTotalValue = function(data){\n\tvar t=0;\n\tfor(var i = 0; i < data.length;i++)\n\t\tt += data[i]*1;\n\treturn  t;\n};\nPie.prototype._getRatios = function(data){\n\tvar i, value,\n\t\tratios = [],\n\t\tprevSum = 0,\n\t\ttotalValue = this._getTotalValue(data);\n\tfor(i = 0; i < data.length;i++){\n\t\tvalue = data[i]*1;\n\t\tratios[i] = Math.PI*2*(totalValue?((value+prevSum)/totalValue):(1/data.length));\n\t\tprevSum += value;\n\t}\n\treturn ratios;\n};\n\nexport default Pie;","import {createCss} from \"../../webix/html\";\nimport {extend, copy} from \"../../webix/helpers\";\n\nimport SVG from \"./svg\";\nimport Base from \"./line\";\n\nvar defaults = {\n\tpaddingX: 3,\n\tpaddingY: 6,\n\tradius: 2,\n\tminHeight: 4,\n\teventRadius: 8\n};\n\nfunction Spline(config){\n\tthis.config = extend(copy(defaults),config||{},true);\n}\n\nSpline.prototype.draw = function(data, width, height){\n\tvar config = this.config,\n\t\tgraph = \"\",\n\t\tLine = Base.prototype,\n\t\tpoints = this.getPoints(data, width, height),\n\t\trenderer = SVG,\n\t\tstyles = config.color?this._applyColor(renderer,config.color):null;\n\n\t// draw spline\n\tgraph += renderer.group(renderer.getCurve(points, \"webix_sparklines_line\"+(styles?\" \"+styles.line:\"\")));\n\n\tvar linePoints = Line.getPoints.call(this,data, width, height);\n\t// draw items\n\tgraph += Line._drawItems(renderer, linePoints, config.radius, \"webix_sparklines_item\"+(styles?\" \"+styles.item:\"\"));\n\t// draw event items\n\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\n\tgraph += Line._drawEventItems(renderer, linePoints, eventRadius);\n\treturn  renderer.draw(graph, width, height,\"webix_sparklines_line_chart\"+(config.css?\" \"+config.css:\"\"));\n};\nSpline.prototype._applyColor = function(renderer,color){\n\tvar config = {\"line\":{},\"item\":{}},\n\t\tmap = renderer.styleMap;\n\tif(color){\n\t\tconfig.line[map.lineColor] = color;\n\t\tconfig.item[map.color] = color;\n\t\tfor(var name in config)\n\t\t\tconfig[name] = createCss(config[name]);\n\t}\n\treturn config;\n};\nSpline.prototype.getPoints = function(data, width, height){\n\tvar i, points, px, py,\n\t\tresult = [], x = [], y =[],\n\t\tLine = Base.prototype;\n\n\tpoints = Line.getPoints.call(this, data, width, height);\n\n\tfor(i = 0; i< points.length; i++){\n\t\tx.push(points[i].x);\n\t\ty.push(points[i].y);\n\t}\n\tpx = this._getControlPoints(x);\n\tpy = this._getControlPoints(y);\n\t/*updates path settings, the browser will draw the new spline*/\n\tfor ( i=0;i<points.length-1;i++){\n\t\tresult.push([points[i],{x:px[0][i],y:py[0][i]},{x:px[1][i],y:py[1][i]},points[i+1]]);\n\t}\n\treturn result;\n\n};\n/* code from https://www.particleincell.com/2012/bezier-splines/ */\nSpline.prototype._getControlPoints = function(points){\n\tvar a=[], b=[], c=[], r=[], p1=[], p2=[],\n\t\ti, m, n = points.length-1;\n\n\ta[0]=0;\n\tb[0]=2;\n\tc[0]=1;\n\tr[0] = points[0] + 2*points[1];\n\n\tfor (i = 1; i < n - 1; i++){\n\t\ta[i]=1;\n\t\tb[i]=4;\n\t\tc[i]=1;\n\t\tr[i] = 4 * points[i] + 2 * points[i+1];\n\t}\n\n\ta[n-1]=2;\n\tb[n-1]=7;\n\tc[n-1]=0;\n\tr[n-1] = 8*points[n-1]+points[n];\n\n\tfor (i = 1; i < n; i++){\n\t\tm = a[i]/b[i-1];\n\t\tb[i] = b[i] - m * c[i - 1];\n\t\tr[i] = r[i] - m*r[i-1];\n\t}\n\n\tp1[n-1] = r[n-1]/b[n-1];\n\tfor (i = n - 2; i >= 0; --i)\n\t\tp1[i] = (r[i] - c[i] * p1[i+1]) / b[i];\n\n\tfor (i=0;i<n-1;i++)\n\t\tp2[i]=2*points[i+1]-p1[i+1];\n\n\tp2[n-1]=0.5*(points[n]+p1[n-1]);\n\n\treturn [p1, p2];\n};\n\n\n\nexport default Spline;","import {createCss} from \"../../webix/html\";\nimport {extend, copy} from \"../../webix/helpers\";\n\nimport SVG from \"./svg\";\nimport Spline from \"./spline\";\nimport Base from \"./line\";\n\n\nvar defaultsArea = {\n\tpaddingX: 3,\n\tpaddingY: 6,\n\tradius: 1,\n\tminHeight: 4,\n\teventRadius: 8\n};\n// spline area\nfunction SplineArea(config){\n\tthis.config = extend(copy(defaultsArea),config||{},true);\n}\nSplineArea.prototype = copy(Spline.prototype);\nSplineArea.prototype.draw = function(data, width, height){\n\tvar config = this.config,\n\t\tLine = Base.prototype,\n\t\trenderer = SVG,\n\t\tstyles = config.color?this._applyColor(renderer,config.color):null;\n\n\tvar points = this.getPoints(data, width, height);\n\t// draw area\n\tvar linePoints = points.splice(points.length - 3, 3);\n\tvar linePath = renderer._linePoints(linePoints);\n\tlinePath[0][0] = \"L\";\n\tvar areaPoints = renderer._curvePoints(points).concat(linePath);\n\tvar graph = renderer.group(renderer.getPath(renderer.definePath(areaPoints),\"webix_sparklines_area\"+(styles?\" \"+styles.area:\"\"), true));\n\t// draw line\n\tgraph += renderer.group(renderer.getPath(renderer.definePath(renderer._curvePoints(points)),\"webix_sparklines_line\"+(styles?\" \"+styles.line:\"\")));\n\n\tvar itemPoints = Line.getPoints.call(this,data, width, height);\n\t// draw items\n\tgraph += Line._drawItems(renderer, itemPoints, config.radius, \"webix_sparklines_item\"+(styles?\" \"+styles.item:\"\"));\n\t// draw event items\n\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\n\tgraph += Line._drawEventItems(renderer, itemPoints, eventRadius);\n\treturn  renderer.draw(graph, width, height, \"webix_sparklines_splinearea_chart\"+(config.css?\" \"+config.css:\"\"));\n};\nSplineArea.prototype._applyColor = function(renderer,color){\n\tvar config = {\"area\": {}, \"line\":{},\"item\":{}},\n\t\tmap = renderer.styleMap;\n\tif(color){\n\t\tconfig.area[map.color] = renderer.setOpacity(color,0.2);\n\t\tconfig.line[map.lineColor] = color;\n\t\tconfig.item[map.color] = color;\n\t\tfor(var name in config)\n\t\t\tconfig[name] = createCss(config[name]);\n\t}\n\treturn config;\n};\nSplineArea.prototype.getPoints = function(data, width, height){\n\tvar points = Spline.prototype.getPoints.call(this, data, width, height);\n\tvar x = this.config.paddingX || 0;\n\tvar y = this.config.paddingY || 0;\n\tpoints.push({x: width - x, y: height - y},{x: x, y: height - y},{x: x, y: points[0][0].y});\n\treturn points;\n};\n\nexport default SplineArea;","import {extend, bind} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport {attachEvent} from \"../webix/customevents\";\n\nimport Area from \"./sparklines/area\";\nimport Bar from \"./sparklines/bar\";\nimport Line from \"./sparklines/line\";\nimport Pie from \"./sparklines/pie\";\nimport Spline from \"./sparklines/spline\";\nimport SplineArea from \"./sparklines/splinearea\";\n\nfunction Sparklines(){}\n\nfunction getData(data){\n\tvar values = [];\n\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\tvar value = data[i];\n\t\tvalues[i] = (typeof value === \"object\" ? value.value : value);\n\t}\n\treturn values;\n}\n\n\nSparklines.types ={};\n\nSparklines.getTemplate = function(customConfig){\n\tvar config = customConfig||{};\n\tif(typeof customConfig == \"string\")\n\t\tconfig = { type: customConfig };\n\n\textend(config,{ type:\"line\" });\n\n\tvar slConstructor = this.types[config.type];\n\tassert(slConstructor,\"Unknown sparkline type\");\n\treturn bind(this._template, new slConstructor(config));\n};\n\nSparklines._template =  function(item, common, data, column){\n\tif (column)\n\t\treturn this.draw(getData(data), column.width, 33);\n\telse\n\t\treturn this.draw(item.data || item, common.width, common.height);\n};\n\n// add \"sparklines\" type\nattachEvent(\"onDataTable\", function(table){\n\ttable.type.sparklines = Sparklines.getTemplate();\n});\n\nSparklines.types[\"area\"]=Area;\nSparklines.types[\"bar\"]=Bar;\nSparklines.types[\"line\"]=Line;\nSparklines.types[\"pie\"]=Pie;\nSparklines.types[\"spline\"]=Spline;\nSparklines.types[\"splineArea\"]=SplineArea;\n\nexport default Sparklines;","import i18n from \"./i18n\";\n\nconst csv = {\n\tescape:true,\n\tdelimiter:{\n\t\trows: \"\\n\",\n\t\tcols: \"\\t\"\n\t},\n\tparse:function(text, sep){\n\t\tsep = sep||this.delimiter;\n\t\tif (!this.escape)\n\t\t\treturn this._split_clip_data(text, sep);\n\n\t\tvar lines = text.replace(/\\n$/,\"\").split(sep.rows);\n\n\t\tvar i = 0;\n\t\twhile (i < lines.length - 1) {\n\t\t\tif (this._substr_count(lines[i], \"\\\"\") % 2 === 1) {\n\t\t\t\tlines[i] += sep.rows + lines[i + 1];\n\t\t\t\tdelete lines[i + 1];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t\tvar csv = [];\n\n\t\tfor (i = 0; i < lines.length; i++) {\n\t\t\tif (typeof(lines[i]) !== \"undefined\") {\n\t\t\t\tvar tline = lines[i];\n\t\t\t\tvar start = 0;\n\t\t\t\tvar line = [];\n\t\t\t\tvar quoted = false;\n\t\t\t\tfor (var j=0; j<=tline.length; j++){\n\t\t\t\t\tif (!quoted && tline[j] === sep.cols || j === tline.length){\n\t\t\t\t\t\tvar chunk = tline.substr(start, j-start);\n\t\t\t\t\t\tif (chunk[0] === chunk[chunk.length-1] && chunk[0] === \"\\\"\"){\n\t\t\t\t\t\t\tchunk = chunk.substr(1, chunk.length-2).replace(\"\\\"\\\"\", \"\\\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tline.push(chunk);\n\t\t\t\t\t\tstart = j+1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tline[j] === \"\\\"\") {\n\t\t\t\t\t\tquoted = !quoted;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcsv.push(line);\n\t\t\t}\n\t\t}\n\t\treturn csv;\n\t},\n\t_split_clip_data: function(text, sep) {\n\t\tvar lines = text.split(sep.rows);\n\t\tfor (var i = 0; i < lines.length; i++) {\n\t\t\tlines[i] = lines[i].split(sep.cols);\n\t\t}\n\t\treturn lines;\n\t},\n\t/*! counts how many occurances substring in string **/\n\t_substr_count: function(string, substring) {\n\t\tvar arr = string.split(substring);\n\t\treturn arr.length - 1;\n\t},\n\tstringify:function(data, sep){\n\t\tsep = sep||this.delimiter;\n\n\t\tif (!this.escape){\n\t\t\tfor (let i = 0; i < data.length; i++)\n\t\t\t\tdata[i] = data[i].join(sep.cols);\n\t\t\treturn data.join(sep.rows);\n\t\t}\n\n\t\tvar reg = /\\n|\"|;|,/;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tfor (var j = 0; j < data[i].length; j++) {\n\t\t\t\tvar chunk = data[i][j];\n\t\t\t\tif (chunk instanceof Date)\n\t\t\t\t\tdata[i][j] = i18n.parseFormatStr(chunk);\n\t\t\t\telse if (reg.test(chunk))\n\t\t\t\t\tdata[i][j] = \"\\\"\" + chunk.toString().replace(/\"/g, \"\\\"\\\"\") + \"\\\"\";\n\t\t\t}\n\t\t\tdata[i] = data[i].join(sep.cols);\n\t\t}\n\t\tdata = data.join(sep.rows);\n\t\treturn data;\n\t}\n};\n\nexport default csv;","import template from \"../webix/template\";\nimport UIManager from \"../core/uimanager\";\n\nimport clipbuffer from \"../webix/clipbuffer\";\nimport csv from \"../webix/csv\";\n\nimport {isUndefined} from \"../webix/helpers\";\n\n\nconst TablePaste = {\n\tclipboard_setter:function(value){\n\t\tif (value === true || value === 1) value = \"block\";\n\t\tclipbuffer.init();\n\t\tthis.attachEvent(\"onSelectChange\",this._sel_to_clip);\n\t\t// solution for clicks on selected items\n\t\tthis.attachEvent(\"onItemClick\",function(){\n\t\t\tif(document.activeElement && this.$view.contains(document.activeElement)){\n\t\t\t\tclipbuffer.focus();\n\t\t\t\tUIManager.setFocus(this);\n\t\t\t}\n\t\t});\n\t\tthis.attachEvent(\"onPaste\", this._clip_to_sel);\n\n\t\treturn value;\n\t},\n\ttemplateCopy_setter: template,\n\t_sel_to_clip: function() {\n\t\tif (!this.getEditor || !this.getEditor()){\n\t\t\tvar data = this._get_sel_text();\n\t\t\tclipbuffer.set(data);\n\t\t\tUIManager.setFocus(this);\n\t\t}\n\t},\n\n\t_get_sel_text: function() {\n\t\tvar data = [];\n\t\tvar filter = this._settings.templateCopy;\n\t\tthis.mapSelection(function(value, row, col, row_ind) {\n\t\t\tif (!data[row_ind]) data[row_ind] = [];\n\t\t\tvar newvalue = filter ? filter(value, row, col) : value;\n\t\t\tdata[row_ind].push(newvalue);\n\t\t\treturn value;\n\t\t});\n\t\tvar value = data.length === 1 && data[0].length === 1 ? data[0][0] : csv.stringify(data, this._settings.delimiter);\n\t\treturn value;\n\t},\n\n\t_clip_to_sel: function(text) {\n\t\tif (!isUndefined(this._paste[this._settings.clipboard])) {\n\t\t\tvar data = csv.parse(text, this._settings.delimiter);\n\t\t\tthis._paste[this._settings.clipboard].call(this, data);\n\t\t}\n\t},\n\n\t_paste: {\n\t\tblock: function(data) {\n\t\t\tvar leftTop = this.mapSelection(null);\n\t\t\tif (!leftTop) return;\n\n\t\t\t// filling cells with data\n\t\t\tthis.mapCells(leftTop.row, leftTop.column, data.length, null, function(value, row, col, row_ind, col_ind) {\n\t\t\t\tif (data[row_ind] && data[row_ind].length>col_ind) {\n\t\t\t\t\treturn data[row_ind][col_ind];\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\n\t\tselection: function(data) {\n\t\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\n\t\t\t\tif (data[row_ind] && data[row_ind].length>col_ind)\n\t\t\t\t\treturn data[row_ind][col_ind];\n\t\t\t\treturn value;\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\n\t\trepeat: function(data) {\n\t\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\n\t\t\t\trow = data[row_ind%data.length];\n\t\t\t\tvalue = row[col_ind%row.length];\n\t\t\t\treturn value;\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\n\t\tcustom: function() {}\n\t}\n};\n\nexport default TablePaste;","import {assert} from \"../webix/debug\";\n\n\nconst TreeAPI = {\n\topen: function(id, show) {\n\t\tif (!id) return;\n\t\t//ignore open for leaf items\n\t\tvar item = this.getItem(id);\n\t\tassert(item,\"Incorrect ID to open: \"+id);\n\n\t\tif (!item.$count || item.open) return;\n\n\t\tif (this.callEvent(\"onBeforeOpen\",[id])){\n\t\t\titem.open=true;\n\t\t\tthis.data.callEvent(\"onStoreUpdated\",[id, 0, \"branch\"]);\n\t\t\tthis.callEvent(\"onAfterOpen\",[id]);\n\t\t}\n\n\t\tif (show && id != \"0\")\n\t\t\tthis.open(this.getParentId(id), show);\n\t},\n\tclose: function(id) {\n\t\tif (!id) return;\n\t\tvar item = this.getItem(id);\n\t\tif (!item.open) return;\n\n\t\tif (this.callEvent(\"onBeforeClose\",[id])){\n\t\t\titem.open=false;\n\t\t\tthis.data.callEvent(\"onStoreUpdated\",[id, 0, \"branch\"]);\n\t\t\tthis.callEvent(\"onAfterClose\",[id]);\n\t\t}\n\t},\n\topenAll: function(id){\n\t\tthis.data.eachSubItem((id||0), function(obj, branch){\n\t\t\tif (branch)\n\t\t\t\tobj.open = true;\n\t\t});\n\t\tthis.data.refresh();\n\t},\n\tcloseAll: function(id){\n\t\tthis.data.eachSubItem((id||0), function(obj, branch){\n\t\t\tif (branch)\n\t\t\t\tobj.open = false;\n\t\t});\n\t\tthis.data.refresh();\n\t},\n\t_tree_check_uncheck:function(id,mode,e){\n\t\tif(this._settings.threeState)\n\t\t\treturn this._tree_check_uncheck_3(id,(mode !== null?mode:\"\"));\n\n\t\tvar value,\n\t\t\titem = this.getItem(id),\n\t\t\ttrg = (e? (e.target|| e.srcElement):null);\n\n\t\t//read actual value from HTML tag when possible\n\t\t//as it can be affected by dbl-clicks\n\t\tif(trg && trg.type == \"checkbox\")\n\t\t\tvalue = trg.checked?true:false;\n\t\telse\n\t\t\tvalue = (mode !== null?mode:!item.checked);\n\n\t\titem.checked = value;\n\t\tthis.callEvent(\"onItemCheck\", [id, item.checked, e]);\n\t},\n\tisBranchOpen:function(search_id){\n\t\tif (search_id == \"0\") return true;\n\n\t\tvar item = this.getItem(search_id);\n\t\tif (item.open)\n\t\t\treturn this.isBranchOpen(item.$parent);\n\t\treturn false;\n\t},\n\tgetOpenItems: function() {\n\t\tvar open = [];\n\t\tfor (var id in this.data.branch) {\n\t\t\tif (this.exists(id) && this.getItem(id).open)\n\t\t\t\topen.push(id);\n\t\t}\n\t\treturn open;\n\t},\n\tgetState: function(){\n\t\treturn {\n\t\t\topen: this.getOpenItems(),\n\t\t\tselect: this.getSelectedId(true)\n\t\t};\n\t},\n\t_repeat_set_state:function(tree, open){\n\t\tvar event = this.data.attachEvent(\"onStoreLoad\", function(){\n\t\t\ttree.setState.call(tree,open);\n\t\t\ttree.data.detachEvent(event);\n\t\t\ttree = null;\n\t\t});\n\t},\n\tsetState: function(state){\n\t\tif (state.open){\n\t\t\tthis.closeAll();\t\n\t\t\tvar open = state.open;\n\t\t\tfor (let i = 0; i < open.length; i++){\n\t\t\t\tvar item = this.getItem(open[i]);\n\t\t\t\tif (item && item.$count){\n\t\t\t\t\titem.open=true;\n\t\t\t\t\t//dynamic loading\n\t\t\t\t\tif (item.$count == -1){\n\t\t\t\t\t\t//call the same method after data loading\n\t\t\t\t\t\tthis._repeat_set_state(this, state);\n\t\t\t\t\t\tthis.refresh();\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t//end processing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.refresh();\n\t\t}\n\n\n\t\tif (state.select && this.select){\t\t\t\n\t\t\tvar select = state.select;\n\t\t\tthis.unselect();\n\t\t\tfor (let i = 0; i < select.length; i++)\n\t\t\t\tif (this.exists(select[i]))\n\t\t\t\t\tthis.select(select[i], true);\n\t\t}\n\n\t\treturn 1;\n\t}\n};\n\nexport default TreeAPI;","\n\nconst TreeClick = {\n\twebix_tree_open:function(e, id){\n\t\tthis.close(id);\n\t\treturn false;\n\t},\n\twebix_tree_close:function(e, id){\n\t\tthis.open(id);\n\t\treturn false;\n\t},\n\twebix_tree_checkbox:function(e,id){\n\t\tthis._tree_check_uncheck(id, null, e);\n\t\treturn false;\n\t}\n};\n\nexport default TreeClick;","import {bind} from \"../webix/helpers\";\nimport DataLoader from \"../core/dataloader\";\nimport promise from \"../thirdparty/promiz\";\n\n\nconst TreeDataLoader = {\n\t$init:function(){\n\t\tthis.data.attachEvent(\"onStoreUpdated\", bind(this._sync_hierarchy, this), null, true);\n\t\t//redefine methods\n\t\tthis._feed_common = this._feed_commonA;\n\t},\n\t_feed_commonA:function(id, count, callback, url){\n\t\t// branch loading\n\t\tvar details = (count === 0?{parent: encodeURIComponent(id)}:null);\n\n\t\treturn DataLoader.prototype._feed_common.call(this,id, count, callback, url, details);\n\t},\n\t//load next set of data rows\n\tloadBranch:function(id, callback, url){\n\t\tid = id ||0;\n\t\tthis.data.url = url || this.data.url;\n\t\tif (this.callEvent(\"onDataRequest\", [id,callback,this.data.url]) && this.data.url)\n\t\t\treturn this.data.feed.call(this, id, 0, callback, url);\n\t\treturn promise.reject();\n\t},\n\t_sync_hierarchy:function(id, data, mode){\n\t\tif (!mode || mode == \"add\" || mode == \"delete\" || mode == \"branch\"){\n\t\t\tthis.data._sync_to_order(this);\n\t\t}\n\t}\n};\n\nexport default TreeDataLoader;","import {isArray, copy as makeCopy, uid, _power_array} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport DataMove from \"../core/datamove\";\nimport DragControl from \"../core/dragcontrol\";\n\n\n/*\n\tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\n\t@export\n\t\tcopy\n\t\tmove\n*/\nconst TreeDataMove ={\n\t$init:function(){\n\t\tassert(this.data, \"DataMove :: Component doesn't have DataStore\");\n\t},\n\t//creates a copy of the item\n\tcopy:function(sid,tindex,tobj,details){\n\t\tdetails = details || {};\n\t\tdetails.copy = true;\n\t\treturn this.move(sid, tindex, tobj, details);\n\t},\n\t_next_move_index:function(nid, next, source){\n\t\tif (next && nid){\n\t\t\tvar new_index = this.getBranchIndex(nid);\n\t\t\t// check parent only when moving locally (source == this)\n\t\t\treturn new_index + ((source == this && this.getParentId(nid) == this.getParentId(next)\n\t\t\t\t&& source.getBranchIndex(next) < new_index) ? 0 : 1);\n\t\t}\n\t},\n\t_check_branch_child:function(parent, child){\n\t\tvar t = this.data.branch[parent];\n\t\tif (t && t.length){\n\t\t\tfor (var i=0; i < t.length; i++) {\n\t\t\t\tif (t[i] == child) return true;\n\t\t\t\tif (this._check_branch_child(t[i], child)) return true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t_remove_childs(ids){\n\t\tfor(var i = 0; i < ids.length; i++){\n\t\t\tvar id = ids[i];\n\t\t\twhile(this.getParentId(id)){\n\t\t\t\tid = this.getParentId(id);\n\t\t\t\tif(_power_array.find.call(ids, id) != -1){\n\t\t\t\t\tids.splice(i,1);\n\t\t\t\t\ti--;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ids;\n\t},\n\t//move item to the new position\n\tmove:function(sid,tindex,tobj, details){\n\t\tdetails = details || {};\n\t\ttindex = tindex || 0;\n\t\tvar new_id = details.newId || sid;\n\t\tvar target_parent = details.parent || 0;\n\t\t\n\t\ttobj = tobj||this;\n\t\tassert(tobj.data, \"moving attempt to component without datastore\");\n\t\tif (!tobj.data) return;\n\n\t\tif (isArray(sid)){\n\t\t\tthis._remove_childs(sid);\n\t\t\tfor (var i=0; i < sid.length; i++) {\n\t\t\t\t//increase index for each next item in the set, so order of insertion will be equal to order in the array\n\t\t\t\tvar nid = this.move(sid[i], tindex, tobj, details);\n\t\t\t\ttindex = tobj._next_move_index(nid, sid[i+1], this);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (this != tobj || details.copy){\n\t\t\tnew_id = tobj.data.add(tobj._externalData(this.getItem(sid),new_id), tindex, (target_parent || 0));\n\t\t\tif (this.data.branch[sid] && tobj.getBranchIndex){\n\t\t\t\tvar temp = this.data._scheme_serialize;\n\t\t\t\tthis.data._scheme_serialize = function(obj){\n\t\t\t\t\tvar copy = makeCopy(obj);\n\t\t\t\t\tdelete copy.$parent; delete copy.$level; delete copy.$child;\n\t\t\t\t\tif (tobj.data.pull[copy.id])\n\t\t\t\t\t\tcopy.id = uid();\n\t\t\t\t\treturn copy;\n\t\t\t\t};\n\t\t\t\tvar copy_data = { data:this.serialize(sid, true), parent:new_id };\n\t\t\t\tthis.data._scheme_serialize = temp;\n\t\t\t\ttobj.parse(copy_data);\n\t\t\t}\n\t\t\tif (!details.copy)\n\t\t\t\tthis.data.remove(sid);\n\t\t} else {\n\t\t\t//move in self\n\t\t\tif (sid == target_parent || this._check_branch_child(sid,target_parent)) return;\n\n\t\t\tvar source = this.getItem(sid);\n\t\t\tvar tbranch = this.data.branch[target_parent];\n\t\t\tif (!tbranch) \n\t\t\t\ttbranch = this.data.branch[target_parent] = [];\n\t\t\tvar sbranch = this.data.branch[source.$parent];\n\n\t\t\tvar sindex = _power_array.find.call(sbranch, sid);\n\t\t\tif (tindex < 0) tindex = tbranch.length;\n\t\t\t//in the same branch and same position\n\t\t\tif (sbranch === tbranch && tindex === sindex) return new_id; //return ID\n\n\t\t\t_power_array.removeAt.call(sbranch, sindex);\n\t\t\t_power_array.insertAt.call(tbranch, sid, Math.min(tbranch.length, tindex));\n\n\t\t\tif (!sbranch.length)\n\t\t\t\tdelete this.data.branch[source.$parent];\n\t\t\t\n\n\t\t\tif(source.$parent && source.$parent != \"0\")\n\t\t\t\tthis.getItem(source.$parent).$count--;\n\n\t\t\tif (target_parent && target_parent != \"0\"){\n\t\t\t\tvar target = tobj.getItem(target_parent);\n\t\t\t\ttarget.$count++;\n\t\t\t\tthis._set_level_rec(source, target.$level+1);\n\t\t\t} else \n\t\t\t\tthis._set_level_rec(source, 1);\n\n\t\t\tsource.$parent = target_parent;\n\t\t\ttobj.data.callEvent(\"onDataMove\", [sid, tindex, target_parent, tbranch[tindex+1]]);\n\t\t}\n\n\t\tthis.refresh();\n\t\treturn new_id;\t//return ID of item after moving\n\t},\n\t_set_level_rec:function(item, value){\n\t\titem.$level = value;\n\t\tvar branch = this.data.branch[item.id];\n\t\tif (branch)\n\t\t\tfor (var i=0; i<branch.length; i++)\n\t\t\t\tthis._set_level_rec(this.getItem(branch[i]), value+1);\n\t},\n\t//reaction on pause during dnd\n\t_drag_pause:function(id){\n\t\tif (id && !id.header && this.exists(id) && this._target_to_id(id) != DragControl._drag_context.start) //ignore drag other header\n\t\t\tthis.open(id);\n\t},\n\t$dropAllow:function(context){\n\t\tif (context.from != context.to) return true;\n\t\tfor (let i=0; i<context.source.length; i++)\n\t\t\tif (this._check_branch_child(context.source, context.target)) return false;\n\n\t\treturn true;\n\t},\n\t/*\n\t\tthis is a stub for future functionality\n\t\tcurrently it just makes a copy of data object, which is enough for current situation\n\t*/\n\t_externalData:function(data,id){\n\t\tvar new_data = DataMove._externalData.call(this, data, id);\n\t\tdelete new_data.open;\n\t\treturn new_data;\n\t}\n};\n\nexport default TreeDataMove;","import {insertBefore, remove, create} from \"../webix/html\";\nimport {assert} from \"../webix/debug\";\n\n\nconst TreeRenderStack ={\n\t$init:function(){\n\t\tassert(this.render,\"TreeRenderStack :: Object must use RenderStack first\");\n\t},\n\t_toHTMLItem:function(obj){\n\t\tvar mark = this.data._marks[obj.id];\n\t\tthis.callEvent(\"onItemRender\",[obj]);\n\t\treturn this.type.templateStart(obj,this.type,mark)+(obj.$template?this.type[\"template\"+obj.$template](obj,this.type,mark):this.type.template(obj,this.type,mark))+this.type.templateEnd();\n\t},\n\t_toHTMLItemObject:function(obj){\n\t\tthis._html.innerHTML = this._toHTMLItem(obj);\n\t\treturn this._html.firstChild;\n\t},\n\t//convert single item to HTML text (templating)\n\t_toHTML:function(obj){\n\t\t//check if related template exist\n\t\tassert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\n\t\tvar html=\"<div role='presentation' class='webix_tree_branch_\"+obj.$level+\"'>\"+this._toHTMLItem(obj);\n\n\t\tif (obj.open)\n\t\t\thtml+=this._toHTMLLevel(obj.id);\n\n\t\thtml+=\"</div>\";\n\n\t\treturn html;\n\t},\n\t_toHTMLLevel:function(id){\n\t\tvar html = \"\";\n\t\tvar leaves = this.data.branch[id];\n\t\tif (leaves){\n\t\t\thtml+=\"<div role='presentation' class='webix_tree_leaves'>\";\n\t\t\tvar last = leaves.length-1;\n\t\t\tfor (var i=0; i <= last; i++){\n\t\t\t\tvar obj = this.getItem(leaves[i]);\n\t\t\t\tvar state = this.type._tree_branch_render_state;\n\t\t\t\tif (state !== 0) state[obj.$level] = (i == last);\n\t\t\t\thtml+=this._toHTML(obj);\n\t\t\t}\n\t\t\thtml+=\"</div>\";\n\t\t}\n\t\treturn html;\n\t},\n\t//return true when some actual rendering done\n\trender:function(id,data,type){\n\t\tTreeRenderStack._obj = this;\t//can be used from complex render\n\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\n\t\t\treturn;\n\n\t\tif (id){\n\t\t\tvar cont, node;\n\t\t\tvar item = this.getItem(id);\n\t\t\tif (type!=\"add\"){\n\t\t\t\tcont = this.getItemNode(id);\n\t\t\t\tif (!cont) return;\n\t\t\t}\n\t\t\t\n\t\t\tswitch(type){\n\t\t\t\tcase \"branch\":\n\t\t\t\t\tvar branch = cont.parentNode;\n\t\t\t\t\tnode = this._toHTMLObject(item);\n\t\t\t\t\t\n\t\t\t\t\tinsertBefore(node, branch); \n\t\t\t\t\tremove(branch);\n\t\t\t\t\tthis._htmlmap = null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"paint\":\n\t\t\t\tcase \"update\":\n\t\t\t\t\tnode = this._htmlmap[id] = this._toHTMLItemObject(item);\n\t\t\t\t\tinsertBefore(node, cont); \n\t\t\t\t\tremove(cont);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"delete\":\n\t\t\t\t\t//deleting not item , but full branch\n\t\t\t\t\tremove(cont.parentNode);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"add\":\n\t\t\t\t\tvar parent;\n\t\t\t\t\t//we want process both empty value and 0 as string\n\t\t\t\t\t//jshint -W041:true\n\t\t\t\t\tif (item.$parent == 0){\n\t\t\t\t\t\tparent = this._dataobj.firstChild;\n\t\t\t\t\t} else if(this.getItem(item.$parent).open){\n\t\t\t\t\t\tparent  = this.getItemNode(item.$parent);\n\t\t\t\t\t\tif (parent){\n\t\t\t\t\t\t\t//when item created by the script, it will miss the container for child notes\n\t\t\t\t\t\t\t//create it on demand\n\t\t\t\t\t\t\tif (!parent.nextSibling){\n\t\t\t\t\t\t\t\tvar leafs = create(\"DIV\", { \"class\" : \"webix_tree_leaves\" },\"\");\n\t\t\t\t\t\t\t\tparent.parentNode.appendChild(leafs);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparent = parent.nextSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parent){\n\t\t\t\t\t\tvar next = this.data.getNextSiblingId(id);\n\t\t\t\t\t\tnext = this.getItemNode(next);\n\t\t\t\t\t\tif (next)\n\t\t\t\t\t\t\tnext = next.parentNode;\n\n\t\t\t\t\t\tnode = this._toHTMLObject(item);\n\t\t\t\t\t\tthis._htmlmap[id] = node.firstChild;\n\t\t\t\t\t\tinsertBefore(node, next, parent);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.callEvent(\"onPartialRender\", [id,data,type]);\n\t\t} else {\n\t\t\t//full reset\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\t\t//will be used for lines management\n\t\t\t\tthis.type._tree_branch_render_state = [];\n\t\t\t\t//getTopRange - returns all elements on top level\n\t\t\t\tthis._dataobj.innerHTML = this._toHTMLLevel(0);\n\t\t\t\t\t\n\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\t\t\t}\n\t\t}\n\n\t\t//clear after usage\n\t\tthis.type._tree_branch_render_state = 0;\n\t\tTreeRenderStack._obj = null;\n\t\treturn true;\n\t},\n\tgetItemNode:function(search_id){\n\t\tif (this._htmlmap)\n\t\t\treturn this._htmlmap[search_id];\n\t\t\t\n\t\t//fill map if it doesn't created yet\n\t\tthis._htmlmap={};\n\t\t\n\t\tvar t = this._dataobj.getElementsByTagName(\"DIV\");\n\t\tfor (var i=0; i < t.length; i++){\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\n\t\t\tif (id) \n\t\t\t\tthis._htmlmap[id]=t[i];\n\t\t}\n\t\t//call locator again, when map is filled\n\t\treturn this.getItemNode(search_id);\n\t},\n\t_branch_render_supported:1\n};\n\nexport default TreeRenderStack;","\n\nconst TreeStateCheckbox = {\n\t_init_render_tree_state: function(){\n\t\tif (this._branch_render_supported){\n\t\t\tvar old_render = this.render;\n\t\t\tthis.render = function(id,data){\n\t\t\t\tvar updated = old_render.apply(this,arguments);\n\n\t\t\t\tif(this._settings.threeState && updated && data != \"checkbox\")\n\t\t\t\t\tthis._setThirdState.apply(this,arguments);\n\t\t\t};\n\t\t\tthis._init_render_tree_state=function(){};\n\t\t}\n\t},\n\tthreeState_setter:function(value){\n\t\tif (value)\n\t\t\tthis._init_render_tree_state();\n\t\treturn value;\n\t},\n\t_setThirdState:function(id){\n\t\tvar i,leaves,parents,checkedParents,tree;\n\t\tparents = [];\n\t\ttree = this;\n\n\t\t/*if item was removed*/\n\t\tif(id&&!tree.data.pull[id]){\n\t\t\tid = 0;\n\t\t}\n\t\t/*sets checkbox states*/\n\t\t/*if branch or full reloading*/\n\t\tif(!id||tree.data.pull[id].$count){\n\t\t\tleaves = this._getAllLeaves(id);\n\t\t\tleaves.sort(function(a,b){\n\t\t\t\treturn tree.data.pull[b].$level - tree.data.pull[a].$level;\n\t\t\t});\n\t\t\tfor(i=0;i < leaves.length;i++){\n\t\t\t\tif(!i||tree.data.pull[leaves[i]].$parent!=tree.data.pull[leaves[i-1]].$parent)\n\t\t\t\t\tparents = parents.concat(tree._setParentThirdState(leaves[i]));\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\t/*an item is a leaf */\n\t\t\tparents = parents.concat(tree._setParentThirdState(id));\n\t\t}\n\n\t\tcheckedParents = {};\n\t\tfor(i=0;i<parents.length;i++){\n\t\t\tif(!checkedParents[parents[i]]){\n\t\t\t\tcheckedParents[parents[i]] = 1;\n\t\t\t\tthis._setCheckboxIndeterminate(parents[i]);\n\t\t\t}\n\t\t}\n\n\t\ttree = null;\n\t},\n\t_setCheckboxIndeterminate:function(id){\n\t\tvar chElem, elem;\n\t\telem = this.getItemNode(id);\n\t\tif(elem){\n\t\t\tthis.render(id,\"checkbox\",\"update\");\n\t\t\t/*needed to get the new input obj and to set indeterminate state*/\n\t\t\tif(this.getItem(id).indeterminate){\n\t\t\t\telem = this.getItemNode(id);\n\t\t\t\tchElem = elem.getElementsByTagName(\"input\")[0];\n\t\t\t\tif(chElem)\n\t\t\t\t\tchElem.indeterminate = this.getItem(id).indeterminate;\n\t\t\t}\n\t\t}\n\t},\n\t_setParentThirdState:function(itemId){\n\t\t//we need to use dynamic function creating\n\t\t//jshint -W083:true\n\n\t\tvar checked, checkedCount,indeterminate, parentId,result,unsureCount,needrender;\n\t\tparentId = this.getParentId(itemId);\n\t\tresult = [];\n\t\twhile(parentId && parentId != \"0\"){\n\t\t\tunsureCount = 0;\n\t\t\tcheckedCount = 0;\n\t\t\tthis.data.eachChild(parentId,function(obj){\n\t\t\t\tif(obj.indeterminate){\n\t\t\t\t\tunsureCount++;\n\t\t\t\t}\n\t\t\t\telse if(obj.checked){\n\t\t\t\t\tcheckedCount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tchecked = indeterminate = needrender = false;\n\t\t\t\n\t\t\tvar item = this.getItem(parentId);\n\t\t\tif(checkedCount==item.$count){\n\t\t\t\tchecked = true;\n\t\t\t}\n\t\t\telse if(checkedCount>0||unsureCount>0){\n\t\t\t\tindeterminate = true;\n\t\t\t}\n\t\t\t\n\t\t\t//we need to reset indeterminate in any case :(\n\t\t\tif (indeterminate || indeterminate != item.indeterminate)\n\t\t\t\tneedrender = true;\n\t\t\titem.indeterminate = indeterminate;\n\t\t\tif (checked || item.checked != checked)\n\t\t\t\tneedrender = true;\n\t\t\titem.checked = checked;\n\n\t\t\tif (needrender){\n\t\t\t\tresult.push(parentId);\n\t\t\t\tparentId = this.getParentId(parentId);\n\t\t\t} else\n\t\t\t\tparentId = 0;\n\t\t}\n\n\t\treturn result;\n\t},\n\t/*get all checked items in tree*/\n\tgetChecked:function(){\n\t\tvar result=[];\n\t\tvar tree = this;\n\t\tthis.data.eachSubItem(0,function(obj){\n\t\t\tif (tree.isChecked(obj.id))\n\t\t\t\tresult.push(obj.id);\n\t\t});\n\t\treturn result;\n\t},\n\t_tree_check_uncheck_3:function(id, mode){\n\t\tvar item = this.getItem(id);\n\t\tif(item){\n\t\t\tif (mode === \"\") \n\t\t\t\tmode = !item.checked;\n\t\t\tif(item.checked != mode || item.indeterminate){\n\t\t\t\titem.checked = mode;\n\t\t\t\tthis._correctThreeState(id);\n\t\t\t\tvar parents = this._setParentThirdState(id);\n\t\t\t\tif (this._branch_render_supported && parents.length < 5){\n\t\t\t\t\tfor (var i=0; i<parents.length; i++)\n\t\t\t\t\t\tthis._setCheckboxIndeterminate(parents[i]);\n\t\t\t\t} else\n\t\t\t\t\tthis.refresh();\n\t\t\t\tthis.callEvent(\"onItemCheck\", [id, mode]);\n\t\t\t}\n\t\t}\n\t},\n\t/*set checked state for item checkbox*/\n\tcheckItem:function(id){\n\t\tthis._tree_check_uncheck(id, true);\n\t\tthis.updateItem(id);\n\t},\n\t/*uncheckes an item checkbox*/\n\tuncheckItem:function(id){\n\t\tthis._tree_check_uncheck(id, false);\n\t\tthis.updateItem(id);\n\t},\n\t_checkUncheckAll: function(id,mode,all){\n\t\tvar method = mode?\"checkItem\":\"uncheckItem\";\n\t\tif(!id)\n\t\t\tid = 0;\n\t\telse\n\t\t\tthis[method](id);\n\t\tif(this._settings.threeState){\n\t\t\tif(!id)\n\t\t\t\tthis.data.eachChild(0,function(item){\n\t\t\t\t\tthis[method](item.id);\n\t\t\t\t},this,all);\n\t\t}\n\t\telse\n\t\t\tthis.data.each(function(item){\n\t\t\t\tthis[method](item.id);\n\t\t\t},this,all,id);\n\n\t},\n\t/*checkes checkboxes of all items in a branch/tree*/\n\tcheckAll: function(id, all){\n\t\tthis._checkUncheckAll(id,true,all);\n\n\t},\n\t/*uncheckes checkboxes of all items in a branch/tree*/\n\tuncheckAll: function(id, all){\n\t\tthis._checkUncheckAll(id,false,all);\n\t},\n\t_correctThreeState:function(id){\n\t\tvar state;\n\t\tvar item = this.getItem(id);\n\n\t\titem.indeterminate = false;\n\t\tstate = item.checked;\n\n\t\tthis.data.eachSubItem(id, function(child){\n\t\t\tchild.indeterminate = false;\n\t\t\tchild.checked = state;\n\t\t});\n\t\t\n\t\tif(this._branch_render_supported && this.isBranchOpen(item.$parent)){ //for tree-render only\n\t\t\tthis.render(id,0,\"branch\");\n\t\t}\n\t},\n\t/*returns checked state of item checkbox*/\n\tisChecked:function(id){\n\t\treturn this.getItem(id).checked;\n\t},\n\t/*gets all leaves in a certain branch (in the whole tree if id is not set)*/\n\t_getAllLeaves:function(parentId){\n\t\tvar result = [];\n\t\tthis.data.eachSubItem(parentId, function(obj, branch){\n\t\t\tif (!branch)\n\t\t\t\tresult.push(obj.id);\n\t\t});\n\t\treturn result;\n\t}\t\n};\n\nexport default TreeStateCheckbox;","import {bind, extend, _to_array, copy, clone, isArray, uid, _power_array} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport DataStore from \"../core/datastore\";\nimport DataDriver from \"../load/drivers/index\";\n\n\n// #include core/datastore.js\n// #include core/bind.js\n// #include core/treemove.js\n\nconst TreeStore = {\n\tname:\"TreeStore\",\n\t$init:function() {\n\t\tthis._filterMode={\n\t\t\t//level:1,\n\t\t\tshowSubItems:true\n\t\t};\n\t\tthis.branch = { 0:[] };\n\t\tthis.attachEvent(\"onParse\", function(driver){\n\t\t\tthis._set_child_scheme(driver.child);\n\t\t});\n\t\tthis.attachEvent(\"onClearAll\", bind(function(){\n\t\t\tthis._filter_branch = null;\n\t\t},this));\n\t},\n\tfilterMode_setter:function(mode){\n\t\treturn extend(this._filterMode, mode, true);\n\t},\n\t_filter_reset:function(preserve){\n\t\t//remove previous filtering , if any\n\t\tif (this._filter_branch && !preserve){\n\t\t\tthis.branch = this._filter_branch;\n\t\t\tthis.order = _to_array(copy(this.branch[0]));\n\t\t\tfor (var key in this.branch)\n\t\t\t\tif (key != \"0\")\t//exclude 0 - virtual root\n\t\t\t\t\tthis.getItem(key).$count = this.branch[key].length;\n\t\t\tdelete this._filter_branch;\n\t\t}\n\t},\n\t_filter_core:function(filter, value, preserve, filterMode){\n\t\t//for tree we have few filtering options\n\t\t//- filter leafs only\n\t\t//- filter data on specific level\n\t\t//- filter data on all levels\n\t\t//- in all cases we can show or hide empty folder\n\t\t//- in all cases we can show or hide childs for matched item\n\t\t\n\t\t//set new order of items, store original\n\t\tif (!preserve ||  !this._filter_branch){\n\t\t\tthis._filter_branch = this.branch;\n\t\t\tthis.branch  = clone(this.branch);\n\t\t}\n\n\t\tthis.branch[0] = this._filter_branch_rec(filter, value, this.branch[0], 1, (filterMode||{}));\n\t},\n\t_filter_branch_rec:function(filter, value, branch, level, config){\n\t\t//jshint -W041\n\t\tvar neworder = [];\n\t\t\n\t\tvar allow = (config.level && config.level != level);\n\n\t\tfor (var i=0; i < branch.length; i++){\n\t\t\tvar id = branch[i];\n\t\t\tvar item = this.getItem(id);\n\t\t\tvar child_run = false;\n\t\t\tvar sub = this.branch[id];\n\n\t\t\tif (allow){\n\t\t\t\tchild_run = true;\n\t\t\t} else if (filter(this.getItem(id),value)){\n\t\t\t\tneworder.push(id);\n\t\t\t\t// open all parents of the found item\n\t\t\t\tif (config.openParents !== false){\n\t\t\t\t\tvar parentId = this.getParentId(id);\n\t\t\t\t\twhile(parentId && parentId != \"0\"){\n\t\t\t\t\t\tthis.getItem(parentId).open = 1;\n\t\t\t\t\t\tparentId = this.getParentId(parentId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//in case of of fixed level filtering - do not change child-items\n\t\t\t\tif (config.level || config.showSubItems)\n\t\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\t//filtering level, not match\n\t\t\t\tchild_run = true;\n\t\t\t}\t\n\n\t\t\t//if \"filter by all levels\" - filter childs\n\t\t\tif (allow || !config.level){ \n\t\t\t\tif (sub){\n\t\t\t\t\tvar newsub = this.branch[id] = this._filter_branch_rec(filter, value, sub, level+1, config);\n\t\t\t\t\titem.$count = newsub.length;\n\t\t\t\t\tif (child_run && newsub.length)\n\t\t\t\t\t\tneworder.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn neworder;\n\t},\n\tcount:function(){\n\t\tif (this.order.length)\n\t\t\treturn this.order.length;\n\n\t\t//we must return some non-zero value, or logic of selection will think that we have not data at all\n\t\tvar count=0;\n\t\tthis.eachOpen(function(){ count++; });\n\t\treturn count;\n\t},\n\t_change_branch_id:function(branches, parent, old, newid){\n\t\tif (branches[old]){\n\t\t\tvar branch = branches[newid] = branches[old];\n\t\t\tfor (var i = 0; i < branch.length; i++)\n\t\t\t\tthis.getItem(branch[i]).$parent = newid;\n\t\t\tdelete branches[old];\n\t\t}\n\t\tif (branches[parent]){\n\t\t\tvar index = _power_array.find.call(branches[parent], old);\n\t\t\tif (index >= 0)\n\t\t\t\tbranches[parent][index] = newid;\n\t\t}\n\t},\n\tchangeId:function(old, newid){\n\t\tif(old == newid) return;\n\t\t\n\t\tvar parent = this.getItem(old).$parent;\n\t\tthis._change_branch_id(this.branch, parent, old, newid);\n\n\t\t//in case of filter applied, update id in filtered state as well\n\t\tif (this._filter_branch)\n\t\t\tthis._change_branch_id(this._filter_branch, parent, old, newid);\n\n\t\treturn DataStore.prototype.changeId.call(this, old, newid);\n\t},\n\tclearAll:function(soft){\n\t\tthis.branch = { 0:[] };\n\t\tDataStore.prototype.clearAll.call(this, soft);\t\n\t},\n\tgetPrevSiblingId:function(id){\n\t\tvar order = this.branch[this.getItem(id).$parent];\n\t\tvar pos = _power_array.find.call(order, id)-1;\n\t\tif (pos>=0)\n\t\t\treturn order[pos];\n\t\treturn null;\n\t},\n\tgetNextSiblingId:function(id){\n\t\tvar order = this.branch[this.getItem(id).$parent];\n\t\tvar pos = _power_array.find.call(order, id)+1;\n\t\tif (pos<order.length)\n\t\t\treturn order[pos];\n\t\treturn null;\n\t},\n\tgetParentId:function(id){\n\t\treturn this.getItem(id).$parent;\n\t},\n\tgetFirstChildId:function(id){\n\t\tvar order = this.branch[id];\n\t\tif (order && order.length)\n\t\t\treturn order[0];\n\t\treturn null;\n\t},\n\tisBranch:function(parent){\n\t\treturn !!this.branch[parent];\n\t},\n\tgetBranchIndex:function(child){\n\t\tvar t = this.branch[this.pull[child].$parent];\n\t\treturn _power_array.find.call(t, child);\n\t},\n\t_set_child_scheme:function(parse_name){\n\n\t\tif (typeof parse_name == \"string\")\n\t\t\tthis._datadriver_child = function(obj){\n\t\t\t\tvar t = obj[parse_name];\n\t\t\t\tif (t)\n\t\t\t\t\tdelete obj[parse_name];\n\t\t\t\treturn t;\n\t\t\t};\n\t\telse \n\t\t\tthis._datadriver_child = parse_name;\n\t},\n\t_inner_parse:function(info, recs){ \n\t\tvar parent  = info.parent || 0;\n\t\t\n\t\tfor (var i=0; i<recs.length; i++){\n\t\t\t//get hash of details for each record\n\t\t\tvar temp = this.driver.getDetails(recs[i]);\n\t\t\tvar id = this.id(temp); \t//generate ID for the record\n\t\t\tvar update = !!this.pull[id]; //update mode\n\n\t\t\tif (update){\n\t\t\t\ttemp = extend(this.pull[id], temp, true);\n\t\t\t\tif (this._scheme_update)\n\t\t\t\t\tthis._scheme_update(temp);\n\t\t\t} else {\n\t\t\t\tif (this._scheme_init)\n\t\t\t\t\tthis._scheme_init(temp);\n\t\t\t\tthis.pull[id]=temp;\n\t\t\t}\n\n\t\t\tthis._extraParser(temp, parent, 0, update, info.from ? info.from*1+i : 0);\n\t\t}\n\n\t\t//fix state of top item after data loading\n\t\tvar pItem = this.pull[parent] || {};\n\t\tvar pBranch = this.branch[parent] || [];\n\t\tpItem.$count = pBranch.length;\n\t\tdelete pItem.webix_kids;\n\n\t\tif (info.size && info.size != pBranch.length)\n\t\t\tpBranch[info.size-1] = undefined;\n\t},\n\t_extraParser:function(obj, parent, level, update, from){\n\t\t//processing top item\n\t\tobj.$count = 0;\n\t\t//using soft check, as parent can be a both 0 and \"0\" ( second one in case of loading from server side ) \n\t\tobj.$parent = parent!=\"0\"?parent:0;\n\t\tobj.$level = level||(parent!=\"0\"?this.pull[parent].$level+1:1);\n\t\t\n\t\tvar parent_branch = this.branch[obj.$parent];\n\t\tif (!parent_branch)\n\t\t\tparent_branch = this.branch[obj.$parent] = [];\n\t\tif (this._filter_branch)\n\t\t\tthis._filter_branch[obj.$parent] = parent_branch;\n\n\t\tif (!update){\n\t\t\tvar pos = from || parent_branch.length;\n\t\t\tparent_branch[pos] = obj.id;\n\t\t}\n\n\t\tvar child = this._datadriver_child(obj);\n\n\t\tif (obj.webix_kids){\n\t\t\treturn (obj.$count = -1);\n\t\t}\n\n\t\tif (!child) //ignore childless\n\t\t\treturn (obj.$count = 0);\t\n\n\t\t//when loading from xml we can have a single item instead of an array\n\t\tif (!isArray(child))\n\t\t\tchild = [child];\n\t\t\n\n\t\tfor (var i=0; i < child.length; i++) {\n\t\t\t//extra processing to convert strings to objects\n\t\t\tvar item = DataDriver.json.getDetails(child[i]);\n\t\t\tvar itemid = this.id(item);\n\t\t\tupdate = !!this.pull[itemid];\n\t\t\t\n\t\t\tif (update){\n\t\t\t\titem = extend(this.pull[itemid], item, true);\n\t\t\t\tif (this._scheme_update)\n\t\t\t\t\tthis._scheme_update(item);\n\t\t\t} else {\n\t\t\t\tif (this._scheme_init)\n\t\t\t\t\tthis._scheme_init(item);\n\t\t\t\tthis.pull[itemid]=item;\n\t\t\t}\n\t\t\tthis._extraParser(item, obj.id, obj.$level+1, update);\n\t\t}\n\n\t\t//processing childrens\n\t\tvar branch = this.branch[obj.id];\n\t\tif (branch)\n\t\t\tobj.$count = branch.length;\n\t}, \n\t_sync_to_order:function(master){\n\t\tthis.order = _to_array();\n\n\t\t// send current order to prevent simultaneous use in synс mode\n\t\tthis._sync_each_child(this.order, 0, master);\n\t},\n\t_sync_each_child:function(order, start, master){\n\t\tvar branch = this.branch[start];\n\t\tfor (var i=0; i<branch.length; i++){\n\t\t\tvar id = branch[i];\n\t\t\torder.push(id);\n\t\t\tvar item = this.pull[id];\n\t\t\tif (item && item.open){\n\t\t\t\tif (item.$count == -1)\n\t\t\t\t\tmaster.loadBranch(id);\n\t\t\t\telse if (item.$count)\n\t\t\t\t\tthis._sync_each_child(order, id, master);\n\t\t\t}\n\t\t}\n\t},\n\tprovideApi:function(target,eventable){\n\t\tvar list = [\"getPrevSiblingId\",\"getNextSiblingId\",\"getParentId\",\"getFirstChildId\",\"isBranch\",\"getBranchIndex\",\"filterMode_setter\"];\n\t\tfor (var i=0; i < list.length; i++)\n\t\t\ttarget[list[i]]=this._methodPush(this,list[i]);\n\n\t\tif (!target.getIndexById)\n\t\t\tDataStore.prototype.provideApi.call(this, target, eventable);\n\t},\n\tgetTopRange:function(){\n\t\treturn _to_array([].concat(this.branch[0])).map(function(id){\n\t\t\treturn this.getItem(id);\n\t\t}, this);\n\t},\n\teachChild:function(id, functor, master, all){\n\t\tvar branch = this.branch;\n\t\tif (all && this._filter_branch)\n\t\t\tbranch = this._filter_branch;\n\n\t\tvar stack = branch[id];\n\t\tif (stack)\n\t\t\tfor (var i=0; i<stack.length; i++){\n\t\t\t\tif(stack[i])\n\t\t\t\t\tfunctor.call((master||this), this.getItem(stack[i]));\n\t\t\t}\n\t},\n\teach:function(method,master, all, id){\n\t\tthis.eachChild((id||0), function(item){\n\t\t\tvar branch = this.branch;\n\n\t\t\tmethod.call((master||this), item);\n\n\t\t\tif (all && this._filter_branch)\n\t\t\t\tbranch = this._filter_branch;\n\n\t\t\tif (item && branch[item.id])\n\t\t\t\tthis.each(method, master, all, item.id);\n\t\t}, this, all);\n\t},\t\n\teachOpen:function(method,master, id){\n\t\tthis.eachChild((id||0), function(item){\n\t\t\tmethod.call((master||this), item);\n\t\t\tif (this.branch[item.id] && item.open)\n\t\t\t\tthis.eachOpen(method, master, item.id);\n\t\t});\n\t},\n\teachSubItem:function(id, functor){\n\t\tvar top = this.branch[id||0];\n\t\tif (top)\n\t\t\tfor (var i=0; i<top.length; i++){\n\t\t\t\tvar key = top[i];\n\t\t\t\tif (this.branch[key]){\n\t\t\t\t\tfunctor.call(this, this.getItem(key),true);\n\t\t\t\t\tthis.eachSubItem(key, functor);\n\t\t\t\t} else\n\t\t\t\t\tfunctor.call(this, this.getItem(key), false);\n\t\t\t}\n\t},\n\teachLeaf:function(id, functor){\n\t\tvar top = this.branch[id||0];\n\t\tif (top)\n\t\t\tfor (var i=0; i<top.length; i++){\n\t\t\t\tvar key = top[i];\n\t\t\t\tif (this.branch[key]){\n\t\t\t\t\tthis.eachLeaf(key, functor);\n\t\t\t\t} else\n\t\t\t\t\tfunctor.call(this, this.getItem(key), false);\n\t\t\t}\n\t},\n\t_sort_core:function(sorter, order){\n\t\tfor (var key in this.branch){\n\t\t\tvar bset =  this.branch[key];\n\t\t\tvar data = [];\n\n\t\t\tfor (let i=0; i<bset.length; i++)\n\t\t\t\tdata.push(this.pull[bset[i]]);\n\n\t\t\tdata.sort(sorter);\n\n\t\t\tfor (let i=0; i<bset.length; i++)\n\t\t\t\tdata[i] = data[i].id;\n\n\t\t\tthis.branch[key] = data;\n\t\t}\n\t\treturn order;\n\t},\n\tadd:function(obj, index, pid){\n\t\tvar refresh_parent = false;\n\n\t\tvar parent = this.getItem(pid||0);\n\t\tif(parent){\n\t\t\t//when adding items to leaf item - it need to be repainted\n\t\t\tif (!this.branch[parent.id])\n\t\t\t\trefresh_parent = true;\n\n\t\t\tparent.$count++;\n\t\t\t//fix for the adding into dynamic loading branch\n\t\t\t//dynamic branch has $count as -1\n\t\t\tif (!parent.$count) parent.$count = 1;\n\t\t}\n\n\t\tthis.branch[pid||0] = this.order = _to_array(this.branch[pid||0]);\n\n\t\tobj.$count = obj.webix_kids ? -1 : 0; \n\t\tobj.$level= (parent?parent.$level+1:1); \n\t\tobj.$parent = (parent?parent.id:0);\n\n\t\tif (this._filter_branch){\t//adding during filtering\n\t\t\tvar origin = this._filter_branch[pid||0];\n\t\t\t//newly created branch\n\t\t\tif (!origin) origin = this._filter_branch[pid] = this.order;\n\n\t\t\t//branch can be shared bettwen collections, ignore such cases\n\t\t\tif (this.order !== origin){\n\t\t\t\t//we can't know the location of new item in full dataset, making suggestion\n\t\t\t\t//put at end by default\n\t\t\t\tvar original_index = origin.length;\n\t\t\t\t//put at start only if adding to the start and some data exists\n\t\t\t\tif (!index && this.branch[pid||0].length)\n\t\t\t\t\toriginal_index = 0;\n\n\t\t\t\torigin = _to_array(origin);\n\t\t\t\tobj.id = obj.id || uid();\n\t\t\t\torigin.insertAt(obj.id,original_index);\n\t\t\t}\n\t\t}\n\n\t\t//call original adding logic\n\t\tvar result = DataStore.prototype.add.call(this, obj, index);\n\n\n\t\tif (refresh_parent)\n\t\t\tthis.refresh(pid);\n\n\t\treturn result;\n\t},\n\t_rec_remove:function(id){\n\t\tvar obj = this.pull[id];\n\t\tif(this.branch[obj.id] && this.branch[obj.id].length > 0){\n\t\t\tvar branch = this.branch[id];\n\t\t\tfor(var i=0;i<branch.length;i++)\n\t\t\t\tthis._rec_remove(branch[i], true);\n\t\t}\n\t\tdelete this.branch[id];\n\t\tif(this._filter_branch)\n\t\t\tdelete this._filter_branch[id];\n\t\tdelete this.pull[id];\n\t\tif (this._marks[id])\n\t\t\tdelete this._marks[id];\n\t},\n\t_filter_removed:function(pull, parentId, id){\n\t\tvar branch = pull[parentId];\n\t\tif (branch.length == 1 && branch[0] == id && parentId){\n\t\t\tdelete pull[parentId];\n\t\t} else\n\t\t\t_to_array(branch).remove(id);\n\t},\n\tremove:function(id){\n\t\t//id can be an array of IDs - result of getSelect, for example\n\t\tif (isArray(id)){\n\t\t\tfor (var i=0; i < id.length; i++)\n\t\t\t\tthis.remove(id[i]);\n\t\t\treturn;\n\t\t}\n\n\t\tassert(this.exists(id), \"Not existing ID in remove command\"+id);\n\t\tvar obj = this.pull[id];\n\t\tvar parentId = (obj.$parent||0);\n\n\t\tif (this.callEvent(\"onBeforeDelete\",[id]) === false) return false;\n\t\tthis._rec_remove(id);\n\t\tthis.callEvent(\"onAfterDelete\",[id]);\n\n\t\tvar parent = this.pull[parentId];\n\t\tthis._filter_removed(this.branch, parentId, id);\n\t\tif (this._filter_branch)\n\t\t\tthis._filter_removed(this._filter_branch, parentId, id);\n\n\t\tvar refresh_parent = 0;\n\t\tif (parent){\n\t\t\tparent.$count--;\n\t\t\tif (parent.$count<=0){\n\t\t\t\tparent.$count=0;\n\t\t\t\tparent.open = 0;\n\t\t\t\trefresh_parent = 1;\n\t\t\t}\n\t\t}\n\n\t\t//repaint signal\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"delete\"]);\n\t\tif (refresh_parent)\n\t\t\tthis.refresh(parent.id);\n\t},\n\t/*\n\t\tserializes data to a json object\n\t*/\n\tgetBranch:function(id){\n\t\tvar out = [];\n\t\tvar items = (this._filter_branch || this.branch)[id];\n\t\tif (items)\n\t\t\tfor (var i = 0; i < items.length; i++) out[i] = this.pull[items[i]];\n\n\t\treturn out;\n\t},\n\tserialize: function(id, all){\n\t\tvar coll = this.branch;\n\t\t//use original collection of branches\n\t\tif (all && this._filter_branch) coll = this._filter_branch;\n\n\t\tvar ids = coll[id||0];\n\t\tvar result = [];\n\t\tfor(var i=0; i< ids.length;i++) {\n\t\t\tvar obj = this.pull[ids[i]];\n\t\t\tvar rel;\n\n\t\t\tif (this._scheme_serialize){\n\t\t\t\trel = this._scheme_serialize(obj);\n\t\t\t\tif (rel===false) continue;\n\t\t\t} else \n\t\t\t\trel = copy(obj);\n\t\t\t\t\n\t\t\tif (coll[obj.id])\n\t\t\t\trel.data = this.serialize(obj.id, all);\n\n\t\t\tresult.push(rel);\n\t\t}\n\t\treturn result;\n\t}\n};\n\nexport default TreeStore;","import {isUndefined, uid} from \"../webix/helpers\";\n\n\nconst TreeTablePaste = {\n\tinsert: function(data) {\n\t\tvar parent = this.getSelectedId(true, true);\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tvar item = {};\n\t\t\tfor (var j = 0; j < this._settings.columns.length; j++) {\n\t\t\t\titem[this._settings.columns[j].id] = data[i][j] || \"\";\n\t\t\t}\n\t\t\tif (!isUndefined(item.id) && this.exists(item.id))\n\t\t\t\titem.id = uid();\n\t\t\tthis.add(item, null, parent[0]);\n\t\t}\n\t}\n};\n\nexport default TreeTablePaste;","\n\nconst TreeType ={\n\tspace:function(obj){\n\t\tvar html = \"\";\n\t\tfor (var i=1; i<obj.$level; i++)\n\t\t\thtml += \"<div class='webix_tree_none'></div>\";\n\t\treturn html;\n\t},\n\ticon:function(obj){\n\t\tif (obj.$count){\n\t\t\tif (obj.open)\n\t\t\t\treturn \"<div class='webix_tree_open'></div>\";\n\t\t\telse\n\t\t\t\treturn \"<div class='webix_tree_close'></div>\";\n\t\t} else\n\t\t\treturn \"<div class='webix_tree_none'></div>\";\n\t},\n\tcheckbox:function(obj){\n\t\tif(obj.nocheckbox)\n\t\t\treturn \"\";\n\t\treturn \"<input type='checkbox' class='webix_tree_checkbox' \"+(obj.checked?\"checked\":\"\")+(obj.disabled?\" disabled\":\"\")+\">\";\n\t},\t\n\tfolder:function(obj){\n\t\tif (obj.icon)\n\t\t\treturn \"<div class='webix_tree_file webix_tree_\"+obj.icon+\"'></div>\";\n\n\t\tif (obj.$count){\n\t\t\tif (obj.open)\n\t\t\t\treturn \"<div class='webix_tree_folder_open'></div>\";\n\t\t\telse\n\t\t\t\treturn \"<div class='webix_tree_folder'></div>\";\n\t\t}\n\t\treturn \"<div class='webix_tree_file'></div>\";\n\t}\n};\n\nexport default TreeType;","import {create, preventEvent} from \"../webix/html\";\nimport {bind, extend} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\nimport {callEvent} from \"../webix/customevents\";\n\nimport env from \"../webix/env\";\nimport DataDriver from \"../load/drivers/index\";\n\n\nconst UploadDriver = {\n\t$render: function() {\n\t\tif (this._upload_area){\n\t\t\t//firstChild is webix_el_box container, which have relative position\n\t\t\t//as result, file control is placed under the button and not in the top corner\n\t\t\tthis._contentobj.firstChild.appendChild(this._upload_area);\n\t\t\treturn;\n\t\t}\n\t\tthis.files.attachEvent(\"onBeforeDelete\", this._stop_file);\n\n\t\tvar input_config =  {\n\t\t\t\"type\": \"file\",\n\t\t\t\"class\": \"webix_hidden_upload\",\n\t\t\ttabindex:-1\n\t\t};\n\n\t\tif (this._settings.accept)\n\t\t\tinput_config.accept = this._settings.accept;\n\n\t\tif (this._settings.multiple)\n\t\t\tinput_config.multiple = \"true\";\n\n\t\tif (this._settings.directory) {\n\t\t\tinput_config.webkitdirectory = \"true\";\n\t\t\tinput_config.mozdirectory = \"true\";\n\t\t\tinput_config.directory = \"true\";\n\t\t}\n\n\t\tvar f = create(\"input\", input_config);\n\t\tthis._upload_area = this._contentobj.firstChild.appendChild(f);\n\n\t\t_event(this._viewobj, \"drop\", bind(function(e) {\n\t\t\tthis.$drop(e);\n\t\t\tpreventEvent(e);\n\t\t}, this));\n\t\t_event(f, \"change\", bind(function() {\n\t\t\tthis._add_files(f.files);\n\n\t\t\tif (env.isIE) {\n\t\t\t\tvar t = document.createElement(\"form\");\n\t\t\t\tt.appendChild(this._upload_area);\n\t\t\t\tt.reset();\n\t\t\t\tthis._contentobj.firstChild.appendChild(f);\n\t\t\t} else\n\t\t\t\tf.value = \"\";\n\t\t}, this));\n\t\t_event(this._viewobj, \"click\", bind(function() {\n\t\t\tvar now_date = new Date();\n\t\t\tif (now_date - (this._upload_timer_click || 0) > 250) {\n\t\t\t\tthis.fileDialog();\n\t\t\t}\n\t\t}, this));\n\n\t\t_event(this._viewobj, \"dragenter\", preventEvent);\n\t\t_event(this._viewobj, \"dragexit\", preventEvent);\n\t\t_event(this._viewobj, \"dragover\", preventEvent);\n\t},\n\t_directoryEntry: function(value) {\n\t\treturn value.isDirectory;\n\t},\n\t_directoryDrop: function(item, state, path) {\n\t\tif (item.isFile){\n\t\t\titem.file(function(file){\n\t\t\t\tstate.addFile(file, null, null, { name : path+\"/\"+file.name });\n\t\t\t});\n\t\t} else if (item.isDirectory) {\n\t\t\t// Get folder contents\n\t\t\tvar dirReader = item.createReader();\n\t\t\tdirReader.readEntries(function(entries){\n\t\t\t\tfor (var i = 0; i < entries.length; i++){\n\t\t\t\t\tstate._directoryDrop(entries[i], state, (path ? (path + \"/\") : \"\") + item.name);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t// adding files by drag-n-drop\n\t$drop: function(e) {\n\t\tvar files = e.dataTransfer.files;\n\t\tvar items = e.dataTransfer.items;\n\n\t\t// non-file drop\n\t\tif (!files.length) return;\n\n\t\tif (this.callEvent(\"onBeforeFileDrop\", [files, e])) {\n\t\t\titems = items || files; //IE10+\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\t//https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item.webkitGetAsEntry){\n\t\t\t\t\titem = item.webkitGetAsEntry();\n\t\t\t\t\tif (item.isDirectory){\n\t\t\t\t\t\tthis._directoryDrop(item, this, \"\");\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.addFile(files[i]);\n\t\t\t}\n\t\t}\n\t\tthis.callEvent(\"onAfterFileDrop\", [files, e]);\n\t},\n\tfileDialog:function(context){\n\t\tthis._upload_timer_click = new Date();\n\t\tthis._last_file_context = context;\n\t\tvar inputs = this._viewobj.getElementsByTagName(\"INPUT\");\n\t\tinputs[inputs.length-1].click();\n\t},\n\tsend: function(id){\n\t\t//alternative syntx send(callback)\n\t\tif (typeof id == \"function\"){\n\t\t\tthis._last_assigned_upload_callback = id;\n\t\t\tid = 0;\n\t\t}\n\n\t\tif (!id){\n\t\t\tvar order = this.files.data.order;\n\t\t\tvar complete = true;\n\n\t\t\tif (order.length)\n\t\t\t\tfor (var i=0; i<order.length; i++)\n\t\t\t\t\tcomplete = (!this.send(order[i])) && complete;\n\n\t\t\tif (complete)\n\t\t\t\tthis._upload_complete();\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar item = this.files.getItem(id);\n\t\tif (item.status !== \"client\") return false;\n\n\t\tassert(this._settings.upload, \"You need to define upload url for uploader component\");\n\t\titem.status = \"transfer\";\n\n\t\tvar formData = new FormData();\n\n\t\tformData.append(this.config.inputName, item.file, item.name);\n\t\tformData.append(this.config.inputName+\"_fullpath\", item.name);\n\n\t\tvar headers = {};\n\t\tvar globalData = this._settings.formData || {};\n\t\tif (typeof globalData === \"function\")\n\t\t\tglobalData = globalData.call(this);\n\t\tvar details = extend(item.formData||{} , globalData);\n\n\t\tvar xhr = new XMLHttpRequest();\n\t\tvar url = this._get_active_url(item);\n\t\tif(callEvent(\"onBeforeAjax\",[\"POST\", url, details, xhr, headers, formData])){\n\t\t\tfor (let key in details)\n\t\t\t\tformData.append(key, details[key]);\n\n\t\t\titem.xhr = xhr;\n\n\t\t\txhr.upload.addEventListener(\"progress\", bind(function(e){ this.$updateProgress(id, e.loaded/e.total*100); }, this), false);\n\t\t\txhr.onload = bind(function(){ if (!xhr.aborted) this._file_complete(id); }, this);\n\t\t\txhr.open(\"POST\", url, true);\n\n\t\t\tfor (let key in headers)\n\t\t\t\txhr.setRequestHeader(key, headers[key]);\n\n\t\t\txhr.send(formData);\n\t\t}\n\n\t\tthis.$updateProgress(id, 0);\n\t\treturn true;\n\t},\n\n\t\n\t_file_complete: function(id) {\n\t\tvar item = this.files.getItem(id);\n\t\tif (item){\n\t\t\tvar response = null;\n\t\t\tif(item.xhr.status < 400){\n\t\t\t\tvar driver = DataDriver[this._settings.datatype||\"json\"];\n\t\t\t\tresponse = driver.toObject(item.xhr.responseText);\n\t\t\t\tif (response)\n\t\t\t\t\tresponse = driver.getDetails(response);\n\t\t\t}\n\t\t\tif (!response || response.status == \"error\"){\n\t\t\t\t// file upload error\n\t\t\t\titem.status = \"error\";\n\t\t\t\tdelete item.percent;\n\t\t\t\tthis.files.updateItem(id);\n\t\t\t\tthis.callEvent(\"onFileUploadError\", [item, response]);\n\t\t\t} else {\n\t\t\t\t// file upload complete\n\t\t\t\tassert(\n\t\t\t\t\t(!response.status || response.status == \"server\"),\n\t\t\t\t\t\"Not supported status value, use 'error' or 'server'\"\n\t\t\t\t);\n\t\t\t\tthis._complete(id, response);\n\t\t\t}\n\t\t\tdelete item.xhr;\n\t\t}\n\t},\n\tstopUpload: function(id){\n\t\tbind(this._stop_file,this.files)(id);\n\t},\n\t_stop_file: function(id) {\n\t\tvar item = this.getItem(id);\n\t\tif (typeof(item.xhr) !== \"undefined\"){\n\t\t\titem.xhr.aborted = true;\n\t\t\titem.xhr.abort();\n\t\t\tdelete item.xhr;\n\t\t\titem.status = \"client\";\n\t\t}\n\t}\n\n};\n\nexport default UploadDriver;","import {bind} from \"../webix/helpers\";\nimport ValidateData from \"./validatedata\";\nimport rules from \"../webix/rules\";\n\nconst ValidateCollection = {\n\t_validate_init_once:function(){\n\t\tthis.data.attachEvent(\"onStoreUpdated\",bind(function(id, data, mode){\n\t\t\tif (id && (mode == \"add\" || mode == \"update\"))\n\t\t\t\tthis.validate(id);\n\t\t}, this));\n\t\tthis.data.attachEvent(\"onClearAll\",bind(this.clearValidation, this));\n\n\t\tthis._validate_init_once = function(){};\n\t},\n\trules_setter:function(value){\n\t\tif (value){\n\t\t\tthis._validate_init_once();\n\t\t}\n\t\treturn value;\n\t},\n\tclearValidation:function(){\n\t\tthis.data.clearMark(\"webix_invalid\", true);\n\t},\n\tvalidate:function(id){\n\t\tvar result = true;\n\t\tif (!id)\n\t\t\tfor (var key in this.data.pull)\n\t\t\t\tresult = this.validate(key) && result;\n\t\telse {\n\t\t\tthis._validate_details = {};\n\t\t\tvar obj = this.getItem(id);\n\t\t\tresult = ValidateData.validate.call(this, null, obj);\n\t\t\tif (result){\n\t\t\t\tif (this.callEvent(\"onValidationSuccess\",[id, obj]))\n\t\t\t\t\tthis._clear_invalid(id);\n\t\t\t} else {\n\t\t\t\tif (this.callEvent(\"onValidationError\",[id, obj, this._validate_details]))\n\t\t\t\t\tthis._mark_invalid(id, this._validate_details);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\t_validate:function(rule, data, obj, key){\n\t\tif (typeof rule == \"string\")\n\t\t\trule = rules[rule];\n\n\t\tvar res = rule.call(this, data, obj, key);\n\t\tif (!res){\n\t\t\tthis._validate_details[key] = true;\n\t\t}\n\t\treturn res;\n\t},\n\t_clear_invalid:function(id){\n\t\tthis.data.removeMark(id, \"webix_invalid\", true);\n\t},\n\t_mark_invalid:function(id){\n\t\tthis.data.addMark(id, \"webix_invalid\", true);\n\t}\n};\n\nexport default ValidateCollection;","import {addCss, removeCss} from \"../webix/html\";\nimport {isUndefined, copy} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\n\nimport CodeParser from \"../core/codeparser\";\n\n\n// #include core/parsing.js\n\nconst Values = {\n\t$init:function(){\n\t\tthis.elements = {};\n\t},\n\tfocus:function(name){\n\t\tif (name){\n\t\t\tassert(this.elements[name],\"unknown input name: \"+name);\n\t\t\tthis._focus(this.elements[name]);\n\t\t} else{\n\t\t\tfor(var n in this.elements){\n\t\t\t\tif(this._focus(this.elements[n]) !== false)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t_focus: function(target){\n\t\tif (target && target.focus){\n\t\t\treturn target.focus();\n\t\t}\n\t\treturn false;\n\t},\n\tsetValues:function(data, update){\n\t\tif (this._settings.complexData)\n\t\t\tdata = CodeParser.collapseNames(data, \"\", {}, (v) => !this.elements[v]);\n\t\tthis._inner_setValues(data, update);\n\t},\n\t_inner_setValues:function(data, update){\n\t\tthis._is_form_dirty = update;\n\t\t//prevent onChange calls from separate controls\n\t\tthis.blockEvent();\n\n\t\tif (!update || !this._values)\n\t\t\tthis._values = {};\n\n\t\tfor (let name in data)\n\t\t\tif (!this.elements[name])\n\t\t\t\tthis._values[name] = data[name];\n\n\t\tfor (let name in this.elements){\n\t\t\tvar input = this.elements[name];\n\t\t\tif (input){\n\t\t\t\tif (!isUndefined(data[name]))\n\t\t\t\t\tinput.setValue(data[name]);\n\t\t\t\telse if (!update && input.$allowsClear)\n\t\t\t\t\tinput.setValue(\"\");\n\t\t\t\tthis._values[name] = input.getValue();\n\t\t\t}\n\t\t}\n\n\t\tthis.unblockEvent();\n\t\tthis.callEvent(\"onValues\",[]);\n\t},\n\tisDirty:function(){\n\t\tif (this._is_form_dirty) return true;\n\t\tif (this.getDirtyValues(1) === 1)\n\t\t\treturn true;\n\n\t\treturn false;\n\t},\n\tsetDirty:function(flag){\n\t\tthis._is_form_dirty = flag;\n\t\tif (!flag)\n\t\t\tthis._values = this._inner_getValues();\n\t},\n\tgetDirtyValues:function(){\n\t\tvar result = {};\n\t\tif (this._values){\n\t\t\tfor (var name in this.elements){\n\t\t\t\tvar value = this.elements[name].getValue();\n\t\t\t\tif (this._values[name] != value){\n\t\t\t\t\tresult[name] = value;\n\t\t\t\t\t//FIXME - used by isDirty\n\t\t\t\t\tif (arguments[0])\n\t\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\tgetCleanValues:function(){\n\t\treturn this._values;\n\t},\n\tgetValues:function(filter){\n\t\tvar data = this._inner_getValues(filter);\n\t\tif (this._settings.complexData)\n\t\t\tdata = CodeParser.expandNames(data);\n\n\t\treturn data;\n\t},\n\t_inner_getValues:function(filter){\n\t\t//get original data\t\t\n\t\tvar success,\n\t\t\telem = null,\n\t\t\tdata = (this._values?copy(this._values):{});\n\n\t\t//update properties from linked controls\n\t\tfor (var name in this.elements){\n\t\t\telem = this.elements[name];\n\t\t\tsuccess = true;\n\t\t\tif(filter){\n\t\t\t\tif(typeof filter == \"object\"){\n\t\t\t\t\tif(filter.hidden === false)\n\t\t\t\t\t\tsuccess = elem.isVisible();\n\t\t\t\t\tif(success && filter.disabled === false)\n\t\t\t\t\t\tsuccess = elem.isEnabled();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tsuccess = filter.call(this,elem);\n\t\t\t}\n\t\t\tif(success)\n\t\t\t\tdata[name] = elem.getValue();\n\t\t\telse\n\t\t\t\tdelete data[name]; //in case of this._values[name]\n\t\t}\n\t\treturn data;\n\t},\n\tclear:function(){\n\t\tthis._is_form_dirty = false;\n\t\tvar data = {};\n\t\tfor (var name in this.elements)\n\t\t\tif (this.elements[name].$allowsClear)\n\t\t\t\tdata[name] = \"\";\n\t\t\n\t\tthis._inner_setValues(data);\n\t},\n\tmarkInvalid: function(name, state){\n\t\t// remove 'invalid' mark\n\t\tif(state === false){\n\t\t\tthis._clear_invalid(name);\n\t\t}\n\t\t// add 'invalid' mark\n\t\telse{\n\t\t\t// set invalidMessage\n\t\t\tif(typeof state == \"string\"){\n\t\t\t\tvar input = this.elements[name];\n\t\t\t\tif(input)\n\t\t\t\t\tinput._settings.invalidMessage = state;\n\t\t\t}\n\t\t\t//add mark to current validation process\n\t\t\tif (this._validate_details)\n\t\t\t\tthis._validate_details[name] = true;\n\n\t\t\tthis._mark_invalid(name);\n\t\t}\n\t},\n\t_mark_invalid:function(id){\n\t\tvar input = this.elements[id];\n\t\tif (id && input){\n\t\t\tthis._clear_invalid(id,true);\n\t\t\taddCss(input._viewobj, \"webix_invalid\");\n\t\t\tinput._settings.invalid = true;\n\t\t\tvar message = input._settings.invalidMessage;\n\t\t\tif(typeof message === \"string\" && input.setBottomText)\n\t\t\t\tinput.setBottomText();\n\t\t}\n\t},\n\t_clear_invalid:function(id,silent){\n\t\tvar input = this.elements[id];\n\t\tif(id && input && input.$view && input._settings.invalid){\n\t\t\tremoveCss(input._viewobj, \"webix_invalid\");\n\t\t\tinput._settings.invalid = false;\n\t\t\tvar message = input._settings.invalidMessage;\n\t\t\tif(typeof message === \"string\" && !silent && input.setBottomText)\n\t\t\t\tinput.setBottomText();\n\t\t}\n\t}\n};\n\n\nexport default Values;","import {insertBefore, remove} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport {bind} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\n\n\n/*\n\tRenders collection of items\n\tAlways shows y-scroll\n\tCan be used with huge datasets\n\t\n\t@export\n\t\tshow\n\t\trender\n*/\n\nconst VirtualRenderStack ={\n\t$init:function(){\n\t\tassert(this.render,\"VirtualRenderStack :: Object must use RenderStack first\");\n\n\t\tthis._htmlmap={}; //init map of rendered elements\n\n\t\t//we need to repaint area each time when view resized or scrolling state is changed\n\t\t_event(this._viewobj,\"scroll\",bind(this._render_visible_rows,this));\n\n\t\t//here we store IDs of elemenst which doesn't loadede yet, but need to be rendered\n\t\tthis._unrendered_area=[];\n\t},\n\t//return html object by item's ID. Can return null for not-rendering element\n\tgetItemNode:function(search_id){\n\t\t//collection was filled in _render_visible_rows\n\t\treturn this._htmlmap[search_id];\n\t},\n\t//adjust scrolls to make item visible\n\tshowItem:function(id){\n\t\tvar range = this._getVisibleRange();\n\t\tvar ind = this.data.getIndexById(id);\n\t\t//we can't use DOM method for not-rendered-yet items, so fallback to pure math\n\t\tvar dy = Math.floor(ind/range._dx)*range._y;\n\t\tvar state = this.getScrollState();\n\t\tif (dy<state.y || dy + this._settings.height >= state.y + this._content_height)\n\t\t\tthis.scrollTo(0, dy);\n\t},\n\t//repain self after changes in DOM\n\t//for add, delete, move operations - render is delayed, to minify performance impact\n\trender:function(id,data,type){\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\n\t\t\treturn;\n\t\t\n\t\tif (id){\n\t\t\tvar cont = this.getItemNode(id);\t//old html element\n\t\t\tswitch(type){\n\t\t\t\tcase \"update\":\n\t\t\t\t\tif (!cont) return;\n\t\t\t\t\t//replace old with new\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\n\t\t\t\t\tinsertBefore(t, cont); \n\t\t\t\t\tremove(cont);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: // \"move\", \"add\", \"delete\"\n\t\t\t\t\t/*\n\t\t\t\t\t\tfor all above operations, full repainting is necessary\n\t\t\t\t\t\tbut from practical point of view, we need only one repainting per thread\n\t\t\t\t\t\tcode below initiates double-thread-rendering trick\n\t\t\t\t\t*/\n\t\t\t\t\tthis._render_delayed();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\t//full repainting\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\t\tthis._htmlmap = {}; \t\t\t\t\t//nulify links to already rendered elements\n\t\t\t\tthis._render_visible_rows(null, true);\t\n\t\t\t\t// clear delayed-rendering, because we already have repaint view\n\t\t\t\tthis._wait_for_render = false;\t\t\t\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\t\t\t}\n\t\t}\n\t},\n\t//implement double-thread-rendering pattern\n\t_render_delayed:function(){\n\t\t//this flag can be reset from outside, to prevent actual rendering \n\t\tif (this._wait_for_render) return;\n\t\tthis._wait_for_render = true;\t\n\t\t\n\t\twindow.setTimeout(bind(function(){\n\t\t\tthis.render();\n\t\t},this),1);\n\t},\n\t//create empty placeholders, which will take space before rendering\n\t_create_placeholder:function(height){\n\t\tif(env.maxHTMLElementSize)\n\t\t\theight = Math.min(env.maxHTMLElementSize, height);\n\t\tvar node = document.createElement(\"DIV\");\n\t\tnode.style.cssText = \"height:\"+height+\"px; width:100%; overflow:hidden;\";\n\t\treturn node;\n\t},\n\t/*\n\t\tMethods get coordinatest of visible area and checks that all related items are rendered\n\t\tIf, during rendering, some not-loaded items was detected - extra data loading is initiated.\n\t\treset - flag, which forces clearing of previously rendered elements\n\t*/\n\t_render_visible_rows:function(e,reset){\n\t\tthis._unrendered_area=[]; //clear results of previous calls\n\t\t\n\t\tvar viewport = this._getVisibleRange();\t//details of visible view\n\n\t\tif (!this._dataobj.firstChild || reset){\t//create initial placeholder - for all view space\n\t\t\tthis._dataobj.innerHTML=\"\";\n\t\t\tthis._dataobj.appendChild(this._create_placeholder(viewport._max));\n\t\t\t//register placeholder in collection\n\t\t\tthis._htmlrows = [this._dataobj.firstChild];\n\t\t}\n\t\t\n\t\t/*\n\t\t\tvirtual rendering breaks all view on rows, because we know widht of item\n\t\t\twe can calculate how much items can be placed on single row, and knowledge \n\t\t\tof that, allows to calculate count of such rows\n\t\t\t\n\t\t\teach time after scrolling, code iterate through visible rows and render items \n\t\t\tin them, if they are not rendered yet\n\t\t\t\n\t\t\tboth rendered rows and placeholders are registered in _htmlrows collection\n\t\t*/\n\n\t\t//position of first visible row\n\t\tvar t = viewport._from;\n\t\t\t\n\t\twhile(t<=viewport._height){\t//loop for all visible rows\n\t\t\t//skip already rendered rows\n\t\t\twhile(this._htmlrows[t] && this._htmlrows[t]._filled && t<=viewport._height){\n\t\t\t\tt++; \n\t\t\t}\n\t\t\t//go out if all is rendered\n\t\t\tif (t>viewport._height) break;\n\t\t\t\n\t\t\t//locate nearest placeholder\n\t\t\tvar holder = t;\n\t\t\twhile (!this._htmlrows[holder]) holder--;\n\t\t\tvar holder_row = this._htmlrows[holder];\n\t\t\t\n\t\t\t//render elements in the row\t\t\t\n\t\t\tvar base = t*viewport._dx+(this.data.$min||0);\t//index of rendered item\n\t\t\tif (base > (this.data.$max||Infinity)) break;\t//check that row is in virtual bounds, defined by paging\n\t\t\tvar nextpoint =  Math.min(base+viewport._dx-1,(this.data.$max?this.data.$max-1:Infinity));\n\t\t\tvar node = this._create_placeholder(viewport._y);\n\t\t\t//all items in rendered row\n\t\t\tvar range = this.data.getIndexRange(base, nextpoint);\n\t\t\tif (!range.length) break; \n\t\t\t\n\t\t\tvar loading = { $template:\"Loading\" };\n\t\t\tfor (let i=0; i<range.length; i++){\n\t\t\t\tif (!range[i])\n\t\t\t\t\tthis._unrendered_area.push(base+i);\n\t\t\t\trange[i] = this._toHTML(range[i]||loading);\n\t\t\t}\n\n\t\t\tnode.innerHTML=range.join(\"\"); \t//actual rendering\n\t\t\tfor (let i=0; i < range.length; i++)\t\t\t\t\t//register all new elements for later usage in getItemNode\n\t\t\t\tthis._htmlmap[this.data.getIdByIndex(base+i)]=node.childNodes[i];\n\t\t\t\n\t\t\t//correct placeholders\n\t\t\tvar h = parseFloat(holder_row.style.height,10);\n\t\t\tvar delta = (t-holder)*viewport._y;\n\t\t\tvar delta2 = (h-delta-viewport._y);\n\t\t\t\n\t\t\t//add new row to the DOOM\n\t\t\tinsertBefore(node,delta?holder_row.nextSibling:holder_row,this._dataobj);\n\t\t\tthis._htmlrows[t]=node;\n\t\t\tnode._filled = true;\n\t\t\t\n\t\t\t/*\n\t\t\t\tif new row is at start of placeholder - decrease placeholder's height\n\t\t\t\telse if new row takes whole placeholder - remove placeholder from DOM\n\t\t\t\telse \n\t\t\t\t\twe are inserting row in the middle of existing placeholder\n\t\t\t\t\tdecrease height of existing one, and add one more, \n\t\t\t\t\tbefore the newly added row\n\t\t\t*/\n\t\t\tif (delta <= 0 && delta2>0){\n\t\t\t\tholder_row.style.height = delta2+\"px\";\n\t\t\t\tthis._htmlrows[t+1] = holder_row;\n\t\t\t} else {\n\t\t\t\tif (delta<0)\n\t\t\t\t\tremove(holder_row);\n\t\t\t\telse\n\t\t\t\t\tholder_row.style.height = delta+\"px\";\n\t\t\t\tif (delta2>0){ \n\t\t\t\t\tvar new_space = this._htmlrows[t+1] = this._create_placeholder(delta2);\n\t\t\t\t\tinsertBefore(new_space,node.nextSibling,this._dataobj);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tt++;\n\t\t}\n\t\t\n\t\t//when all done, check for non-loaded items\n\t\tif (this._unrendered_area.length){\n\t\t\t//we have some data to load\n\t\t\t//detect borders\n\t\t\tvar from = this._unrendered_area[0];\n\t\t\tvar to = this._unrendered_area.pop()+1;\n\t\t\tif (to>from){\n\t\t\t\t//initiate data loading\n\t\t\t\tvar count = to - from;\n\t\t\t\tif (this._maybe_loading_already(count, from)) return;\n\n\t\t\t\tcount = Math.max(count, (this._settings.datafetch||this._settings.loadahead||0));\n\t\t\t\tthis.loadNext(count, from);\n\t\t\t}\n\t\t}\n\t},\n\t//calculates visible view\n\t_getVisibleRange:function(){\n\t\tvar state = this.getScrollState();\n\t\tvar top = Math.max(0, state.y);\n\t\tvar width = this._content_width; \n\t\tvar height = this._content_height;\n\n\t\t//size of single item\n\t\tvar t = this.type;\n\n\t\tvar dx = Math.floor(width/t.width)||1; //at least single item per row\n\t\t\n\t\tvar min = Math.floor(top/t.height);\t\t\t\t//index of first visible row\n\t\tvar dy = Math.ceil((height+top)/t.height)-1;\t\t//index of last visible row\n\t\t//total count of items, paging can affect this math\n\t\tvar count = this.data.$max?(this.data.$max-this.data.$min):this.data.count();\n\t\tvar max = Math.ceil(count/dx)*t.height;\t\t\t//size of view in rows\n\n\t\treturn { _from:min, _height:dy, _top:top, _max:max, _y:t.height, _dx:dx};\n\t},\n\t_cellPosition:function(id){\n\t\tvar html = this.getItemNode(id);\n\t\tif (!html){\n\t\t\tthis.showItem(id);\n\t\t\tthis._render_visible_rows();\n\t\t\thtml = this.getItemNode(id);\n\t\t}\n\t\treturn {\n\t\t\tleft:html.offsetLeft, \n\t\t\ttop:html.offsetTop,\n\t\t\theight:html.offsetHeight,\n\t\t\twidth:html.offsetWidth,\n\t\t\tparent:this._contentobj\n\t\t};\n\t}\n};\n\nexport default VirtualRenderStack;","import {offset, insertBefore, remove} from \"../webix/html\";\nimport {bind} from \"../webix/helpers\";\nimport base from \"../views/view\";\nimport {_event} from \"../webix/htmlevents\";\nimport Touch from \"../core/touch\";\n\n/*\n\tRenders collection of items on demand\n*/\nconst VRenderStack = {\n\t$init:function(){\n\t\tthis._htmlmap = {};\n\n\t\t_event(this._viewobj, \"scroll\", bind(function(){\n\t\t\tthis.render(null, null, \"paint\");\n\t\t}, this));\n\t},\n\t_sync_scroll:function(x,y,t){\n\n\t\tif (this._settings.footer)\n\t\t\tTouch._set_matrix(this._footer.childNodes[1].firstChild,x,0,t);\n\n\t\tthis.callEvent(\"onSyncScroll\", [x,y,t]);\n\t},\n\t//return html container by its ID\n\t//can return undefined if container doesn't exists\n\tgetItemNode:function(search_id){\n\t\treturn this._htmlmap && this._htmlmap[search_id];\n\t},\n\t/*change scrolling state of top level container, so related item will be in visible part*/\n\tshowItem:function(id){\n\t\tvar index = this.data.getIndexById(id);\n\t\tif (index > -1){\n\t\t\tvar top = index*this.type.height;\n\t\t\tvar bottom = top + this.type.height;\n\t\t\tvar scroll = this.getScrollState();\n\t\t\tvar box = offset(this.$view);\n\t\t\tif (top < scroll.y)\n\t\t\t\tthis.scrollTo(0, top);\n\t\t\telse if (bottom > scroll.y+box.height)\n\t\t\t\tthis.scrollTo(0, bottom-box.height);\n\t\t}\n\t},\n\t//update view after data update\n\t//when called without parameters - all view refreshed\n\trender:function(id,data,type){\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\n\t\t\treturn;\n\t\t\n\t\tvar parent = (this._renderobj||this._dataobj);\n\n\t\tif (id){\n\t\t\tif (type == \"paint\" || type == \"update\"){\n\t\t\t\tvar cont = this.getItemNode(id); //get html element of updated item\n\t\t\t\tif (cont){\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\n\t\t\t\t\tt.style.top = cont.style.top;\n\t\t\t\t\tt.style.position = \"absolute\";\n\t\t\t\t\tt.style.left = 0; t.style.width = \"100%\";\n\n\t\t\t\t\tinsertBefore(t, cont); \n\t\t\t\t\tremove(cont);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//updating not rendered yet item\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (type != \"paint\"){\n\t\t\t//repaint all\n\t\t\tthis._htmlmap = {};\n\t\t\tparent.innerHTML = \"\";\n\t\t}\n\n\t\t//full reset\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\n\t\t\tvar count = this.data.count();\n\t\t\tvar scroll = this.getScrollState();\n\t\t\tvar box = offset(this._viewobj);\n\n\t\t\tvar top = Math.floor(scroll.y / this.type.height)-2;\n\t\t\tvar bottom = Math.ceil((scroll.y + box.height)/ this.type.height)+2;\n\n\t\t\ttop = Math.max(0, top);\n\t\t\tbottom = Math.min(this.data.count()-1, bottom);\n\n\t\t\tvar html = [];\n\t\t\tfor (let i=top; i<=bottom; i++){\n\t\t\t\tvar sid = this.data.order[i];\n\t\t\t\tif (!this._htmlmap[sid]){\n\t\t\t\t\tvar item = this.data.getItem(sid);\n\t\t\t\t\tif (!item){\n\t\t\t\t\t\tthis._run_load_next({ \n\t\t\t\t\t\t\tcount:bottom-i+(this._settings.loadahead || 0),\n\t\t\t\t\t\t\tstart:i \n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\thtml.push(this._toHTML(item));\n\t\t\t\t} else {\n\t\t\t\t\thtml.push(\"<div></div>\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._html.innerHTML = html.join(\"\");\n\n\t\t\tparent.style.position = \"relative\";\n\t\t\tparent.style.height = count*this.type.height+\"px\";\n\n\t\t\tvar kids = this._html.childNodes;\n\t\t\tfor (let i=kids.length-1; i>=0; i--){\n\t\t\t\tvar child = kids[i];\n\t\t\t\tvar cid = child.getAttribute(this._id);\n\n\t\t\t\tif (cid){\n\t\t\t\t\tchild.style.position = \"absolute\";\n\t\t\t\t\tchild.style.top = (top+i)*this.type.height+\"px\";\n\t\t\t\t\tchild.style.left = 0; child.style.width = \"100%\";\n\n\t\t\t\t\tparent.appendChild(child);\n\t\t\t\t\tthis._htmlmap[cid] = child;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.callEvent(\"onAfterRender\",[]);\n\t\t}\n\t},\n\t$setSize:function(){\n\t\tif (base.api.$setSize.apply(this, arguments)){\n\t\t\tthis.render(null, null, \"paint\");\n\t\t}\n\t},\n\t_run_load_next:function(conf){\n\t\tvar count = Math.max(conf.count, (this._settings.datafetch||this._settings.loadahead||0));\n\t\tif (this._maybe_loading_already(conf.count, conf.start)) return;\n\t\tthis.loadNext(count, conf.start);\n\t}\n};\n\nexport default VRenderStack;","export const version=\"VERSION\";\nexport const name = \"core\";","import {$active} from \"../../webix/skin\";\nimport {extend, isUndefined} from \"../../webix/helpers\";\n\nexport const errorMessage = \"non-existing view for export\";\n\nfunction getDataHelper(key, column, raw){\n\tif (!raw && column.format)\n\t\treturn function(obj){ return column.format(obj[key]); };\n\n\treturn function(obj){ return obj[key]; };\n}\n\nfunction getHeaderText(view, header){\n\tlet text = header.text;\n\tif (header.contentId){\n\t\tconst content = view.getHeaderContent(header.contentId);\n\t\tif (content && !content.type.$icon)\n\t\t\ttext = content.getValue(true);\n\t}\n\treturn (text||\"\").toString().replace( /<[^>]*>/gi, \"\");\n}\n\nexport function getStyles(r, c, styles){\n\t//row index, column index, styles array\n\tif(styles[r] && styles[r][c])\n\t\treturn styles[r][c];\n\treturn \"\";\n}\n\nexport function getExportScheme(view, options){\n\tvar scheme = [];\n\tvar h_count = 0, f_count = 0;\n\tvar isTable = view.getColumnConfig;\n\tvar columns = options.columns;\n\tvar raw = !!options.rawValues;\n\tvar isTree = view.data.name == \"TreeStore\";\n\n\tvar treeLines = options.treeLines;\n\tif(treeLines === true || isUndefined(treeLines))\n\t\ttreeLines = \"value\";\n\n\tscheme.heights = {};\n\n\tif (!columns){\n\t\tif (isTable)\n\t\t\tcolumns = [].concat(view._columns);\n\t\telse {\n\t\t\tcolumns = [];\n\t\t\tvar obj = view.data.pull[view.data.order[0]];\n\t\t\tfor (let key in obj)\n\t\t\t\tif(key !== \"id\" && key[0] != \"$\")\n\t\t\t\t\tcolumns.push({id:key, isTree: isTree && key === treeLines});\n\t\t}\n\t}\n\telse if(!columns.length){\n\t//export options are set as - columns:{ rank:true, title:{ header:\"custom\"}}\n\t\tvar arr = [];\n\t\tfor(let key in columns)\n\t\t\tarr.push(extend({ id:key}, extend({}, columns[key])));\n\t\tcolumns = arr;\n\t}\n\n\tif (options.ignore)\n\t\tfor (let i=columns.length-1; i>=0; i--)\n\t\t\tif (options.ignore[columns[i].id])\n\t\t\t\tcolumns.splice(i,1);\n\n\tif (options.id)\n\t\tscheme.push({ id:\"id\", width:50, header:\" \", template:function(obj){ return obj.id; }});\n\n\tif (options.flatTree){\n\t\tvar flatKey = options.flatTree.id;\n\t\tvar copy = [].concat(options.flatTree.columns);\n\t\tvar fill = [];\n\t\tvar fillMode = !!options.flatTree.fill;\n\t\tfor (let i = 1; i <= copy.length; i++)\n\t\t\tcopy[i-1].template = (function(i){ \n\t\t\t\treturn function(obj){ \n\t\t\t\t\treturn obj.$level == i ? (fill[i]=obj[flatKey]) : ((fillMode && i<obj.$level)?fill[i]:\"\"); \n\t\t\t\t};\n\t\t\t})(i);\n\n\t\tvar index = 0;\n\t\tfor (let i = columns.length-1; i >= 0; i--)\n\t\t\tif (columns[i].id === flatKey)\n\t\t\t\tindex = i;\n\n\t\tcolumns = [].concat(columns.slice(0,index)).concat(copy).concat(columns.slice(index+1));\n\t}\n\n\tvar treeColumn;\n\n\tfor (let j = 0; j < columns.length; j++) {\n\t\tlet column = columns[j];\n\t\tlet key = column.id;\n\n\t\tif (column.noExport) continue;\n\n\t\t// raw mode has sense only for datatable\n\t\t// in other cases we don't have built-in data templates\n\t\tvar rawColumn = raw && isTable;\n\t\tif (isTable){\n\t\t\tlet sourceColumn = view._columns_pull[key];\n\t\t\t// when these's no column to take raw data from, or custom template defined - ignore raw mode\n\t\t\tif (column.template && (!sourceColumn || sourceColumn.template != column.template))\n\t\t\t\trawColumn = false;\n\t\t\tif(sourceColumn)\n\t\t\t\tcolumn = extend(extend({}, column), sourceColumn);\n\t\t}\n\n\t\tlet record = {\n\t\t\tid:         column.id,\n\t\t\ttemplate:   (( rawColumn || !column.template) ? getDataHelper(key, column, raw)  : column.template ),\n\t\t\twidth:      ((column.width   || 200) * (options.export_mode===\"excel\"?8.43/70:1 )),\n\t\t\theader:     (column.header!==false?(column.header||key)  : \"\")\n\t\t};\n\n\t\tif(isTree && key === treeLines)\n\t\t\trecord.isTree = treeColumn = true;\n\n\t\tif(options.export_mode === \"excel\"){\n\t\t\textend(record, {\n\t\t\t\ttype: column.exportType || \"\",\n\t\t\t\tformat:column.exportFormat || \"\"\n\t\t\t});\n\t\t}\n\n\t\tif(typeof record.header === \"string\") record.header = [{text:record.header}];\n\t\telse record.header = [].concat(record.header);\n\n\t\tfor(let i = 0; i<record.header.length; i++)\n\t\t\trecord.header[i] = record.header[i] ? getHeaderText(view, record.header[i]) : \"\";\n\n\t\th_count = Math.max(h_count, record.header.length);\n\n\t\tif(view.config.footer){\n\t\t\tlet footer = column.footer || \"\";\n\t\t\tif(typeof footer == \"string\") footer = [{text:footer}];\n\t\t\telse footer = [].concat(footer);\n\n\t\t\tfor(let i = 0; i<footer.length; i++)\n\t\t\t\tfooter[i] = footer[i] ? getHeaderText(view, footer[i]) : \"\";\n\n\t\t\trecord.footer = footer;\n\t\t\tf_count = Math.max(f_count, record.footer.length);\n\t\t}\n\t\tscheme.push(record);\n\t}\n\n\n\tif(!treeColumn && isTree && options.treeLines != treeLines && scheme[0])\n\t\tscheme[0].isTree = true;\n\n\tfor(let i =0; i<scheme.length; i++){\n\n\t\tvar diff = h_count-scheme[i].header.length;\n\t\tfor(let d=0; d<diff; d++)\n\t\t\tscheme[i].header.push(\"\");\n\n\t\tif(view.config.footer){\n\t\t\tdiff = f_count-scheme[i].footer.length;\n\t\t\tfor(let d=0; d<diff; d++)\n\t\t\t\tscheme[i].footer.push(\"\");\n\t\t}\n\t}\n\n\treturn scheme;\n}\n\n\nexport function getExportData(view, options, scheme){\n\tvar filterHTML = !!options.filterHTML;\n\tvar htmlFilter = /<[^>]*>/gi;\n\tvar data = [];\n\tvar header, headers;\n\tvar mode = options.export_mode;\n\n\tif((mode === \"excel\" || mode == \"csv\") && options.docHeader){\n\t\tdata = [[(options.docHeader.text || options.docHeader).toString()], [\"\"]];\n\t\tif(mode === \"excel\" && options.docHeader.height)\n\t\t\tscheme.heights[0] = options.docHeader.height;\n\t}\n\n\tif( options.header !== false && scheme.length){\n\t\tfor(let h=0; h < scheme[0].header.length; h++){\n\t\t\theaders = [];\n\t\t\tfor (let i = 0; i < scheme.length; i++){ \n\t\t\t\theader = \"\";\n\t\t\t\tif(scheme[i].header[h]){\n\t\t\t\t\theader = scheme[i].header[h];\n\t\t\t\t\tif (filterHTML)\n\t\t\t\t\t\theader = scheme[i].header[h] = header.replace(htmlFilter, \"\");\n\t\t\t\t}\n\t\t\t\theaders.push(header);\n\t\t\t}\n\n\t\t\tif(mode ==\"excel\" && view._columns && options.heights !==false &&\n\t\t\t(view._headers[h] !== $active.barHeight || options.heights == \"all\")\n\t\t\t) scheme.heights[data.length] = view._headers[h];\n\n\t\t\tif (mode !== \"pdf\")\n\t\t\t\tdata[data.length] = headers;\n\t\t}\n\t}\n\toptions.yCorrection = (options.yCorrection||0)-data.length;\n\n\tvar treeline = (options.flatTree || options.plainOutput) ? \"\" : \"-\";\n\n\tview.data.each(function(item){\n\t\tif(!options.filter || options.filter(item)){\n\t\t\tif(this.data._scheme_export){\n\t\t\t\titem = view.data._scheme_export(item);\n\t\t\t}\n\n\t\t\tlet line = [];\n\t\t\tfor (let i = 0; i < scheme.length; i++){\n\t\t\t\tlet column = scheme[i], cell = null;\n\t\t\t\t//spreadsheet can output math\n\t\t\t\tif(options.math && item[\"$\"+column.id] && item[\"$\"+column.id].charAt(0) ==\"=\" && !item[\"$\"+column.id].match(/^=(image|link|sparkline)\\(/i))\n\t\t\t\t\tcell = item[\"$\"+column.id];\n\t\t\t\tif(this._spans_pull){\n\t\t\t\t\tlet span = this.getSpan(item.id, column.id);\n\t\t\t\t\tif(span && span[4] && span[0] == item.id && span[1] == column.id){\n\t\t\t\t\t\tcell = span[4];\n\t\t\t\t\t\tif(filterHTML && typeof cell === \"string\")\n\t\t\t\t\t\t\tcell = cell.replace(htmlFilter, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!cell){\n\t\t\t\t\tcell = column.template(item, view.type, item[column.id], column, i);\n\t\t\t\t\tif (!cell && cell !== 0) cell = \"\";\n\t\t\t\t\tif(column.isTree && treeline)\n\t\t\t\t\t\tcell = \" \"+Array(item.$level).join(treeline)+\" \"+cell;\n\t\t\t\t\tif (filterHTML && typeof cell === \"string\"){\n\t\t\t\t\t\tcell = cell.replace(htmlFilter, \"\");\n\t\t\t\t\t}\n\t\t\t\t\t//remove end/start spaces(ex.hierarchy data)\n\t\t\t\t\tif (typeof cell === \"string\" && mode === \"csv\")\n\t\t\t\t\t\tcell = cell.trim();\n\t\t\t\t\t//for multiline data\n\t\t\t\t\tif (typeof cell === \"string\" && (mode === \"excel\" || mode === \"csv\")){\n\t\t\t\t\t\tcell = cell.replace(/<br\\s*\\/?>/mg,\"\\n\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tline.push(cell);\n\t\t\t}\n\n\t\t\tif(mode ==\"excel\" && view._columns &&  options.heights !==false &&\n\t\t\t((item.$height && item.$height !== $active.rowHeight) || options.heights ==\"all\")\n\t\t\t) scheme.heights[data.length] = item.$height || this.config.rowHeight;\n\n\t\t\tdata.push(line);\n\t\t}\n\t}, view);\n\n\tif( options.footer !==false ){\n\t\tlet f_count = scheme[0].footer?scheme[0].footer.length:0;\n\t\tfor (let f = 0; f < f_count; f++){\n\t\t\tlet footers  = [];\n\t\t\tfor(let i = 0; i<scheme.length; i++){\n\t\t\t\tlet footer = scheme[i].footer[f];\n\t\t\t\tif (filterHTML) footer = scheme[i].footer[f] = footer.toString().replace(htmlFilter, \"\");\n\t\t\t\tfooters.push(footer);\n\t\t\t}\n\n\t\t\tif(mode ==\"excel\" && view._columns && options.heights !==false &&\n\t\t\t(view._footers[f] !== $active.barHeight || options.heights==\"all\")\n\t\t\t) scheme.heights[data.length] = view._footers[f];\n\n\t\t\tif(mode !== \"pdf\")\n\t\t\t\tdata.push(footers);\n\t\t}\n\t}\n\n\tif(mode ===\"excel\" && options.docFooter){\n\t\tdata = data.concat([[], [(options.docFooter.text || options.docFooter).toString()]]);\n\t\tif(options.docFooter.height)\n\t\t\tscheme.heights[data.length-1] = options.docFooter.height;\n\t}\n\n\treturn data;\n}","import {errorMessage} from \"./common\";\n\nimport promise from \"../../thirdparty/promiz\";\nimport require from \"../../load/require\";\nimport env from \"../../webix/env\";\n\nimport {assert} from \"../../webix/debug\";\nimport {toNode} from \"../../webix/helpers\";\nimport {download} from \"../../webix/html\";\nimport {$$} from \"../../ui/core\";\n\nexport const toPNG = function(id, options){\n\tvar defer = promise.defer();\n\n\treturn require(env.cdn + \"/extras/html2canvas-1.0.min.js\").then(function(){\n\t\t//backward compatibility\n\t\tif (typeof options === \"string\") options = { filename: options };\n\t\toptions = options || {};\n\n\t\tvar view = $$(id);\n\t\tif (view && view.$exportView)\n\t\t\tview = view.$exportView(options);\n\t\tassert(view, errorMessage);\n\t\tif(!view) return defer.reject(errorMessage);\n\n\t\tvar node = view ? view.$view : toNode(id);\n\t\tvar filename = (options.filename||\"Data\")+\".png\";\n\n\t\twindow.html2canvas(node, {background:\"#fff\", logging:false, useCORS:true}).then(function(canvas) {\n\t\t\tvar callback = function(data){\n\t\t\t\tif(options.download !== false)\n\t\t\t\t\tdownload(data, filename);\n\t\t\t\tcanvas.remove();\n\t\t\t\tdefer.resolve(data);\n\t\t\t};\n\t\t\tif(canvas.msToBlob)\n\t\t\t\tcallback(canvas.msToBlob());\n\t\t\telse\n\t\t\t\tcanvas.toBlob(callback, \"image/png\");\n\t\t});\n\t\treturn defer;\n\t});\n};","import {errorMessage, getExportScheme, getExportData} from \"./common\";\n\nimport csv from \"../../webix/csv\";\nimport promise from \"../../thirdparty/promiz\";\n\nimport {download} from \"../../webix/html\";\nimport {$$} from \"../../ui/core\";\nimport {assert} from \"../../webix/debug\";\n\nexport const toCSV = function(id, options){\n\toptions = options || {};\n\n\tvar view = $$(id);\n\tif (view && view.$exportView)\n\t\tview = view.$exportView(options);\n\tassert(view, errorMessage);\n\tif(!view) return promise.reject(errorMessage);\n\n\toptions.export_mode = \"csv\";\n\toptions.filterHTML = true;\n\n\tvar scheme = getExportScheme(view, options);\n\tvar result = getExportData(view, options, scheme);\n\n\tvar data = getCsvData(result, scheme);\n\tvar filename =  (options.filename || \"Data\")+\".csv\";\n\n\tvar blob = new Blob([\"\\uFEFF\" + data], { type: \"text/csv\" });\n\tif(options.download !== false)\n\t\tdownload(blob, filename);\n\n\treturn promise.resolve(blob);\n};\n\nfunction getCsvData(data) {\n\treturn csv.stringify(data);\n}","import {errorMessage, getExportScheme, getExportData, getStyles} from \"./common\";\n\nimport i18n from \"../../webix/i18n\";\nimport promise from \"../../thirdparty/promiz\";\nimport require from \"../../load/require\";\nimport env from \"../../webix/env\";\n\nimport {download} from \"../../webix/html\";\nimport {isArray} from \"../../webix/helpers\";\nimport {extend, isUndefined} from \"../../webix/helpers\";\nimport {$$} from \"../../ui/core\";\nimport {assert} from \"../../webix/debug\";\n\nlet font = {};\nexport const toPDF = function(id, options){\n\toptions = options || {};\n\n\toptions.export_mode = \"pdf\";\n\toptions._export_font = font;\n\toptions.fontName = options.fontName || \"pt-sans.regular\";\n\tconst display = options.display = options.display || \"table\";\n\toptions.styles = options.display == \"image\" ? false: options.styles;\n\n\tid = isArray(id)?id:[id];\n\tlet views = [];\n\n\tfor (let i = 0; i < id.length; i++) {\n\t\tif(!id[i].id) id[i]  = { id:id[i] }; \n\n\t\tlet view = $$(id[i].id);\n\n\t\tif(view){\n\t\t\tconst viewOptions = extend(id[i].options || {}, options);\n\t\t\tif(view.$exportView)\n\t\t\t\tview = view.$exportView(viewOptions);\n\n\t\t\t//$exportView returns array\n\t\t\tif(isArray(view)){\n\t\t\t\tviews = views.concat(view);\n\t\t\t\tif(options.autowidth)\n\t\t\t\t\tgetAutowidth(viewOptions, options);\n\t\t\t}\n\t\t\telse{\n\t\t\t\t//display table should be first (in case of styles:true $exportView adds styles to the first view)\n\t\t\t\tif(display == \"table\" || display == \"all\"){\n\t\t\t\t\tif(view.data && view.data.pull){\n\t\t\t\t\t\tconst scheme = getExportScheme(view, viewOptions);\n\t\t\t\t\t\tviews.push({\n\t\t\t\t\t\t\tscheme: scheme, \n\t\t\t\t\t\t\texportData: getExportData(view, viewOptions, scheme),\n\t\t\t\t\t\t\tviewOptions: viewOptions\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(options.autowidth)\n\t\t\t\t\t\t\tgetAutowidth(view, options, scheme);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(display == \"image\" || display == \"all\"){\n\t\t\t\t\tviews.push({\n\t\t\t\t\t\tnode: view.$view,\n\t\t\t\t\t\tviewOptions: viewOptions\n\t\t\t\t\t});\n\t\t\t\t\tif(options.autowidth)\n\t\t\t\t\t\tgetAutowidth(view, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tassert(view, errorMessage);\n\t}\n\n\tif(options.dataOnly)\n\t\treturn views;\n\n\treturn require([\n\t\tenv.cdn + \"/extras/pdfjs.js\", env.cdn + \"/extras/html2canvas-1.0.min.js\"\n\t]).then(function(){\n\t\tif(views.length == 0)\n\t\t\treturn promise.reject(errorMessage);\n\n\t\tif(font[options.fontName]){\n\t\t\toptions._export_font = font[options.fontName];\n\t\t\treturn getPdfData(views, options).then(function(pdf){\n\t\t\t\treturn getBlob(pdf, options);\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\tconst defer = promise.defer();\n\t\t\t/* global pdfjs */\n\t\t\tpdfjs.load(options.fontURL||env.cdn + \"/extras/\"+options.fontName+\".ttf\", function(err, buf){\n\t\t\t\tif(err) throw err;\n\t\t\t\toptions._export_font = font[options.fontName] = new pdfjs.TTFFont(buf);\n\t\t\t\tdefer.resolve(\n\t\t\t\t\tgetPdfData(views, options).then(function(pdf){\n\t\t\t\t\t\treturn getBlob(pdf, options);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn defer;\n\t\t}\n\t});\n};\n\nfunction getBlob(pdf, options){\n\tconst filename = (options.filename || \"Data\")+\".pdf\";\n\tconst blob = new Blob([pdf.toString()], { type: \"application/pdf\" });\n\n\tif(options.download !== false)\n\t\tdownload(blob, filename);\n\treturn blob;\n}\n\nfunction getPdfData(views, options){\n\tconst doc = addPDFDoc(options);\n\tlet promises = [];\n\tfor (let i = 0; i < views.length; i++) {\n\t\tif(views[i].node)\n\t\t\tpromises.push(getPDFImage(views[i].node));\n\t\telse\n\t\t\tpromises.push(promise.resolve());\n\t}\n\n\treturn promise.all(promises).then(function(images){\n\t\tfor(let i = 0; i < promises.length; i++){\n\t\t\tconst viewOptions = views[i].viewOptions;\n\t\t\tif(viewOptions.textBefore)\n\t\t\t\taddText(doc, \"before\", viewOptions.textBefore);\n\n\t\t\tif(images[i])\n\t\t\t\tdoc.image(images[i], {align:\"center\"});\n\t\t\telse\n\t\t\t\taddPDFTable(views[i], doc);\n\t\t\t\n\t\t\tif(viewOptions.textAfter)\n\t\t\t\taddText(doc, \"after\", viewOptions.textAfter);\n\t\t\tif(i != views.length - 1)\n\t\t\t\tdoc.pageBreak();\n\t\t}\n\t\treturn addPDFHeader(doc, options);\n\t});\n}\n\nfunction addText(doc, type, text){\n\tif(type == \"after\")\n\t\tdoc.text().br();\n\tif(typeof text == \"string\")\n\t\ttext = {text:text};\n\n\tdoc.text(text.text, text.options || {});\n\tif(type == \"before\")\n\t\tdoc.text().br();\n}\n\nfunction getPDFImage(node){\n\treturn window.html2canvas(node, {background:\"#fff\", logging:false, useCORS:true}).then(function(canvas){\n\t\tconst image = canvas.toDataURL(\"image/jpeg\");\n\t\tconst binary_string =  window.atob(image.split(\"base64,\")[1]);\n\t\tconst length = binary_string.length;\n\t\tconst bytes = new Uint8Array(length);\n\t\tfor (let i = 0; i < length; i++)\n\t\t\tbytes[i] = binary_string.charCodeAt(i);\n\t\treturn new pdfjs.Image(bytes.buffer);\n\t});\n}\n\nfunction getAutowidth(view, options, scheme){\n\tconst prop = options.orientation && options.orientation == \"landscape\" ? \"height\" : \"width\";\n\tlet width;\n\n\tif(scheme){\n\t\twidth = 80; //paddings\n\t\tfor(let i = 0; i<scheme.length; i++)\n\t\t\twidth += scheme[i].width;\n\t}\n\telse if(view.$width)\n\t\twidth = view.$width;\n\telse //'view' can be local settings and we need to compare them with common ones\n\t\twidth = view[prop];\n\n\toptions[prop] = Math.max(options[prop] || 0, width || 0);\n}\n\nfunction addPDFDoc(options){\n\tvar width = options.width||595.296, height = options.height || 841.896;// default A4 size\n\n\tif(options.orientation && options.orientation ===\"landscape\")\n\t\theight = [width, width = height][0];\n\n\treturn new pdfjs.Document({\n\t\tpadding: 40,\n\t\tfont: options._export_font,\n\t\tthreshold:256,\n\t\twidth:width,\n\t\theight:height\n\t});\n}\n\nfunction addPDFTable(view, doc){\n\tconst scheme = view.scheme;\n\tconst data = view.exportData;\n\tconst options = view.viewOptions;\n\tconst styles = view.styles;\n\n\toptions.header = (isUndefined(options.header) || options.header === true) ? {} : options.header;\n\toptions.footer = (isUndefined(options.footer) || options.footer === true) ? {} : options.footer;\n\toptions.table = options.table || {};\n\n\t//render table\n\tvar h_count = options.header === false ? 0: scheme[0].header.length;\n\tvar f_count = (options.footer === false || !scheme[0].footer) ? 0: scheme[0].footer.length;\n\n\tvar colWidths = [];\n\tfor(let i = 0; i<scheme.length; i++)\n\t\tcolWidths[i] = scheme[i].width;\n\n\tvar tableOps = extend(options.table, {\n\t\tborderWidth: 1,height:20, lineHeight:1.1,\n\t\tborderColor: 0xEEEEEE, backgroundColor: 0xFFFFFF, color:0x666666,\n\t\ttextAlign:\"left\", paddingRight:10, paddingLeft:10,\n\t\theaderRows:h_count, widths: colWidths.length?colWidths:[\"100%\"]\n\t});\n\n\tvar table = doc.table(tableOps);\n\n\t//render table header\n\tif(h_count){\n\t\tvar headerOps = extend(options.header, {\n\t\t\tborderRightColor:0xB0CEE3, borderBottomColor:0xB0CEE3,\n\t\t\tcolor:0x4A4A4A, backgroundColor:0xD2E3EF,\n\t\t\theight:27, lineHeight:1.2\n\t\t});\n\n\t\tfor(let i = 0; i<h_count; i++){\n\t\t\tvar header = table.tr(headerOps);\n\t\t\tfor(var s=0; s<scheme.length; s++){\n\t\t\t\tconst options = styles ? getStyles(i, s, styles) : {};\n\t\t\t\theader.td(scheme[s].header[i].toString(), options);\n\t\t\t}\n\t\t}\n\t}\n\n\t//render table data\n\tfor(let r=0; r<data.length;r++){\n\t\tlet row = table.tr({});\n\t\tfor(let c=0; c< data[r].length; c++){\n\t\t\tconst options = styles ? getStyles(r+h_count, c, styles) : {};\n\t\t\trow.td(data[r][c], options);\n\t\t}\n\t}\n\n\t//render table footer\n\tif(f_count){\n\t\tlet footerOps = extend(options.footer, {\n\t\t\tborderRightColor:0xEEEEEE, borderBottomColor:0xEEEEEE,\n\t\t\tbackgroundColor: 0xFAFAFA, color:0x666666,\n\t\t\theight:27, lineHeight:1.2\n\t\t});\n\n\t\tfor(let i = 0; i<f_count; i++){\n\t\t\tconst beforeCount = h_count + data.length;\n\t\t\tlet footer = table.tr(footerOps);\n\t\t\tfor(let s=0; s<scheme.length; s++){\n\t\t\t\tconst options = styles ? getStyles(i+beforeCount, s, styles) : {};\n\t\t\t\tfooter.td(scheme[s].footer[i].toString(), options);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction addPDFHeader(doc, options){\n\t//doc footer\n\tif(options.docFooter !== false){\n\t\tlet ft = doc.footer();\n\t\tft.text({\n\t\t\tcolor: 0x666666, textAlign:\"center\"\n\t\t}).append((i18n.dataExport.page||\"Page\")).pageNumber().append(\"  \"+(i18n.dataExport.of || \"of\")+\"  \").pageCount();\n\t}\n\n\tvar horder = { text:0, image:1};\n\n\t//doc header, configurable\n\tif(options.docHeader){\n\t\tif(typeof options.docHeader == \"string\") options.docHeader = {text:options.docHeader};\n\t\textend(options.docHeader, {\n\t\t\tcolor: 0x666666, textAlign:\"right\", order:0\n\t\t});\n\t\thorder.text = options.docHeader.order;\n\t}\n\n\tif (options.docHeaderImage){\n\t\tif(typeof options.docHeaderImage == \"string\") options.docHeaderImage = {url:options.docHeaderImage};\n\t\textend(options.docHeaderImage, {\n\t\t\talign:\"right\", order:1\n\t\t});\n\t\thorder.image = options.docHeaderImage.order;\n\t}\n\n\tif(options.docHeader && horder.image > horder.text)\n\t\tdoc.header({paddingBottom:10}).text(options.docHeader.text, options.docHeader);\n\n\tif (options.docHeaderImage){\n\t\tconst defer = promise.defer();\n\t\tpdfjs.load(options.docHeaderImage.url, function(err, buffer){\n\t\t\tif (!err){\n\t\t\t\tvar img = new pdfjs.Image(buffer);\n\t\t\t\tdoc.header({paddingBottom:10}).image(img, options.docHeaderImage);\n\n\t\t\t\tif(options.docHeader && horder.image < horder.text)\n\t\t\t\t\tdoc.header({paddingBottom:10}).text(options.docHeader.text, options.docHeader);\n\t\t\t}\n\t\t\t//render pdf and show in browser\n\t\t\tdefer.resolve(doc.render());\n\t\t});\n\t\treturn defer;\n\t}\n\telse\n\t\treturn promise.resolve(doc.render());\n}","import {errorMessage, getExportScheme, getExportData, getStyles} from \"./common\";\n\nimport promise from \"../../thirdparty/promiz\";\nimport require from \"../../load/require\";\nimport env from \"../../webix/env\";\n\nimport {download} from \"../../webix/html\";\nimport {isArray} from \"../../webix/helpers\";\nimport {$$} from \"../../ui/core\";\nimport {assert} from \"../../webix/debug\";\n\nexport const toExcel = function(id, options){\n\toptions = options || {};\n\toptions.export_mode = \"excel\";\n\n\tid = isArray(id)?id:[id];\n\tvar views = [];\n\n\tfor(var i = 0; i<id.length; i++){\n\t\tvar view = $$(id[i]);\n\t\tif (view && view.$exportView)\n\t\t\tview = view.$exportView(options);\n\t\tif(view) views = views.concat(view);\n\t\tassert(view, errorMessage);\n\n\t\t//spreadsheet and excelviewer require plain data output first\n\t\tif(options.dataOnly){\n\t\t\tvar scheme = getExportScheme(view, options);\n\t\t\tviews[i] = {\n\t\t\t\tscheme : scheme,\n\t\t\t\texportData:getExportData(view, options, scheme),\n\t\t\t\tspans:(options.spans ? getSpans(view, options) : [])\n\t\t\t};\n\t\t}\n\t}\n\tif(options.dataOnly) return views;\n\n\tvar defer = promise.defer(); \n\n\treturn require(env.cdn + \"/extras/xlsx.core.styles.min.js\").then(function(){\n\t\tif(!views.length) return defer.reject(errorMessage);\n\n\t\tvar wb = { SheetNames:[], Sheets:{}, Workbook:{ WBProps :{}, Names:[] }};\n\t\tvar name = isArray(options.sheets) ? options.sheets : [options.name || \"Data\"];\n\t\n\t\tfor(var i = 0; i<views.length; i++){\n\t\t\tvar scheme = views[i].scheme || getExportScheme(views[i], options);\n\t\t\tvar result = views[i].exportData || getExportData(views[i], options, scheme);\n\t\t\tvar spans  = views[i].spans ? views[i].spans: (options.spans ? getSpans(views[i], options) : []);\n\t\t\tvar ranges =  views[i].ranges || [];\n\t\t\tvar styles = views[i].styles || [];\n\t\t\tvar data   = getExcelData(result, scheme, spans, styles, options);\n\t\t\tvar sname  = (name[i] || \"Data\"+i).replace(/[*?:[\\]\\\\/]/g,\"\").replace(/&/g, \"&amp;\").substring(0, 31);\n\n\t\t\twb.SheetNames.push(sname);\n\t\t\twb.Sheets[sname] = data;\n\t\t\twb.Workbook.Names = wb.Workbook.Names.concat(ranges);\n\t\t}\n\n\t\t/* global XLSX */\n\t\tvar xls = XLSX.write(wb, {bookType:\"xlsx\", bookSST:false, type: \"binary\"});\n\t\tvar filename =  (options.filename || name.join(\",\"))+\".xlsx\";\n\t\n\t\tvar blob = new Blob([str2array(xls)], { type: \"application/xlsx\" });\n\t\tif(options.download !== false)\n\t\t\tdownload(blob, filename);\n\t\tdefer.resolve(blob);\n\t\treturn defer;\n\t});\n};\n\nfunction str2array(s) {\n\tvar buf = new ArrayBuffer(s.length);\n\tvar view = new Uint8Array(buf);\n\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\treturn buf;\n}\n\nconst types = { number:\"n\", date:\"n\", string:\"s\", boolean:\"b\"};\nconst table = \"_table\";\nfunction getExcelData(data, scheme, spans, styles, options) {\n\tconst ws = {};\n\tconst range = {s: {c:10000000, r:10000000}, e: {c:0, r:0 }};\n\tfor(let R = 0; R != data.length; ++R) {\n\t\tfor(let C = 0; C != data[R].length; ++C) {\n\t\t\tif(range.s.r > R) range.s.r = R;\n\t\t\tif(range.s.c > C) range.s.c = C;\n\t\t\tif(range.e.r < R) range.e.r = R;\n\t\t\tif(range.e.c < C) range.e.c = C;\n\n\t\t\tconst cell = {v: data[R][C]};\n\t\t\tif(cell.v === null) continue;\n\t\t\tconst cell_ref = XLSX.utils.encode_cell({c:C,r:R});\n\n\t\t\tconst stringValue = cell.v.toString();\n\t\t\tconst isFormula = (stringValue.charAt(0) === \"=\");\n\n\t\t\tif(styles){\n\t\t\t\tconst cellStyle = getStyles(R, C, styles);\n\t\t\t\tif(cellStyle.format){\n\t\t\t\t\tcell.z = cellStyle.format;\n\t\t\t\t\tdelete cellStyle.format;\n\t\t\t\t}\n\t\t\t\tif(cellStyle.type){\n\t\t\t\t\tcell.t = types[cellStyle.type];\n\t\t\t\t\tdelete cellStyle.type;\n\t\t\t\t}\n\t\t\t\tcell.s = cellStyle;\n\t\t\t}\n\n\t\t\t// set type based on column's config\n\t\t\t// skip headers and formula based cells\n\t\t\tconst header = (options.docHeader?2:0)+scheme[0].header.length;\n\t\t\tif(R>=header && !isFormula){\n\t\t\t\tconst column = scheme[C];\n\t\t\t\tif(column.type && !cell.t) cell.t = (types[column.type] || \"\");\n\t\t\t\tif(column.format && !cell.z) cell.z = column.format;\n\t\t\t}\n\n\t\t\t// set type based on cell's value\n\t\t\tif(cell.v instanceof Date){\n\t\t\t\tcell.t = cell.t || \"n\";\n\t\t\t\tcell.z = cell.z || XLSX.SSF[table][14];\n\t\t\t\tcell.v = excelDate(cell.v);\n\t\t\t}\n\t\t\telse if(isFormula){\n\t\t\t\tcell.t = cell.t || \"n\";\n\t\t\t\tcell.f = cell.v.substring(1);\n\t\t\t\tdelete cell.v;\n\t\t\t}\n\t\t\telse if(!cell.t){\n\t\t\t\tif(typeof cell.v === \"boolean\")\n\t\t\t\t\tcell.t = \"b\";\n\t\t\t\telse if(typeof cell.v === \"number\" || parseFloat(cell.v) == cell.v){\n\t\t\t\t\tcell.v = cell.v*1;\n\t\t\t\t\tcell.t = \"n\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// convert any other object to a string\n\t\t\t\t\tcell.v = stringValue;\n\t\t\t\t\tcell.t = \"s\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tws[cell_ref] = cell;\n\t\t}\n\t}\n\tif(range.s.c < 10000000) ws[\"!ref\"] = XLSX.utils.encode_range(range);\n\n\tws[\"!rows\"] = getRowHeights(scheme.heights);\n\tws[\"!cols\"] = getColumnsWidths(scheme);\n\tif(spans.length)\n\t\tws[\"!merges\"] = spans;\n\n\treturn ws;\n}\n\nfunction getRowHeights(heights){\n\tfor(var i in heights)\n\t\theights[i] = {hpx:heights[i], hpt:heights[i]*0.75};\n\treturn heights;\n}\n\nfunction getSpans(view, options){\n\tvar isTable = view.getColumnConfig;\n\tvar pull = view._spans_pull;\n\tvar spans = [];\n\n\tif(isTable){\n\t\tif(options.header!==false)\n\t\t\tspans = getHeaderSpans(view, options, \"header\", spans); \n\n\t\tif(pull){\n\t\t\tvar xc = options.xCorrection || 0;\n\t\t\tvar yc = options.yCorrection || 0;\n\t\t\tfor(var row in pull){\n\t\t\t\t//{ s:{c:1, r:0}, e:{c:3, r:0} }\n\t\t\t\tvar cols = pull[row];\n\t\t\t\tfor(var col in cols){\n\t\t\t\t\tvar sc = view.getColumnIndex(col) - xc;\n\t\t\t\t\tvar sr = view.getIndexById(row) - yc;\n\t\t\t\t\tif(sc<0||sr<0) //hidden cols/rows\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tvar ec = sc+cols[col][0]-1;\n\t\t\t\t\tvar er = sr+(cols[col][1]-1);\n\n\t\t\t\t\tspans.push({ s:{c:sc, r:sr}, e:{c:ec, r:er} });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(options.footer!==false)\n\t\t\tspans = getHeaderSpans(view, options, \"footer\", spans);\n\t}\n\n\treturn spans;\n}\n\nfunction getHeaderSpans(view, options, group, spans){\n\tvar columns = view.config.columns;\n\tvar delta = (options.docHeader?2:0)+(group == \"header\" ? 0 :((options.header!==false?view._headers.length:0)+view.count()));\n\n\tfor(var i=0; i<columns.length; i++){\n\t\tvar header = columns[i][group];\n\t\tfor(var h = 0; h<header.length; h++){\n\t\t\tif(header[h] && (header[h].colspan || header[h].rowspan)){\n\t\t\t\tspans.push({\n\t\t\t\t\ts:{ c:i, r:h+delta},\n\t\t\t\t\te:{ c:i+(header[h].colspan||1)-1, r:h+(header[h].rowspan ||1)-1+delta }\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\treturn spans;\n}\n\nfunction excelDate(date) {\n\tconst returnDateTime = 25569 + ((date.getTime() - (date.getTimezoneOffset() * 60 * 1000)) / (1000 * 60 * 60 * 24));\n\treturn returnDateTime.toString().substr(0,20);\n}\n\nfunction getColumnsWidths(scheme){\n\tvar wscols = [];\n\tfor (var i = 0; i < scheme.length; i++)\n\t\twscols.push({ wch: scheme[i].width });\n\n\treturn wscols;\n}","import state from \"../core/state\";\nimport i18n from \"../webix/i18n\";\nimport rules from \"../webix/rules\";\n\nimport {toNode, isUndefined} from \"../webix/helpers\";\nimport { event } from \"../webix/htmlevents\";\nimport {define} from \"../services\";\nimport Promise from \"../thirdparty/promiz\";\nimport {_uid} from \"../ui/helpers\";\nimport {create} from \"../webix/html\";\n\nfunction callback(config, result){\n\t(config.type.indexOf(\"confirm\") != -1 && result === false) ? config._promise.reject() : config._promise.resolve(result);\n\n\tvar usercall = config.callback;\n\tif (usercall)\n\t\tusercall(result, config.details);\n\n\tmodalbox.hide(config.id);\n}\nfunction modal_key(e){\n\tvar count = modalbox.order.length;\n\tif (count > 0 && message.keyboard){\n\t\te = e||window.event;\n\t\tvar code = e.which||e.keyCode;\n\t\tvar lastModalbox = modalbox.pull[modalbox.order[count-1]];\n\n\t\tif (code == 13 || code == 32)\n\t\t\tcallback(lastModalbox, true);\n\t\tif (code == 27)\n\t\t\tcallback(lastModalbox, false);\n\n\t\tif (e.preventDefault)\n\t\t\te.preventDefault();\n\t\treturn !(e.cancelBubble = true);\n\t}\n}\n\nevent(document, \"keydown\", modal_key, { capture: true });\n\t\nfunction modality(mode, container){\n\tvar node = container || document.body;\n\tvar cover;\n\tif(isUndefined(node.modality)){\n\t\tcover = create(\"DIV\", {\n\t\t\t\"class\":\"webix_modal_cover\",\n\t\t\tstyle:\"position:\"+(container ? \"absolute\" : \"fixed\")+\";\"\n\t\t});\n\t\tcover.onkeydown = modal_key;\n\n\t\tif(container){\n\t\t\tvar position = window.getComputedStyle(container).position;\n\t\t\tif(position != \"fixed\" && position != \"absolute\" && position != \"sticky\" && position != \"relative\")\n\t\t\t\tnode.style.position = \"relative\";\n\t\t}\n\t\tnode.appendChild(cover);\n\t\tnode.modality = 1;\n\t}\n\telse\n\t\tmode ? node.modality ++ : node.modality --;\n\n\t//trigger visibility only if necessary\n\tif((mode && node.modality === 1) || node.modality === 0){\n\t\tif(cover)\n\t\t\tcover.style.display = \"inline-block\";\n\t\telse{\n\t\t\tcover = node.querySelectorAll(\".webix_modal_cover\");\n\t\t\tfor(var i = 0; i < cover.length; i++){\n\t\t\t\tif(cover[i].parentNode == node){\n\t\t\t\t\tcover[i].style.display = node.modality == 1 ? \"inline-block\" : \"none\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\t}\n}\n\nfunction button(text, result, className){\n\treturn \"<div role='button' tabindex='0' aria-label='\"+text+\"' class='webix_popup_button\"+(className?(\" \"+className):\"\")+\"' result='\"+result+\"' ><div>\"+text+\"</div></div>\";\n}\n\nfunction info(text){\n\tif (!t.area){\n\t\tt.area = document.createElement(\"DIV\");\n\t\tt.area.className = \"webix_message_area\";\n\t\tt.area.style[t.position]=\"5px\";\n\t\t\n\t\tdocument.body.appendChild(t.area);\n\t}\n\tt.area.setAttribute(\"role\", \"alert\");\n\tt.area.setAttribute(\"aria-atomic\", true);\n\tt.hide(text.id);\n\tvar message = document.createElement(\"DIV\");\n\tmessage.innerHTML = \"<div>\"+text.text+\"</div>\";\n\tmessage.className = \"webix_message webix_\" + text.type;\n\tmessage.onclick = function(){\n\t\tif (text) t.hide(text.id);\n\t\ttext = null;\n\t};\n\n\tif (state.$testmode)\n\t\tmessage.className += \" webix_no_transition\";\n\n\tif (t.position == \"bottom\" && t.area.firstChild)\n\t\tt.area.insertBefore(message,t.area.firstChild);\n\telse\n\t\tt.area.appendChild(message);\n\t\n\tif (text.expire > 0)\n\t\tt.timers[text.id]=window.setTimeout(function(){\n\t\t\tt.hide(text.id);\n\t\t}, text.expire);\n\n\t//styling for animation\n\tmessage.style.height = message.offsetHeight-2+\"px\";\n\n\tt.pull[text.id] = message;\n\tmessage = null;\n\n\treturn text.id;\n}\nfunction _boxStructure(config, ok, cancel){\n\tvar box = document.createElement(\"DIV\");\n\tvar css = config.css ? \" \"+config.css : \"\";\n\tbox.className = \"webix_modal_box webix_\"+config.type+css;\n\tbox.setAttribute(\"webixbox\", 1);\n\tbox.setAttribute(\"role\", \"alertdialog\");\n\tbox.setAttribute(\"aria-label\", config.title || \"\");\n\tbox.setAttribute(\"tabindex\", \"0\");\n\n\tvar inner = \"\";\n\tif (config.width)\n\t\tbox.style.width = config.width+(rules.isNumber(config.width)?\"px\":\"\");\n\tif (config.height)\n\t\tbox.style.height = config.height+(rules.isNumber(config.height)?\"px\":\"\");\n\tif (config.title)\n\t\tinner+=\"<div class=\\\"webix_popup_title\\\">\"+config.title+\"</div>\";\n\tinner+=\"<div class=\\\"webix_popup_text\\\"><span>\"+(config.content?\"\":config.text)+\"</span></div><div  class=\\\"webix_popup_controls\\\">\";\n\tif (cancel)\n\t\tinner += button(config.cancel || i18n.message.cancel, false);\n\tif (ok)\n\t\tinner += button(config.ok || i18n.message.ok, true,\"confirm\");\n\tif (config.buttons && !ok && !cancel){\n\t\tfor (var i=0; i<config.buttons.length; i++)\n\t\t\tinner += button(config.buttons[i],i);\n\t}\n\tinner += \"</div>\";\n\tbox.innerHTML = inner;\n\n\tif (config.content){\n\t\tvar node = config.content;\n\t\tif (typeof node == \"string\") \n\t\t\tnode = document.getElementById(node);\n\t\tif (node.style.display == \"none\")\n\t\t\tnode.style.display = \"\";\n\t\tbox.childNodes[config.title?1:0].appendChild(node);\n\t}\n\n\tbox.onclick = function(e){\n\t\te = e ||window.event;\n\t\tvar source = e.target || e.srcElement;\n\t\tif (!source.className) source = source.parentNode;\n\t\tif (source.className.indexOf(\"webix_popup_button\")!=-1){\n\t\t\tvar result = source.getAttribute(\"result\");\n\t\t\tresult = (result == \"true\")||(result == \"false\"?false:result);\n\t\t\tcallback(config, result);\n\t\t}\n\t\te.cancelBubble = true;\n\t};\n\tconfig._box = box;\n\treturn box;\n}\n\nmodalbox.pull = {};\nmodalbox.order = [];\n\nfunction _createBox(config, ok, cancel){\n\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\n\n\tvar containerWidth = config.container ? config.container.offsetWidth : (window.innerWidth||document.documentElement.offsetWidth);\n\tvar containerHeight = config.container ? config.container.offsetHeight : (window.innerHeight||document.documentElement.offsetHeight);\n\n\tif(config.container)\n\t\tbox.style.position = \"absolute\";\n\n\ttoNode((config.container || document.body).appendChild(box));\n\tmodality(true, config.container);\n\n\tvar x = config.left||Math.abs(Math.floor((containerWidth - box.offsetWidth)/2));\n\tvar y = config.top||Math.abs(Math.floor((containerHeight - box.offsetHeight)/2));\n\tif (config.position == \"top\")\n\t\tbox.style.top = \"-3px\";\n\telse\n\t\tbox.style.top = y+\"px\";\n\tbox.style.left = x+\"px\";\n\t//necessary for IE only\n\tbox.onkeydown = modal_key;\n\n\tbox.focus();\n\n\tif (!config.id)\n\t\tconfig.id = _uid(\"modalbox\");\n\telse if(modalbox.pull[config.id]){\n\t\tmodalbox.hide(config.id);\n\t}\n\n\tmodalbox.order.push(config.id);\n\tmodalbox.pull[config.id] = config;\n\n\tconfig._promise = Promise.defer();\n\treturn config._promise;\n}\n\nfunction alertPopup(config){\n\treturn _createBox(config, true);\n}\nfunction confirmPopup(config){\n\treturn _createBox(config, true, true);\n}\nfunction boxPopup(config){\n\treturn _createBox(config);\n}\nfunction box_params(text, type, callback){\n\tif (typeof text != \"object\"){\n\t\tif (typeof type == \"function\"){\n\t\t\tcallback = type;\n\t\t\ttype = \"\";\n\t\t}\n\t\ttext = {text:text, type:type, callback:callback };\n\t}\n\treturn text;\n}\nfunction params(text, type, expire, id){\n\tif (typeof text != \"object\")\n\t\ttext = {text:text, type:type, expire:expire, id:id};\n\ttext.id = text.id||_uid(\"message\");\n\ttext.expire = text.expire||t.expire;\n\treturn text;\n}\nexport function alert(){\n\tvar text = box_params.apply(this, arguments);\n\ttext.type = text.type || \"alert\";\n\treturn alertPopup(text);\n}\nexport function confirm(){\n\tvar text = box_params.apply(this, arguments);\n\ttext.type = text.type || \"confirm\";\n\treturn confirmPopup(text);\n}\n\nexport function modalbox(){\n\tvar text = box_params.apply(this, arguments);\n\ttext.type = text.type || \"alert\";\n\treturn boxPopup(text);\n}\n\nmodalbox.hide = function(id){\n\tif(id && modalbox.pull[id]){\n\t\tvar node = modalbox.pull[id]._box;\n\t\tif(node){\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodalbox.order.splice(modalbox.order.indexOf(id), 1);\n\t\t\tmodality(false, modalbox.pull[id].container);\n\t\t\tdelete modalbox.pull[id];\n\t\t}\n\t}\n};\n\nmodalbox.hideAll = function(){\n\tfor (var id in modalbox.pull){\n\t\tthis.hide(id);\n\t}\n};\n\nexport function message(text, type, expire, id){ //eslint-disable-line\n\ttext = params.apply(this, arguments);\n\ttext.type = text.type||\"info\";\n\n\tvar subtype = text.type.split(\"-\")[0];\n\tswitch (subtype){\n\t\tcase \"alert\":\n\t\t\treturn alertPopup(text);\n\t\tcase \"confirm\":\n\t\t\treturn confirmPopup(text);\n\t\tcase \"modalbox\":\n\t\t\treturn boxPopup(text);\n\t\tdefault:\n\t\t\treturn info(text);\n\t}\n}\n\nvar t = message;\nt.expire = 4000;\nt.keyboard = true;\nt.position = \"top\";\nt.pull = {};\nt.timers = {};\n\nt.hideAll = function(){\n\tfor (var key in t.pull)\n\t\tt.hide(key);\n};\nt.hide = function(id){\n\tvar obj = t.pull[id];\n\tif (obj && obj.parentNode){\n\t\twindow.setTimeout(function(){\n\t\t\tobj.parentNode.removeChild(obj);\n\t\t\tobj = null;\n\t\t},2000);\n\t\t//styling for animation\n\t\tobj.style.height = 0;\n\t\tobj.className+=\" hidden\";\n\t\tt.area.removeAttribute(\"role\");\n\t\t\n\t\tif(t.timers[id])\n\t\t\twindow.clearTimeout(t.timers[id]);\n\t\tdelete t.pull[id];\n\t}\n};\n\n//override circualr dependencies\ndefine(\"message\", message);\nexport default modalbox;","import {callEvent} from \"./customevents\";\n\nexport function editStop(){\n\tcallEvent(\"onEditEnd\", []);\n}\n","import env from \"./env\";\n// Only IE8 doesn't support defineProperty\nif (env.isIE8){\n\t// Not really a polyfill, silence the esModule flag\n\tObject.defineProperty = function(obj, key, data){\n\t\tobj[key] = data.value;\n\t};\n}","const en = {\n\tgroupDelimiter:\",\",\n\tgroupSize:3,\n\tdecimalDelimiter:\".\",\n\tdecimalSize:2,\n\n\tdateFormat:\"%m/%d/%Y\",\n\ttimeFormat:\"%h:%i %A\",\n\tlongDateFormat:\"%d %F %Y\",\n\tfullDateFormat:\"%m/%d/%Y %h:%i %A\",\n\tam:[\"am\",\"AM\"],\n\tpm:[\"pm\",\"PM\"],\n\n\tprice:\"${obj}\",\n\tpriceSettings:{\n\t\tgroupDelimiter:\",\",\n\t\tgroupSize:3,\n\t\tdecimalDelimiter:\".\",\n\t\tdecimalSize:2\n\t},\n\tfileSize: [\"b\",\"Kb\",\"Mb\",\"Gb\",\"Tb\",\"Pb\",\"Eb\"],\n\t\n\tcalendar: {\n\t\tmonthFull:[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\tmonthShort:[\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\tdayFull:[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\tdayShort:[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\thours: \"Hours\",\n\t\tminutes: \"Minutes\",\n\t\tdone:\"Done\",\n\t\tclear: \"Clear\",\n\t\ttoday: \"Today\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Page\",\n\t\tof:\"of\"\n\t},\n\tPDFviewer:{\n\t\tof:\"of\",\n\t\tautomaticZoom:\"Automatic Zoom\",\n\t\tactualSize:\"Actual Size\",\n\t\tpageFit:\"Page Fit\",\n\t\tpageWidth:\"Page Width\",\n\t\tpageHeight:\"Page Height\",\n\t\tenterPassword:\"Enter password\",\n\t\tpasswordError:\"Wrong password\"\n\t},\n\taria:{\n\t\tcalendar:\"Calendar\",\n\t\tincreaseValue:\"Increase value\",\n\t\tdecreaseValue:\"Decrease value\",\n\t\tnavMonth:[\"Previous month\", \"Next month\"],\n\t\tnavYear:[\"Previous year\", \"Next year\"],\n\t\tnavDecade:[\"Previous decade\", \"Next decade\"],\n\t\tdateFormat:\"%d %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Hours: %h %A\",\n\t\tminuteFormat:\"Minutes: %i\",\n\t\tremoveItem:\"Remove item\",\n\t\tpages:[\"First page\", \"Previous page\", \"Next page\", \"Last page\"],\n\t\tpage:\"Page\",\n\t\theadermenu:\"Header menu\",\n\t\topenGroup:\"Open column group\",\n\t\tcloseGroup:\"Close column group\",\n\t\tcloseTab:\"Close tab\",\n\t\tshowTabs:\"Show more tabs\",\n\t\tresetTreeMap:\"Reset tree map\",\n\t\tnavTreeMap:\"Level up\",\n\t\tnextTab:\"Next tab\",\n\t\tprevTab:\"Previous tab\",\n\t\tmultitextSection:\"Add section\",\n\t\tmultitextextraSection:\"Remove section\",\n\t\tshowChart:\"Show chart\",\n\t\thideChart:\"Hide chart\",\n\t\tresizeChart:\"Resize chart\"\n\t},\n\trichtext:{\n\t\tunderline: \"Underline\",\n\t\tbold: \"Bold\",\n\t\titalic: \"Italic\"\n\t},\n\tcombo:{\n\t\tselect:\"Select\",\n\t\tselectAll:\"Select all\",\n\t\tunselectAll:\"Unselect all\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Cancel\"\n\t},\n\tcomments:{\n\t\tsend: \"Send\",\n\t\tconfirmMessage: \"The comment will be removed. Are you sure?\",\n\t\tedit: \"Edit\",\n\t\tremove: \"Remove\",\n\t\tplaceholder: \"Type here..\",\n\t\tmoreComments:\"More comments\"\n\t},\n\tfilter:{\n\t\tless: \"less\",\n\t\tlessOrEqual: \"less or equal\",\n\t\tgreater: \"greater\",\n\t\tgreaterOrEqual: \"greater or equal\",\n\t\tcontains: \"contains\",\n\t\tnotContains: \"not contains\",\n\t\tequal: \"equal\",\n\t\tnotEqual: \"not equal\",\n\t\tbeginsWith: \"begins with\",\n\t\tnotBeginsWith: \"not begins with\",\n\t\tendsWith: \"ends with\",\n\t\tnotEndsWith: \"not ends with\",\n\t\tbetween: \"between\",\n\t\tnotBetween: \"not between\"\n\t}\n};\n\nexport default en;","import env from \"../webix/env\";\nimport i18n from \"../webix/i18n\";\n\n\nconst wDate = {\n\tstartOnMonday:false,\n\n\ttoFixed:function(num, ms){\n\t\tif( num<10)\tnum = \"0\"+num;\n\t\tif( ms && num <100 ) num = \"0\"+num;\n\t\treturn num;\n\t},\n\tweekStart:function(date){\n\t\tdate = this.copy(date);\n\n\t\tvar shift=date.getDay();\n\t\tif (this.startOnMonday){\n\t\t\tif (shift===0) shift=6;\n\t\t\telse shift--;\n\t\t}\n\t\treturn this.datePart(this.add(date,-1*shift,\"day\"));\n\t},\n\tmonthStart:function(date){\n\t\tdate = this.copy(date);\n\n\t\tdate.setDate(1);\n\t\treturn this.datePart(date);\n\t},\n\tyearStart:function(date){\n\t\tdate = this.copy(date);\n\n\t\tdate.setMonth(0);\n\t\treturn this.monthStart(date);\n\t},\n\tdayStart:function(date){\n\t\treturn this.datePart(date, true);\n\t},\n\tdateToStr:function(format,utc){\n\t\tif (typeof format == \"function\") return format;\n\n\t\tif(env.strict){\n\t\t\treturn function(date){\n\t\t\t\tif (!date)\n\t\t\t\t\treturn \"\";\n\t\t\t\tif (!date.getMonth)\n\t\t\t\t\tdate = i18n.parseFormatDate(date);\n\n\t\t\t\tvar str = \"\";\n\t\t\t\tvar lastPos = 0;\n\t\t\t\tformat.replace(/%[a-zA-Z]/g,function(s,pos){\n\t\t\t\t\tstr += format.slice(lastPos,pos);\n\t\t\t\t\tvar fn = function(date){\n\t\t\t\t\t\tif( s == \"%d\")  return wDate.toFixed(date.getDate());\n\t\t\t\t\t\tif( s == \"%m\")  return wDate.toFixed((date.getMonth()+1));\n\t\t\t\t\t\tif( s == \"%j\")  return date.getDate();\n\t\t\t\t\t\tif( s == \"%n\")  return (date.getMonth()+1);\n\t\t\t\t\t\tif( s == \"%y\")  return wDate.toFixed(date.getFullYear()%100);\n\t\t\t\t\t\tif( s == \"%Y\")  return date.getFullYear();\n\t\t\t\t\t\tif( s == \"%D\")  return i18n.calendar.dayShort[date.getDay()];\n\t\t\t\t\t\tif( s == \"%l\")  return i18n.calendar.dayFull[date.getDay()];\n\t\t\t\t\t\tif( s == \"%M\")  return i18n.calendar.monthShort[date.getMonth()];\n\t\t\t\t\t\tif( s == \"%F\")  return i18n.calendar.monthFull[date.getMonth()];\n\t\t\t\t\t\tif( s == \"%h\")  return wDate.toFixed((date.getHours()+11)%12+1);\n\t\t\t\t\t\tif( s == \"%g\")  return ((date.getHours()+11)%12+1);\n\t\t\t\t\t\tif( s == \"%G\")  return date.getHours();\n\t\t\t\t\t\tif( s == \"%H\")  return wDate.toFixed(date.getHours());\n\t\t\t\t\t\tif( s == \"%i\")  return wDate.toFixed(date.getMinutes());\n\t\t\t\t\t\tif( s == \"%a\")  return (date.getHours()>11?i18n.pm[0]:i18n.am[0]);\n\t\t\t\t\t\tif( s == \"%A\")  return (date.getHours()>11?i18n.pm[1]:i18n.am[1]);\n\t\t\t\t\t\tif( s == \"%s\")  return wDate.toFixed(date.getSeconds());\n\t\t\t\t\t\tif( s == \"%S\")\treturn wDate.toFixed(date.getMilliseconds(), true);\n\t\t\t\t\t\tif( s == \"%W\")  return wDate.toFixed(Date.getISOWeek(date));\n\t\t\t\t\t\tif( s == \"%c\"){\n\t\t\t\t\t\t\tvar str = date.getFullYear();\n\t\t\t\t\t\t\tstr += \"-\"+wDate.toFixed((date.getMonth()+1));\n\t\t\t\t\t\t\tstr += \"-\"+wDate.toFixed(date.getDate());\n\t\t\t\t\t\t\tstr += \"T\";\n\t\t\t\t\t\t\tstr += wDate.toFixed(date.getHours());\n\t\t\t\t\t\t\tstr += \":\"+wDate.toFixed(date.getMinutes());\n\t\t\t\t\t\t\tstr += \":\"+wDate.toFixed(date.getSeconds());\n\t\t\t\t\t\t\treturn str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t};\n\t\t\t\t\tstr += fn(date);\n\t\t\t\t\tlastPos = pos + 2;\n\t\t\t\t});\n\t\t\t\tstr += format.slice(lastPos,format.length);\n\t\t\t\treturn str;\n\t\t\t};\n\n\t\t}\n\n\t\tformat=format.replace(/%[a-zA-Z]/g,function(a){\n\t\t\tswitch(a){\n\t\t\t\tcase \"%d\": return \"\\\"+wDate.toFixed(date.getDate())+\\\"\";\n\t\t\t\tcase \"%m\": return \"\\\"+wDate.toFixed((date.getMonth()+1))+\\\"\";\n\t\t\t\tcase \"%j\": return \"\\\"+date.getDate()+\\\"\";\n\t\t\t\tcase \"%n\": return \"\\\"+(date.getMonth()+1)+\\\"\";\n\t\t\t\tcase \"%y\": return \"\\\"+wDate.toFixed(date.getFullYear()%100)+\\\"\"; \n\t\t\t\tcase \"%Y\": return \"\\\"+date.getFullYear()+\\\"\";\n\t\t\t\tcase \"%D\": return \"\\\"+i18n.calendar.dayShort[date.getDay()]+\\\"\";\n\t\t\t\tcase \"%l\": return \"\\\"+i18n.calendar.dayFull[date.getDay()]+\\\"\";\n\t\t\t\tcase \"%M\": return \"\\\"+i18n.calendar.monthShort[date.getMonth()]+\\\"\";\n\t\t\t\tcase \"%F\": return \"\\\"+i18n.calendar.monthFull[date.getMonth()]+\\\"\";\n\t\t\t\tcase \"%h\": return \"\\\"+wDate.toFixed((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\tcase \"%g\": return \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\tcase \"%G\": return \"\\\"+date.getHours()+\\\"\";\n\t\t\t\tcase \"%H\": return \"\\\"+wDate.toFixed(date.getHours())+\\\"\";\n\t\t\t\tcase \"%i\": return \"\\\"+wDate.toFixed(date.getMinutes())+\\\"\";\n\t\t\t\tcase \"%a\": return \"\\\"+(date.getHours()>11?i18n.pm[0]:i18n.am[0])+\\\"\";\n\t\t\t\tcase \"%A\": return \"\\\"+(date.getHours()>11?i18n.pm[1]:i18n.am[1])+\\\"\";\n\t\t\t\tcase \"%s\": return \"\\\"+wDate.toFixed(date.getSeconds())+\\\"\";\n\t\t\t\tcase \"%S\": return \"\\\"+wDate.toFixed(date.getMilliseconds(), true)+\\\"\";\n\t\t\t\tcase \"%W\": return \"\\\"+wDate.toFixed(wDate.getISOWeek(date))+\\\"\";\n\t\t\t\tcase \"%c\":\n\t\t\t\t\tvar str = \"\\\"+date.getFullYear()+\\\"\";\n\t\t\t\t\tstr += \"-\\\"+wDate.toFixed((date.getMonth()+1))+\\\"\";\n\t\t\t\t\tstr += \"-\\\"+wDate.toFixed(date.getDate())+\\\"\";\n\t\t\t\t\tstr += \"T\";\n\t\t\t\t\tstr += \"\\\"+wDate.toFixed(date.getHours())+\\\"\";\n\t\t\t\t\tstr += \":\\\"+wDate.toFixed(date.getMinutes())+\\\"\";\n\t\t\t\t\tstr += \":\\\"+wDate.toFixed(date.getSeconds())+\\\"\";\n\t\t\t\t\tif(utc === true)\n\t\t\t\t\t\tstr += \"Z\";\n\t\t\t\t\treturn str;\n\n\t\t\t\tdefault: return a;\n\t\t\t}\n\t\t});\n\t\tif (utc===true) format=format.replace(/date\\.get/g,\"date.getUTC\");\n\t\tconst temp = new Function(\"date\", \"i18n\", \"wDate\", \"if (!date) return ''; if (!date.getMonth) date=i18n.parseFormatDate(date);  return \\\"\"+format+\"\\\";\");\n\t\treturn function(v){ return temp(v, i18n, wDate); };\n\t},\n\tstrToDate:function(format,utc){\n\t\tif (typeof format == \"function\") return format;\n\n\t\tvar mask=format.match(/%[a-zA-Z]/g);\n\t\tvar splt=\"var temp=date.split(/[\\\\s\\\\./\\\\-\\\\:\\\\,]+/g);\";\n\t\tvar i,t,s;\n\n\t\tif(!i18n.calendar.monthShort_hash){\n\t\t\ts = i18n.calendar.monthShort;\n\t\t\tt = i18n.calendar.monthShort_hash = {};\n\t\t\tfor (i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]]=i;\n\n\t\t\ts = i18n.calendar.monthFull;\n\t\t\tt = i18n.calendar.monthFull_hash = {};\n\t\t\tfor (i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]]=i;\n\t\t}\n\n\t\tif(env.strict){\n\t\t\treturn function(date){\n\t\t\t\tif (!date) return \"\";\n\t\t\t\tif (typeof date == \"object\") return date;\n\t\t\t\tvar temp=date.split(/[\\s./\\-:,]+/g);\n\t\t\t\tvar set=[0,0,1,0,0,0,0];\n\t\t\t\tfor (i=0; i<mask.length; i++){\n\t\t\t\t\tvar a = mask[i];\n\t\t\t\t\tif( a ==  \"%y\")\n\t\t\t\t\t\tset[0]=temp[i]*1+(temp[i]>30?1900:2000);\n\t\t\t\t\telse if( a ==  \"%Y\"){\n\t\t\t\t\t\tset[0]=(temp[i]||0)*1; if (set[0]<30) set[0]+=2000;\n\t\t\t\t\t}\n\t\t\t\t\telse if( a == \"%n\" || a == \"%m\")\n\t\t\t\t\t\tset[1]=(temp[i]||1)-1;\n\t\t\t\t\telse if( a ==  \"%M\")\n\t\t\t\t\t\tset[1]=i18n.calendar.monthShort_hash[temp[i]]||0;\n\t\t\t\t\telse if( a ==  \"%F\")\n\t\t\t\t\t\tset[1]=i18n.calendar.monthFull_hash[temp[i]]||0;\n\t\t\t\t\telse if( a == \"%j\" || a == \"%d\")\n\t\t\t\t\t\tset[2]=temp[i]||1;\n\t\t\t\t\telse if( a == \"%g\" || a == \"%G\" || a == \"%h\" || a == \"%H\")\n\t\t\t\t\t\tset[3]=temp[i]||0;\n\t\t\t\t\telse if( a == \"%a\")\n\t\t\t\t\t\tset[3]=set[3]%12+((temp[i]||\"\")==i18n.am[0]?0:12);\n\t\t\t\t\telse if( a == \"%A\")\n\t\t\t\t\t\tset[3]=set[3]%12+((temp[i]||\"\")==i18n.am[1]?0:12);\n\t\t\t\t\telse if( a ==  \"%i\")\n\t\t\t\t\t\tset[4]=temp[i]||0;\n\t\t\t\t\telse if( a ==  \"%s\")\n\t\t\t\t\t\tset[5]=temp[i]||0;\n\t\t\t\t\telse if( a ==  \"%S\")\n\t\t\t\t\t\tset[6]=temp[i]||0;\n\t\t\t\t\telse if( a ==  \"%c\"){\n\t\t\t\t\t\tvar reg = /(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+)(\\+.*|)/g;\n\t\t\t\t\t\tvar res = reg.exec(date);\n\t\t\t\t\t\tset[0]= (res[1]||0)*1; if (set[0]<30) set[0]+=2000;\n\t\t\t\t\t\tset[1]= (res[2]||1)-1;\n\t\t\t\t\t\tset[2]= res[3]||1;\n\t\t\t\t\t\tset[3]= res[4]||0;\n\t\t\t\t\t\tset[4]= res[5]||0;\n\t\t\t\t\t\tset[5]= res[6]||0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(utc)\n\t\t\t\t\treturn new Date(Date.UTC(set[0],set[1],set[2],set[3],set[4],set[5], set[6]));\n\t\t\t\treturn new Date(set[0],set[1],set[2],set[3],set[4],set[5], set[6]);\n\t\t\t};\n\t\t}\n\n\t\tfor (i=0; i<mask.length; i++){\n\t\t\tswitch(mask[i]){\n\t\t\t\tcase \"%j\":\n\t\t\t\tcase \"%d\": splt+=\"set[2]=temp[\"+i+\"]||1;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%n\":\n\t\t\t\tcase \"%m\": splt+=\"set[1]=(temp[\"+i+\"]||1)-1;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%y\": splt+=\"set[0]=temp[\"+i+\"]*1+(temp[\"+i+\"]>30?1900:2000);\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%g\":\n\t\t\t\tcase \"%G\":\n\t\t\t\tcase \"%h\": \n\t\t\t\tcase \"%H\":\n\t\t\t\t\tsplt+=\"set[3]=temp[\"+i+\"]||0;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%i\":\n\t\t\t\t\tsplt+=\"set[4]=temp[\"+i+\"]||0;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%Y\":  splt+=\"set[0]=(temp[\"+i+\"]||0)*1; if (set[0]<30) set[0]+=2000;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%a\":\n\t\t\t\t\tsplt+= \"set[3]=set[3]%12+(temp[\"+i+\"]==i18n.am[0]?0:12);\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%A\":\n\t\t\t\t\tsplt+= \"set[3]=set[3]%12+(temp[\"+i+\"]==i18n.am[1]?0:12);\";\n\t\t\t\t\tbreak;\t\t\t\t\t\n\t\t\t\tcase \"%s\":  splt+=\"set[5]=temp[\"+i+\"]||0;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%S\":  splt+=\"set[6]=temp[\"+i+\"]||0;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%M\":  splt+=\"set[1]=i18n.calendar.monthShort_hash[temp[\"+i+\"]]||0;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%F\":  splt+=\"set[1]=i18n.calendar.monthFull_hash[temp[\"+i+\"]]||0;\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%c\":\n\t\t\t\t\tsplt+= \"var res = date.split('T');\";\n\t\t\t\t\tsplt+= \"if(res[0]){ var d = res[0].split('-');\";\n\t\t\t\t\tsplt+= \"set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;\";\n\t\t\t\t\tsplt+= \"set[1]= (d[1]||1)-1;\";\n\t\t\t\t\tsplt+= \"set[2]= d[2]||1;}\";\n\t\t\t\t\tsplt+= \"if(res[1]){ var t = res[1].split(':');\";\n\t\t\t\t\tsplt+= \"set[3]= t[0]||0;\";\n\t\t\t\t\tsplt+= \"set[4]= t[1]||0;\";\n\t\t\t\t\tsplt+= \"set[5]= parseInt(t[2])||0;}\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar code =\"set[0],set[1],set[2],set[3],set[4],set[5], set[6]\";\n\t\tif (utc) code =\" Date.UTC(\"+code+\")\";\n\t\tconst temp = new Function(\"date\", \"i18n\", \"if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0,0]; \"+splt+\" return new Date(\"+code+\");\");\n\t\treturn function(v){ return temp(v, i18n ); };\n\t},\n\t\t\n\tgetISOWeek: function(ndate) {\n\t\tif(!ndate) return false;\n\t\tvar nday = ndate.getDay();\n\t\tif (nday === 0) {\n\t\t\tnday = 7;\n\t\t}\n\t\tvar first_thursday = new Date(ndate.valueOf());\n\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\n\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\n\t\tvar ordinal_date = Math.floor( (first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\t\tvar weekNumber = 1 + Math.floor( ordinal_date / 7);\t\n\t\treturn weekNumber;\n\t},\n\t\n\tgetUTCISOWeek: function(ndate){\n\t\treturn this.getISOWeek(ndate);\n\t},\n\t_correctDate: function(d,d0,inc,checkFunc){\n\t\tif(!inc)\n\t\t\treturn;\n\t\tvar incorrect = checkFunc(d,d0);\n\t\tif(incorrect){\n\t\t\tvar i = (inc>0?1:-1);\n\n\t\t\twhile(incorrect){\n\t\t\t\td.setHours(d.getHours()+i);\n\t\t\t\tincorrect = checkFunc(d,d0);\n\t\t\t\ti += (inc>0?1:-1);\n\t\t\t}\n\t\t}\n\t},\n\tadd:function(date,inc,mode,copy){\n\t\tif (copy) date = this.copy(date);\n\t\tvar d = wDate.copy(date);\n\t\tswitch(mode){\n\t\t\tcase \"day\":\n\t\t\t\tdate.setDate(date.getDate()+inc);\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\n\t\t\t\t\treturn \twDate.datePart(d0,true).valueOf()== wDate.datePart(d,true).valueOf();\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"week\":\n\t\t\t\tdate.setDate(date.getDate()+7*inc);\n\t\t\t\tthis._correctDate(date,d,7*inc,function(d,d0){\n\t\t\t\t\treturn \twDate.datePart(d0,true).valueOf()== wDate.datePart(d,true).valueOf();\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"month\":\n\t\t\t\tdate.setMonth(date.getMonth()+inc);\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\n\t\t\t\t\treturn \td0.getMonth() == d.getMonth() && d0.getYear() == d.getYear();\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"year\":\n\t\t\t\tdate.setYear(date.getFullYear()+inc);\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\n\t\t\t\t\treturn \td0.getFullYear() == d.getFullYear();\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"hour\":\n\t\t\t\tdate.setHours(date.getHours()+inc);\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\n\t\t\t\t\treturn \td0.getHours() == d.getHours() && Date.datePart(d0,true)== Date.datePart(d,true);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"minute\": \tdate.setMinutes(date.getMinutes()+inc); break;\n\t\t\tdefault:\n\t\t\t\twDate.add[mode](date, inc, mode);\n\t\t\t\tbreak;\n\t\t}\n\t\treturn date;\n\t},\n\tdatePart:function(date, copy){\n\t\tif (copy) date = this.copy(date);\n\n\t\t// workaround for non-existent hours\n\t\tvar d = this.copy(date);\n\t\td.setHours(0);\n\t\tif(d.getDate()!=date.getDate()){\n\t\t\tdate.setHours(1);\n\t\t}\n\t\telse{\n\t\t\tdate.setHours(0);\n\t\t}\n\n\t\tdate.setMinutes(0);\n\t\tdate.setSeconds(0);\n\t\tdate.setMilliseconds(0);\n\t\treturn date;\n\t},\n\ttimePart:function(date, copy){\n\t\tif (copy) date = this.copy(date);\n\t\treturn (date.valueOf()/1000 - date.getTimezoneOffset()*60)%86400;\n\t},\n\tcopy:function(date){\n\t\treturn new Date(date.valueOf());\n\t},\n\tequal:function(a,b){\n\t\tif (!a || !b) return false;\n\t\treturn a.valueOf() === b.valueOf();\n\t},\n\tisHoliday:function(day){ \n\t\tday = day.getDay();\n\t\tif (day === 0 || day==6) return \"webix_cal_event\"; \n\t}\n};\n\nexport default wDate;","import i18n from \"../webix/i18n\";\n\nconst Number={\n\tgetConfig: function(value){\n\t\tvar config = {\n\t\t\tdecimalSize:0,\n\t\t\tgroupSize:999,\n\t\t\tprefix:\"\",\n\t\t\tsufix:\"\"\n\t\t};\n\t\tvar parts = value.split(/[0-9].*[0-9]/g);\n\t\tif (parts[0].length)\n\t\t\tconfig.prefix = parts[0];\n\t\tif (parts[1].length)\n\t\t\tconfig.sufix = parts[1];\n\t\tif (config.prefix || config.sufix){\n\t\t\tvalue = value.substr(config.prefix.length, value.length - config.prefix.length - config.sufix.length);\n\t\t}\n\n\t\tvar num = value.indexOf(\"1\");\n\t\tif (num > 0){\n\t\t\tconfig.prefix = value.substr(0, num);\n\t\t\tvalue = value.substr(num);\n\t\t}\n\n\t\tvar dot = value.indexOf(\"0\");\n\t\tif (dot > 0){\n\t\t\tconfig.decimalSize = value.length - dot;\n\t\t\tconfig.decimalDelimiter = value[dot-1];\n\t\t\tvalue = value.substr(0, dot-1);\n\t\t}\n\t\tvar sep = value.match(/[^0-9]/);\n\t\tif (sep){\n\t\t\tconfig.groupSize = value.length - sep.index - 1;\n\t\t\tconfig.groupDelimiter = value[sep.index];\n\t\t}\n\t\treturn config;\n\t},\n\tparse:function(value, config){\n\t\tif (!value || typeof value !== \"string\")\n\t\t\treturn value;\n\n\t\tif (config.prefix)\n\t\t\tvalue = value.toLowerCase().replace(config.prefix.toLowerCase() || \"\", \"\");\n\t\tif (config.sufix)\n\t\t\tvalue = value.toLowerCase().replace(config.sufix.toLowerCase() || \"\", \"\");\n\n\t\tvar decimal = \"\";\n\t\tif (config.decimalDelimiter){\n\t\t\tvar ind = value.indexOf(config.decimalDelimiter);\n\t\t\tif (ind > -1){\n\t\t\t\tdecimal = value.substr(ind+1).replace(/[^0-9]/g, \"\");\n\t\t\t\tdecimal = decimal.substr(0, Math.min(decimal.length, config.decimalSize));\n\t\t\t\tvalue = value.substr(0, ind);\n\t\t\t}\n\t\t}\n\n\t\tvar sign = value[0] === \"-\" ? -1 : 1;\n\t\tvalue = value.replace(/[^0-9]/g, \"\");\n\t\tif (!value)\n\t\t\tvalue = \"0\";\n\n\t\tif (decimal)\n\t\t\tvalue += \".\"+decimal;\n\n\t\treturn parseFloat(value)*sign;\n\t},\n\tformat: function(value, config){ \n\t\tif (value === \"\" || typeof value === \"undefined\") return value;\n\t\t\n\t\tconfig = config||i18n;\n\t\tvalue = parseFloat(value);\n\n\t\tvar sign = value < 0 ? \"-\":\"\";\n\t\tvalue = Math.abs(value);\n\n\t\tif (!config.decimalOptional)\n\t\t\tvalue = value.toFixed(config.decimalSize);\n\n\t\tvar str = value.toString();\n\t\tstr = str.split(\".\");\n\n\t\tvar int_value = \"\";\n\t\tif (config.groupSize){\n\t\t\tvar step = config.groupSize;\n\t\t\tvar i=str[0].length;\n\t\t\tdo {\n\t\t\t\ti-=step;\n\t\t\t\tvar chunk = (i>0)?str[0].substr(i,step):str[0].substr(0,step+i);\n\t\t\t\tint_value = chunk+(int_value?config.groupDelimiter+int_value:\"\");\n\t\t\t} while(i>0);\n\t\t} else\n\t\t\tint_value = str[0];\n\n\t\tif (config.decimalSize)\n\t\t\tstr = sign + int_value + (str[1] ? (config.decimalDelimiter + str[1]) : \"\");\n\t\telse\n\t\t\tstr = sign + int_value;\n\n\t\tif (config.prefix || config.sufix){\n\t\t\treturn config.prefix + str + config.sufix;\n\t\t} else \n\t\t\treturn str;\n\t},\n\tnumToStr:function(config){\n\t\treturn function(value){\n\t\t\treturn Number.format(value, config);\n\t\t};\n\t}\n};\n\nexport default Number;","import en from \"../i18n/en\";\nimport i18n from \"./i18n\";\n\nimport wDate from \"../core/date\";\nimport Number from \"../core/number\";\n\nimport {copy, isArray} from \"../webix/helpers\";\nimport template from \"./template\";\n\n\nfunction extend(base,source){\n\tfor (var method in source){\n\t\tif(typeof(source[method]) == \"object\" && !isArray(source[method])){\n\t\t\tif(!base[method]){\n\t\t\t\tbase[method] = {};\n\t\t\t}\n\t\t\textend(base[method],source[method]);\n\t\t}\n\t\telse\n\t\t\tbase[method] = source[method];\n\t}\n}\n\nconst helpers = [\"fullDateFormat\", \"timeFormat\", \"dateFormat\", \"longDateFormat\", \"parseFormat\", \"parseTimeFormat\"];\n\ni18n.setLocale = function(locale){\n\tif (typeof locale == \"string\")\n\t\tlocale = i18n.locales[locale];\n\tif (locale){\n\t\tlocale.priceSettings  = copy(locale.priceSettings || locale);\n\t\textend(i18n, locale);\n\t\tdelete i18n.calendar.monthShort_hash;\n\t\tdelete i18n.calendar.monthFull_hash;\n\t}\n\tfor( var i=0; i<helpers.length; i++){\n\t\tvar key = helpers[i];\n\t\tvar utc = i18n[key+\"UTC\"];\n\t\ti18n[key+\"Str\"] = wDate.dateToStr(i18n[key], utc);\n\t\ti18n[key+\"Date\"] = wDate.strToDate(i18n[key], utc);\n\t}\n\n\tconst _price_format = template(i18n.price);\n\tconst _price_settings = i18n.priceSettings || i18n;\n\n\ti18n.intFormat = Number.numToStr({ groupSize:i18n.groupSize, groupDelimiter:i18n.groupDelimiter, decimalSize : 0});\n\ti18n.priceFormat = function(value){ return _price_format(Number.format(value, _price_settings)); };\n\ti18n.numberFormat = Number.format;\n};\n\n\ni18n.locales={ \"en-US\" : en };\ni18n.setLocale(\"en-US\");\n\nexport default i18n;","import env from \"../webix/env\";\nimport {stringify} from \"./stringify\";\nimport DataDriver from \"../load/drivers/index\";\n\n\nconst storage = {};\n\nstorage.prefix = function(scope, storage){\n\tscope = scope + \".\";\n\treturn {\n\t\tput:function(name, data){\n\t\t\treturn storage.put(scope+name, data);\n\t\t},\n\t\tget:function(name){\n\t\t\treturn storage.get(scope+name);\n\t\t},\n\t\tremove:function(name){\n\t\t\treturn storage.remove(scope+name);\n\t\t}\n\t};\n};\n\nstorage.local = {\n\tput:function(name, data){\n\t\tif(name && window.JSON && window.localStorage){\n\t\t\twindow.localStorage.setItem(name, stringify(data));\n\t\t}\n\t},\n\tget:function(name){\n\t\tif(name && window.JSON && window.localStorage){\n\t\t\tvar json = window.localStorage.getItem(name);\n\t\t\tif(!json)\n\t\t\t\treturn null;\n\t\t\treturn DataDriver.json.toObject(json);\n\t\t}else\n\t\t\treturn null;\n\t},\n\tremove:function(name){\n\t\tif(name && window.JSON && window.localStorage){\n\t\t\twindow.localStorage.removeItem(name);\n\t\t}\n\t},\n\tclear:function(){\n\t\twindow.localStorage.clear();\n\t}\n};\n\nstorage.session = {\n\tput:function(name, data){\n\t\tif(name && window.JSON && window.sessionStorage){\n\t\t\twindow.sessionStorage.setItem(name, stringify(data));\n\t\t}\n\t},\n\tget:function(name){\n\t\tif(name && window.JSON && window.sessionStorage){\n\t\t\tvar json = window.sessionStorage.getItem(name);\n\t\t\tif(!json)\n\t\t\t\treturn null;\n\t\t\treturn DataDriver.json.toObject(json);\n\t\t}else\n\t\t\treturn null;\n\t},\n\tremove:function(name){\n\t\tif(name && window.JSON && window.sessionStorage){\n\t\t\twindow.sessionStorage.removeItem(name);\n\t\t}\n\t},\n\tclear:function(){\n\t\twindow.sessionStorage.clear();\n\t}\n};\n\nstorage.cookie = {\n\tput:function(name, data, domain, expires ){\n\t\tif(name && window.JSON){\n\t\t\tdocument.cookie = name + \"=\" + escape(stringify(data)) +\n\t\t\t(( expires && (expires instanceof Date)) ? \";expires=\" + expires.toUTCString() : \"\" ) +\n\t\t\t(( domain ) ? \";domain=\" + domain : \"\" ) + \n\t\t\t(( env.https ) ? \";secure\" : \"\");\n\t\t}\n\t},\n\tgetRaw:function(check_name){\n\t\t// first we'll split this cookie up into name/value pairs\n\t\t// note: document.cookie only returns name=value, not the other components\n\t\tvar a_all_cookies = document.cookie.split( \";\" );\n\t\tvar a_temp_cookie = \"\";\n\t\tvar cookie_name = \"\";\n\t\tvar cookie_value = \"\";\n\t\tvar b_cookie_found = false; // set boolean t/f default f\n\n\t\tfor (var i = 0; i < a_all_cookies.length; i++ ){\n\t\t\t// now we'll split apart each name=value pair\n\t\t\ta_temp_cookie = a_all_cookies[i].split( \"=\" );\n\n\t\t\t// and trim left/right whitespace while we're at it\n\t\t\tcookie_name = a_temp_cookie[0].replace(/^\\s+|\\s+$/g, \"\");\n\n\t\t\t// if the extracted name matches passed check_name\n\t\t\tif (cookie_name == check_name ){\n\t\t\t\tb_cookie_found = true;\n\t\t\t\t// we need to handle case where cookie has no value but exists (no = sign, that is):\n\t\t\t\tif ( a_temp_cookie.length > 1 ){\n\t\t\t\t\tcookie_value = unescape( a_temp_cookie[1].replace(/^\\s+|\\s+$/g, \"\") );\n\t\t\t\t}\n\t\t\t\t// note that in cases where cookie is initialized but no value, null is returned\n\t\t\t\treturn cookie_value;\n\t\t\t}\n\t\t\ta_temp_cookie = null;\n\t\t\tcookie_name = \"\";\n\t\t}\n\t\tif ( !b_cookie_found ){\n\t\t\treturn null;\n\t\t}\n\t\treturn null;\n\t},\n\tget:function(name){\n\t\tif(name && window.JSON){\n\t\t\tvar json = this.getRaw(name);\n\t\t\tif(!json)\n\t\t\t\treturn null;\n\t\t\treturn DataDriver.json.toObject(unescape(json));\n\t\t}else\n\t\t\treturn null;\n\t},\n\tremove:function(name, domain){\n\t\tif(name && this.getRaw(name)) \n\t\t\tdocument.cookie = name + \"=\" + (( domain ) ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\n\t},\n\tclear:function(domain){\n\t\tvar cookies = document.cookie.split(\";\");\n\t\tfor (var i = 0; i < cookies.length; i++)\n\t\t\tdocument.cookie = /^[^=]+/.exec(cookies[i])[0] + \"=\" + (( domain ) ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\t\t\n\t}\n};\n\nexport default storage;","import {addCss, addStyle, removeCss, removeStyle, remove, insertBefore, create} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport {$$} from \"../ui/core\";\nimport {assert} from \"../webix/debug\";\n\n\nenv.printPPI = 96;\nenv.printMargin = 0.75*env.printPPI;\n\nvar papers = { \"a4\":\"A4\", \"a3\":\"A3\", \"letter\":\"letter\"};\nvar fits = { page:true, data:true};\nvar modes = { portrait:true, landscape:true};\n\nvar sizes = {//inches, real size is value*ppi\n\t\"A3\": { width: 11.7, height: 16.5 },\n\t\"A4\": { width: 8.27, height:11.7 },\n\t\"letter\": { width: 8.5, height:11 }\n};\n\nconst print = function(id, options){\n\n\tvar view = $$(id);\n\tif (view && view.$printView)\n\t\tview = view.$printView();\n\n\tassert(view, \"non-existing view for printing\");\n\tif(!view) return;\n\n\tif(view.callEvent)\n\t\tview.callEvent(\"onBeforePrint\", [options]);\n\n\toptions = _checkOptions(options);\n\t_beforePrint(options);\n\n\t//try widget's custom logic first, sometimes it may deny \n\tif(!view.$customPrint || view.$customPrint(options) === true) \n\t\t_print(view, options);\n\n\t_afterPrint(options);\n};\n\n/*processing print options*/\nfunction _checkOptions(options){\n\t\n\toptions = options || {};\n\toptions.paper = papers[(options.paper || \"\").toLowerCase()] || \"A4\";\n\toptions.mode = modes[options.mode] ? options.mode : \"portrait\";\n\toptions.fit = fits[options.fit] ? options.fit: \"page\";\n\toptions.scroll = options.scroll || false;\n\toptions.size = sizes[options.paper];\n\toptions.margin = (options.margin || options.margin === 0) ? options.margin : {};\n\t\n\tconst margin = isNaN(options.margin*1) ? env.printMargin : options.margin;\n\toptions.margin = {\n\t\ttop:(options.margin.top || options.margin.top === 0) ? options.margin.top: margin, \n\t\tbottom:(options.margin.bottom || options.margin.bottom === 0) ? options.margin.bottom: margin, \n\t\tright:(options.margin.right || options.margin.right === 0) ? options.margin.right: margin, \n\t\tleft:(options.margin.left || options.margin.left === 0) ? options.margin.left: margin\n\t};\n\n\treturn options;\n}\n\n/*preparing printing environment*/\nfunction _beforePrint(options){\n\taddCss(document.body,\"webix_print\");\n\n\tif(options.docHeader) _getHeaderFooter(\"Header\", options);\n\tif(options.docFooter) _getHeaderFooter(\"Footer\", options);\n\n\t/* static print styles are located at 'css/print.less'*/\n\tvar cssString = \"@media print { \"+\n\t\t\"@page{ size:\"+options.paper+\" \"+options.mode+\";\"+\n\t\t\t\"margin-top:\"+options.margin.top+\"px;margin-bottom:\"+options.margin.bottom+\n\t\t\t\"px;margin-right:\"+options.margin.right+\"px;margin-left:\"+options.margin.left+\n\t\t\"px;}\"+\n\t\"}\";\n\taddStyle(cssString, \"print\");\n}\n\n/*cleaning environment*/\nfunction _afterPrint(options){\n\tremoveCss(document.body, \"webix_print\");\n\tremoveStyle(\"print\");\n\n\tif(options.docHeader) remove(options.docHeader);\n\tif(options.docFooter) remove(options.docFooter);\n}\n\n/*common print actions */\nfunction _print(view, options){\n\tvar doc = view.$view.cloneNode(true);\n\n\t//copy data from all canvases\n\tvar canvases = view.$view.getElementsByTagName(\"canvas\");\n\tif(canvases.length)\n\t\tfor(var i = canvases.length-1; i >=0; i--){\n\t\t\tvar destCtx = doc.getElementsByTagName(\"canvas\")[i].getContext(\"2d\");\n\t\t\tdestCtx.drawImage(canvases[i], 0, 0);\n\t\t}\n\n\tinsertBefore(doc, options.docFooter, document.body);\n\n\taddCss(doc,\"webix_ui_print\");\n\tif(!options.scroll && ((view._dataobj && view.data && view.data.pull) || view.getBody))\n\t\taddCss(doc, \"webix_print_noscroll\");\n\n\twindow.print();\n\n\tremove(doc);\n}\n/*custom header nad footer*/\nfunction _getHeaderFooter(group, options){\n\tvar header =  create(\"div\", { \n\t\t\"class\":\"webix_view webix_print_\"+group.toLowerCase(),\n\t\t\"style\":\"height:0px;visibility:hidden;\"\n\t}, options[\"doc\"+group]);\n\n\tif(group ===\"Header\")\n\t\tinsertBefore(header, document.body.firstChild);\n\telse\n\t\tdocument.body.appendChild(header);\n\n\toptions[\"doc\"+group] = header;\n}\n\nexport default print;","const patterns = {\n\tphone:{ mask:\"+# (###) ###-####\", allow:/[0-9]/g },\n\tcard: { mask:\"#### #### #### ####\", allow:/[0-9]/g },\n\tdate: { mask:\"####-##-## ##:##\", allow:/[0-9]/g }\n};\n\nexport default patterns;","/*\n\tCommon helpers\n*/\n\nexport * from \"./consts\";\nexport * from \"./helpers\";\nexport * from \"./htmlevents\";\nexport * from \"./customevents\";\nexport * from \"./stringify\";\nexport * from \"./export\";\nexport * from \"./message\";\nexport * from \"./api\";\nexport * from \"./init\";\n\nimport \"./ie8\";\n\n/*\n\tNext two ugly blocks are here for IE8 compatibility\n\trollup converts \"import * as\" to Object.freeze which doesn't work in IE8\n\n\tfor modern browsers it can be replaced with \n*/\n\n//\timport * as html from \"./html\";\nimport { denySelect, allowSelect, index, createCss, addStyle, removeStyle, create, getValue, remove, insertBefore, locate, offset, posRelative, pos, preventEvent, stopEvent, triggerEvent, addCss, removeCss, getTextSize, download, _getClassName, setSelectionRange, getSelectionRange, addMeta } from \"./html\";\nconst html = { denySelect, allowSelect, index, createCss, addStyle, removeStyle, create, getValue, remove, insertBefore, locate, offset, posRelative, pos, preventEvent, stopEvent, triggerEvent, addCss, removeCss, getTextSize, download, _getClassName, setSelectionRange, getSelectionRange, addMeta };\nexport { html };\n\n//\timport * as skin from \"./skin\";\nexport { skin } from \"./skin\";\n\nexport {debug} from \"./debug\";\n\nexport {default as i18n} from \"./locale\";\nexport {default as ready} from \"./ready\";\nexport {default as env} from \"./env\";\nexport {default as color} from \"./color\";\nexport {default as csv} from \"./csv\";\nexport {default as clipbuffer} from \"./clipbuffer\";\nexport {default as storage} from \"./storage\";\nexport {default as template} from \"./template\";\nexport {default as type} from \"./type\";\nexport {default as editors} from \"./editors\";\nexport {default as animate} from \"./animate\";\nexport {default as print} from \"./print\";\nexport {default as rules} from \"./rules\";\nexport {default as patterns} from \"./patterns\";\nexport {default as fullscreen} from \"./fullscreen\";","import {ajax} from \"../load/ajax\";\nimport promise from \"../thirdparty/promiz\";\nimport {bind} from \"../webix/helpers\";\nimport {callEvent} from \"../webix/customevents\";\n\n\nvar error_key = \"__webix_remote_error\";\n\nfunction RemoteContext(url, config){\n\tthis._proxy = {};\n\tthis._queue = [];\n\tthis._url = url;\n\tthis._key = \"\";\n\n\tif (config)\n\t\tthis._process(config);\n\telse\n\t\tthis._ready = ajax(url)\n\t\t\t.then(function(data){\n\t\t\t\treturn data.text();\n\t\t\t})\n\t\t\t.then(bind(function(text){\n\t\t\t\ttext = text.split(\"/*api*/\")[1];\n\t\t\t\tthis._process(JSON.parse(text));\n\t\t\t\treturn this._proxy;\n\t\t\t}, this));\n}\nRemoteContext.prototype = {\n\t_process:function(config){\n\t\tif (config.$key)\n\t\t\tthis._key = config.$key;\n\t\tif (config.$vars)\n\t\t\tfor (var key in config.$vars)\n\t\t\t\tthis._proxy[key] = config.$vars[key];\n\n\t\tthis._parse(config, this._proxy, \"\");\n\t},\n\t_parse:function(api, obj, prefix){\n\t\tfor (var key in api){\n\t\t\tif (key === \"$key\" || key === \"$vars\") continue;\n\t\t\tvar val = api[key];\n\t\t\tif (typeof val == \"object\"){\n\t\t\t\tvar sub = obj[key] = {};\n\t\t\t\tthis._parse(val, sub, prefix+key+\".\");\n\t\t\t} else\n\t\t\t\tobj[key] = this._proxy_call(this, prefix+key);\n\t\t}\n\t},\n\t_call:function(name, args){\n\t\tvar def = this._deffer(this, name, args);\n\t\tthis._queue.push(def);\n\t\tthis._start_queue();\n\t\treturn def;\n\t},\n\t_start_queue:function(){\n\t\tif (!this._timer)\n\t\t\tthis._timer = setTimeout(bind(this._run_queue, this), 1);\n\t},\n\t_run_queue:function(){\n\t\tvar data = [], defs = this._queue;\n\t\tfor (var i=0; i<this._queue.length; i++){\n\t\t\tvar def = this._queue[i];\n\t\t\tif (def.$sync){\n\t\t\t\tdefs.splice(i,1); i--;\n\t\t\t} else\n\t\t\t\tdata.push({ name: def.$name, args: def.$args });\t\n\t\t}\n\n\t\tif (defs.length){\n\t\t\tvar request = ajax();\n\t\t\tvar pack = this._pack(data);\n\t\t\tcallEvent(\"onBeforeRemoteCall\", [request, pack, {}]);\n\t\t\tvar promise = request.post(this._url, pack)\n\t\t\t\t.then(function(response){\n\t\t\t\t\tvar data = response.json();\n\t\t\t\t\tvar results = data.data;\n\t\t\t\t\tfor (var i=0; i<results.length; i++){\n\t\t\t\t\t\tlet res = results[i];\n\t\t\t\t\t\tlet error = results[i] && results[i][error_key];\n\t\t\t\t\t\tif (error){\n\t\t\t\t\t\t\tcallEvent(\"onRemoteError\", [error]);\n\t\t\t\t\t\t\tdefs[i].reject(error);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdefs[i].resolve(res);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\t\t\n\t\t\t\t}, function(res){\n\t\t\t\t\tfor (var i=0; i<defs.length; i++)\n\t\t\t\t\t\tdefs[i].reject(res);\n\t\t\t\t\tthrow res;\n\t\t\t\t});\n\t\t\tcallEvent(\"onAfterRemoteCall\", [promise]);\n\t\t}\n\n\t\tthis._queue = [];\n\t\tthis._timer = null;\n\t},\n\t_sync:function(){\n\t\tvar value = null;\n\t\tthis.$sync = true;\n\t\tvar data = [{ name: this.$name, args: this.$args }];\n\n\t\ttry {\n\t\t\tvar request = ajax();\n\t\t\tvar pack = this.$context._pack(data);\n\t\t\tcallEvent(\"onBeforeRemoteCall\", [request, pack, { sync: true }]);\n\t\t\tvar xhr = request.sync().post(this.$context._url, pack);\n\t\t\tcallEvent(\"onAfterRemoteCall\", [null]);\n\t\t\tvalue = JSON.parse(xhr.responseText).data[0];\n\t\t\tif (value[error_key])\n\t\t\t\tvalue = null;\n\t\t} catch(e){} //eslint-disable-line\n\n\t\treturn value;\n\t},\n\t_deffer:function(master, name, args){\n\t\tvar pr = promise.defer();\n\t\tpr.sync = master._sync;\n\t\tpr.$name = name;\n\t\tpr.$args = args;\n\t\tpr.$context = this;\n\n\t\treturn pr;\n\t},\n\t_proxy_call:function(master, name){\n\t\treturn function(){\n\t\t\treturn master._call(name, [].slice.call(arguments));\n\t\t};\n\t},\n\t_getProxy:function(){\n\t\treturn this._ready || this._proxy;\n\t},\n\t_pack:function(obj){\n\t\treturn {\n\t\t\tkey: this._key,\n\t\t\tpayload:obj\n\t\t};\n\t}\n};\n\nfunction getApi(url, config){\n\tvar ctx = new RemoteContext(url, config);\n\tvar proxy = ctx._getProxy();\n\tfor (var key in proxy)\n\t\tremote[key] = proxy[key];\n\n\treturn proxy;\n}\n\nconst remote = function(url, config){\n\tif (typeof url === \"object\"){\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tconfig = url;\n\t\turl = scripts[scripts.length - 1].src;\n\t\treturn getApi(url, config);\n\t} else \n\t\treturn getApi(url, config);\n};\n\nexport default remote;","import {create} from \"../webix/html\";\n\n/*submits values*/\nexport default function send(url, values, method, target){\n\tvar form = create(\"FORM\",{\n\t\t\"target\":(target||\"_self\"),\n\t\t\"action\":url,\n\t\t\"method\":(method||\"POST\")\n\t},\"\");\n\tfor (var k in values) {\n\t\tvar field = create(\"INPUT\",{\"type\":\"hidden\",\"name\": k,\"value\": values[k]},\"\");\n\t\tform.appendChild(field);\n\t}\n\tform.style.display = \"none\";\n\tdocument.body.appendChild(form);\n\tform.submit();\n\tdocument.body.removeChild(form);\n}","import {ui, $$} from \"./core\";\nimport {create} from \"../webix/html\";\nimport ani from \"../webix/animate\";\n\nexport function animate(obj, parent, config){\n\tvar pobj = $$(parent);\n\tif (pobj){\n\t\tvar aniset = config || { type:\"slide\", direction:\"left\" };\n\t\tvar d = pobj._viewobj.cloneNode(true);\n\t\tvar view = ui(obj, parent);\n\n\t\tview._viewobj.parentNode.appendChild(d);\n\t\tvar line = ani.formLine(\n\t\t\tview._viewobj,\n\t\t\td,\n\t\t\taniset\n\t\t);\n\n\t\taniset.callback = function(){\n\t\t\tani.breakLine(line);\n\t\t};\n\t\tani(line, aniset);\n\n\t\treturn view;\n\t}\n}\n\nexport function animateView(view, stateHandler, config){\n\tview = $$(view);\n\tif (view){\n\t\tconfig = config || { type:\"slide\", direction:\"left\" };\n\n\t\tvar getHTML = function(view){\n\t\t\tvar el = view._viewobj;\n\t\t\tvar css = el.className;\n\t\t\tvar content =el.innerHTML;\n\t\t\treturn \"<div class='\"+css+\"' style='width:\"+el.offsetWidth+\"px;height:\"+el.offsetHeight+\"px;'>\"+content+\"</div>\";\n\t\t};\n\n\t\t// get 'display' state of child nodes\n\t\tvar display = [];\n\t\tfor(let i=0; i<view._viewobj.childNodes.length; i++){\n\t\t\tvar node = view._viewobj.childNodes[i];\n\t\t\tvar value = node.currentStyle ?node.currentStyle.display : getComputedStyle(node, null).display;\n\t\t\tdisplay.push(value||\"\");\n\t\t}\n\t\t// get current html content\n\t\tvar currentState = getHTML(view);\n\n\t\t// apply new state\n\t\tif(typeof stateHandler == \"function\"){\n\t\t\tstateHandler.call(this);\n\t\t}\n\n\t\t// get new html content\n\t\tvar newState = getHTML(view);\n\n\t\t// insert elements into the view\n\t\tvar tempParent = view._viewobj.insertBefore(create(\"DIV\",{\n\t\t\t\"class\" : \"webix_view_animate\",\n\t\t\t\"style\" : \"width:\"+view._viewobj.offsetWidth+\"px;height:\"+view._viewobj.offsetHeight+\"px;\"\n\t\t}, newState+currentState),view._viewobj.firstChild);\n\n\t\t// hide child nodes\n\t\tfor(let i =1; i<view._viewobj.childNodes.length; i++){\n\t\t\tview._viewobj.childNodes[i].style.display = \"none\";\n\t\t}\n\n\t\t// animate inserted elements\n\t\tvar line = ani.formLine(\n\t\t\ttempParent.childNodes[0],\n\t\t\ttempParent.childNodes[1],\n\t\t\tconfig\n\t\t);\n\t\tconfig.callback = function(){\n\t\t\tif(tempParent){\n\t\t\t\tview._viewobj.removeChild(tempParent);\n\t\t\t\ttempParent = null;\n\t\t\t\t// restore 'display' state of child nodes\n\t\t\t\tfor(var i =0; i< view._viewobj.childNodes.length;i++){\n\t\t\t\t\tview._viewobj.childNodes[i].style.display = display[i];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tani(line, config);\n\n\t\treturn view;\n\t}\n}","import {addMeta, addStyle} from \"../webix/html\";\nimport env from \"../webix/env\";\nimport state from \"../core/state\";\n\nimport {isUndefined, delay} from \"../webix/helpers\";\nimport {resize} from \"../ui/helpers\";\nimport {event} from \"../webix/htmlevents\";\nimport {callEvent, attachEvent} from \"../webix/customevents\";\n\nfunction orientation(){\n\tvar new_orientation = !!(window.orientation%180);\n\tif (state.orientation === new_orientation) return;\n\tstate.orientation = new_orientation;\t\n\tcallEvent(\"onRotate\", [new_orientation]);\n}\n\nif(env.touch){\n\tstate.orientation = !!((isUndefined(window.orientation)?90:window.orientation)%180);\n\tevent(window, (\"onorientationchange\" in window ?\"orientationchange\":\"resize\"), orientation);\n}\n\nexport default function fullScreen(){\n\tif (!env.touch) return;\n\n\taddMeta(\"apple-mobile-web-app-capable\",\"yes\");\n\taddMeta(\"viewport\",\"initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no\");\n\tif (!env.isMac)\n\t\taddStyle(\"body.webix_full_screen{ overflow-y: auto; }\");\n\n\tvar fix = function(){\n\t\tvar x = window.innerWidth;\n\t\tvar y = window.innerHeight;\n\n\t\tif (y){\n\t\t\tdocument.body.style.height = y+\"px\";\n\t\t\tdocument.body.style.width = x+\"px\";\n\t\t}\n\n\t\tstate._freeze_resize = false;\n\t\tresize();\n\t};\n\n\tvar onrotate = function(){ \n\t\tstate._freeze_resize = true;\n\t\tdelay(fix,null, [], 500);\n\t};\n\n\n\tattachEvent(\"onRotate\", onrotate);\n\torientation();\n\tdelay(onrotate);\n\n}","import {preventEvent} from \"../webix/html\";\nimport template from \"../webix/template\";\nimport {extend} from \"../webix/helpers\";\nimport {$$} from \"../ui/core\";\nimport i18n from \"../webix/i18n\";\nimport {_event} from \"../webix/htmlevents\";\nimport wDate from \"../core/date\";\n\n\nconst datafilter = {\n\ttextWaitDelay:500,\n\t\"summColumn\":{\n\t\tgetValue:function(node){ return node.firstChild.innerHTML; },\n\t\tsetValue: function(){},\n\t\trefresh:function(master, node, value){ \n\t\t\tvar result = 0;\n\t\t\tmaster.mapCells(null, value.columnId, null, 1, function(value){\n\t\t\t\tvalue = value*1;\n\t\t\t\tif (!isNaN(value))\n\t\t\t\t\tresult+=value;\n\t\t\t}, true);\n\n\t\t\tif (value.format)\n\t\t\t\tresult = value.format(result);\n\t\t\tif (value.template)\n\t\t\t\tresult = value.template({value:result});\n\n\t\t\tnode.firstChild.innerHTML = result;\n\t\t},\n\t\ttrackCells:true,\n\t\trender:function(master, config){ \n\t\t\tif (config.template)\n\t\t\t\tconfig.template = template(config.template);\n\t\t\treturn \"\"; \n\t\t}\n\t},\n\t\"masterCheckbox\":{\n\t\tgetValue:function(){},\n\t\tsetValue:function(){},\n\t\tgetHelper:function(node, config){\n\t\t\treturn {\n\t\t\t\tcheck:function(){ config.checked = false; node.onclick(); },\n\t\t\t\tuncheck:function(){ config.checked = true; node.onclick(); },\n\t\t\t\tisChecked:function(){ return config.checked; }\n\t\t\t};\n\t\t},\n\t\trefresh:function(master, node, config){\n\t\t\tnode.onclick = function(){\n\t\t\t\tthis.getElementsByTagName(\"input\")[0].checked = config.checked = !config.checked;\n\t\t\t\tvar column = master.getColumnConfig(config.columnId);\n\t\t\t\tvar checked = config.checked ? column.checkValue : column.uncheckValue;\n\t\t\t\tmaster.data.each(function(obj){\n\t\t\t\t\tobj[config.columnId] = checked;\n\t\t\t\t\tmaster.callEvent(\"onCheck\", [obj.id, config.columnId, checked]);\n\t\t\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"save\"]);\n\t\t\t\t});\n\t\t\t\tmaster.refresh();\n\t\t\t};\n\t\t},\n\t\trender:function(master, config){ \n\t\t\treturn \"<input type='checkbox' \"+(config.checked?\"checked='1'\":\"\")+\">\"; \n\t\t}\n\t},\n\t\"textFilter\":{\n\t\tgetInputNode:function(node){ return node.firstChild?node.firstChild.firstChild:{ value: null }; },\n\t\tgetValue:function(node){ return this.getInputNode(node).value;  },\n\t\tsetValue:function(node, value){ this.getInputNode(node).value = value;  },\n\t\trefresh:function(master, node, value){\n\t\t\tnode.component = master._settings.id;\n\t\t\tmaster.registerFilter(node, value, this);\n\t\t\tnode._comp_id = master._settings.id;\n\t\t\tif (value.value && this.getValue(node) != value.value) this.setValue(node, value.value);\n\t\t\tnode.onclick = preventEvent;\n\t\t\t_event(node, \"keydown\", this._on_key_down);\n\t\t},\n\t\trender:function(master, config){\n\t\t\tif (this.init) this.init(config);\n\t\t\tconfig.css = (config.css||\"\") + \" webix_ss_filter\";\n\t\t\treturn \"<input \"+(config.placeholder?(\"placeholder=\\\"\"+config.placeholder+\"\\\" \"):\"\")+\"type='text'>\"; \n\t\t},\n\t\t_on_key_down:function(e){\n\t\t\tvar id = this._comp_id;\n\n\t\t\t//tabbing through filters must not trigger filtering\n\t\t\t//we can improve this functionality by preserving initial filter value\n\t\t\t//and comparing new one with it\n\t\t\tif ((e.which || e.keyCode) == 9) return;\n\n\t\t\tif (this._filter_timer) window.clearTimeout(this._filter_timer);\n\t\t\tthis._filter_timer=window.setTimeout(function(){\n\t\t\t\tvar ui = $$(id);\n\t\t\t\t//ensure that ui is not destroyed yet\n\t\t\t\tif (ui) ui.filterByAll();\n\t\t\t},datafilter.textWaitDelay);\n\t\t}\n\t},\n\t\"selectFilter\":{\n\t\tgetInputNode:function(node){ return node.firstChild?node.firstChild.firstChild:{ value: null}; },\n\t\tgetValue:function(node){ return this.getInputNode(node).value;  },\n\t\tsetValue:function(node, value){ this.getInputNode(node).value = value;  },\n\t\trefresh:function(master, node, value){\n\t\t\t//value - config from header { contet: }\n\t\t\tvalue.compare = value.compare || function(a,b){ return a == b; };\n\n\t\t\tnode.component = master._settings.id;\n\t\t\tmaster.registerFilter(node, value, this);\n\n\t\t\tconst data = datafilter._get_data(master, value);\n\t\t\tif (value.emptyOption !== false)\n\t\t\t\tdata.unshift({id:\"\", value:value.emptyOption||\"\"});\n\n\t\t\t//slow in IE\n\t\t\t//http://jsperf.com/select-options-vs-innerhtml\n\n\t\t\tlet select = document.createElement(\"select\");\n\t\t\tfor (let i = 0; i < data.length; i++){\n\t\t\t\tlet option = document.createElement(\"option\");\n\t\t\t\toption.value = data[i].id;\n\t\t\t\toption.text = data[i].value;\n\t\t\t\tselect.add(option);\n\t\t\t}\n\n\t\t\tnode.firstChild.innerHTML = \"\";\n\t\t\tnode.firstChild.appendChild(select);\n\n\t\t\tif (value.value) this.setValue(node, value.value);\n\t\t\tnode.onclick = preventEvent;\n\n\t\t\tselect._comp_id = master._settings.id;\n\t\t\t_event(select, \"change\", this._on_change);\n\t\t},\n\t\trender:function(master, config){\n\t\t\tif (this.init) this.init(config);\n\t\t\tconfig.css = (config.css||\"\") + \" webix_ss_filter\";\n\t\t\treturn \"\";\n\t\t},\n\t\t_on_change:function(){ \n\t\t\t$$(this._comp_id).filterByAll();\n\t\t}\n\t},\n\t_get_data:function(master, value){\n\t\tlet data;\n\t\tlet options = value.options;\n\n\t\tif (options){\n\t\t\tdata = master._collectValues.call(options, \"id\", \"value\");\n\t\t} else\n\t\t\tdata = master.collectValues(value.columnId, value.collect);\n\n\t\treturn data;\n\t}\n};\n\ndatafilter.serverFilter = extend({\n\t$server: true,\n\t_on_key_down:function(e){\n\t\tvar id = this._comp_id,\n\t\t\tcode = (e.which || e.keyCode);\n\n\t\t//ignore tab and navigation keys\n\t\tif (code == 9 || ( code >= 33 &&  code <= 40)) return;\n\t\tif (this._filter_timer) window.clearTimeout(this._filter_timer);\n\t\tthis._filter_timer=window.setTimeout(function(){\n\t\t\t$$(id).filterByAll();\n\t\t},datafilter.textWaitDelay);\n\t}\n}, datafilter.textFilter);\n\ndatafilter.serverSelectFilter = extend({\n\t$server: true,\n\t_on_change:function(){\n\t\tvar id = this._comp_id;\n\t\t$$(id).filterByAll();\n\t}\n}, datafilter.selectFilter);\n\ndatafilter.numberFilter = extend({\n\tinit:function(config){\n\t\tconfig.prepare = function(value){\n\t\t\tvar equality = (value.indexOf(\"=\") != -1);\n\t\t\tvar intvalue = this.format(value);\n\t\t\tif (intvalue === \"\") return \"\";\n\n\t\t\tvar compare;\n\t\t\tif (value.indexOf(\">\") != -1){\n\t\t\t\tcompare = this._greater;\n\t\t\t}\n\t\t\telse if (value.indexOf(\"<\") != -1){\n\t\t\t\tcompare = this._lesser;\n\t\t\t}\n\n\t\t\tif (compare && equality) {\n\t\t\t\tconfig.compare = (a,b) => this._equal(a,b) || compare(a,b);\n\t\t\t} else {\n\t\t\t\tconfig.compare = compare || this._equal; \n\t\t\t}\n\n\t\t\treturn intvalue;\n\t\t};\n\t},\n\tformat:function(value){\n\t\treturn value.replace(/[^\\-.0-9]/g,\"\");\n\t},\n\t_greater:function(a,b){ return a*1>b; },\n\t_lesser:function(a,b){ return a!==\"\" && a*1<b; },\n\t_equal:function(a,b){ return a !== \"\" && a*1==b; }\n}, datafilter.textFilter);\n\ndatafilter.dateFilter = extend({\n\tformat:function(value){\n\t\tif (value === \"\") return \"\";\n\t\tvar date = new Date();\n\n\t\tif (value.indexOf(\"today\") != -1){\n\t\t\tdate = wDate.dayStart(date);\n\t\t} else if (value.indexOf(\"now\") == -1){\n\t\t\tvar parts = value.match(/[0-9]+/g);\n\t\t\tif (!parts||!parts.length) return \"\";\n\t\t\tif (parts.length < 3){\n\t\t\t\tparts.reverse();\n\t\t\t\tdate = new Date(parts[0], (parts[1]||1)-1, 1);\n\t\t\t} else\n\t\t\t\tdate = i18n.dateFormatDate(value.replace(/^[>< =]+/,\"\"));\n\t\t}\n\t\treturn date.valueOf();\n\t}\n}, datafilter.numberFilter);\n\nexport default datafilter;","import {assert} from \"../webix/debug\";\nimport {debug_size_box_start, debug_size_box_end} from \"../webix/debug\";\n\nimport {callEvent} from \"../webix/customevents\";\nimport {insertBefore, remove} from \"../webix/html\";\nimport {extend, _power_array, isUndefined, copy} from \"../webix/helpers\";\nimport {_each} from \"../ui/helpers\";\n\nimport {$$,ui,protoUI} from \"../ui/core\";\n\nimport state from \"../core/state\";\nimport IdSpace from \"../core/idspace\";\nimport EventSystem from \"../core/eventsystem\";\n\nimport base from \"./baseview\";\n\nconst api = {\n\tname:\"baselayout\",\n\trestore:function(state, factory, configOnly){\n\t\tvar out = this._restore(copy(state), factory);\n\t\tif (configOnly)\n\t\t\treturn out;\n\t\telse\n\t\t\tui((out.cols || out.rows), this);\n\t},\n\t_restore:function(state, factory){\n\t\tif (state.$layout){\n\t\t\tvar sub = state.cols || state.rows;\n\t\t\tfor (var i = 0; i < sub.length; i++) {\n\t\t\t\tsub[i] = this._restore(sub[i], factory);\n\t\t\t}\n\t\t} else {\n\t\t\treturn factory.call(this, state);\n\t\t}\n\n\t\treturn state;\n\t},\n\tserialize:function(serializer){\n\t\tvar out = [];\n\t\tvar childs = this.getChildViews();\n\n\t\tfor (var i=0; i<childs.length; i++){\n\t\t\tvar sub = childs[i];\n\t\t\tif (sub.movePortlet){\n\t\t\t\tvar child = sub.getChildViews();\n\t\t\t\tout.push(serializer.call(this, child[child.length-1]));\n\t\t\t} else if (sub.serialize){\n\t\t\t\t// some kind of layout\n\t\t\t\tout.push(sub.serialize(serializer, true));\n\t\t\t} else {\n\t\t\t\t// leaf view\n\t\t\t\tout.push(serializer.call(this, sub));\n\t\t\t}\n\t\t}\n\n\t\tvar obj = { $layout: true, type: this.config.type };\n\t\tif (this.config.rows)\n\t\t\tobj.rows = out;\n\t\telse\n\t\t\tobj.cols = out;\n\n\t\treturn obj;\n\t},\n\t$init:function(config){\n\t\tthis.$ready.push(this._parse_cells);\n\t\tthis._dataobj  = this._contentobj;\n\t\tthis._layout_sizes = [];\n\t\tthis._responsive = [];\n\t\tthis._padding = { top:0, left:0, right:0, bottom:0 };\n\n\t\tif (config.$topView){\n\t\t\tconfig.borderless = true;\n\t\t\tconfig._inner = { top:true, left:true, bottom:true, right:true };\n\t\t}\n\n\t\tif (config.isolate)\n\t\t\textend(this, IdSpace);\n\t},\n\trows_setter:function(value){\n\t\tthis._vertical_orientation = 1;\n\t\tthis._collection = value;\n\t\treturn true;\n\t},\n\tcols_setter:function(value){\n\t\tthis._vertical_orientation = 0;\n\t\tthis.$view.style.whiteSpace = \"nowrap\";\n\t\tthis._collection = value;\n\t\treturn true;\n\t},\n\t_remove:function(view){\n\t\tvar index = _power_array.find.call(this._cells, view);\n\t\tif(this._beforeRemoveView)\n\t\t\tthis._beforeRemoveView(index);\n\t\t_power_array.removeAt.call(this._cells, index);\n\t\tthis.resizeChildren(true);\n\t},\n\t_replace:function(new_view,target_id){\n\t\tif (isUndefined(target_id)){\n\t\t\tfor (var i=0; i < this._cells.length; i++)\n\t\t\t\tthis._cells[i].destructor();\n\t\t\tthis._collection = new_view;\n\t\t\tthis._parse_cells();\n\t\t} else {\n\t\t\tvar source;\n\t\t\tif (typeof target_id == \"number\"){\n\t\t\t\tif (target_id<0 || target_id > this._cells.length)\n\t\t\t\t\ttarget_id = this._cells.length;\n\t\t\t\t_power_array.insertAt.call(this._cells, new_view, target_id);\n\t\t\t\tif (!new_view._settings.hidden)\n\t\t\t\t\tthis._insertBeforeView(new_view, this._cells[target_id]);\n\t\t\t} else {\n\t\t\t\tsource = $$(target_id);\n\t\t\t\ttarget_id = _power_array.find.call(this._cells, source);\n\t\t\t\tassert(target_id!=-1, \"Attempt to replace the non-existing view\");\n\t\t\t\tif (!new_view._settings.hidden)\n\t\t\t\t\tthis._insertBeforeView(new_view, source);\n\n\t\t\t\tsource.destructor();\t\n\t\t\t\tthis._cells[target_id] = new_view;\n\t\t\t}\n\n\t\t\tif (!this._vertical_orientation)\n\t\t\t\tthis._fix_vertical_layout(new_view);\n\t\t}\n\t\tthis.resizeChildren(true);\n\n\t\tvar form = this.elements ? this : this.getFormView();\n\t\tif (form && !this._fill_data) form._recollect_elements();\n\n\t\tcallEvent(\"onReconstruct\",[this]);\n\t},\n\t_fix_vertical_layout:function(cell){\n\t\tcell._viewobj.style.display = \"inline-block\";\n\t\tcell._viewobj.style.verticalAlign = \"top\";\n\t},\n\taddView:function(view, index){\n\t\tif (isUndefined(index))\n\t\t\tindex = this._cells.length;\n\t\tvar top = this.$$ ? this : this.getTopParentView();\n\t\t\n\t\tstate._parent_cell = this;\n\t\tvar newui = (top && top.ui) ? top.ui(view, this, index) : ui(view, this, index);\n\t\tstate._parent_cell = null;\n\n\t\treturn newui._settings.id;\n\t},\n\tremoveView:function(id){\n\t\tvar view;\n\t\tif (typeof id != \"object\")\n\t\t\tview = $$(id) || (this.$$ ? this.$$(id) : null);\n\t\telse\n\t\t\tview = id;\n\n\t\tvar target = _power_array.find.call(this._cells, view);\n\t\tif (target >= 0){\n\t\t\tif (this._beforeRemoveView)\n\t\t\t\tthis._beforeRemoveView(target, view);\n\n\t\t\tvar form = this.elements ? this : this.getFormView();\n\n\t\t\tthis._cells.splice(target, 1);\n\t\t\tif (form)\n\t\t\t\t_each(view, function(sub){\n\t\t\t\t\tif (sub.name)\n\t\t\t\t\t\tdelete form.getCleanValues()[sub.config.name];\n\t\t\t\t}, form, true);\t\t\t\t\n\n\t\t\tview.destructor();\n\t\t\tthis.resizeChildren(true);\n\t\t\t\n\t\t\tif (form)\n\t\t\t\tform._recollect_elements();\n\t\t} else\n\t\t\tassert(false, \"Attemp to remove not existing view: \"+id);\n\n\t\tcallEvent(\"onReconstruct\",[this]);\n\t},\n\treconstruct:function(){\n\t\tthis._hiddencells = 0;\n\t\tthis._replace(this._collection);\n\t},\n\t_hide:function(obj, settings, silent){\n\t\tif (obj._settings.hidden) return;\n\t\tobj._settings.hidden = true;\n\t\tremove(obj._viewobj);\n\t\tthis._hiddencells++;\n\t\tif (!silent && !state._ui_creation)\n\t\t\tthis.resizeChildren(true);\t\n\t},\n\t_signal_hidden_cells:function(view){\n\t\tif (view.callEvent)\n\t\t\tview.callEvent(\"onViewShow\",[]);\n\t},\n\tresizeChildren:function(){\n\t\tif (state._freeze_resize) return;\n\n\t\tif (this._layout_sizes){\n\t\t\tvar parent = this.getParentView();\n\t\t\tif (parent){\n\t\t\t\tif (parent.resizeChildren)\n\t\t\t\t\treturn parent.resizeChildren();\n\t\t\t\telse\n\t\t\t\t\treturn parent.resize();\n\t\t\t}\n\t\t\t\t\n\t\t\tvar sizes = this.$getSize(0,0);\n\n\t\t\tvar x,y,nx,ny;\n\t\t\tnx = x = this._layout_sizes[0] || 0;\n\t\t\tny = y = this._layout_sizes[1] || 0;\n\n\t\t\t//for auto-fill content, use adjust strategy\n\t\t\tif ((sizes[1]>=100000 || sizes[3] >= 100000) && this._viewobj.parentNode){\n\t\t\t\t//in hidden container adjust doesn't work, so fallback to last known size\n\t\t\t\t//also, ensure that min-size is not violated\n\t\t\t\tnx = x = Math.max(sizes[0], (this._settings.width || this._viewobj.parentNode.offsetWidth || x || 0));\n\t\t\t\tny = y = Math.max(sizes[2], (this._settings.height || this._viewobj.parentNode.offsetHeight || y || 0));\n\t\t\t}\n\t\t\t\n\t\t\tif (!parent){\n\t\t\t\t//minWidth\n\t\t\t\tif (sizes[0]>x) nx = sizes[0];\n\t\t\t\t//minHeight\n\t\t\t\tif (sizes[2]>y) ny = sizes[2];\n\n\t\t\t\tvar fullscreen = (this._viewobj.parentNode == document.body) && !this.setPosition;\n\t\t\t\t//maxWidth rule\n\t\t\t\tif (!fullscreen && x>sizes[1]) nx = sizes[1];\n\t\t\t\t//maxHeight rule\n\t\t\t\tif (!fullscreen && y>sizes[3]) ny = sizes[3];\n\n\t\t\t\tthis.$setSize(nx,ny);\n\t\t\t} else\n\t\t\t\tthis._set_child_size(x,y);\n\n\t\t\tif (state._responsive_exception){\n\t\t\t\tstate._responsive_exception = false;\n\t\t\t\tthis.resizeChildren();\n\t\t\t}\n\n\t\t\tcallEvent(\"onResize\",[]);\n\t\t}\n\t},\n\tgetChildViews:function(){\n\t\treturn this._cells;\n\t},\n\tindex:function(obj){\n\t\tif (obj._settings)\n\t\t\tobj = obj._settings.id;\n\t\tfor (var i=0; i < this._cells.length; i++)\n\t\t\tif (this._cells[i]._settings.id == obj)\n\t\t\t\treturn i;\n\t\treturn -1;\n\t},\n\t_insertBeforeView:function(view, before){\n\t\tif (before){\n\t\t\tif (before._settings.hidden || view === before){\n\t\t\t\t//index of sibling cell, next to which new item will appear\n\t\t\t\tvar index = this.index(before)+1;\n\t\t\t\t//locate nearest visible cell\n\t\t\t\twhile (this._cells[index] && this._cells[index]._settings.hidden) index++;\n\t\t\t\tbefore = this._cells[index] ? this._cells[index]._viewobj : null;\n\t\t\t} else {\n\t\t\t\tbefore = before._viewobj;\n\t\t\t}\n\t\t}\n\t\tinsertBefore(view._viewobj, before, (this._dataobj||this._viewobj));\n\t},\n\t_show:function(obj, settings, silent){\n\t\tif (!obj._settings.hidden) return;\n\t\tthis._insertBeforeView(obj, obj);\n\t\tobj._settings.hidden = false;\n\n\t\tthis._hiddencells--;\n\n\t\tif (!silent){\n\t\t\tthis.resizeChildren(true);\n\t\t\tif (obj.refresh)\n\t\t\t\tobj.refresh();\n\t\t}\n\n\t\tif (obj.callEvent){\n\t\t\tobj.callEvent(\"onViewShow\", []);\n\t\t\t_each(obj, this._signal_hidden_cells);\n\t\t}\n\t},\n\tshowBatch:function(name, mode){\n\t\tvar preserve = typeof mode != \"undefined\";\n\t\tmode = mode !== false;\n\n\t\tif (!preserve){\n\t\t\tif (this._settings.visibleBatch == name ) return;\n\t\t\tthis._settings.visibleBatch = name;\n\t\t} else \n\t\t\tthis._settings.visibleBatch = \"\";\n\n\t\tvar show = [];\n\t\tfor (let i=0; i < this._cells.length; i++){\n\t\t\tif (!this._cells[i]._settings.batch && !this._cells[i]._settings.hidden) \n\t\t\t\tshow.push(this._cells[i]);\n\t\t\telse if (this._cells[i]._settings.batch == name){\n\t\t\t\tif (mode)\n\t\t\t\t\tshow.push(this._cells[i]);\n\t\t\t\telse\n\t\t\t\t\tthis._hide(this._cells[i], null, true);\n\t\t\t} else if (!preserve)\n\t\t\t\tthis._hide(this._cells[i], null, true);\n\t\t}\n\n\t\tfor (let i=0; i < show.length; i++){\n\t\t\tthis._show(show[i], null, true);\n\t\t\tshow[i]._render_hidden_views();\n\t\t}\n\t\t\t\n\t\tthis.resizeChildren(true);\n\t},\n\t_parse_cells:function(collection){\n\t\tthis._cells=[];\n\n\t\tassert(collection,this.name+\" was incorrectly defined. <br><br> You have missed rows|cols|cells|elements collection\"); \n\t\tfor (var i=0; i<collection.length; i++){\n\t\t\tstate._parent_cell = this;\n\t\t\tif (!collection[i]._inner)\n\t\t\t\tcollection[i].borderless = true;\n\n\t\t\tthis._cells[i]=ui._view(collection[i], this);\n\t\t\tif (!this._vertical_orientation)\n\t\t\t\tthis._fix_vertical_layout(this._cells[i]);\n\t\t\t\n\t\t\tif (this._settings.visibleBatch && this._settings.visibleBatch != this._cells[i]._settings.batch && this._cells[i]._settings.batch){\n\t\t\t\tthis._cells[i]._settings.hidden = true;\n\t\t\t\tthis._hiddencells++;\n\t\t\t}\n\t\t\t\n\t\t\tif (!this._cells[i]._settings.hidden){\n\t\t\t\t(this._dataobj||this._contentobj).appendChild(this._cells[i]._viewobj);\n\t\t\t\tif (this._cells[i].$nospace)\n\t\t\t\t\tthis._hiddencells++;\n\t\t\t}\n\t\t}\n\n\t\tif (this._parse_cells_ext_end)\n\t\t\tthis._parse_cells_ext_end(collection);\t\n\t},\n\t_fix_container_borders:function(style, inner){\n\t\tif (inner.top) \n\t\t\tstyle.borderTopWidth=\"0px\";\n\t\tif (inner.left) \n\t\t\tstyle.borderLeftWidth=\"0px\";\n\t\tif (inner.right) \n\t\t\tstyle.borderRightWidth=\"0px\";\n\t\tif (inner.bottom) \n\t\t\tstyle.borderBottomWidth=\"0px\";\n\t},\n\t_bubble_size:function(prop, size, vertical){\n\t\tif (this._vertical_orientation != vertical)\n\t\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\t\tthis._cells[i]._settings[prop] = size;\n\t\t\t\tif (this._cells[i]._bubble_size)\n\t\t\t\t\tthis._cells[i]._bubble_size(prop, size, vertical);\n\t\t\t}\n\t},\n\t$getSize:function(dx, dy){\n\t\tif (DEBUG) debug_size_box_start(this, true);\n\t\tvar minWidth = 0; \n\t\tvar maxWidth = 100000;\n\t\tvar maxHeight = 100000;\n\t\tvar minHeight = 0;\n\t\tif (this._vertical_orientation) maxHeight=0; else maxWidth = 0;\n\t\t\n\t\tvar fixed = 0;\n\t\tvar fixed_count = 0;\n\t\tvar gravity = 0;\n\t\tthis._sizes=[];\n\n\t\tfor (var i=0; i < this._cells.length; i++) {\n\t\t\t//ignore hidden cells\n\t\t\tif (this._cells[i]._settings.hidden)\n\t\t\t\tcontinue;\n\t\t\t\n\t\t\tvar sizes = this._sizes[i] = this._cells[i].$getSize(0,0);\n\n\t\t\tif (this._cells[i].$nospace){\n\t\t\t\tfixed_count++;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (this._vertical_orientation){\n\t\t\t\t//take max minSize value\n\t\t\t\tif (sizes[0]>minWidth) minWidth = sizes[0];\n\t\t\t\t//take min maxSize value\n\t\t\t\tif (sizes[1]<maxWidth) maxWidth = sizes[1];\n\t\t\t\t\n\t\t\t\tminHeight += sizes[2];\n\t\t\t\tmaxHeight += sizes[3];\n\n\t\t\t\tif (sizes[2] == sizes[3] && sizes[2] != -1){ fixed+=sizes[2]; fixed_count++; }\n\t\t\t\telse gravity += sizes[4];\n\t\t\t} else {\n\t\t\t\t//take max minSize value\n\t\t\t\tif (sizes[2]>minHeight) minHeight = sizes[2];\n\t\t\t\t//take min maxSize value\n\t\t\t\tif (sizes[3]<maxHeight) maxHeight = sizes[3];\n\t\t\t\t\n\t\t\t\tminWidth += sizes[0];\n\t\t\t\tmaxWidth += sizes[1];\n\n\t\t\t\tif (sizes[0] == sizes[1] && sizes[0] != -1){ fixed+=sizes[0]; fixed_count++; }\n\t\t\t\telse gravity += sizes[4];\n\t\t\t}\n\t\t}\n\n\t\tif (minHeight>maxHeight)\n\t\t\tmaxHeight = minHeight;\n\t\tif (minWidth>maxWidth)\n\t\t\tmaxWidth = minWidth;\n\n\t\tthis._master_size = [fixed, this._cells.length - fixed_count, gravity];\n\t\tthis._desired_size = [minWidth+dx, minHeight+dy];\n\n\t\t//get layout sizes\n\t\tvar self_size = base.api.$getSize.call(this, 0, 0);\n\t\t//use child settings if layout's one was not defined\n\t\tif (self_size[1] >= 100000) self_size[1]=0;\n\t\tif (self_size[3] >= 100000) self_size[3]=0;\n\n\t\tself_size[0] = (self_size[0] || minWidth ) +dx;\n\t\tself_size[1] = Math.max(self_size[0], (self_size[1] || maxWidth ) +dx);\n\t\tself_size[2] = (self_size[2] || minHeight) +dy;\n\t\tself_size[3] = Math.max(self_size[2], (self_size[3] || maxHeight) +dy);\n\n\t\tif (DEBUG) debug_size_box_end(this, self_size);\n\n\t\tif (!this._vertical_orientation && this._settings.responsive)\n\t\t\tself_size[0] = 0;\n\n\t\treturn self_size;\n\t},\n\t$setSize:function(x,y){\n\t\tthis._layout_sizes = [x,y];\n\t\tif (DEBUG) debug_size_box_start(this);\n\n\t\tbase.api.$setSize.call(this,x,y);\n\t\tthis._set_child_size(x,y);\n\n\t\tif (DEBUG) debug_size_box_end(this, [x,y]);\n\t},\n\t_set_child_size_a:function(sizes, min, max){\n\t\tmin = sizes[min]; max = sizes[max];\n\t\tvar height = min;\n\n\t\tif (min != max){\n\t\t\tvar ps = this._set_size_delta * sizes[4]/this._set_size_gravity;\n\t\t\tif (ps < min){\n\t\t\t\theight = min;\n\t\t\t\tthis._set_size_gravity -= sizes[4]; \n\t\t\t\tthis._set_size_delta -= height;\n\t\t\t} else  if (ps > max){\n\t\t\t\theight = max;\n\t\t\t\tthis._set_size_gravity -= sizes[4]; \n\t\t\t\tthis._set_size_delta -= height;\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\treturn height;\n\t},\n\t_responsive_hide:function(cell, mode){\n\t\tvar target =  $$(mode);\n\n\t\tif (target === \"hide\" || !target){\n\t\t\tcell.hide();\n\t\t\tcell._responsive_marker = \"hide\";\n\t\t} else{\n\t\t\t//for SideBar in Webix 1.9\n\t\t\tif (!target)\n\t\t\t\ttarget = ui({ view:\"popup\", body:[{}]});\n\n\t\t\tcell._responsive_width = cell._settings.width;\n\t\t\tcell._responsive_height = cell._settings.height;\n\t\t\tcell._responsive_marker = target._settings.id;\n\t\t\tcell._settings.width = 0;\n\t\t\tif (!cell._settings.height)\n\t\t\t\tcell._settings.autoheight = true;\n\n\t\t\tui(cell, target, this._responsive.length);\n\t\t}\n\n\t\tthis._responsive.push(cell);\n\t},\n\t_responsive_show:function(cell){\n\t\tvar target = cell._responsive_marker;\n\t\tcell._responsive_marker = 0;\n\n\t\tif (target === \"hide\" || !target){\n\t\t\tcell.show();\n\t\t} else {\n\t\t\tcell._settings.width = cell._responsive_width;\n\t\t\tcell._settings.height = cell._responsive_height;\n\t\t\tdelete cell._settings.autoheight;\n\n\t\t\tvar index = 0;\n\t\t\twhile (this._cells[index] && this._cells[index]._settings.responsiveCell === false) index++;\n\t\t\tui(cell, this, index);\n\t\t}\n\t\tthis._responsive.pop();\n\t},\n\t_responsive_cells:function(x){\n\t\tstate._responsive_tinkery = true;\n\t\tif (x + this._padding.left + this._padding.right + this._margin * (this._cells.length-1)< this._desired_size[0]){\n\t\t\tvar max = this._cells.length - 1;\n\t\t\tfor (var i = 0; i < max; i++){\n\t\t\t\tlet cell = this._cells[i];\n\t\t\t\tif (!cell._responsive_marker){\n\t\t\t\t\tif (cell._settings.responsiveCell !== false){\n\t\t\t\t\t\tthis._responsive_hide(cell, this._settings.responsive);\n\t\t\t\t\t\tcallEvent(\"onResponsiveHide\", [cell._settings.id]);\n\t\t\t\t\t\tstate._responsive_exception = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmax = this._cells.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else  if (this._responsive.length){\n\t\t\tlet cell = this._responsive[this._responsive.length-1];\n\t\t\tvar dx = cell._responsive_marker == \"hide\" ? 0 : cell._responsive_width;\n\t\t\tvar px = cell.$getSize(dx,0);\n\t\t\tif (px[0] + this._desired_size[0] + this._margin + 20 <= x ){\n\t\t\t\tthis._responsive_show(cell);\n\t\t\t\tcallEvent(\"onResponsiveShow\", [cell._settings.id]);\n\t\t\t\tstate._responsive_exception = true;\n\t\t\t}\n\t\t}\n\n\t\tstate._responsive_tinkery = false;\n\t},\n\t_set_child_size:function(x,y){ \n\t\tstate._child_sizing_active = (state._child_sizing_active||0)+1;\n\n\t\tif (!this._vertical_orientation && this._settings.responsive)\n\t\t\tthis._responsive_cells(x,y);\n\n\n\t\tthis._set_size_delta = (this._vertical_orientation?y:x) - this._master_size[0];\n\t\tthis._set_size_gravity = this._master_size[2];\n\t\tlet width = x; let height = y;\n\n\t\tvar auto = [];\n\t\tfor (let i=0; i < this._cells.length; i++){\n\t\t\t//ignore hidden cells\n\t\t\tif (this._cells[i]._settings.hidden || !this._sizes[i])\n\t\t\t\tcontinue;\n\n\t\t\tlet sizes = this._sizes[i];\n\n\t\t\tif (this._vertical_orientation){\n\t\t\t\theight = this._set_child_size_a(sizes,2,3);\n\t\t\t\tif (height < 0)\t{ auto.push({oldIndex:i, view:this._cells[i]}); continue; }\n\t\t\t} else {\n\t\t\t\twidth = this._set_child_size_a(sizes,0,1);\n\t\t\t\tif (width < 0)\t{ auto.push({oldIndex:i, view:this._cells[i]}); continue; }\n\t\t\t}\n\t\t\tthis._cells[i].$setSize(width,height);\n\t\t}\n\n\t\tfor (let i = 0; i < auto.length; i++){\n\t\t\tvar index = auto[i].oldIndex;\n\t\t\tlet sizes = this._sizes[index];\n\t\t\tvar dx = Math.round(this._set_size_delta * sizes[4]/this._set_size_gravity);\n\t\t\tthis._set_size_delta -= dx; this._set_size_gravity -= sizes[4];\n\t\t\tif (this._vertical_orientation)\n\t\t\t\theight = dx;\n\t\t\telse {\n\t\t\t\twidth = dx;\n\t\t\t}\n\n\t\t\tauto[i].view.$setSize(width,height);\n\t\t}\n\n\t\tstate._child_sizing_active -= 1;\n\t},\n\t_next:function(obj, mode){\n\t\tvar index = this.index(obj);\n\t\tif (index == -1) return null;\n\t\treturn this._cells[index+mode];\n\t}, \n\t_first:function(){\n\t\treturn this._cells[0];\n\t}\n};\n\nconst view = protoUI(api, EventSystem, base.view);\nexport default { api, view };","import {protoUI} from \"../ui/core\";\nimport state from \"../core/state\";\nimport {$active} from \"../webix/skin\";\n\nimport {clone, extend} from \"../webix/helpers\";\nimport {debug_size_box_start, debug_size_box_end} from \"../webix/debug\";\n\n\nimport base from \"./baselayout\";\nimport baseview from \"./baseview\";\nimport viewA from \"./view\";\n\nconst api = {\n\tname:\"layout\",\n\t$init:function(){\n\t\tthis._hiddencells = 0;\n\t},\n\tdefaults:{\n\t\ttype:\"line\"\n\t},\n\t_parse_cells:function(){\n\t\tif (this._parse_cells_ext)\n\t\t\tcollection = this._parse_cells_ext(collection);\n\n\t\tif (!this._parse_once){\n\t\t\tthis._viewobj.className += \" webix_layout_\"+(this._settings.type||\"\");\n\t\t\tthis._parse_once = 1;\n\t\t}\n\n\t\tif (this._settings.margin !== undefined)\n\t\t\tthis._margin = this._settings.margin;\n\n\t\tif (this._settings.padding !== undefined && typeof this._settings.padding !== \"object\" )\n\t\t\tthis._padding.left = this._padding.right = this._padding.top = this._padding.bottom = this._settings.padding;\n\t\tif (this._settings.paddingX !== undefined)\n\t\t\tthis._padding.left = this._padding.right = this._settings.paddingX;\n\t\tif (this._settings.paddingY !== undefined)\n\t\t\tthis._padding.top = this._padding.bottom = this._settings.paddingY;\n\t\tif (typeof this._settings.padding === \"object\")\n\t\t\textend(this._padding, this._settings.padding, true);\n\n\t\tif (this._padding.left || this._padding.right || this._padding.top || this._padding.bottom)\n\t\t\tthis._padding.defined = true;\n\n\t\t//if layout has paddings we need to set the visible border \n\t\tif (this._hasBorders() && !this._settings.borderless){\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\n\t\t\t//if layout has border - normal bordering rules are applied\n\t\t\tthis._render_borders = true;\n\t\t}\n\t\n\t\t\n\t\tvar collection = this._collection;\n\t\n\t\tif (this._settings.borderless)\n\t\t\tthis._settings._inner = { top:true, left:true, right:true, bottom:true};\n\n\t\tthis._beforeResetBorders(collection);\n\t\tbase.api._parse_cells.call(this, collection);\n\t\tthis._afterResetBorders(collection);\n\t},\n\t$getSize:function(dx, dy){\n\t\tdx=dx||0; dy=dy||0;\n\n\t\tvar correction = this._margin*(this._cells.length-this._hiddencells-1);\n\t\tif (this._render_borders || this._hasBorders()){\n\t\t\tvar _borders = this._settings._inner;\n\t\t\tif (_borders){\n\t\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\n\t\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\n\t\t\t}\n\t\t}\n\n\t\tif (!this._settings.height)\n\t\t\tdy += this._padding.top + this._padding.bottom + (this._vertical_orientation ? correction : 0);\n\n\t\tif (!this._settings.width)\n\t\t\tdx += this._padding.left + this._padding.right + (this._vertical_orientation ? 0 : correction);\n\t\t\t\t\n\t\treturn base.api.$getSize.call(this, dx, dy);\n\t},\n\t$setSize:function(x,y){\n\t\tthis._layout_sizes = [x,y];\n\t\tif (DEBUG) debug_size_box_start(this);\n\n\t\tif (this._hasBorders()||this._render_borders)\n\t\t\tviewA.api.$setSize.call(this,x,y);\n\t\telse\t\n\t\t\tbaseview.api.$setSize.call(this,x,y);\n\n\t\t//form with scroll\n\t\ty = this._content_height;\n\t\tx = this._content_width;\n\n\t\tvar config = this._settings;\n\t\tif (config.scroll){\n\t\t\ty = Math.max(y, this._desired_size[1]);\n\t\t\tx = Math.max(x, this._desired_size[0]);\n\t\t}\n\t\t\n\t\tthis._set_child_size(x, y);\n\n\t\tif (DEBUG) debug_size_box_end(this, [x,y]);\n\t},\n\t_set_child_size:function(x,y){\n\t\tvar correction = this._margin*(this._cells.length-this._hiddencells-1);\n\n\t\ty -= this._padding.top + this._padding.bottom;\n\t\tx -= this._padding.left + this._padding.right;\n\t\tif (this._vertical_orientation)\n\t\t\ty-=correction;\n\t\telse x-=correction;\n\n\t\treturn base.api._set_child_size.call(this, x, y);\n\t},\n\tresizeChildren:function(structure_changed){ \n\t\tif (structure_changed){\n\t\t\tthis._last_size = null; //forces children resize\n\t\t\tvar config = [];\n\t\t\tfor (var i = 0; i < this._cells.length; i++){\n\t\t\t\tvar cell = this._cells[i];\n\t\t\t\tconfig[i] = cell._settings;\n\t\t\t\tvar n = ((cell._layout_sizes && !cell._render_borders) || cell._settings.borderless)?\"0px\":\"1px\";\n\n\t\t\t\tcell._viewobj.style.borderTopWidth=cell._viewobj.style.borderBottomWidth=cell._viewobj.style.borderLeftWidth=cell._viewobj.style.borderRightWidth=n;\n\t\t\t}\n\t\t\t\n\t\t\tthis._beforeResetBorders(config);\n\t\t\tfor (let i=0; i<config.length; i++)\n\t\t\t\tif (config[i].borderless && this._cells[i]._set_inner)\n\t\t\t\t\tthis._cells[i]._set_inner(config[i]);\n\t\t\tthis._afterResetBorders(this._cells);\n\t\t}\n\n\t\tif (state._responsive_tinkery) return;\n\t\tbase.api.resizeChildren.call(this);\n\t},\n\t_hasBorders:function(){\n\t\treturn this._padding.defined && this._margin>0 && !this._cleanlayout;\n\t},\n\t_beforeResetBorders:function(collection){\n\t\tif (this._hasBorders() && (!this._settings.borderless || this._settings.type == \"space\")){\n\t\t\tfor (let i=0; i < collection.length; i++){\n\t\t\t\tif (!collection[i]._inner || !collection[i].borderless)\n\t\t\t\t\tcollection[i]._inner={ top:false, left:false, right:false, bottom:false};\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i=0; i < collection.length; i++)\n\t\t\t\tcollection[i]._inner=clone(this._settings._inner);\n\t\t\tvar mode = false;\n\t\t\tif (this._cleanlayout)\n\t\t\t\tmode = true;\n\t\t\t\t\n\t\t\tvar maxlength = collection.length;\t\t\t\t\n\t\t\tif (this._vertical_orientation){\n\t\t\t\tfor (let i=1; i < maxlength-1; i++)\n\t\t\t\t\tcollection[i]._inner.top = collection[i]._inner.bottom = mode;\n\t\t\t\tif (maxlength>1){\n\t\t\t\t\tif (this._settings.type!=\"head\")\n\t\t\t\t\t\tcollection[0]._inner.bottom = mode;\n\n\t\t\t\t\twhile (collection[maxlength-1].hidden && maxlength>1)\n\t\t\t\t\t\tmaxlength--;\n\t\t\t\t\tif (maxlength>0)\n\t\t\t\t\t\tcollection[maxlength-1]._inner.top = mode;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (let i=1; i < maxlength-1; i++)\n\t\t\t\t\tcollection[i]._inner.left = collection[i]._inner.right= mode;\n\t\t\t\tif (maxlength>1){\n\t\t\t\t\tif (this._settings.type!=\"head\")\n\t\t\t\t\t\tcollection[0]._inner.right= mode;\n\t\t\t\t\tcollection[maxlength-1]._inner.left = mode;\n\n\t\t\t\t\twhile (maxlength>1 && collection[maxlength-1].hidden)\n\t\t\t\t\t\tmaxlength--;\n\t\t\t\t\tif (maxlength>0)\n\t\t\t\t\t\tcollection[maxlength-1]._inner.left = mode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t_afterResetBorders:function(collection){\n\t\tvar start = 0; \n\t\tfor (let i=0; i<collection.length; i++){\n\t\t\tvar cell = this._cells[i];\n\n\t\t\tvar s_inner = cell._settings._inner;\n\t\t\tif (cell._settings.hidden && this._cells[i+1]){\n\t\t\t\tvar s_next = this._cells[i+1]._settings._inner;\n\t\t\t\tif (!s_inner.top)\n\t\t\t\t\ts_next.top = false;\n\t\t\t\tif (!s_inner.left)\n\t\t\t\t\ts_next.left = false;\n\n\t\t\t\tif (i==start) start++;\n\t\t\t}\n\t\t\tthis._fix_container_borders(cell._viewobj.style, cell._settings._inner);\n\t\t}\n\n\t\tvar style = this._vertical_orientation?\"marginLeft\":\"marginTop\";\n\t\tvar contrstyle = this._vertical_orientation?\"marginTop\":\"marginLeft\";\n\t\tvar padding = this._vertical_orientation?this._padding.left:this._padding.top;\n\t\tvar contrpadding = this._vertical_orientation?this._padding.top:this._padding.left;\n\n\t\t//add top offset to all\n\t\tfor (let i=0; i<collection.length; i++)\n\t\t\tthis._cells[i]._viewobj.style[style] = padding + \"px\";\n\n\t\t//add left offset to first cell\n\t\tif (this._cells.length)\n\t\t\tthis._cells[start]._viewobj.style[contrstyle] = contrpadding + \"px\";\n\n\t\t//add offset between cells\n\t\tfor (var index=start+1; index<collection.length; index++)\n\t\t\tthis._cells[index]._viewobj.style[contrstyle]=this._margin+\"px\";\n\t\t\n\t},\n\ttype_setter:function(value){\n\t\tthis._margin = (typeof this._margin_set[value] !== \"undefined\"? this._margin_set[value]: this._margin_set[\"line\"]);\n\t\tthis._padding.left = this._padding.right = this._padding.top = this._padding.bottom =\n\t\t\t(typeof this._margin_set[value] !== \"undefined\") ? this._padding_set[value] : this._padding_set[\"line\"];\n\t\tthis._cleanlayout = (value==\"material\" || value==\"clean\");\n\t\tif (value == \"material\")\n\t\t\tthis._settings.borderless = true;\n\n\t\treturn value;\n\t},\n\t$skin:function(){\n\t\tthis._margin_set = $active.layoutMargin;\n\t\tthis._padding_set = $active.layoutPadding;\n\t}\n};\n\nconst view = protoUI(api, base.view);\nexport default { api, view };\n\n//not necessary anymore\n//preserving for backward compatibility\nview.call(-1);","import {removeCss, addCss, getTextSize} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {extend, bind, copy, isUndefined} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\n\nimport template from \"../webix/template\";\nimport i18n from \"../webix/i18n\";\nimport wDate from \"../core/date\";\n\nimport layout from \"../views/layout\";\n\nconst api = {\n\tname:\"daterange\",\n\tdefaults:{\n\t\tbutton:false,\n\t\ticons:false,\n\t\tcalendarCount:2,\n\t\tborderless:false\n\t},\n\t$init:function(config){\n\t\tconfig.calendar = config.calendar || {};\n\t\tconfig.value = this.$prepareValue(config.value);\n\t\tdelete config.calendar.type; // other types are not implemented\n\n\t\tthis._viewobj.className += \" webix_daterange\";\n\t\tthis._zoom_level = this._types[config.calendar.type] || 0;\n\n\t\tvar cols = [],\n\t\t\tskinConf = $active.calendar,\n\t\t\tcheight = skinConf && skinConf.height ? skinConf.height : 0,\n\t\t\tcwidth = skinConf && skinConf.width ? skinConf.width : 0,\n\t\t\trheight = cheight||250,\n\t\t\trwidth = cwidth||250,\n\t\t\tcalendar = extend({ view:\"calendar\", width:cwidth, height:cheight }, config.calendar || {}, true),\n\t\t\tcount = config.calendarCount = this._zoom_level === 0 ? (config.calendarCount || this.defaults.calendarCount) : this.defaults.calendarCount,\n\t\t\tbasecss = (calendar.css?calendar.css + \" \":\"\")+\"webix_range_\",\n\t\t\tstart = config.value.start || new Date();\n\n\t\tfor(var i = 0; i<count; i++){\n\t\t\tlet date = wDate.copy(start);\n\t\t\tdate.setDate(1);\n\t\t\tdate = wDate.add(date, this._steps[this._zoom_level]*i, \"month\");\n\n\t\t\textend(calendar, {\n\t\t\t\tevents:bind(this._isInRange, this),\n\t\t\t\tcss:basecss+(count ===1?\"\":(i === 0 ? \"0\" : (i+1 == count ? \"N\" :\"1\"))),\n\t\t\t\tmonthSelect:(i===0 || i+1===count),\n\t\t\t\ttimepicker: this._zoom_level === 0?config.timepicker:false,\n\t\t\t\tborderless:true,\n\t\t\t\tdate\n\t\t\t}, true);\n\n\t\t\tcols.push(copy(calendar));\n\t\t}\n\n\t\tconfig.rows = [\n\t\t\t{ type:\"clean\", cols: cols}\n\t\t];\n\t\tif (config.button || config.icons)\n\t\t\tconfig.rows.push( this._footer_row(config, rwidth*count) );\n\n\t\tconfig.height = isUndefined(config.height) ? rheight+(config.icons || config.button?30:0) : config.height;\n\t\tconfig.width = isUndefined(config.width) ? rwidth*count : config.width;\n\t\tconfig.type = \"line\";\n\t\tthis.$ready.push(this._after_init);\n\n\t\t_event(this.$view, \"keydown\", bind(function(e){\n\t\t\tthis._onKeyPress( e.which || e.keyCode, e);\n\t\t}, this));\n\t},\n\tvalue_setter:function(value){\n\t\treturn this.$prepareValue(value);\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value;\n\t},\n\tsetValue:function(value, silent){\n\t\tvalue = this.$prepareValue(value);\n\t\tthis._settings.value = value;\n\n\t\tvar start = value.start || value.end || new Date();\n\n\t\tif(!silent){\n\t\t\tthis._cals[0].showCalendar(value.start);\n\n\t\t\tfor(var i = 1; i<this._cals.length; i++){\n\t\t\t\tthis._cals[i]._settings.date = start;\n\t\t\t\tthis._changeDateSilent(this._cals[i], 1, i);\n\t\t\t}\n\t\t}\n\t\tthis.callEvent(\"onChange\", [value]);\n\t\tthis.refresh();\n\t},\n\trefresh:function(){\n\t\tfor(var i = 0; i<this._cals.length; i++){\n\n\t\t\tif(this._cals[i]._zoom_level === this._zoom_level){\n\t\t\t\tremoveCss(this._cals[i].$view, \"webix_cal_timepicker\");\n\t\t\t\tremoveCss(this._cals[i].$view, \"webix_range_timepicker\");\n\n\t\t\t\tvar rel = this._related_date(this._cals[i].getVisibleDate());\n\t\t\t\tif(rel.start || rel.end){\n\t\t\t\t\tthis._cals[i]._settings.date = rel.start || rel.end;\n\t\t\t\t\tif(this._settings.timepicker){\n\t\t\t\t\t\tvar css = \"webix_\"+(rel.start && rel.end?\"range\":\"cal\")+\"_timepicker\";\n\t\t\t\t\t\taddCss(this._cals[i].$view, css);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\twDate.datePart(this._cals[i]._settings.date);\n\n\t\t\t\tthis._cals[i].refresh();\n\t\t\t}\n\t\t}\n\t},\n\taddToRange:function(date){\n\t\tvar value = this._add_date(this._string_to_date(date));\n\t\tthis.setValue(value);\n\t},\n\t_icons:[\n\t\t{\n\t\t\ttemplate:function(){\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>\"+i18n.calendar.today+\"</span>\";\n\t\t\t},\n\t\t\ton_click:{\n\t\t\t\t\"webix_cal_icon_today\":function(){\n\t\t\t\t\tvar date = new Date();\n\t\t\t\t\tif(!this._settings.timepicker)\n\t\t\t\t\t\tdate = wDate.datePart(date);\n\t\t\t\t\tthis.addToRange(date);\n\t\t\t\t\tthis.callEvent(\"onTodaySet\",[this.getValue()]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttemplate:function(){\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>\"+i18n.calendar.clear+\"</span>\";\n\t\t\t},\n\t\t\ton_click:{\n\t\t\t\t\"webix_cal_icon_clear\":function(){\n\t\t\t\t\tthis.setValue(\"\");\n\t\t\t\t\tthis.callEvent(\"onDateClear\", []);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\t_icons_template:function(icons){\n\t\tif(!icons)\n\t\t\treturn { width:0};\n\t\telse{\n\t\t\ticons = (typeof icons ==\"object\") ? icons:this._icons; //custom or default \n\t\t\tvar icons_template = { css:\"webix_cal_footer \", borderless:true, template:\"<div class='webix_cal_icons'>\", onClick:{}};\n\n\t\t\tfor(var i = 0; i<icons.length; i++){\n\t\t\t\tif(icons[i].template){\n\t\t\t\t\tvar itemplate = (typeof(icons[i].template) == \"function\"?icons[i].template: template(icons[i].template));\n\t\t\t\t\ticons_template.template += itemplate.call(this);\n\t\t\t\t}\t\n\t\t\t\tif(icons[i].on_click){\n\t\t\t\t\tfor(var k in icons[i].on_click){\n\t\t\t\t\t\ticons_template.onClick[k] = bind(icons[i].on_click[k], this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ticons_template.template += \"</div>\";\n\t\t\ticons_template.width = getTextSize(icons_template.template).width+30;\n\t\t\treturn icons_template;\n\t\t}\n\t},\n\t_footer_row:function(config, width){\n\t\tvar button = { view:\"button\", value:i18n.calendar.done,\n\t\t\tminWidth:100, maxWidth:230, align:\"center\",\n\t\t\tclick:function(){\n\t\t\t\tthis.getParentView().getParentView().hide();\n\t\t\t}};\n\n\t\tvar icons = this._icons_template(config.icons);\n\n\t\tvar row = { css:\"webix_range_footer\", height:30, cols:[\n\t\t\t{ width:icons.width }\n\t\t]};\n\t\tif((config.button || config.icons) && (icons.width*2+button.minWidth) > width)\n\t\t\trow.cols[0].width = 0;\n\n\t\trow.cols.push(config.button ? button : {});\n\t\trow.cols.push(icons);\n\n\t\treturn row;\n\t},\n\t_types:{\n\t\t\"time\":-1,\n\t\t\"month\":1,\n\t\t\"year\":2\n\t},\n\t_steps:{\n\t\t0:1,\n\t\t1:12,\n\t\t2:120\n\t},\n\t$prepareValue:function(value){\n\t\tif(!value) value = { start:null, end:null};\n\n\t\tif(!value.start && !value.end)\n\t\t\tvalue = {start: value};\n\n\t\tvalue.end = this._string_to_date(value.end) || null;\n\t\tvalue.start = this._string_to_date(value.start) || null;\n\n\t\tif((value.end && value.end < value.start) || !value.start)\n\t\t\tvalue.end = [value.start, value.start = value.end][0];\n\t\treturn value;\n\t},\n\t_string_to_date:function(date){\n\t\tif(typeof date == \"string\"){\n\t\t\tdate = i18n.parseFormatDate(date);\n\t\t}\n\t\treturn isNaN(date*1) ? null : date;\n\t},\n\t_isInRange:function(date, isOutside){\n\t\tif (isOutside) return;\n\t\tvar v = this._settings.value,\n\t\t\ts = v.start? wDate.datePart(wDate.copy(v.start)) : null,\n\t\t\te = v.end ? wDate.datePart(wDate.copy(v.end)) : null,\n\t\t\td = wDate.datePart(date),\n\t\t\ttomorrow = wDate.add(d,1,\"day\",true),\n\t\t\tyesterday = wDate.add(d,-1,\"day\",true),\n\t\t\tcss = \"\";\n\n\t\tif(d>=s && e && d<=e){\n\t\t\tcss = \"webix_cal_range\";\n\t\t\tif(wDate.equal(yesterday, s))\n\t\t\t\tcss += \" webix_cal_range_first\";\n\t\t\tif(wDate.equal(tomorrow, e))\n\t\t\t\tcss += \" webix_cal_range_last\";\n\t\t}\n\t\tif(wDate.equal(d, s))\n\t\t\tcss = \"webix_cal_range_start\";\n\t\tif(wDate.equal(d, e))\n\t\t\tcss = \"webix_cal_range_end\";\n\n\t\tvar holiday =wDate.isHoliday(date)+\" \" || \"\";\n\t\treturn css+\" \"+holiday;\n\t},\n\t_after_init:function(){\n\t\tvar cals = this._cals = this.getChildViews()[0].getChildViews();\n\t\tvar range = this;\n\t\tvar masterId = this.config.id;\n\n\t\tthis._cals_hash = {};\n\n\t\tfor(var i = 0; i<cals.length; i++){\n\t\t\tcals[i].config.master = masterId;\n\t\t\tthis._cals_hash[cals[i].config.id] = i;\n\n\t\t\t//events\n\t\t\tcals[i].attachEvent(\"onBeforeDateSelect\", function(date){ return range._on_date_select(this, date); });\n\t\t\tcals[i].attachEvent(\"onBeforeZoom\", function(zoom){ return range._before_zoom(this, zoom); });\n\n\t\t\tif(i===0 || i  === cals.length-1){\n\t\t\t\tcals[i].attachEvent(\"onAfterMonthChange\", bind(this._month_change, this));\n\t\t\t\tcals[i].attachEvent(\"onAfterZoom\", function(zoom, oldzoom){ range._after_zoom(this, zoom, oldzoom);});\n\t\t\t}\n\t\t}\n\t\tif(this._settings.timepicker)\n\t\t\tthis.refresh();\n\t},\n\t_before_zoom:function(view, zoom){\n\t\tvar ind = this._getIndexById(view.config.id);\n\n\t\tif(zoom >=0 && ind>0 && ind !== this._cals.length-1)\n\t\t\treturn false;\n\t\tif(zoom ===-1){ //time mode\n\t\t\tvar rel = this._related_date(view.getVisibleDate());\n\t\t\tif(rel.start && rel.end) //both dates are in one calendar\n\t\t\t\tview._settings.date = rel[this._time_mode];\n\t\t}\n\t\treturn true;\n\t},\n\t_month_change:function(now, prev){\n\t\tvar dir = now>prev ? 1: -1;\n\t\tvar start = now>prev ? this._cals[this._cals.length-1] : this._cals[0];\n\t\tvar step = start._zoom_logic[start._zoom_level]._changeStep;\n\n\t\tthis._shift(dir, step, start);\n\t\tthis.refresh();\n\t},\n\t_after_zoom:function(start, zoom, oldzoom){\n\t\tvar step = start._zoom_logic[start._zoom_level]._changeStep;\n\t\tvar ind = this._getIndexById(start.config.id);\n\t\tvar dir = ind === 0 ? 1 :-1;\n\t\tif(!this._cals[ind+dir]) \n\t\t\treturn;\n\n\t\tvar next = this._cals[ind+dir]._settings.date;\n\n\t\tif(oldzoom>zoom && zoom >=0){\n\t\t\tvar diff = 0;\n\t\t\tif(zoom === 1){ //year was changed \n\t\t\t\tvar year = next.getFullYear();\n\t\t\t\tif(this._zoom_level || (dir === -1 && next.getMonth() === 11) || (dir ===1 && next.getMonth() === 0))\n\t\t\t\t\tyear = year - dir;\n\t\t\t\tdiff = start._settings.date.getFullYear()-year;\n\t\t\t}\n\t\t\telse if(zoom === 0 ){//month was changed\n\t\t\t\tvar month = next.getMonth()-dir;\n\t\t\t\tif(month === 12 || month ==-1)\n\t\t\t\t\tmonth = (month === -1) ? 11: 0;\n\n\t\t\t\tdiff = start._settings.date.getMonth()-month;\n\t\t\t}\n\t\t\tthis._shift(diff, step, start);\n\t\t\tthis.refresh();\n\t\t}\n\t},\n\t_changeDateSilent:function(view, dir, step){\n\t\tview.blockEvent();\n\t\tif(view._zoom_level>=0)\n\t\t\tview._changeDate(dir, step);\n\t\tview.unblockEvent();\n\t},\n\t_getIndexById:function(id){\n\t\treturn this._cals_hash[id];\n\t},\n\t_shift:function(dir, step, start){\n\t\tfor(var i =0; i<this._cals.length; i++){\n\t\t\tvar next = this._cals[i];\n\t\t\tif(!start || next.config.id !==start.config.id)\n\t\t\t\tthis._changeDateSilent(next, dir, step);\n\t\t}\n\t},\n\t_related_date:function(date){\n\t\tvar v = this._settings.value;\n\t\tvar rel = {};\n\t\tif(v.start && v.start.getYear() === date.getYear() && v.start.getMonth() === date.getMonth())\n\t\t\trel.start = v.start;\n\t\tif(v.end && v.end.getYear() === date.getYear() && v.end.getMonth() === date.getMonth())\n\t\t\trel.end = v.end;\n\t\treturn rel;\n\t},\n\t_set_time:function(date, source){\n\t\tdate.setHours(source.getHours());\n\t\tdate.setMinutes(source.getMinutes());\n\t\tdate.setSeconds(source.getSeconds());\n\t\tdate.setMilliseconds(source.getMilliseconds());\n\t},\n\t_add_date:function(date, ind){\n\t\tvar v = copy(this._settings.value);\n\t\t//year, month\n\t\tif(this._zoom_level !==0 && !isUndefined(ind)){\n\t\t\tvar key = ind?\"end\":\"start\";\n\t\t\tv[key] = date;\n\t\t}\n\t\telse{\n\t\t\tif(v.start && !v.end)\n\t\t\t\tv.end = date;\n\t\t\telse {\n\t\t\t\tv.start = date;\n\t\t\t\tv.end = null;\n\t\t\t}\n\t\t}\n\n\t\treturn v;\n\t},\n\t_on_date_select:function(view, date){\n\t\tif(this.callEvent(\"onBeforeDateSelect\", [date])){\n\t\t\tvar v = this._settings.value;\n\n\t\t\tif(view._zoom_level<0){ //time set\n\t\t\t\tvar rel = copy(this._related_date(date)),\n\t\t\t\t\treldate;\n\n\t\t\t\treldate = (rel.start && rel.end) ? rel[this._time_mode] : rel.start || rel.end;\n\t\t\t\tif(reldate)\n\t\t\t\t\tthis._set_time(reldate, date);\n\n\t\t\t\tview._zoom_level = 0;\n\n\t\t\t\tv = extend(copy(v), rel, true);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar vis = view.getVisibleDate();\n\t\t\t\tvar ind = this._getIndexById(view.config.id);\n\n\t\t\t\tif(date.getMonth() !== vis.getMonth() && (ind ===0 || ind === this._cals.length-1)){\n\t\t\t\t\tvar dir = date>vis? 1 : -1;\n\t\t\t\t\tthis._shift(dir, 1);\n\t\t\t\t}\n\t\t\t\tv = this._add_date(date, ind);\n\t\t\t}\n\n\t\t\tif(view._zoom_level !== this._zoom_level)\n\t\t\t\tview.showCalendar(date);\n\n\t\t\tthis.setValue(v, true);\n\t\t\tthis.callEvent(\"onAfterDateSelect\", [this.getValue()]);\n\t\t}\n\n\t\treturn false;\n\t}\n};\n\nconst view = protoUI(api,  layout.view);\nexport default {api, view};","import {create, stopEvent, addCss, removeCss, offset} from \"../webix/html\";\nimport template from \"../webix/template\";\nimport {delay, extend} from \"../webix/helpers\";\nimport daterange from \"../views/daterange\";\nimport {ui, $$} from \"../ui/core\";\nimport i18n from \"../webix/i18n\";\n\n\nimport datafilter from \"./datafilter\";\n\ndatafilter.excelFilter = {\n\tgetValue:function(node){\n\t\tconst filter = this._get_filter(node);\n\t\tif (filter)\n\t\t\treturn filter.getValue();\n\t},\n\tsetValue:function(node, value){\n\t\tconst filter = this._get_filter(node);\n\t\tif (filter){\n\t\t\tvalue = value || {};\n\t\t\tfilter.setValue(value);\n\t\t\tthis._mark_column(value, node);\n\t\t}\n\t},\n\t$icon:true,\n\trefresh:function(master, node, config){\n\t\tif (master.$destructed) return;\n\n\t\tconfig.node = node;\n\n\t\tnode.$webix = config.filter;\n\t\tmaster.registerFilter(node, config, this);\n\n\t\tconst popup = $$(config.filter);\n\t\tconst filter = popup.getBody();\n\n\t\tconst data = this._get_data(master, config);\n\n\t\tfilter.clearAll();\n\t\tfilter.parse(data);\n\n\t\tif (config.value){\n\t\t\tthis.setValue(node, config.value);\n\t\t} else\n\t\t\t// unfilter only if we have no value\n\t\t\tconfig.compare = function(){ return true; };\n\n\t\tnode.onclick = (e) => {\n\t\t\tconst target = (e.target || e.srcElement).className;\n\t\t\tif (target.indexOf(\"webix_excel_filter\") !== -1 && !popup.isVisible())\n\t\t\t\tpopup.show(this._get_position(node, popup));\n\t\t};\n\t},\n\trender:function(master, config){\n\t\tif (!config.filter){\n\t\t\tif (config.template)\n\t\t\t\tconfig.template = template(config.template);\n\n\t\t\tconst filterConfig = extend(config.filterConfig||{}, {\n\t\t\t\tview:\"filter\", mode:config.mode, field:\"value\",\n\t\t\t\ttemplate: function(obj, type){\n\t\t\t\t\tlet value = obj[\"value\"];\n\n\t\t\t\t\tif (value === undefined || value === null) value = \"\";\n\t\t\t\t\tif (config.format) value = config.format(value);\n\t\t\t\t\tif (config.template) value = config.template(obj, type, value);\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t\tconst suggest = ui({ view:\"popup\", body:filterConfig });\n\t\t\tconst filter = suggest.getBody();\n\n\t\t\tfilter.attachEvent(\"onChange\", () => {\n\t\t\t\tconst handler = filter.getFilterFunction();\n\t\t\t\tconfig.compare = function(val, f, obj){\n\t\t\t\t\treturn handler({ value: obj[config.columnId] });\n\t\t\t\t};\n\t\t\t\tmaster.filterByAll();\n\n\t\t\t\t// change state after filtering\n\t\t\t\tif (config.value)\n\t\t\t\t\tthis._mark_column(config.value, config.node);\n\t\t\t});\n\t\t\tmaster.attachEvent(\"onScrollX\", () => suggest.hide());\n\n\t\t\tconfig.originText = config.text || \"\";\n\t\t\tconfig.filter = suggest._settings.id;\n\n\t\t\tmaster._destroy_with_me.push(suggest);\n\t\t}\n\t\tconfig.css = (config.css||\"\") + \" webix_ss_excel_filter\";\n\t\treturn \"<span class='webix_excel_filter webix_icon wxi-filter'></span>\" + config.originText;\n\t},\n\t_get_position:function(node, popup){\n\t\tconst off = offset(node);\n\t\treturn {\n\t\t\tx: (off.x + off.width - popup.$width),\n\t\t\ty: (off.y + off.height)\n\t\t};\n\t},\n\t_mark_column:function(value, node){\n\t\tif (value.includes || (value.condition && value.condition.filter))\n\t\t\taddCss(node.firstChild, \"webix_ss_filter_active\", true);\n\t\telse removeCss(node.firstChild, \"webix_ss_filter_active\");\n\t},\n\t_get_filter:function(node){\n\t\tconst popup = $$(node.$webix);\n\t\treturn popup ? popup.getBody() : null;\n\t},\n\t_get_data:function(master, config){\n\t\tlet data;\n\n\t\tif (config.options){\n\t\t\tdata = master._collectValues.call(config.options, \"id\", \"value\");\n\t\t} else\n\t\t\tdata = master.collectValues(config.columnId, config.collect);\n\n\t\treturn data;\n\t}\n};\n\ndatafilter.serverExcelFilter = extend({\n\t$server:true\n}, datafilter.excelFilter);\n\ndatafilter.richSelectFilter = {\n\tgetInputNode:function(node){\n\t\treturn $$(node.$webix) || null;\n\t},\n\tgetValue:function(node, text){\n\t\tvar ui = this.getInputNode(node);\n\t\tif (text && ui && ui.getText)\n\t\t\treturn ui.getText();\n\n\t\treturn ui?ui.getValue():\"\";\n\t},\n\tsetValue:function(node, value){\n\t\tvar ui = this.getInputNode(node);\n\t\treturn ui?ui.setValue(value):\"\";\n\t},\n\tcompare:function(a,b){\n\t\treturn a == b;\n\t},\n\trefresh:function(master, node, value){\n\t\tif (master.$destructed) return;\n\n\t\tlet select = $$(value.richselect);\n\n\t\tnode.$webix = value.richselect;\n\t\tnode.style.marginLeft = \"-10px\";\n\n\t\tvalue.compare = value.compare || this.compare;\n\t\tvalue.prepare = value.prepare || this.prepare;\n\t\tmaster.registerFilter(node, value, this);\n\n\t\tconst data = datafilter._get_data(master, value);\n\t\tlet list = select.getPopup().getList();\n\n\t\t//reattaching node back to master container\n\t\tnode.firstChild.appendChild(select.$view.parentNode);\n\n\t\t//load data in list, must be after reattaching, as callback of parse can try to operate with innerHTML\n\t\tif (list.parse){\n\t\t\tlist.clearAll();\n\t\t\tlist.parse(data);\n\n\t\t\tif ((!this.$noEmptyOption && value.emptyOption !== false) || value.emptyOption){\n\t\t\t\tlet emptyOption = { id:\"$webix_empty\", value: value.emptyOption||\"\", $empty: true };\n\t\t\t\tlist.add(emptyOption,0);\n\t\t\t}\n\t\t}\n\n\t\t//set actual value for the filter\n\t\tif (value.value) this.setValue(node, value.value);\n\n\t\t//repaint the filter control\n\t\tselect.render();\n\n\t\t//adjust sizes after full rendering\n\t\tdelay(select.resize, select);\n\t},\n\trender:function(master, config){\n\t\tif (!config.richselect){\n\t\t\tvar d = create(\"div\", { \"class\" : \"webix_richfilter\" });\n\n\t\t\tvar richconfig = {\n\t\t\t\tcontainer:d,\n\t\t\t\tview:this.inputtype,\n\t\t\t\toptions:[]\n\t\t\t};\n\n\t\t\tvar inputConfig = extend( this.inputConfig||{}, config.inputConfig||{}, true );\n\t\t\textend(richconfig, inputConfig);\n\n\t\t\tif (config.separator)\n\t\t\t\trichconfig.separator = config.separator;\n\t\t\tif (config.suggest)\n\t\t\t\trichconfig.suggest = config.suggest;\n\n\t\t\tvar richselect = ui(richconfig);\n\t\t\trichselect.attachEvent(\"onChange\", function(){\n\t\t\t\tmaster.filterByAll();\n\t\t\t});\n\t\t\t\n\t\t\tconfig.richselect = richselect._settings.id;\n\t\t\tmaster._destroy_with_me.push(richselect);\n\t\t}\n\n\t\tconfig.css = (config.css||\"\") + \" webix_div_filter\";\n\t\treturn \" \";\n\t},\n\tinputtype:\"richselect\"\n};\n\ndatafilter.serverRichSelectFilter = extend({\n\t$server:true\n}, datafilter.richSelectFilter);\n\ndatafilter.multiSelectFilter = extend({\n\t$noEmptyOption: true,\n\tinputtype:\"multiselect\",\n\tprepare:function(value, filter){\n\t\tif (!value) return value;\n\t\tvar hash = {};\n\t\tvar parts = value.toString().split(filter.separator || \",\");\n\t\tfor (var i = 0; i < parts.length; i++)\n\t\t\thash[parts[i]] = 1;\n\t\treturn hash;\n\t},\n\tcompare:function(a,b){\n\t\treturn !b || b[a];\n\t}\n}, datafilter.richSelectFilter);\n\ndatafilter.serverMultiSelectFilter = extend({\n\t$server:true,\n\t_on_change:function(){\n\t\tvar id = this._comp_id;\n\t\t$$(id).filterByAll();\n\t}\n}, datafilter.multiSelectFilter);\n\ndatafilter.multiComboFilter = extend({\n\tinputtype:\"multicombo\",\n\tinputConfig:{\n\t\ttagMode: false\n\t}\n}, datafilter.multiSelectFilter);\n\ndatafilter.serverMultiComboFilter = extend({\n\tinputtype:\"multicombo\",\n\tinputConfig:{\n\t\ttagMode: false\n\t}\n}, datafilter.serverMultiSelectFilter);\n\ndatafilter.datepickerFilter = extend({\n\tprepare:function(value){ return value||\"\"; },\n\tcompare:function(a,b){ return a*1 == b*1; },\n\tinputtype:\"datepicker\"\n}, datafilter.richSelectFilter);\n\n\ndatafilter.columnGroup = {\n\tgetValue:function(node){ return node.innerHTML; },\n\tsetValue:function(){},\n\tgetHelper:function(node, config){\n\t\treturn {\n\t\t\topen:function(){ config.closed = true; node.onclick(); },\n\t\t\tclose:function(){ config.closed = false; node.onclick(); },\n\t\t\tisOpened:function(){ return config.closed; }\n\t\t};\n\t},\n\trefresh:function(master, node, config){\n\t\tnode.onclick = function(e){\n\t\t\tstopEvent(e);\n\t\t\tvar mark = this.firstChild.firstChild;\n\t\t\tif (config.closed){\n\t\t\t\tconfig.closed = false;\n\t\t\t\tmark.className = \"webix_tree_open\";\n\t\t\t} else {\n\t\t\t\tconfig.closed = true;\n\t\t\t\tmark.className = \"webix_tree_close\";\n\t\t\t}\n\n\t\t\tdelay(function(){\n\t\t\t\tmaster.callEvent(\"onColumnGroupCollapse\", [config.columnId, config.batch, !config.closed]);\n\t\t\t\tmaster.showColumnBatch(config.batch, !config.closed);\n\t\t\t});\n\t\t};\n\n\t\tif (!config.firstRun){\n\t\t\tconfig.firstRun = 1;\n\t\t\tif (config.closed)\n\t\t\t\tmaster.showColumnBatch(config.batch, false);\n\t\t}\n\t},\n\trender:function(master, config){\n\t\treturn \"<div role='button' tabindex='0' aria-label='\"+i18n.aria[config.closed?\"openGroup\":\"closeGroup\"]+\"' class='\"+(config.closed?\"webix_tree_close\":\"webix_tree_open\")+\"'></div>\"+(config.groupText||\"\");\n\t}\n};\n\ndatafilter.dateRangeFilter = extend({\n\tprepare:function(value){\n\t\tif (!value.start && !value.end) return \"\";\n\t\treturn daterange.api.$prepareValue(value);\n\t},\n\tcompare:function(a, b){\n\t\treturn ((!b.start || a>=b.start) && (!b.end || a<=b.end));\n\t},\n\tinputtype:\"daterangepicker\"\n}, datafilter.richSelectFilter);\n\ndatafilter.serverDateRangeFilter = extend({\n\t$server:true\n}, datafilter.dateRangeFilter);\n","import Touch from \"../core/touch\";\nimport env  from \"../webix/env\";\nimport ready from \"../webix/ready\";\nimport {set as setSkin} from \"../webix/skin\";\nimport {create, addStyle} from \"../webix/html\";\nimport {define} from \"../services\";\n\n\nenv.scrollSize = ((env.touch||env.$customScroll)?0:17);\nready(function(){\n\tvar size = _detectScrollSize();\n\tenv.scrollSize = env.touch ? 0 : size;\n});\n\n\nfunction _detectScrollSize(){\n\tvar div = create(\"div\");\n\tdiv.className = \"webix_skin_mark\";\n\tdiv.style.cssText=\"position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tvar name = { 200:\"flat\" , 210:\"compact\", 230: \"contrast\", 240:\"material\", 250:\"mini\" }[Math.floor(div.offsetHeight/10)*10];\n\tdocument.body.removeChild(div);\n\n\tif (name)\n\t\tsetSkin(name);\n\n\tif (env.$customScroll) return 0;\n\treturn width;\n}\n\n\nlet fixed = false;\nfunction _fixHeight(){\n\tif (fixed) return;\n\n\taddStyle(\"html, body{ height:100%; }\");\n\tdocument.body.className+=\" webix_full_screen\";\n\tTouch.limit(false);\n\tfixed = true;\n}\n\ndefine(\"_fixHeight\", _fixHeight);","export {proto, protoUI, $$} from \"./core\";\n\nimport {ui} from \"./core\";\n\nimport {animate, animateView} from \"./animate\";\nimport {freeze, resize, zIndex} from \"./helpers\";\nimport fullScreen from \"./fullscreen\";\n\n// filters\nimport datafilter from \"./datafilter\";\nimport \"./datafilter_pro\";\n\n// detect scroll\nimport \"./detect\";\n\n\nui.animate = animate;\nui.animateView = animateView;\n\nui.freeze = freeze;\nui.resize = resize;\nui.zIndex = zIndex;\nui.datafilter = datafilter;\nui.fullScreen = fullScreen;\n\nexport {ui};","/*German (Germany) locale*/\nconst de = {\n\tgroupDelimiter:\".\",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\tdateFormat:\"%d.%n.%Y\",\n\ttimeFormat:\"%H:%i\",\n\tlongDateFormat:\"%j. %F %Y\",\n\tfullDateFormat:\"%j. %F %Y %H:%i\",\n\tam:null,\n\tpm:null,\n\tprice:\"{obj} €\",\n\tpriceSettings:{\n\t\tgroupDelimiter:\".\",\n\t\tgroupSize:3,\n\t\tdecimalDelimiter:\",\",\n\t\tdecimalSize:2\n\t},\n\tcalendar:{\n\t\tmonthFull:[\"Januar\",\"Februar\",\"März\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\"],\n\t\tmonthShort:[\"Jan\",\"Feb\",\"Mrz\",\"Apr\",\"Mai\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Okt\",\"Nov\",\"Dez\"],\n\t\tdayFull:[\"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\"],\n\t\tdayShort:[\"So\",\"Mo\",\"Di\",\"Mi\",\"Do\",\"Fr\",\"Sa\"],\n\t\thours: \"Stunden\",\n\t\tminutes: \"Minuten\",\n\t\tdone:\"Fertig\",\n\t\tclear: \"Entfernen\",\n\t\ttoday: \"Heute\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Seite\",\n\t\tof:\"von\"\n\t},\n\tPDFviewer:{\n\t\tof:\"von\",\n\t\tautomaticZoom:\"Automatisch Zoom\",\n\t\tactualSize:\"Aktuelles Ausmaß\",\n\t\tpageFit:\"Seite Ausmaß\",\n\t\tpageWidth:\"Seite Breite\",\n\t\tpageHeight:\"Seite Höhe\",\n\t\tenterPassword:\"Passwort eingeben\",\n\t\tpasswordError:\"Falsches passwort\"\n\t},\n\taria:{\n\t\tcalendar:\"Kalender\",\n\t\tincreaseValue:\"Wert erhöhen\",\n\t\tdecreaseValue:\"Wert verringern\",\n\t\tnavMonth:[\"Vorheriger Monat\", \"Nächsten Monat\"],\n\t\tnavYear:[\"Vorheriges Jahr\", \"Nächstes Jahr\"],\n\t\tnavDecade:[\"Zurück Jahrzehnt\", \"Als nächstes Jahrzehnt\"],\n\t\tdateFormat:\"%j. %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Stunden: %H\",\n\t\tminuteFormat:\"Minuten: %i\",\n\t\tremoveItem:\"Element entfernen\",\n\t\tpages:[\"Erste Seite\", \"Vorherige Seite\", \"Folgeseite\", \"Letzte Seite\"],\n\t\tpage:\"Seite\",\n\t\theadermenu:\"Titelmenü\",\n\t\topenGroup:\"Öffnen Spaltengruppe \",\n\t\tcloseGroup:\"Schließen Spaltengruppe \",\n\t\tcloseTab:\"Tab schließen\",\n\t\tshowTabs:\"Weitere Tabs\",\n\t\tresetTreeMap:\"Zurück zur ursprünglichen Ansicht\",\n\t\tnavTreeMap:\"Aufleveln\",\n\t\tnextTab:\"Weiter tab\",\n\t\tprevTab:\"Zurück tab\",\n\t\tmultitextSection:\"Element hinzufügen\",\n\t\tmultitextextraSection:\"Element entfernen\",\n\t\tshowChart:\"Chart anzeigen\",\n\t\thideChart:\"Chart verstecken\",\n\t\tresizeChart:\"Chart Größe ändern\"\n\t},\n\trichtext:{\n\t\tunderline: \"Unterstreichen\",\n\t\tbold: \"Fettgedruckt\",\n\t\titalic: \"Kursiv\"\n\t},\n\tcombo:{\n\t\tselect:\"Auswählen\",\n\t\tselectAll:\"Alles auswählen\",\n\t\tunselectAll:\"Alles widerrufen\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Abbrechen\"\n\t},\n\tcomments:{\n\t\tsend: \"Absenden\",\n\t\tconfirmMessage: \"Der Kommentar wird entfernt. Sind Sie sicher?\",\n\t\tedit: \"Redigieren\",\n\t\tremove: \"Löschen\",\n\t\tplaceholder: \"Geben Sie hier ein..\",\n\t\tmoreComments:\"Mehr Kommentare\"\n\t},\n\tfilter:{\n\t\tless: \"weniger\",\n\t\tlessOrEqual: \"weniger oder gleich\",\n\t\tgreater: \"mehr\",\n\t\tgreaterOrEqual: \"größer oder gleich\",\n\t\tcontains: \"enthält\",\n\t\tnotContains: \"nicht enthält\",\n\t\tequal: \"gleich\",\n\t\tnotEqual: \"ungleich\",\n\t\tbeginsWith: \"beginnt mit\",\n\t\tnotBeginsWith: \"nicht beginnt mit\",\n\t\tendsWith: \"endet mit\",\n\t\tnotEndsWith: \"nicht endet mit\",\n\t\tbetween: \"zwischen\",\n\t\tnotBetween: \"nicht zwischen\"\n\t}\n};\n\nexport default de;","/*Spanish (Spain, International Sort) locale*/\nconst es = {\n\tgroupDelimiter:\".\",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\tdateFormat:\"%d/%n/%Y\",\n\ttimeFormat:\"%G:%i\",\n\tlongDateFormat:\"%d %F %Y\",\n\tfullDateFormat:\"%d %F %Y %G:%i\",\n\tam:null,\n\tpm:null,\n\tprice:\"{obj} €\",\n\tpriceSettings:{\n\t\tgroupDelimiter:\".\",\n\t\tgroupSize:3,\n\t\tdecimalDelimiter:\",\",\n\t\tdecimalSize:2\n\t},\n\tcalendar:{\n\t\tmonthFull:[\"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\"],\n\t\tmonthShort:[\"ene\",\"feb\",\"mar\",\"abr\",\"may\",\"jun\",\"jul\",\"ago\",\"sep\",\"oct\",\"nov\",\"dic\"],\n\t\tdayFull:[\"domingo\",\"lunes\",\"martes\",\"miércoles\",\"jueves\",\"viernes\",\"sábado\"],\n\t\tdayShort:[\"dom\",\"lun\",\"mar\",\"mié\",\"jue\",\"vie\",\"sáb\"],\n\t\thours: \"Horas\",\n\t\tminutes: \"Minutos\",\n\t\tdone:\"Listo\",\n\t\tclear: \"Reinicio\",\n\t\ttoday: \"Hoy\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Página\",\n\t\tof:\"de\"\n\t},\n\tPDFviewer:{\n\t\tof:\"de\",\n\t\tautomaticZoom:\"Zoom automático\",\n\t\tactualSize:\"Tamaño real\",\n\t\tpageFit:\"Tamaño de página\",\n\t\tpageWidth:\"Ancho de página\",\n\t\tpageHeight:\"Altura de la página\",\n\t\tenterPassword:\"Introduzca la contraseña\",\n\t\tpasswordError:\"Contraseña incorrecta\"\n\t},\n\taria:{\n\t\tcalendar:\"Сalendario\",\n\t\tincreaseValue:\"Aumentar el valor\",\n\t\tdecreaseValue:\"Disminuye el valor\",\n\t\tnavMonth:[\"Mes anterior\", \"Próximo mes\"],\n\t\tnavYear:[\"Año anterior\", \"Próximo año\"],\n\t\tnavDecade:[\"Década anterior\", \"Próxima década\"],\n\t\tdateFormat:\"%d %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Horas: %G\",\n\t\tminuteFormat:\"Minutos: %i\",\n\t\tremoveItem:\"Retire el elemento\",\n\t\tpages:[\"Primera página\", \"Pagina anterior\", \"Siguiente página\", \"Última página\"],\n\t\tpage:\"Página\",\n\t\theadermenu:\"Menú de títulos\",\n\t\topenGroup:\"Grupo de columnas abiertas\",\n\t\tcloseGroup:\"Primer grupo de columnas\",\n\t\tcloseTab:\"Cerrar tab\",\n\t\tshowTabs:\"Mostrar más tabs\",\n\t\tresetTreeMap:\"Volver a la vista original\",\n\t\tnavTreeMap:\"Elevar a mismo nivel\",\n\t\tnextTab:\"Siguiente tab\",\n\t\tprevTab:\"Tab anterior\",\n\t\tmultitextSection:\"Añadir elemento\",\n\t\tmultitextextraSection:\"Retire el elemento\",\n\t\tshowChart:\"Espectáculo chart\",\n\t\thideChart:\"Esconder chart\",\n\t\tresizeChart:\"Cambiar el tamaño el chart\"\n\t},\n\trichtext:{\n\t\tunderline: \"Subrayar\",\n\t\tbold: \"Negrita\",\n\t\titalic: \"Itálico\"\n\t},\n\tcombo:{\n\t\tselect:\"Seleccionar\",\n\t\tselectAll:\"Seleccionar todo\",\n\t\tunselectAll:\"Deselecciona todo\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Cancelar\"\n\t},\n\tcomments:{\n\t\tsend: \"Enviar\",\n\t\tconfirmMessage: \"El comentario será eliminado. Estás seguro?\",\n\t\tedit: \"Corregir\",\n\t\tremove: \"Suprimir\",\n\t\tplaceholder: \"Escriba aquí..\",\n\t\tmoreComments:\"Más comentarios\"\n\t},\n\tfilter:{\n\t\tless: \"menos\",\n\t\tlessOrEqual: \"menor o igual\",\n\t\tgreater: \"mayor\",\n\t\tgreaterOrEqual: \"mayor o igual\",\n\t\tcontains: \"contiene\",\n\t\tnotContains: \"not contiene\",\n\t\tequal: \"igual\",\n\t\tnotEqual: \"no es igual\",\n\t\tbeginsWith: \"comienza con\",\n\t\tnotBeginsWith: \"no comienza con\",\n\t\tendsWith: \"termina con\",\n\t\tnotEndsWith: \"no termina con\",\n\t\tbetween: \"entre\",\n\t\tnotBetween: \"no entre\"\n\t}\n};\n\nexport default es;","const fr = {\n\tgroupDelimiter:\" \",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\n\tdateFormat:\"%d/%m/%Y\",\n\ttimeFormat:\"%H:%i\",\n\tlongDateFormat:\"%d %F %Y\",\n\tfullDateFormat:\"%d.%m.%Y %H:%i\",\n\n\tprice:\"{obj} €\",\n\tpriceSettings:null, //use number defaults\n\t\n\tcalendar:{\n\t\tmonthFull:[\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n\t\tmonthShort:[\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Aôu\", \"Sep\", \"Oct\", \"Nov\", \"Déc\"],\t\n\t\tdayFull:[\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n\t\tdayShort:[\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"],\n\t\thours: \"Heures\",\n\t\tminutes: \"Minutes\",\n\t\tdone:\"Fini\",\n\t\tclear: \"Effacer\",\n\t\ttoday: \"Aujourd'hui\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Page\",\n\t\tof:\"sur\"\n\t},\n\tPDFviewer:{\n\t\tof:\"sur\",\n\t\tautomaticZoom:\"Zoom automatique\",\n\t\tactualSize:\"Taille actuelle\",\n\t\tpageFit:\"Taille de la page\",\n\t\tpageWidth:\"Largeur de la page\",\n\t\tpageHeight:\"Hauteur de page\",\n\t\tenterPassword:\"Entrez le mot de passe\",\n\t\tpasswordError:\"Mauvais mot de passe\"\n\t},\n\taria:{\n\t\tcalendar:\"Сalendrier\",\n\t\tincreaseValue:\"Augmenter la valeur\",\n\t\tdecreaseValue:\"Diminution de la valeur\",\n\t\tnavMonth:[\"Le mois précédent\", \"Le mois prochain\"],\n\t\tnavYear:[\"Année précédente\", \"L'année prochaine\"],\n\t\tnavDecade:[\"Décennie précédente\", \"Suivant décennie\"],\n\t\tdateFormat:\"%d %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Heures: %H\",\n\t\tminuteFormat:\"Minutes: %i\",\n\t\tremoveItem:\"Retirer l'élément\",\n\t\tpages:[\"Première page\", \"Page précédente\", \"Page suivante\", \"Dernière page\"],\n\t\tpage:\"Page\",\n\t\theadermenu:\"Menu de titre\",\n\t\topenGroup:\"Ouvrir groupe de colonnes \",\n\t\tcloseGroup:\"Fermer groupe de colonnes\",\n\t\tcloseTab:\"Fermer tab\",\n\t\tshowTabs:\"Montrer plus tabs\",\n\t\tresetTreeMap:\"Revenir à la vue originale\",\n\t\tnavTreeMap:\"Niveau supérieur\",\n\t\tnextTab:\"Prochain tab\",\n\t\tprevTab:\"Précédent tab\",\n\t\tmultitextSection:\"Ajouter l'élément\",\n\t\tmultitextextraSection:\"Retirer l'élément\",\n\t\tshowChart:\"Montrer chart\",\n\t\thideChart:\"Cacher chart\",\n\t\tresizeChart:\"Redimensionner chart\"\n\t},\n\trichtext:{\n\t\tunderline: \"Souligner\",\n\t\tbold: \"Gras\",\n\t\titalic: \"Italique\"\n\t},\n\tcombo:{\n\t\tselect:\"Sélectionner\",\n\t\tselectAll:\"Tout sélectionner\",\n\t\tunselectAll:\"Tout déselectionner\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Annuler\"\n\t},\n\tcomments:{\n\t\tsend: \"Envoyer\",\n\t\tconfirmMessage: \"Le commentaire sera supprimé. Êtes-vous sûr?\",\n\t\tedit: \"Modifier\",\n\t\tremove: \"Effacer\",\n\t\tplaceholder: \"Écrivez ici..\",\n\t\tmoreComments:\"Plus de commentaires\"\n\t},\n\tfilter:{\n\t\tless: \"moins\",\n\t\tlessOrEqual: \"inférieur ou égal\",\n\t\tgreater: \"plus grand\",\n\t\tgreaterOrEqual: \"supérieur ou égal\",\n\t\tcontains: \"contient\",\n\t\tnotContains: \"ne contient\",\n\t\tequal: \"égal\",\n\t\tnotEqual: \"pas égal\",\n\t\tbeginsWith: \"commence par\",\n\t\tnotBeginsWith: \"ne commence par\",\n\t\tendsWith: \"se termine par\",\n\t\tnotEndsWith: \"pas se termine par\",\n\t\tbetween: \"entre\",\n\t\tnotBetween: \"pas entre\"\n\t}\n};\n\nexport default fr;","/*Italian (Italy) locale*/\nconst it = {\n\tgroupDelimiter:\".\",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\tdateFormat:\"%d/%m/%Y\",\n\ttimeFormat:\"%H:%i\",\n\tlongDateFormat:\"%j %F %Y\",\n\tfullDateFormat:\"%j %F %Y %H:%i\",\n\tam:null,\n\tpm:null,\n\tprice:\"€ {obj}\",\n\tpriceSettings:{\n\t\tgroupDelimiter:\".\",\n\t\tgroupSize:3,\n\t\tdecimalDelimiter:\",\",\n\t\tdecimalSize:2\n\t},\n\tcalendar:{\n\t\tmonthFull:[\"gennaio\",\"febbraio\",\"marzo\",\"aprile\",\"maggio\",\"giugno\",\"luglio\",\"agosto\",\"settembre\",\"ottobre\",\"novembre\",\"dicembre\"],\n\t\tmonthShort:[\"gen\",\"feb\",\"mar\",\"apr\",\"mag\",\"giu\",\"lug\",\"ago\",\"set\",\"ott\",\"nov\",\"dic\"],\n\t\tdayFull:[\"domenica\",\"lunedì\",\"martedì\",\"mercoledì\",\"giovedì\",\"venerdì\",\"sabato\"],\n\t\tdayShort:[\"dom\",\"lun\",\"mar\",\"mer\",\"gio\",\"ven\",\"sab\"],\n\t\thours: \"Orario\",\n\t\tminutes: \"Minuti\",\n\t\tdone:\"Pronto\",\n\t\tclear: \"Pulisci\",\n\t\ttoday: \"Oggi\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Pagina\",\n\t\tof:\"di\"\n\t},\n\tPDFviewer:{\n\t\tof:\"di\",\n\t\tautomaticZoom:\"Zoom automatico\",\n\t\tactualSize:\"Dimensione reale\",\n\t\tpageFit:\"Dimensioni della pagina\",\n\t\tpageWidth:\"Larghezza della pagina\",\n\t\tpageHeight:\"Altezza della pagina\",\n\t\tenterPassword:\"Inserisci la password\",\n\t\tpasswordError:\"Password errata\"\n\t},\n\taria:{\n\t\tcalendar:\"Calendario\",\n\t\tincreaseValue:\"Aumenta il valore\",\n\t\tdecreaseValue:\"Riduci il valore\",\n\t\tnavMonth:[\"Il mese scorso\", \"Il prossimo mese\"],\n\t\tnavYear:[\"L'anno scorso\", \"L'anno prossimo\"],\n\t\tnavDecade:[\"Decennio precedente\", \"Prossimo decennio\"],\n\t\tdateFormat:\"%j %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Orario: %H\",\n\t\tminuteFormat:\"Minuti: %i\",\n\t\tremoveItem:\"Rimuovere l'elemento\",\n\t\tpages:[\"Prima pagina\", \"Pagina precedente\", \"Pagina successiva\", \"Ultima pagina\"],\n\t\tpage:\"Pagina\",\n\t\theadermenu:\"Menu del titolo\",\n\t\topenGroup:\"Aperto gruppo di colonne\",\n\t\tcloseGroup:\"Chiudi gruppo di colonne\",\n\t\tcloseTab:\"Chiudi tab\",\n\t\tshowTabs:\"Mostra più tabs\",\n\t\tresetTreeMap:\"Tornare alla vista originale\",\n\t\tnavTreeMap:\"Livello superiore\",\n\t\tnextTab:\"Tab successivo\",\n\t\tprevTab:\"Tab precedente\",\n\t\tmultitextSection:\"Aggiungi elemento\",\n\t\tmultitextextraSection:\"Rimuovere l'elemento\",\n\t\tshowChart:\"Mostrare grafico\",\n\t\thideChart:\"Nascondere grafico\",\n\t\tresizeChart:\"Ridimensionare grafico\"\n\t},\n\trichtext:{\n\t\tunderline: \"Sottolineare\",\n\t\tbold: \"Grassetto\",\n\t\titalic: \"Corsivo\"\n\t},\n\tcombo:{\n\t\tselect:\"Selezionare\",\n\t\tselectAll:\"Seleziona tutto\",\n\t\tunselectAll:\"Deseleziona tutto\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Annullare\"\n\t},\n\tcomments:{\n\t\tsend: \"Inviare\",\n\t\tconfirmMessage: \"Il commento verrà rimosso. Sei sicuro?\",\n\t\tedit: \"Correggere\",\n\t\tremove: \"Elimina\",\n\t\tplaceholder: \"Digitare qui..\",\n\t\tmoreComments:\"Altri commenti\"\n\t},\n\tfilter:{\n\t\tless: \"meno\",\n\t\tlessOrEqual: \"minore o uguale\",\n\t\tgreater: \"maggiore\",\n\t\tgreaterOrEqual: \"maggiore o uguale\",\n\t\tcontains: \"contiene\",\n\t\tnotContains: \"non contiene\",\n\t\tequal: \"uguale\",\n\t\tnotEqual: \"non uguale\",\n\t\tbeginsWith: \"inizia con\",\n\t\tnotBeginsWith: \"non inizia con\",\n\t\tendsWith: \"finisce con\",\n\t\tnotEndsWith: \"non termina con\",\n\t\tbetween: \"tra\",\n\t\tnotBetween: \"non tra\"\n\t}\n};\n\nexport default it;","const ja = {\n\tgroupDelimiter:\",\",\n\tgroupSize:3,\n\tdecimalDelimiter:\".\",\n\tdecimalSize:2,\n\n\tdateFormat:\"%Y.%m.%d\",\n\ttimeFormat:\"%H:%i\",\n\tlongDateFormat:\"%Y年%m月%d日\",\n\tfullDateFormat:\"%Y.%m.%d %H:%i\",\n\n\tprice:\"¥{obj}\",\n\tpriceSettings:{\n\t\tgroupSize:3,\n\t\tgroupDelimiter:\",\",\n\t\tdecimalDelimiter:\"\",\n\t\tdecimalSize:0\n\t},\n\n\tcalendar:{\n\t\tmonthFull:[\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n\t\tmonthShort:[ \"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n\t\tdayFull:[\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"],\n\t\tdayShort:[\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n\t\thours: \"営業時間\",\n\t\tminutes: \"分\",\n\t\tdone: \"レディー\",\n\t\tclear: \"削除する\",\n\t\ttoday: \"今日\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"ページ\",\n\t\tof:\"から\"\n\t},\n\tPDFviewer:{\n\t\tof:\"から\",\n\t\tautomaticZoom:\"自動ズーム\",\n\t\tactualSize:\"実サイズ\",\n\t\tpageFit:\"ページサイズ\",\n\t\tpageWidth:\"ページ幅\",\n\t\tpageHeight:\"ページの高さ\",\n\t\tenterPassword:\"パスワードを入力する\",\n\t\tpasswordError:\"間違ったパスワード\"\n\t},\n\taria:{\n\t\tcalendar:\"カレンダー\",\n\t\tincreaseValue:\"増加値\",\n\t\tdecreaseValue:\"数字を小さく\",\n\t\tnavMonth:[\"前の月\", \"来月\"],\n\t\tnavYear:[\"前年\", \"来年\"],\n\t\tnavDecade:[\"前の十年\", \"次の10年\"],\n\t\tdateFormat:\"%Y年%m月%d日\",\n\t\tmonthFormat:\"%Y年%m月\",\n\t\tyearFormat:\"%Y年\",\n\t\thourFormat:\"営業時間: %H\",\n\t\tminuteFormat:\"分: %i\",\n\t\tremoveItem:\"要素を削除します\",\n\t\tpages:[\"一ページ目\", \"前のページ\", \"次のページ\", \"最後のページ\"],\n\t\tpage:\"ページ\",\n\t\theadermenu:\"ヘッダメニュー\",\n\t\topenGroup:\"オープン列グループ\",\n\t\tcloseGroup:\"閉じる列グループ\",\n\t\tcloseTab:\"タブを閉じます\",\n\t\tshowTabs:\"複数のタブを表示します\",\n\t\tresetTreeMap:\"元の表示に戻ります\",\n\t\tnavTreeMap:\"レベルパック\",\n\t\tnextTab:\"次のタブ\",\n\t\tprevTab:\"前のタブ\",\n\t\tmultitextSection:\"要素を追加します。\",\n\t\tmultitextextraSection:\"要素を削除します\",\n\t\tshowChart:\"靴チャート\",\n\t\thideChart:\"隠すチャート\",\n\t\tresizeChart:\"グラフのサイズを変更\"\n\t},\n\trichtext:{\n\t\tunderline: \"アンダーライン\",\n\t\tbold: \"大胆な\",\n\t\titalic: \"イタリック\"\n\t},\n\tcombo:{\n\t\tselect:\"選択する\",\n\t\tselectAll:\"すべて選択\",\n\t\tunselectAll:\"すべての選択を解除する\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"取り消す\"\n\t},\n\tcomments:{\n\t\tsend: \"送信\",\n\t\tconfirmMessage: \"コメントは削除されます. 本気ですか？\",\n\t\tedit: \"編集\",\n\t\tremove: \"削除\",\n\t\tplaceholder: \"ここに入力..\",\n\t\tmoreComments:\"その他のコメント\"\n\t},\n\tfilter:{\n\t\tless: \"レス\",\n\t\tlessOrEqual: \"以下\",\n\t\tgreater: \"大きいです\",\n\t\tgreaterOrEqual: \"以上\",\n\t\tcontains: \"含まれています\",\n\t\tnotContains: \"含まれていません\",\n\t\tequal: \"等しいです\",\n\t\tnotEqual: \"等しくありません\",\n\t\tbeginsWith: \"で始まります\",\n\t\tnotBeginsWith: \"ないで始まります\",\n\t\tendsWith: \"で終わります\",\n\t\tnotEndsWith: \"で終わりではありません\",\n\t\tbetween: \"間に\",\n\t\tnotBetween: \"いない間\"\n\t}\n};\n\nexport default ja;","const pt = {\n\tgroupDelimiter:\".\",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\n\tdateFormat:\"%d/%m/%Y\",\n\ttimeFormat:\"%G:%i\",\n\tlongDateFormat:\"%d de %F de %Y\",\n\tfullDateFormat:\"%d de %F de %Y %G:%i\",\n\n\tam:null,\n\tpm:null,\n\tprice:\"R$ {obj}\",\n\tpriceSettings:{\n\t\tgroupDelimiter:\".\",\n\t\tgroupSize:3,\n\t\tdecimalDelimiter:\",\",\n\t\tdecimalSize:2\n\t},\n\tfileSize: [\"b\",\"Kb\",\"Mb\",\"Gb\",\"Tb\",\"Pb\",\"Eb\"],\n\tcalendar:{\n\t\tmonthFull:[\"Janeiro\",\"Fevereiro\",\"Março\",\"Abril\",\"Maio\",\"Junho\",\"Julho\",\"Agosto\",\"Setembro\",\"Outubro\",\"Novembro\",\"Dezembro\"],\n\t\tmonthShort:[\"Jan\",\"Fev\",\"Mar\",\"Abr\",\"Mai\",\"Jun\",\"Jul\",\"Ago\",\"Set\",\"Out\",\"Nov\",\"Dez\"],\n\t\tdayFull:[\"Domingo\",\"Segunda-Feira\",\"Terça-Feira\",\"Quarta-Feira\",\"Quinta-Feira\",\"Sexta-Feira\",\"Sábado\"],\n\t\tdayShort:[\"Dom\",\"Seg\",\"Ter\",\"Qua\",\"Qui\",\"Sex\",\"Sáb\"],\n\t\thours: \"Horas\",\n\t\tminutes: \"Minutos\",\n\t\tdone:\"Feito\",\n\t\tclear: \"Limpar\",\n\t\ttoday: \"Hoje\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Página\",\n\t\tof:\"de\"\n\t},\n\tPDFviewer:{\n\t\tof:\"de\",\n\t\tautomaticZoom:\"Zoom automático\",\n\t\tactualSize:\"Tamanho atual\",\n\t\tpageFit:\"Tamanho da página\",\n\t\tpageWidth:\"Largura da página\",\n\t\tpageHeight:\"Altura da página\",\n\t\tenterPassword:\"Digite a senha\",\n\t\tpasswordError:\"Senha incorreta\"\n\t},\n\taria:{\n\t\tcalendar:\"Calendário\",\n\t\tincreaseValue:\"Aumentar o valor\",\n\t\tdecreaseValue:\"Diminuir o valor\",\n\t\tnavMonth:[\"Mês anterior\", \"Próximo mês\"],\n\t\tnavYear:[\"Ano anterior\", \"Próximo ano\"],\n\t\tnavDecade:[\"Década anterior\", \"Próxima década\"],\n\t\tdateFormat:\"%d de %F de %Y\",\n\t\tmonthFormat:\"%F de %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Horas: %G\",\n\t\tminuteFormat:\"Minutos: %i\",\n\t\tremoveItem:\"Remover elemento\",\n\t\tpages:[\"Primeira página\", \"Página anterior\", \"Próxima página\", \"Última página\"],\n\t\tpage:\"Página\",\n\t\theadermenu:\"Menu de títulos\",\n\t\topenGroup:\"Grupo coluna aberta\",\n\t\tcloseGroup:\"Fechar grupo de colunas\",\n\t\tcloseTab:\"Fechar tab\",\n\t\tshowTabs:\"Mostre mais tabs\",\n\t\tresetTreeMap:\"Мoltar à vista original\",\n\t\tnavTreeMap:\"Upar\",\n\t\tnextTab:\"Próximo tab\",\n\t\tprevTab:\"Anterior tab\",\n\t\tmultitextSection:\"Adicionar elemento\",\n\t\tmultitextextraSection:\"Remover elemento\",\n\t\tshowChart:\"Exposição chart\",\n\t\thideChart:\"Esconder chart\",\n\t\tresizeChart:\"Redimensionar chart\"\n\t},\n\trichtext:{\n\t\tunderline: \"Sublinhado\",\n\t\tbold: \"Negrito\",\n\t\titalic: \"itálico\"\n\t},\n\tcombo:{\n\t\tselect:\"Selecionar\",\n\t\tselectAll:\"Selecionar tudo\",\n\t\tunselectAll:\"Desmarque todos\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Cancelar\"\n\t},\n\tcomments:{\n\t\tsend: \"Enviar\",\n\t\tconfirmMessage: \"Comentário será removido. Você tem certeza?\",\n\t\tedit: \"Editar\",\n\t\tremove: \"Excluir\",\n\t\tplaceholder: \"Digite aqui..\",\n\t\tmoreComments:\"Mais comentários\"\n\t},\n\tfilter:{\n\t\tless: \"menos\",\n\t\tlessOrEqual: \"menor ou igual\",\n\t\tgreater: \"maior\",\n\t\tgreaterOrEqual: \"maior ou igual\",\n\t\tcontains: \"contém\",\n\t\tnotContains: \"não contém\",\n\t\tequal: \"igual\",\n\t\tnotEqual: \"não é igual\",\n\t\tbeginsWith: \"começa com\",\n\t\tnotBeginsWith: \"não começa com\",\n\t\tendsWith: \"termina com\",\n\t\tnotEndsWith: \"não termina com\",\n\t\tbetween: \"entre\",\n\t\tnotBetween: \"não entre\"\n\t}\n};\n\nexport default pt;","/*Chinese (Simplified, PRC) locale*/\nconst zh = {\n\tgroupDelimiter:\",\",\n\tgroupSize:3,\n\tdecimalDelimiter:\".\",\n\tdecimalSize:2,\n\tdateFormat:\"%Y/%m/%j\",\n\ttimeFormat:\"%G:%i\",\n\tlongDateFormat:\"%Y'年'%m'月'%j'日'\",\n\tfullDateFormat:\"%Y'年'%m'月'%j'日' %G:%i\",\n\tam:[\"上午\",\"上午\"],\n\tpm:[\"下午\",\"下午\"],\n\tprice:\"¥{obj}\",\n\tpriceSettings:{\n\t\tgroupDelimiter:\",\",\n\t\tgroupSize:3,\n\t\tdecimalDelimiter:\".\",\n\t\tdecimalSize:2\n\t},\n\tcalendar:{\n\t\tmonthFull:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"],\n\t\tmonthShort:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"],\n\t\tdayFull:[\"星期日\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\"],\n\t\tdayShort:[\"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\"],\n\t\thours: \"小时\",\n\t\tminutes: \"分钟\",\n\t\tdone:\"完成\",\n\t\tclear: \"清除\",\n\t\ttoday: \"今天\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"页\",\n\t\tof:\"从\"\n\t},\n\tPDFviewer:{\n\t\tof:\"从\",\n\t\tautomaticZoom:\"自动设置页面大小\",\n\t\tactualSize:\"实际尺寸\",\n\t\tpageFit:\"页面大小\",\n\t\tpageWidth:\"页面宽度\",\n\t\tpageHeight:\"页面高度\",\n\t\tenterPassword:\"输入密码\",\n\t\tpasswordError:\"密码错误\"\n\t},\n\taria:{\n\t\tcalendar:\"日历\",\n\t\tincreaseValue:\"增加值\",\n\t\tdecreaseValue:\"减少值\",\n\t\tnavMonth:[\"上个月\", \"下个月\"],\n\t\tnavYear:[\"上年\", \"明年\"],\n\t\tnavDecade:[\"过去十年\", \"下个十年\"],\n\t\tdateFormat:\"%Y'年'%m'月'%j'日'\",\n\t\tmonthFormat:\"%Y'年'%m'月\",\n\t\tyearFormat:\"%Y'年\",\n\t\thourFormat:\"小时: %G\",\n\t\tminuteFormat:\"分钟: %i\",\n\t\tremoveItem:\"删除元素\",\n\t\tpages:[\"第一页\", \"上一页\", \"下一页\", \"最后一页\"],\n\t\tpage:\"页\",\n\t\theadermenu:\"标题菜单\",\n\t\topenGroup:\"打开栏目组\",\n\t\tcloseGroup:\"关闭栏目组\",\n\t\tcloseTab:\"关闭标签\",\n\t\tshowTabs:\"显示更多选项卡\",\n\t\tresetTreeMap:\"回到原来的视图\",\n\t\tnavTreeMap:\"升级\",\n\t\tnextTab:\"下一个标签\",\n\t\tprevTab:\"前一个标签\",\n\t\tmultitextSection:\"加元\",\n\t\tmultitextextraSection:\"删除元素\",\n\t\tshowChart:\"显示图表\",\n\t\thideChart:\"隐藏图表\",\n\t\tresizeChart:\"调整图\"\n\t},\n\trichtext:{\n\t\tunderline: \"强调\",\n\t\tbold: \"粗體\",\n\t\titalic: \"斜体\"\n\t},\n\tcombo:{\n\t\tselect:\"选择\",\n\t\tselectAll:\"全选\",\n\t\tunselectAll:\"全部取消选择\"\n\t},\n\tmessage:{\n\t\tok:\"好\",\n\t\tcancel:\"取消\"  \n\t},\n\tcomments:{\n\t\tsend: \"发送\",\n\t\tconfirmMessage: \"评论将被删除. 你确定吗?\",\n\t\tedit: \"编辑\",\n\t\tremove: \"去掉\",\n\t\tplaceholder: \"在此输入..\",\n\t\tmoreComments:\"更多评论\"\n\t},\n\tfilter:{\n\t\tless: \"减\",\n\t\tlessOrEqual: \"少于或等于\",\n\t\tgreater: \"更大\",\n\t\tgreaterOrEqual: \"大于或等于\",\n\t\tcontains: \"包含\",\n\t\tnotContains: \"不包含\",\n\t\tequal: \"等于\",\n\t\tnotEqual: \"不平等\",\n\t\tbeginsWith: \"开始于\",\n\t\tnotBeginsWith: \"不开始\",\n\t\tendsWith: \"结束\",\n\t\tnotEndsWith: \"不是以\",\n\t\tbetween: \"之间\",\n\t\tnotBetween: \"不在之间\"\n\t}\n};\n\nexport default zh;","const ru = {\n\tgroupDelimiter:\" \",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\n\tdateFormat:\"%d.%m.%Y\",\n\ttimeFormat:\"%H:%i\",\n\tlongDateFormat:\"%d %F %Y\",\n\tfullDateFormat:\"%d.%m.%Y %H:%i\",\n\n\tprice:\"{obj} руб.\",\n\tpriceSettings:null, //use number defaults\n\t\n\tcalendar:{\n\t\tmonthFull:[\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Maй\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Oктябрь\", \"Ноябрь\", \"Декабрь\"],\n\t\tmonthShort:[\"Янв\", \"Фев\", \"Maр\", \"Aпр\", \"Maй\", \"Июн\", \"Июл\", \"Aвг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n\t\tdayFull:[ \"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\n\t\tdayShort:[\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\n\t\thours: \"Часы\",\n\t\tminutes: \"Минуты\",\n\t\tdone: \"Гoтовo\",\n\t\tclear: \"Очистить\",\n\t\ttoday: \"Сегодня\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Страница\",\n\t\tof:\"из\"\n\t},\n\tPDFviewer:{\n\t\tof:\"из\",\n\t\tautomaticZoom:\"Автоматический зум\",\n\t\tactualSize:\"Настоящий размер\",\n\t\tpageFit:\"Размер страницы\",\n\t\tpageWidth:\"Ширина страницы\",\n\t\tpageHeight:\"Высота страницы\",\n\t\tenterPassword:\"Введите пароль\",\n\t\tpasswordError:\"Неверный пароль\"\n\t},\n\taria:{\n\t\tcalendar:\"Календарь\",\n\t\tincreaseValue:\"Увеличить значение\",\n\t\tdecreaseValue:\"Уменьшить значение\",\n\t\tnavMonth:[\"Предыдущий месяц\", \"Следующий месяц\"],\n\t\tnavYear:[\"Предыдущий год\", \"Следующий год\"],\n\t\tnavDecade:[\"Предыдущие десять лет\", \"Следующие десять лет\"],\n\t\tdateFormat:\"%d %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Часы: %H\",\n\t\tminuteFormat:\"Минуты: %i\",\n\t\tremoveItem:\"Удалить элемент\",\n\t\tpages:[\"Первая страница\", \"Предыдущая страница\", \"Следующая страница\", \"Последняя страница\"],\n\t\tpage:\"Страница\",\n\t\theadermenu:\"Меню шапки таблицы\",\n\t\topenGroup:\"Развернуть группу столбцов\",\n\t\tcloseGroup:\"Свернуть группу столбцов\",\n\t\tcloseTab:\"Закрыть вкладку\",\n\t\tshowTabs:\"Показать больше вкладок\",\n\t\tresetTreeMap:\"Вернуться к первоначальному представлению\",\n\t\tnavTreeMap:\"Перейти на уровень выше\",\n\t\tnextTab:\"Следующая вкладка\",\n\t\tprevTab:\"Предыдущая вкладка\",\n\t\tmultitextSection:\"Добавить элемент\",\n\t\tmultitextextraSection:\"Удалить элемент\",\n\t\tshowChart:\"Показать чарт\",\n\t\thideChart:\"Спрятать чарт\",\n\t\tresizeChart:\"Изменить размер чарта\"\n\t},\n\trichtext:{\n\t\tunderline: \"Подчеркивание\",\n\t\tbold: \"Жирный\",\n\t\titalic: \"Курсив\"\n\t},\n\tcombo:{\n\t\tselect:\"Выбрать\",\n\t\tselectAll:\"Выбрать все\",\n\t\tunselectAll:\"Сброс выбора\"\n\t},\n\tmessage:{\n\t\tok:\"OK\",\n\t\tcancel:\"Отмена\"\n\t},\n\tcomments:{\n\t\tsend: \"Отправить\",\n\t\tconfirmMessage: \"Комментарий будет удален. Вы уверены?\",\n\t\tedit: \"Редактировать\",\n\t\tremove: \"Удалить\",\n\t\tplaceholder: \"Введите текст..\",\n\t\tmoreComments:\"Больше комментариев\"\n\t},\n\tfilter:{\n\t\tless: \"меньше\",\n\t\tlessOrEqual: \"меньше или равно\",\n\t\tgreater: \"больше\",\n\t\tgreaterOrEqual: \"больше или равно\",\n\t\tcontains: \"содержит\",\n\t\tnotContains: \"не содержит\",\n\t\tequal: \"равно\",\n\t\tnotEqual: \"не равно\",\n\t\tbeginsWith: \"начинается с\",\n\t\tnotBeginsWith: \"не начинается с\",\n\t\tendsWith: \"заканчиватся\",\n\t\tnotEndsWith: \"не заканчиватся\",\n\t\tbetween: \"между\",\n\t\tnotBetween: \"не между\"\n\t}\n};\n\nexport default ru;","const be = {\n\tgroupDelimiter:\" \",\n\tgroupSize:3,\n\tdecimalDelimiter:\",\",\n\tdecimalSize:2,\n\n\tdateFormat:\"%d.%m.%Y\",\n\ttimeFormat:\"%H:%i\",\n\tlongDateFormat:\"%d %F %Y\",\n\tfullDateFormat:\"%d.%m.%Y %H:%i\",\n\n\tprice:\"{obj} руб.\",\n\tpriceSettings:{\n\t\tgroupSize:3,\n\t\tgroupDelimiter:\" \",\n\t\tdecimalDelimiter:\"\",\n\t\tdecimalSize:0\n\t},\n\n\tcalendar:{\n\t\tmonthFull:[\"Студзень\", \"Люты\", \"Сакавік\", \"Красавік\", \"Травень\", \"Чэрвень\", \"Ліпень\", \"Жнівень\", \"Верасень\", \"Кастрычнік\", \"Лістапад\", \"Снежань\"],\n\t\tmonthShort:[\"Студз\", \"Лют\", \"Сак\", \"Крас\", \"Трав\", \"Чэр\", \"Ліп\", \"Жнів\", \"Вер\", \"Каст\", \"Ліст\", \"Снеж\"],\n\t\tdayFull:[ \"Нядзеля\", \"Панядзелак\", \"Аўторак\", \"Серада\", \"Чацвер\", \"Пятніца\", \"Субота\"],\n\t\tdayShort:[\"Нд\", \"Пн\", \"Аўт\", \"Ср\", \"Чцв\", \"Пт\", \"Сб\"],\n\t\thours: \"Гадзіны\",\n\t\tminutes: \"Хвіліны\",\n\t\tdone: \"Гатова\",\n\t\ttoday: \"Cёння\",\n\t\tclear: \"Ачысціць\"\n\t},\n\n\tdataExport:{\n\t\tpage:\"Старонка\",\n\t\tof:\"з\"\n\t},\n\tPDFviewer:{\n\t\tof:\"з\",\n\t\tautomaticZoom:\"Аўтаматычны зум\",\n\t\tactualSize:\"Сапраўдны памер\",\n\t\tpageFit:\"Памер старонкі\",\n\t\tpageWidth:\"Шырыня старонкі\",\n\t\tpageHeight:\"Вышыня старонкі\",\n\t\tenterPassword:\"Увядзіце пароль\",\n\t\tpasswordError:\"Няправільны пароль\"\n\t},\n\taria:{\n\t\tcalendar:\"Каляндар\",\n\t\tincreaseValue:\"Павялічыць значэнне\",\n\t\tdecreaseValue:\"Паменшыць значэнне\",\n\t\tnavMonth:[\"Папярэдні месяц\", \"Наступны месяц\"],\n\t\tnavYear:[\"Папярэдні год\", \"Наступны год\"],\n\t\tnavDecade:[\"Папярэднія дзесяць год\", \"Наступныя дзесяць год\"],\n\t\tdateFormat:\"%d %F %Y\",\n\t\tmonthFormat:\"%F %Y\",\n\t\tyearFormat:\"%Y\",\n\t\thourFormat:\"Hours: %h\",\n\t\tminuteFormat:\"Гадзіны: %i\",\n\t\tremoveItem:\"Прыбраць элемент\",\n\t\tpages:[\"Першая старонка\", \"Папярэдняя старонка\", \"Наступная старонка\", \"Апошняя старонка\"],\n\t\tpage:\"Старонка\",\n\t\theadermenu:\"Меню загалоўка\",\n\t\topenGroup:\"Адкрыць групу слупкоў\",\n\t\tcloseGroup:\"Закрыць групу слупкоў\",\n\t\tcloseTab:\"Закрыць укладку\",\n\t\tshowTabs:\"Паказаць больш укладак\",\n\t\tresetTreeMap:\"Вярнуцца да першапачатковага выгляду\",\n\t\tnavTreeMap:\"Падняцца на ўзровень вышэй\",\n\t\tnextTab:\"Наступная ўкладка\",\n\t\tprevTab:\"Папярэдняя ўкладка\",\n\t\tmultitextSection:\"Дадаць элемент\",\n\t\tmultitextextraSection:\"Прыбраць элемент\",\n\t\tshowChart:\"Паказаць графік\",\n\t\thideChart:\"Схаваць графік\",\n\t\tresizeChart:\"Змяніць памер графіка\"\n\t},\n\trichtext:{\n\t\tunderline: \"Падкрэсліванне\",\n\t\tbold: \"Паўтлусты\",\n\t\titalic: \"Курсіў\"\n\t},\n\tcombo:{\n\t\tselect:\"Абраць\",\n\t\tselectAll:\"Абраць усё\",\n\t\tunselectAll:\"Ачысціць ўсе\"\n\t},\n\tmessage:{\n\t\tok:\"ОК\",\n\t\tcancel:\"Адмена\"\n\t},\n\tcomments:{\n\t\tsend: \"Даслаць\",\n\t\tconfirmMessage: \"Каментарый будзе выдалены. Вы ўпэўнены?\",\n\t\tedit: \"Рэдагаваць\",\n\t\tremove: \"Выдаліць\",\n\t\tplaceholder: \"Пішыце тут..\",\n\t\tmoreComments:\"Больш каментарыяў\"\n\t},\n\tfilter:{\n\t\tless: \"менш\",\n\t\tlessOrEqual: \"менш або роўна\",\n\t\tgreater: \"больш\",\n\t\tgreaterOrEqual: \"больш або роўна\",\n\t\tcontains: \"змяшчае\",\n\t\tnotContains: \"не змяшчае\",\n\t\tequal: \"роўныя\",\n\t\tnotEqual: \"не роўныя\",\n\t\tbeginsWith: \"пачынаецца з\",\n\t\tnotBeginsWith: \"не пачынаецца з\",\n\t\tendsWith: \"заканчваецца\",\n\t\tnotEndsWith: \"не сканчаецца\",\n\t\tbetween: \"паміж\",\n\t\tnotBetween: \"не паміж\"\n\t}\n};\n\nexport default be;","// en-EN locale is bundled by default\nimport i18n from \"../webix/i18n\";\n\n// germany\nimport de from \"./de\";\ni18n.locales[\"de-DE\"] = de;\n\n// spain\nimport es from \"./es\";\ni18n.locales[\"es-ES\"] = es;\n\n// france\nimport fr from \"./fr\";\ni18n.locales[\"fr-FR\"] = fr;\n\n// italy\nimport it from \"./it\";\ni18n.locales[\"it-IT\"] = it;\n\n// japan\nimport ja from \"./ja\";\ni18n.locales[\"ja-JP\"] = ja;\n\n// portuguese\nimport pt from \"./pt\";\ni18n.locales[\"pt-BR\"] = pt;\n\n// chinese\nimport zh from \"./zh\";\ni18n.locales[\"zh-CN\"] = zh;\n\n// russian\nimport ru from \"./ru\";\ni18n.locales[\"ru-RU\"] = ru;\n\n// belarus\nimport be from \"./be\";\ni18n.locales[\"be-BY\"] = be;","import {protoUI} from \"../ui/core\";\n\nimport base from \"./view\";\n\nconst api = {\n\tname:\"spacer\",\n\tdefaults:{\n\t\tborderless:true\n\t},\n\t$init:function(){\n\t\tthis._viewobj.className += \" webix_spacer\";\n\t}\n};\n\nconst view = protoUI(api, base.view);\nexport default { api, view };","import {protoUI} from \"../ui/core\";\n\nimport {extend,bind,toNode,delay} from \"../webix/helpers\";\nimport {ajax} from \"../load/ajax\";\nimport {create, getTextSize} from \"../webix/html\";\nimport {$active} from \"../webix/skin\";\n\n\nimport base from \"./view\";\nimport template from \"../webix/template\";\n\nimport AutoTooltip from \"../core/autotooltip\";\nimport AtomDataLoader from \"../core/atomdataloader\";\nimport AtomRender from \"../core/atomrender\";\nimport MouseEvents from \"../core/mouseevents\";\nimport EventSystem from \"../core/eventsystem\";\nimport Scrollable from \"../core/scrollable\";\n\n\nconst api = {\n\tname:\"template\",\n\t$init:function(config){\n\t\tconst subtype = this._template_types[config.type];\n\t\tif (subtype){\n\t\t\tif (subtype.css && config.css)\n\t\t\t\tthis._viewobj.className += \" \"+subtype.css;\n\t\t\textend(config, subtype);\n\n\t\t\t//will reset borders for \"section\"\n\t\t\tif (config.borderless){\n\t\t\t\tdelete config._inner;\n\t\t\t\tthis._set_inner(config);\n\t\t\t}\n\t\t}\n\n\t\tif (this._dataobj == this._viewobj){\n\t\t\tthis._dataobj = create(\"DIV\");\n\t\t\tthis._dataobj.className = \" webix_template\";\n\t\t\tthis._viewobj.appendChild(this._dataobj);\n\t\t} else \n\t\t\tthis._dataobj.className += \" webix_template\";\n\n\t\tthis.attachEvent(\"onAfterRender\", this._correct_height);\n\t},\n\tsetValues:function(obj, update){\n\t\tthis.data = update?extend(this.data, obj, true):obj;\n\t\tthis.render();\n\t},\n\tgetValues:function(){\n\t\treturn this.data;\n\t},\n\t$skin:function(){\n\t\tthis._template_types.header.height = $active.barHeight - $active.borderWidth*2;\n\t\tthis._template_types.section.height = $active.barHeight;\n\t},\n\t_template_types:{\n\t\t\"header\":{\n\t\t\tcss:\"webix_header\"\n\t\t},\n\t\t\"section\":{\n\t\t\tcss:\"webix_section\",\n\t\t\tborderless:true\n\t\t},\n\t\t\"clean\":{\n\t\t\tcss:\"webix_clean\",\n\t\t\tborderless:true\n\t\t}\n\t},\n\tonClick_setter:function(value){\n\t\tthis.on_click = extend((this.on_click || {}), value, true);\n\n\t\tif (!this._onClick)\n\t\t\textend(this, MouseEvents);\n\n\t\treturn value;\n\t},\n\tdefaults:{\n\t\ttemplate:template.empty\n\t},\n\t_render_me:function(){\n\t\tthis._not_render_me = false;\n\t\tthis._probably_render_me();\n\t\tthis.resize();\n\t},\n\t_probably_render_me:function(){\n\t\tif (!this._not_render_me){\n\t\t\tthis._not_render_me = true;\n\t\t\tthis.render();\n\t\t}\n\t},\n\tsrc_setter:function(value){\n\t\tthis._not_render_me = true;\n\t\t\n\t\tif(!this.callEvent(\"onBeforeLoad\",[])) \n\t\t\treturn \"\";\n\t\tajax(value, bind(function(text){\n\t\t\tthis._settings.template = template(text);\n\t\t\tthis._render_me();\n\t\t\tthis.callEvent(\"onAfterLoad\",[]);\n\t\t}, this));\n\t\treturn value;\n\t},\n\tcontent_setter:function(config){\n\t\tif (config){\n\t\t\tthis._not_render_me = true;\n\t\t\tthis.render = function(){};\n\t\t\tthis._dataobj.appendChild(toNode(config));\n\t\t\tthis._correct_height();\n\t\t}\n\t},\n\trefresh:function(){\n\t\tthis.render();\n\t},\n\tsetHTML:function(html){\n\t\tthis._settings.template = function(){ return html; };\n\t\tthis.refresh();\n\t},\n\tsetContent:function(content){\n\t\tthis._dataobj.innerHTML = \"\";\n\t\tthis.content_setter(content);\n\t},\n\t$setSize:function(x,y){\n\t\tif (base.api.$setSize.call(this,x,y)){\n\t\t\tthis._probably_render_me();\n\t\t\tif (this._settings.autoheight){\n\t\t\t\tvar top =this.getTopParentView();\n\t\t\t\tclearTimeout(top._template_resize_timer);\n\t\t\t\ttop._template_resize_timer = delay(this.resize, this);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\t$getSize:function(x,y){\n\t\tif (this._settings.autoheight && (!this._settings.type || this._settings.type == \"clean\"))\n\t\t\tthis._settings.height = this._get_auto_height();\n\n\t\treturn base.api.$getSize.call(this,x,y);\n\t},\n\t_correct_height:function(){\n\t\t//we need to force auto height calculation after content change\n\t\t//dropping the last_size flag will ensure that inner logic of $setSize will be processed\n\t\tif (this._settings.autoheight){\n\t\t\tthis._last_size = null;\n\t\t\tthis.resize();\n\t\t}\n\t},\n\t_get_auto_height:function(){\n\t\tvar size;\n\t\tvar padding = $active.layoutPadding.space;\n\t\t\n\t\tthis._probably_render_me();\n\n\t\tif(!this.isVisible()){ //try getting height of a hidden template\n\t\t\tsize = getTextSize(\n\t\t\t\tthis._toHTML(this.data) || this._dataobj.innerHTML, //check for config.content \n\t\t\t\t\"webix_template\",\n\t\t\t\t(this.$width || (this.getParentView() ? this.getParentView().$width :0))-padding\n\t\t\t).height;\n\t\t}\n\t\telse{ \n\t\t\tthis._dataobj.style.height = \"auto\";\n\t\t\tsize = this._dataobj.scrollHeight;\n\t\t\tthis._dataobj.style.height = \"\";\n\t\t}\n\t\treturn size;\n\t},\n\t_one_time_scroll:true //scroll will appear only if set directly in config\n};\n\nconst view = protoUI(api, Scrollable, AutoTooltip, AtomDataLoader, AtomRender, EventSystem, base.view);\nexport default { api, view };","import base from \"../views/view\";\nimport Scrollable from \"../core/scrollable\";\nimport EventSystem from \"../core/eventsystem\";\nimport {protoUI, ui, $$} from \"../ui/core\";\nimport env from \"../webix/env\";\nimport state from \"../core/state\";\nimport {callEvent} from \"../webix/customevents\";\n\n\n/*scrollable view with another view insize*/\nconst api = {\n\tname:\"scrollview\",\n\tdefaults:{\n\t\tscroll:\"y\",\n\t\tscrollSpeed:\"300ms\"\n\t},\n\t$init:function(){\n\t\tthis._viewobj.className += \" webix_scrollview\";\n\t},\n\tbody_setter:function(config){\n\t\tconfig.borderless = true;\n\t\tstate._parent_cell = this;\n\t\tthis._body_cell = ui._view(config);\n\n\t\tthis._dataobj.appendChild(this._body_cell._viewobj);\n\t},\n\tgetChildViews:function(){\n\t\treturn [this._body_cell];\n\t},\n\tgetBody:function(){\n\t\treturn this._body_cell;\n\t},\n\tresizeChildren:function(){\n\t\tif (!this._body_cell) return;\n\n\t\tthis._desired_size = this._body_cell.$getSize(0, 0);\n\t\tthis._resizeChildren();\n\t\tcallEvent(\"onResize\",[]);\n\t},\n\t_resizeChildren:function(){\n\t\tconst cx = Math.max(this._content_width, this._desired_size[0]);\n\t\tconst cy = Math.max(this._content_height, this._desired_size[2]);\n\t\tthis._body_cell.$setSize(cx, cy);\n\t\tif (env.touch){\n\t\t\tconst scroll = this.getScrollState();\n\t\t\tconst top = this._body_cell._content_height - this._content_height;\n\t\t\tif (top < scroll.y)\n\t\t\t\tthis.scrollTo(null, top);\n\t\t}\n\t\tif (state._responsive_exception){\n\t\t\tstate._responsive_exception = false;\n\t\t\tthis._desired_size = this._body_cell.$getSize(0, 0);\n\t\t\tthis._resizeChildren();\n\t\t}\n\t},\n\t$getSize:function(dx, dy){\n\t\tconst desired_size = this._desired_size = this._body_cell.$getSize(0, 0);\n\t\tconst self_sizes = base.api.$getSize.call(this, dx, dy);\n\t\tconst scroll_size = this._native_scroll || env.scrollSize;\n\n\t\tif(this._settings.scroll==\"x\"){\n\t\t\tself_sizes[2] = Math.max(self_sizes[2], desired_size[2]) + scroll_size;\n\t\t\tself_sizes[3] = Math.min(self_sizes[3], desired_size[3]) + scroll_size;\n\t\t}\n\t\telse if(this._settings.scroll==\"y\"){\n\t\t\tself_sizes[0] = Math.max(self_sizes[0], desired_size[0]) + scroll_size;\n\t\t\tself_sizes[1] = Math.min(self_sizes[1], desired_size[1]) + scroll_size;\n\t\t}\n\t\treturn self_sizes;\n\t},\n\t$setSize:function(x,y){\n\t\tconst temp = env.scrollSize;\n\t\tenv.scrollSize = this._native_scroll || temp;\n\n\t\tif (base.api.$setSize.call(this,x,y) || state._force_resize)\n\t\t\tthis._resizeChildren();\n\n\t\tenv.scrollSize = temp;\n\t},\n\tscroll_setter:function(value){\n\t\tconst custom = env.$customScroll;\n\t\tif (typeof value == \"string\" && value.indexOf(\"native-\") === 0){\n\t\t\tthis._native_scroll = 17;\n\t\t\tvalue = value.replace(\"native-\", \"\");\n\t\t\tenv.$customScroll = false;\n\t\t}\n\n\t\tvalue =  Scrollable.scroll_setter.call(this, value);\n\n\t\tenv.$customScroll = custom;\n\t\treturn value;\n\t},\n\t_replace:function(new_view){\n\t\tthis._body_cell.destructor();\n\t\tthis._body_cell = new_view;\n\n\t\tthis._dataobj.appendChild(this._body_cell._viewobj);\n\t\tthis.resizeChildren();\n\t},\n\tshowView: function(id){\n\t\tconst topPos = $$(id).$view.offsetTop-$$(id).$view.parentNode.offsetTop;\n\t\tthis.scrollTo(0, topPos);\n\t}\n};\n\n\nconst view = protoUI(api,  Scrollable, EventSystem, base.view);\nexport default {api, view};","import base from \"../views/view\";\nimport EventSystem from \"../core/eventsystem\";\nimport {protoUI} from \"../ui/core\";\n\n\nconst api = {\n\tname:\"iframe\",\n\t$init:function(){\n\t\tthis._dataobj = this._contentobj;\n\t\tthis._contentobj.innerHTML = \"<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\\\"view_id\\\")); if (t) t.callEvent(\\\"onAfterLoad\\\",[]);' src='about:blank'></iframe>\";\n\t},\n\tload:function(value){\n\t\tthis.src_setter(value);\n\t},\n\tsrc_setter:function(value){\n\t\tif(!this.callEvent(\"onBeforeLoad\",[])) \n\t\t\treturn \"\";\n\t\tthis.getIframe().src = value;\n\t\treturn value;\n\t},\n\tgetIframe:function(){\n\t\treturn this._contentobj.getElementsByTagName(\"iframe\")[0];\n\t},\n\tgetWindow:function(){\n\t\treturn this.getIframe().contentWindow;\n\t}\n};\n\n\nconst view = protoUI(api,  base.view, EventSystem);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {_each} from \"../ui/helpers\";\nimport {isUndefined} from \"../webix/helpers\";\nimport {$active} from \"../webix/skin\";\nimport base from \"./layout\";\n\nconst api = {\n\tname:\"accordion\",\n\tdefaults:{\n\t\tpanelClass:\"accordionitem\",\n\t\tmulti:false,\n\t\tcollapsed:false\n\t},\n\t$init:function(){\n\t\tthis._viewobj.setAttribute(\"role\", \"tablist\");\n\t\tthis._viewobj.setAttribute(\"aria-multiselectable\", \"true\");\n\t},\n\t_replace:function(newview){\n\t\tbase.api._replace.apply(this, arguments);\n\t\tif (newview.collapsed_setter && newview.refresh){\n\t\t\tnewview.refresh();\n\t\t}\n\t},\n\t_parse_cells:function(){\n\t\tvar panel = this._settings.panelClass;\n\t\tvar cells = this._collection;\n\n\t\tfor (var i=0; i<cells.length; i++){\n\t\t\tif ((cells[i].body || cells[i].header)&& !cells[i].view && !cells[i].align)\n\t\t\t\tcells[i].view = panel;\n\t\t\tif (isUndefined(cells[i].collapsed))\n\t\t\t\tcells[i].collapsed = this._settings.collapsed;\n\n\t\t}\n\n\t\n\t\tthis._skin_render_collapse = true;\n\t\tbase.api._parse_cells.call(this);\n\t\tthis._skin_render_collapse = false;\n\n\t\tfor (let i=0; i < this._cells.length; i++){\n\t\t\tif (this._cells[i].name == panel) \n\t\t\t\tthis._cells[i].refresh();\n\t\t\tthis._cells[i]._accLastChild = false;\n\t\t}\n\t\tvar found = false;\n\t\tfor (let i=this._cells.length-1; i>=0 &&!found; i--){\n\t\t\tif(!this._cells[i]._settings.hidden){\n\t\t\t\tthis._cells[i]._accLastChild = true;\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t}\n\n\t},\n\t_afterOpen:function(view){\n\t\tif (this._settings.multi === false && this._skin_render_collapse !== true){\n\t\t\tfor (var i=0; i < this._cells.length; i++) {\n\t\t\t\tif (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].collapse)\n\t\t\t\t\tthis._cells[i].collapse();\n\t\t\t}\n\t\t}\n\t\tif (view.callEvent){\n\t\t\tview.callEvent(\"onViewShow\",[]);\n\t\t\t_each(view, this._signal_hidden_cells);\n\t\t}\n\t},\n\t_canCollapse:function(view){\n\t\tif (this._settings.multi === true || this._skin_render_collapse) return true;\n\t\t//can collapse only if you have other item to open\n\t\tfor (var i=0; i < this._cells.length; i++)\n\t\t\tif (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].isVisible() && !this._cells[i].$nospace)\n\t\t\t\treturn true;\n\t\treturn false;\n\t},\n\t$skin:function(){\n\t\tbase.api.$skin.call(this);\n\n\t\tif($active.accordionType)\n\t\t\tthis.defaults.type = $active.accordionType;\n\t}\n};\n\n\nconst view = protoUI(api, base.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport base from \"./accordion\";\n\n\nconst api = {\n\tname:\"headerlayout\",\n\tdefaults:{\n\t\ttype: \"accordion\",\n\t\tmulti:\"mixed\",\n\t\tcollapsed:false\n\t}\n};\n\nconst view = protoUI(api, base.view);\nexport default {api, view};","import {removeCss, addCss} from \"../webix/html\";\nimport {debug_size_box} from \"../webix/debug\";\nimport {protoUI, ui} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\n\nimport state from \"../core/state\";\nimport UIManager from \"../core/uimanager\";\nimport env from \"../webix/env\";\nimport MouseEvents from \"../core/mouseevents\";\nimport EventSystem from \"../core/eventsystem\";\n\nimport template from \"../webix/template\";\n\nimport base from \"./view\";\nimport baseview from \"./baseview\";\nimport animate from \"../webix/animate\";\n\nconst api = {\n\tname:\"accordionitem\",\n\t$init:function(config){\n\t\tthis._viewobj.innerHTML = \"<div tabindex='0' \"+/*@attr*/\"webix_ai_id\"+\"='\"+config.id+\"'  class='webix_accordionitem_header'><div class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>\";\n\t\tthis._contentobj = this._viewobj;\n\t\tthis._headobj = this._contentobj.childNodes[0];\n\t\tif(!config.header)\n\t\t\tthis._headobj.style.display = \"none\";\n\t\tthis._headlabel = this._contentobj.childNodes[0].childNodes[1];\n\t\tthis._headbutton = this._contentobj.childNodes[0].childNodes[0];\n\t\tthis._bodyobj = this._contentobj.childNodes[1];\n\t\tthis._viewobj.className +=\" webix_accordionitem\";\n\t\tthis._head_cell = this._body_cell = null;\n\t\tthis._cells = true;\n\n\t\tthis._bodyobj.setAttribute(\"role\", \"tabpanel\");\n\t\tthis._headobj.setAttribute(\"role\", \"tab\");\n\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\n\t},\n\t_remove:function(){\n\t\tthis.body_setter();\n\t},\n\t_replace:function(new_view){\n\t\tthis._body_cell.destructor();\n\t\tthis._body_cell = new_view;\n\t\t\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\n\t\tthis.resize();\n\t},\n\t_id:/*@attr*/\"webix_ai_id\",\n\tgetChildViews:function(){\n\t\treturn [this._body_cell];\n\t},\n\tbody_setter:function(value){\n\t\tif (typeof value != \"object\")\n\t\t\tvalue = {template:value };\n\n\t\tvalue._inner = { top:true, left:true, right:true, bottom:true};\n\t\tstate._parent_cell = this;\n\t\tthis._body_cell = ui._view(value);\n\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\n\t\treturn value;\n\t},\n\theader_setter:function(value){\n\t\tif(value)\n\t\t\tvalue = template(value);\n\t\treturn value;\n\t},\n\theaderAlt_setter:function(value){\n\t\tif(value)\n\t\t\tvalue = template(value);\n\t\treturn value;\n\t},\n\t$getSize:function(dx, dy){\n\t\tvar size =  this._body_cell.$getSize(0, 0);\n\n\t\t//apply external border to inner content sizes\n\t\tvar _borders = this._settings._inner;\n\t\tif (_borders){\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\n\t\t}\n\n\t\tvar header = 0;\n\t\tvar self_size = baseview.api.$getSize.call(this, 0, 0);\n\n\t\t//use child settings if layout's one was not defined\n\t\tself_size[0] = (self_size[0] || size[0] ) +dx;\n\t\tif (self_size[1] >= 100000)\n\t\t\tself_size[1] = size[1];\n\t\tself_size[1] +=\tdx;\n\t\t\n\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\n\t\tvar fixedHeight = (self_size[3]< 100000);\n\t\tif (!fixedHeight)\n\t\t\tself_size[3] = size[3];\n\n\t\tself_size[3] += dy;\n\t\tif(this.getParentView()._vertical_orientation){\n\t\t\tif (this._settings.collapsed){\n\t\t\t\tself_size[2] = self_size[3] = this._getHeaderSize()+dy;\n\t\t\t} else if(this._settings.header)\n\t\t\t\theader = this._settings.headerHeight;\n\t\t} else {\n\t\t\tif (this._settings.collapsed)\n\t\t\t\tself_size[0] = self_size[1] = this._getHeaderSize()+dx;\n\t\t\tif(this._settings.header)\n\t\t\t\theader = this._settings.headerHeight;\n\t\t}\n\n\t\t//include header in total height calculation\n\t\tif(!fixedHeight){\n\t\t\tself_size[2] += header;\n\t\t\tself_size[3] += header;\n\t\t}\n\n\t\tif (DEBUG) debug_size_box(this, self_size, true);\n\t\treturn self_size;\n\t},\n\ton_click:{\n\t\twebix_accordionitem_header:function(e){\n\t\t\tthis._toggle(e);\n\t\t\treturn false;\n\t\t},\n\t\twebix_accordionitem_header_v:function(e){\n\t\t\tthis._toggle(e);\n\t\t\treturn false;\n\t\t}\n\t},\n\t_toggle:function(){\n\t\tthis.define(\"collapsed\", !this._settings.collapsed);\n\t},\n\tcollapsed_setter:function(value){\n\t\tif (this._settings.header === false) return;\n\t\t//use last layout element if parent is not known yet\n\t\tvar parent = this.getParentView();\n\t\tif(parent){\n\t\t\tif(!value)\n\t\t\t\tthis._expand();\n\t\t\telse{\n\t\t\t\tif ( parent._canCollapse(this))\n\t\t\t\t\tthis._collapse();\n\t\t\t\telse{\n\t\t\t\t\tvar success = 0;\n\t\t\t\t\tif(parent._cells.length > 1)\n\t\t\t\t\t\tfor (var i=0; i < parent._cells.length; i++){\n\t\t\t\t\t\t\tvar sibl = parent._cells[i];\n\t\t\t\t\t\t\tif (this != sibl && sibl.isVisible() && sibl.expand){\n\t\t\t\t\t\t\t\tsibl.expand();\n\t\t\t\t\t\t\t\tthis._collapse();\n\t\t\t\t\t\t\t\tsuccess = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\tif (!success) return;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._settings.collapsed = value;\n\t\t\tif (!value) parent._afterOpen(this);\n\n\t\t\tthis.refresh();\n\t\t\tif (!state._ui_creation)\n\t\t\t\tthis.resize();\n\n\t\t\tparent.callEvent(\"onAfter\"+(value?\"Collapse\":\"Expand\"), [this._settings.id]);\n\n\t\t\tthis._settings.$noresize = value;\n\t\t}\n\t\treturn value;\n\t},\n\tcollapse:function(){\n\t\tthis.define(\"collapsed\", true);\n\t\tUIManager._moveChildFocus(this);\n\t},\n\texpand:function(){\n\t\tthis.define(\"collapsed\", false);\n\t},\n\t_show: function() {\n\t\tthis.show();\n\t},\n\t_hide: function() {\n\t\tthis.hide();\n\t},\n\t_expand:function(){\n\t\tthis._bodyobj.style.display = \"\";\n\t\tremoveCss(this.$view, \"collapsed\");\n\t\tremoveCss(this._headobj, \"collapsed\");\n\n\t\tthis._headobj.setAttribute(\"aria-expanded\", \"true\");\n\t},\n\t_collapse:function(){\n\t\tif(this._settings.headerAlt)\n\t\t\tthis._headlabel.innerHTML = this._settings.headerAlt();\n\t\tthis._bodyobj.style.display = \"none\";\n\t\taddCss(this.$view, \"collapsed\");\n\t\taddCss(this._headobj, \"collapsed\");\n\n\t\tthis._headobj.setAttribute(\"aria-expanded\", \"false\");\n\t},\n\trefresh:function(){\n\t\tvar template = this._settings[this._settings.collapsed?\"headerAlt\":\"header\"] ||this._settings.header;\n\t\tif (template){\n\t\t\tthis._headlabel.innerHTML = template();\n\t\t\tthis._headbutton.setAttribute(\"aria-label\", template());\n\t\t}\n\t\t\t\n\t\tvar css = (this.getParentView()._vertical_orientation?\"vertical\":\"horizontal\");\n\t\tif(this._viewobj.className.indexOf(\" \"+css) < 0 ){\n\t\t\taddCss(this._viewobj, css);\n\t\t}\n\t\t//fix collapsed columns in IE8\n\t\tif(!env.transform){\n\t\t\taddCss(this._viewobj,\"webix_ie\",true);\n\t\t}\n\t},\n\t_getHeaderSize:function(){\n\t\treturn (this._settings.collapsed?this._settings.headerAltHeight:this._settings.headerHeight);\n\t},\n\t$setSize:function(x,y){\n\t\tif (base.api.$setSize.call(this,x,y) || this._getHeaderSize() != this._last_set_header_size){\n\t\t\tx = this._content_width;\n\t\t\ty = this._content_height;\n\n\t\t\tvar headerSize = this._last_set_header_size = this._getHeaderSize();//-(this._settings._inner.top?0:1);\n\t\t\tif (this._settings.header){\n\n\t\t\t\tthis._headobj.style.height=headerSize+\"px\";\n\t\t\t\tthis._headobj.style.width=\"auto\";\n\t\t\t\tthis._headobj.style[env.transform]=\"\";\n\n\t\t\t\t\n\t\t\t\tthis._headobj.style.borderBottomWidth = (this._settings.collapsed?0:1)+\"px\";\n\n\t\t\t\tif(this.getParentView()._vertical_orientation||!this._settings.collapsed){\n\t\t\t\t\ty-=this._getHeaderSize();\n\t\t\t\t} else if (this._settings.collapsed){\n\t\t\t\t\t//-2 - borders\n\t\t\t\t\tif (animate.isSupported()){\n\t\t\t\t\t\tthis._headobj.style.width = y + \"px\";\n\t\t\t\t\t\tthis._headobj.style.height = x + 3 + \"px\";\n\t\t\t\t\t\tvar d = Math.floor(y/2-x/2)+(x-this._settings.headerAltHeight)/2;\n\t\t\t\t\t\tthis._headobj.style[env.transform]=\"rotate(90deg) translate(\"+d+\"px, \"+(d+1)+\"px)\";\n\t\t\t\t\t}\n\t\t\t\t\telse { //IE8 fix\n\t\t\t\t\t\tthis._headobj.style.width = x + \"px\";\n\t\t\t\t\t\tthis._headobj.style.height = y + 3 + \"px\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this._settings.collapsed){\n\t\t\t\tthis._body_cell.$setSize(x,y);\n\t\t\t\tthis._last_size_y = y;\n\t\t\t}\n\t\t} else if (!this._settings.collapsed){\n\t\t\tvar body = this._body_cell;\n\t\t\tif (this._last_size_y)\n\t\t\t\tbody.$setSize(this._content_width, this._last_size_y);\n\t\t}\n\t},\n\t$skin:function(){\n\t\tthis.defaults.headerAltHeight = this.defaults.headerHeight = $active.barHeight - $active.borderWidth*2;\n\t},\n\tdefaults:{\n\t\theader:false,\n\t\theaderAlt:false,\n\t\tbody:\"\"\n\t}\n};\n\n\nconst view = protoUI(api, MouseEvents, EventSystem, base.view);\nexport default {api, view};","\n\nimport {create, stopEvent, remove, pos as getPos} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {toNode} from \"../webix/helpers\";\nimport env from \"../webix/env\";\nimport EventSystem from \"../core/eventsystem\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\nimport Settings from \"../core/settings\";\n\n\nconst api = {\n\tname:\"resizearea\",\n\tdefaults:{\n\t\tdir:\"x\"\n\t},\n\t$init:function(config){\n\t\tvar dir = config.dir||\"x\";\n\t\tvar node = toNode(config.container);\n\t\tvar size = (dir==\"x\"?\"width\":\"height\");\n\t\tvar margin = (config.margin? config.margin+\"px\":0);\n\n\t\tthis._key_property = (dir == \"x\"?\"left\":\"top\");\n\n\t\tthis._viewobj = create(\"DIV\",{\n\t\t\t\"class\"\t: \"webix_resize_area webix_dir_\"+dir\n\t\t});\n\t\t//[[COMPAT]] FF12 can produce 2 move events\n\t\t_event(this._viewobj, env.mouse.down, stopEvent);\n\n\t\tif(margin){\n\t\t\tif(dir==\"x\")\n\t\t\t\tmargin = margin+\" 0 \"+margin;\n\t\t\telse\n\t\t\t\tmargin = \"0 \"+margin+\" 0 \"+margin;\n\t\t}\n\t\tthis._dragobj = create(\"DIV\",{\n\t\t\t\"class\"\t: \"webix_resize_handle_\"+dir,\n\t\t\t\"style\" : (margin?\"padding:\"+margin:\"\")\n\t\t},\"<div class='webix_handle_content'></div>\");\n\n\t\tthis._originobj = create(\"DIV\",{\n\t\t\t\"class\"\t: \"webix_resize_origin_\"+dir\n\t\t});\n\n\t\tif(config[size]){\n\t\t\tthis._originobj.style[size] = config[size]+(config.border?1:0)+\"px\";\n\t\t\tthis._dragobj.style[size] = config[size]+\"px\";\n\t\t}\n\t\tif (config.cursor)\n\t\t\tthis._dragobj.style.cursor = this._originobj.style.cursor = this._viewobj.style.cursor = config.cursor;\n\t\tthis._moveev =\tevent(node, env.mouse.move, this._onmove, {bind:this});\n\t\tthis._upev =\tevent(document.body, env.mouse.up, this._onup, {bind:this});\n\n\t\tthis._dragobj.style[this._key_property] = this._originobj.style[this._key_property] = config.start+\"px\";\n\n\t\tnode.appendChild(this._viewobj);\n\t\tnode.appendChild(this._dragobj);\n\t\tnode.appendChild(this._originobj);\n\t},\n\t_onup:function(){\n\n\t\tthis.callEvent(\"onResizeEnd\", [this._last_result]);\n\n\t\teventRemove(this._moveev);\n\t\teventRemove(this._upev);\n\n\t\tremove(this._viewobj);\n\t\tremove(this._dragobj);\n\t\tremove(this._originobj);\n\t\tthis._viewobj = this._dragobj = this._originobj = null;\n\t},\n\t_onmove:function(e){\n\t\tvar eventPos = getPos(e);\n\t\tthis._last_result = (this._settings.dir == \"x\" ? eventPos.x : eventPos.y)+this._settings.start-this._settings.eventPos;\n\t\tthis._dragobj.style[this._key_property] = this._last_result+\"px\";\n\t\tthis.callEvent(\"onResize\", [this._last_result]);\n\t}\n};\n\nconst view = protoUI(api, EventSystem, Settings);\nexport default {api, view};","import {pos as getPos, offset, addCss, removeCss} from \"../webix/html\";\nimport {ui, protoUI} from \"../ui/core\";\nimport env from \"../webix/env\";\n\nimport MouseEvents from \"../core/mouseevents\";\nimport Destruction from \"../core/destruction\";\n\nimport base from \"./view\";\n\n//used inderectly through ui\nimport \"./resizearea\";\n\nimport {bind} from \"../webix/helpers\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\nimport {assert} from \"../webix/debug\";\nimport {callEvent} from \"../webix/customevents\";\n\n\nconst api = {\n\tname:\"resizer\",\n\tdefaults:{\n\t\twidth:7, height:7\n\t},\n\t$init:function(config){\n\t\tassert(this.getParentView(), \"Resizer can't be initialized outside a layout\");\n\t\tthis._viewobj.className += \" webix_resizer\";\n\t\tvar space = this.getParentView()._margin;\n\t\t\n\t\t_event(this._viewobj, env.mouse.down, this._rsDown, {bind:this});\n\t\tvar dir = this._getResizeDir();\n\n\t\tthis._rs_started = false;\n\t\tthis._resizer_dir = dir;\n\n\t\tthis._resizer_dim = (dir==\"x\"?\"width\":\"height\");\n\t\t\n\t\tif (dir==\"x\")\n\t\t\tconfig.height = 0;\n\t\telse \n\t\t\tconfig.width = 0;\n\n\t\tif (space>0){\n\t\t\tthis._viewobj.className += \" webix_resizer_v\"+dir;\n\t\t\tthis._viewobj.style.marginRight = \"-\"+space+\"px\";\n\t\t\tif (dir == \"x\")\t\n\t\t\t\tconfig.width = space;\n\t\t\telse\n\t\t\t\tconfig.height = space;\n\t\t\tthis.$nospace = true;\n\t\t} else\n\t\t\tthis._viewobj.className += \" webix_resizer_\"+dir;\n\t\t\n\t\tthis._viewobj.innerHTML = \"<div class='webix_resizer_content'></div>\";\n\t\tif (dir == \"y\" && space>0) this._viewobj.style.marginBottom = \"-\"+(config.height||this.defaults.height)+\"px\";\n\t\tthis._viewobj.setAttribute(/*@attr*/\"webix_disable_drag\", \"true\");\n\t\tthis._viewobj.setAttribute(\"tabindex\", \"-1\");\n\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"false\");\n\n\t},\n\t_rsDown:function(e){\n\t\tvar cells = this._getResizerCells();\n\t\t//some sibling can block resize\n\t\tif(cells && !this._settings.disabled){\n\t\t\te = e||window.event;\n\t\t\tthis._rs_started = true;\n\t\t\tthis._rs_process = getPos(e);\n\t\t\tthis._rsLimit = [];\n\t\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"true\");\n\t\t\t\n\t\t\tfor(var i=0; i<2; i++)\n\t\t\t\tcells[i].$view.setAttribute(\"aria-dropeffect\", \"move\");\n\t\t\tthis._viewobj.setAttribute(\"aria-dropeffect\", \"move\");\n\t\t\t\n\t\t\tthis._rsStart(e, cells[0]);\n\t\t\tconst handler = event(document.body, env.mouse.up, e => {\n\t\t\t\teventRemove(handler);\n\t\t\t\treturn this._rsUp(e);\n\t\t\t});\n\t\t}\n\t},\n\t_rsUp:function(){\n\t\tthis._rs_started = false;\n\t\tthis._rs_process = false;\n\t},\n\t_rsStart:function(e, cell){\n\n\t\tvar dir, cellOffset, pos,posParent,start;\n\t\te = e||window.event;\n\t\tdir = this._resizer_dir;\n\n\t\t/*layout position:relative to place absolutely positioned elements in it*/\n\t\tthis.getParentView()._viewobj.style.position = \"relative\";\n\t\tpos = offset(this._viewobj);\n\t\tposParent = offset(this.getParentView()._viewobj);\n\t\tstart = pos[dir]-posParent[dir];\n\t\tcellOffset = offset(cell.$view)[dir]- offset(this.getParentView().$view)[dir];\n\n\t\tthis._rs_progress = [dir, cell, start, cellOffset];\n\t\t/*resizer stick (resizerea ext)*/\n\n\t\tthis._resizeStick = new ui.resizearea({\n\t\t\tcontainer:this.getParentView()._viewobj,\n\t\t\tdir:dir,\n\t\t\teventPos:this._rs_process[dir],\n\t\t\tstart:start-1,\n\t\t\theight: this.$height,\n\t\t\twidth: this.$width,\n\t\t\tborder: 1,\n\t\t\tmargin: this.getParentView()._padding[dir === \"x\"? \"left\" : \"top\"]\n\t\t});\n\n\t\t/*stops resizing on stick mouseup*/\n\t\tthis._resizeStick.attachEvent(\"onResizeEnd\", bind(this._rsEnd, this));\n\t\t/*needed to stop stick moving when the limit for dimension is reached*/\n\t\tthis._resizeStick.attachEvent(\"onResize\", bind(this._rsResizeHandler, this));\n\n\t\taddCss(document.body,\"webix_noselect\",1);\n\t},\n\t_getResizeDir: function(){\n\t\treturn this.getParentView()._vertical_orientation?\"y\":\"x\";\n\t},\n\t_rsResizeHandler:function(){\n\t\tlet cells,cDiff,diff,dir,i,limits,limitSizes,sizes,totalSize;\n\t\tif(this._rs_progress){\n\t\t\tcells = this._getResizerCells();\n\t\t\tdir = this._rs_progress[0];\n\t\t\t/*vector distance between resizer and stick*/\n\t\t\tdiff = this._resizeStick._last_result -this._rs_progress[2];\n\t\t\t/*new sizes for the resized cells, taking into account the stick position*/\n\t\t\tsizes = this._rsGetDiffCellSizes(cells,dir,diff);\n\t\t\t/*sum of cells dimensions*/\n\t\t\ttotalSize = cells[0][\"$\"+this._resizer_dim]+cells[1][\"$\"+this._resizer_dim];\n\t\t\tfor(i=0;i<2;i++){\n\t\t\t\tcDiff = (i?-diff:diff);/*if cDiff is positive, the size of i cell is increased*/\n\n\t\t\t\t/*max and min limits*/\n\t\t\t\tlimits = cells[i].$getSize(0,0);\n\t\t\t\t/*if size is bigger than max limit or size is smaller than min limit*/\n\t\t\t\tlet min = (dir==\"y\")?limits[2]:limits[0];\n\t\t\t\tlet max = (dir==\"y\")?limits[3]:limits[1];\n\n\t\t\t\t//if size is fixed, treat it as responsive (default behavior)\n\t\t\t\tif (min === max){\n\t\t\t\t\tmin = cells[i]._settings[ (dir==\"y\")?\"minHeight\":\"minWidth\" ]||3;\n\t\t\t\t\tmax = cells[i]._settings[ (dir==\"y\")?\"maxHeight\":\"maxWidth\" ]||100000;\n\t\t\t\t}\n\n\t\t\t\tif(cDiff>0&&max&&max<=sizes[i] || cDiff<0&&min&&min>=sizes[i]){\n\t\t\t\t\tthis._rsLimit[i] = (cDiff>0?max:min);\n\t\t\t\t\t/*new sizes, taking into account max and min limits*/\n\t\t\t\t\tlimitSizes = this._rsGetLimitCellSizes(cells,dir);\n\t\t\t\t\t/*stick position*/\n\t\t\t\t\tthis._resizeStick._dragobj.style[(dir==\"y\"?\"top\":\"left\")] = this._rs_progress[3] + limitSizes[0]+\"px\";\n\t\t\t\t\treturn;\n\t\t\t\t}else if(sizes[i]<3){/*cells size can not be less than 1*/\n\t\t\t\t\tthis._resizeStick._dragobj.style[(dir==\"y\"?\"top\":\"left\")] = this._rs_progress[3] + i*totalSize+1+\"px\";\n\t\t\t\t}else{\n\t\t\t\t\tthis._rsLimit[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t_getResizerCells:function(){\n\t\tvar cells,i,res;\n\t\tcells = this.getParentView()._cells;\n\t\tfor(i=0; i< cells.length;i++){\n\t\t\tif(cells[i]==this){\n\t\t\t\tres = [this._getRsCell(cells, i, 1, -1), this._getRsCell(cells, i, 1, 1)];\n\t\t\t\tif (!res[0] || !res[1])\n\t\t\t\t\tres = null;\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t},\n\t_getRsCell:function(cells, i, step, dir){\n\t\tvar cell = cells[i+(dir*step)];\n\t\tif(cell && cell._settings.hidden)\n\t\t\treturn this._getRsCell(cells, i, step+1, dir);\n\t\telse if(cell && cell._settings.$noresize)\n\t\t\treturn null;\n\t\telse\n\t\t\treturn cell;\n\t},\n\t_rsEnd:function(result){\n\t\tif (typeof result == \"undefined\") return;\n\n\t\tvar cells,dir,diff,size;\n\t\tvar vertical = this.getParentView()._vertical_orientation;\n\t\tthis._resizerStick = null;\n\t\tif (this._rs_progress){\n\t\t\tdir = this._rs_progress[0];\n\t\t\tdiff = result-this._rs_progress[2];\n\t\t\tcells = this._getResizerCells();\n\t\t\tif(cells[0]&&cells[1]){\n\t\t\t\t/*new cell sizes*/\n\t\t\t\tsize = this._rsGetCellSizes(cells,dir,diff);\n\n\t\t\t\tfor (let i=0; i<2; i++){\n\t\t\t\t\t//cell has not fixed size, of fully fixed layout\n\t\t\t\t\tvar cell_size = cells[i].$getSize(0,0);\n\t\t\t\t\tif (vertical?(cell_size[2] == cell_size[3]):(Math.abs(cell_size[1]-cell_size[0])<3)){\n\t\t\t\t\t\t/*set fixed sizes for both cells*/\n\t\t\t\t\t\tcells[i]._settings[this._resizer_dim]=size[i];\n\t\t\t\t\t\tif (cells[i]._bubble_size)\n\t\t\t\t\t\t\tcells[i]._bubble_size(this._resizer_dim, size[i], vertical);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar actualSize = cells[i].$view[vertical?\"offsetHeight\":\"offsetWidth\"];//cells[i][\"$\"+this._resizer_dim];\n\t\t\t\t\t\tcells[i]._settings.gravity = size[i]/actualSize*cells[i]._settings.gravity;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcells[0].resize();\n\n\t\t\t\tfor (let i = 0; i < 2; i++){\n\t\t\t\t\tif (cells[i].callEvent)\n\t\t\t\t\t\tcells[i].callEvent(\"onViewResize\",[]);\n\t\t\t\t\tcells[i].$view.removeAttribute(\"aria-dropeffect\");\n\t\t\t\t}\n\t\t\t\tcallEvent(\"onLayoutResize\", [cells]);\n\t\t\t}\n\t\t\tthis._rs_progress = false;\n\t\t}\n\t\tthis._rs_progress = false;\n\t\tthis._rs_started = false;\n\t\tthis._rsLimit = null;\n\t\tremoveCss(document.body,\"webix_noselect\");\n\n\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"false\");\n\t\tthis._viewobj.removeAttribute(\"aria-dropeffect\");\n\t},\n\t_rsGetLimitCellSizes: function(cells){\n\t\tvar size1,size2,totalSize;\n\t\ttotalSize = cells[0][\"$\"+this._resizer_dim]+cells[1][\"$\"+this._resizer_dim];\n\t\tif(this._rsLimit[0]){\n\t\t\tsize1 = this._rsLimit[0];\n\t\t\tsize2 = totalSize-size1;\n\t\t}\n\t\telse if(this._rsLimit[1]){\n\t\t\tsize2 = this._rsLimit[1];\n\t\t\tsize1 = totalSize-size2;\n\t\t}\n\t\treturn [size1,size2];\n\t},\n\t_rsGetDiffCellSizes:function(cells,dir,diff){\n\t\tvar sizes =[];\n\t\tvar styleDim = this._resizer_dim==\"height\"?\"offsetHeight\":\"offsetWidth\";\n\t\tfor(var i=0;i<2;i++)\n\t\t\tsizes[i] = cells[i].$view[styleDim]+(i?-1:1)*diff;\n\t\treturn sizes;\n\t},\n\t_rsGetCellSizes:function(cells,dir,diff){\n\t\tvar i,sizes,totalSize;\n\t\t/*if max or min dimentsions are set*/\n\t\tif(this._rsLimit[0]||this._rsLimit[1]){\n\t\t\tsizes = this._rsGetLimitCellSizes(cells,dir);\n\t\t}\n\t\telse{\n\t\t\tsizes = this._rsGetDiffCellSizes(cells,dir,diff);\n\t\t\tfor(i =0; i<2;i++ ){\n\t\t\t\t/*if stick moving is stopped outsize cells borders*/\n\t\t\t\tif(sizes[i]<0){\n\t\t\t\t\ttotalSize = sizes[0]+sizes[1];\n\t\t\t\t\tsizes[i] =1;\n\t\t\t\t\tsizes[1-i] = totalSize-1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn sizes;\n\t}\n};\n\nconst view = protoUI(api, MouseEvents, Destruction, base.view);\nexport default {api, view};","import {protoUI, ui} from \"../ui/core\";\nimport state from \"../core/state\";\n\nimport base from \"./view\";\nimport baseview from \"./baseview\";\n\n\nconst api = {\n\tname:\"align\",\n\tdefaults:{\n\t\tborderless:true,\n\t\tleft:0, top:0, right:0, bottom:0\n\t},\n\t$init:function(){\n\t\tthis._viewobj.className\t+= \" webix_view_align\";\n\t},\n\t_remove:function(){\n\t\tthis.body_setter({ });\n\t},\n\t_replace:function(new_view){\n\t\tthis._body_cell.destructor();\n\t\tthis._body_cell = new_view;\n\n\t\tthis._viewobj.appendChild(this._body_cell._viewobj);\n\t\tthis.resize();\n\t},\n\tgetChildViews:function(){\n\t\treturn [this._body_cell];\n\t},\n\tbody_setter:function(value){\n\t\tvalue._inner = { top:false, left:false, right:false, bottom:false};\n\t\tstate._parent_cell = this;\n\t\tthis._body_cell = ui._view(value);\n\n\t\tthis._viewobj.appendChild(this._body_cell._viewobj);\n\t\treturn value;\n\t},\n\talign_setter:function(value){\n\t\tif (typeof value === \"string\")\n\t\t\tvalue = value.split(\",\");\n\n\t\tthis._x_align = this._y_align = this._p_align = \"\";\n\t\tfor (var i=0; i<value.length; i++){\n\t\t\tvar c = value[i];\n\t\t\tif (c === \"center\" || c === \"left\" || c === \"right\")\n\t\t\t\tthis._x_align = c;\n\t\t\tif (c === \"top\" || c === \"bottom\" || c === \"middle\")\n\t\t\t\tthis._y_align = c;\n\t\t\tif (c === \"absolute\")\n\t\t\t\tthis._x_align = this._y_align = this._p_align = \"precise\";\n\t\t}\n\n\t\treturn value;\n\t},\n\tgetBody:function(){\n\t\treturn this._body_cell;\n\t},\n\t$setSize:function(x,y){\n\t\tbase.api.$setSize.call(this, x,y);\n\n\t\tvar dx, dy;\n\t\tif (this._p_align){\n\t\t\tdx = x - this._settings.left - this._settings.right;\n\t\t\tdy = y - this._settings.top - this._settings.bottom;\n\t\t} else {\n\t\t\tdx = this._desired_size[0] || x;\n\t\t\tdy = this._desired_size[2] || y;\n\t\t}\n\n\n\n\t\tthis._body_cell.$setSize(dx, dy);\n\n\t\tvar box = this._body_cell._viewobj;\n\n\t\tif (this._x_align == \"center\")\n\t\t\tbox.style.marginLeft = Math.ceil((x-dx)/2)+\"px\";\n\t\telse if (this._x_align == \"right\")\n\t\t\tbox.style.marginLeft = (x-dx)+\"px\";\n\t\telse\n\t\t\tbox.style.marginLeft = (this._p_align ? this._settings.left : 0) +\"px\";\n\n\t\tif (this._y_align == \"middle\") \n\t\t\tbox.style.marginTop = Math.ceil((y-dy)/2)+\"px\";\n\t\telse if (this._y_align == \"bottom\")\n\t\t\tbox.style.marginTop = (y-dy)+\"px\";\n\t\telse\n\t\t\tbox.style.marginTop = (this._p_align ? this._settings.top : 0) + \"px\";\n\t},\n\t$getSize:function(dx,dy){\n\t\tvar size = this._desired_size = this._body_cell.$getSize(0,0);\n\t\tvar self_size = baseview.api.$getSize.call(this, 0, 0);\n\t\n\t\tif (this._p_align){\n\t\t\tdx += this._settings.left + this._settings.right;\n\t\t\tdy += this._settings.top + this._settings.bottom;\n\t\t}\n\n\t\tif (!this._x_align || this._p_align){\n\t\t\tself_size[0] = size[0]+dx;\n\t\t\tself_size[1] = size[1]+dx;\n\t\t} else {\n\t\t\tself_size[0] = (self_size[0] || size[0] ) +dy;\n\t\t\tself_size[1] +=\tdx;\n\t\t}\n\n\t\tif (!this._y_align || this._p_align){\n\t\t\tself_size[2] = size[2]+dy;\n\t\t\tself_size[3] = size[3]+dy;\n\t\t} else {\n\t\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\n\t\t\tself_size[3] +=\tdy;\n\t\t}\n\n\t\treturn self_size;\n\t}\n};\n\nconst view = protoUI(api, base.view);\nexport default {api, view};","import {remove} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {clone, extend, isUndefined} from \"../webix/helpers\";\nimport {_each} from \"../ui/helpers\";\nimport promise from \"../thirdparty/promiz\";\nimport {debug_size_box_start, debug_size_box_end} from \"../webix/debug\";\nimport {assert} from \"../webix/debug\";\n\nimport baselayout from \"../views/baselayout\";\nimport baseview from \"../views/baseview\";\nimport base from \"../views/view\";\n\nimport Settings from \"../core/settings\";\nimport animate from \"../webix/animate\";\n\n\n// #include ui/view.js\n\nconst api = {\n\tname:\"multiview\",\n\tdefaults:{\n\t\tanimate:{\n\t\t}\n\t},\n\tsetValue:function(val){\n\t\t$$(val).show();\n\t},\n\tgetValue:function(){\n\t\treturn this.getActiveId();\n\t},\n\t$init:function(){\n\t\tthis._active_cell = 0;\n\t\tthis._vertical_orientation = 1;\n\t\tthis._viewobj.style.position = \"relative\";\n\t\tthis._viewobj.className += \" webix_multiview\";\n\t\tthis._back_queue = [];\n\t},\n\t_ask_render:function(cell_id, view_id){\n\t\tvar cell = $$(cell_id);\n\t\tif (!cell._render_hash){\n\t\t\tcell._render_queue = [];\n\t\t\tcell._render_hash = {};\t\t\t\n\t\t}\n\t\tif (!cell._render_hash[view_id]){\n\t\t\tcell._render_hash[view_id]=true;\n\t\t\tcell._render_queue.push(view_id);\n\t\t}\n\t},\n\t_render_activation:function(cell_id){ \n\t\tvar cell = $$(cell_id);\n\t\tif(this._settings.keepViews)\n\t\t\tcell._viewobj.style.display = \"\";\n\t\t/*back array*/\n\t\tif(this._back_queue[this._back_queue.length-2]!=cell_id){\n\t\t\tif(this._back_queue.length==10)\n\t\t\t\tthis._back_queue.splice(0,1);\n\t\t\tthis._back_queue.push(cell_id);\n\t\t}\n\t\telse \n\t\t\tthis._back_queue.splice(this._back_queue.length-1,1);\t\n\t\t\n\t\tif (cell._render_hash){\n\t\t\tfor (var i=0; i < cell._render_queue.length; i++){\n\t\t\t\tvar subcell = $$(cell._render_queue[i]);\n\t\t\t\t//cell can be already destroyed\n\t\t\t\tif (subcell)\n\t\t\t\t\tsubcell.render();\n\t\t\t}\n\t\t\t\t\n\t\t\tcell._render_queue = [];\n\t\t\tcell._render_hash = {};\t\t\t\n\t\t}\n\t},\n\taddView:function(view, index){\n\t\tvar inc = !isUndefined(index) && index <= this._active_cell ? 1 : 0;\n\t\tvar id = baselayout.api.addView.apply(this, arguments);\n\n\t\tif(this._cells.length > 1){\n\t\t\tif(this._settings.keepViews)\n\t\t\t\t$$(id)._viewobj.style.display = \"none\";\n\t\t\telse\n\t\t\t\tremove($$(id)._viewobj);\n\n\t\t\tthis._active_cell += inc;\n\t\t}\n\n\t\treturn id;\n\t},\n\tgetCount:function(){\n\t\treturn this._collection.length;\n\t},\n\t_replace:function(view){\n\t\tif(!view._settings.borderless){\n\t\t\tconst settings = clone(this._settings._inner);\n\t\t\tview._settings._inner = settings;\n\t\t\tlet style = view._viewobj.style;\n\t\t\tstyle.borderTopWidth = style.borderBottomWidth = style.borderLeftWidth = style.borderRightWidth = \"1px\";\n\t\t\tthis._fix_container_borders(style, settings);\n\t\t}\n\t\tbaselayout.api._replace.apply(this, arguments);\n\t},\n\t_beforeRemoveView:function(index){\n\t\t//removing current view\n\t\tif (index == this._active_cell){\n\t\t\tvar next = index ? index-1 : 1;\n\t\t\tif (this._cells[next]){\n\t\t\t\tthis._animation_promise = null;\n\t\t\t\tthis._show(this._cells[next], false);\n\t\t\t}\n\t\t}\n\n\t\tif (index < this._active_cell)\n\t\t\tthis._active_cell--;\n\t},\n\t//necessary, as we want to ignore hide calls for elements in multiview\n\t_hide:function(){},\n\t_parse_cells:function(collection){\n\t\tcollection = collection || this._collection; \n\n\t\tfor (let i=0; i < collection.length; i++)\n\t\t\tcollection[i]._inner = this._settings.borderless?{top:1, left:1, right:1, bottom:1}:(this._settings._inner||{});\n\t\t\t\n\t\tbaselayout.api._parse_cells.call(this, collection);\n\t\t\n\t\tfor (let i=1; i < this._cells.length; i++){\n\t\t\tif(this._settings.keepViews)\n\t\t\t\tthis._cells[i]._viewobj.style.display = \"none\";\n\t\t\telse\n\t\t\t\tremove(this._cells[i]._viewobj);\n\t\t}\n\n\t\t\t\n\t\tfor (let i=0; i<collection.length; i++){\n\t\t\tvar cell = this._cells[i];\n\t\t\tif (cell._cells && !cell._render_borders) continue;\n\n\t\t\tthis._fix_container_borders(cell._viewobj.style, cell._settings._inner);\n\n\t\t\tcell._viewobj.setAttribute(\"role\", \"tabpanel\");\n\t\t}\n\t\tthis._render_activation(this.getActiveId());\n\t},\n\tcells_setter:function(value){\n\t\tassert(value && value.length,\"Multiview must have at least one view in 'cells'\");\n\t\tthis._collection = value;\n\t},\n\t_getDirection:function(next, active){\n\t\tvar dir = (this._settings.animate || {}).direction;\n\t\tvar vx = (dir == \"top\" || dir == \"bottom\");\n\t\treturn \t next < active ? (vx?\"bottom\":\"right\"):(vx?\"top\":\"left\");\n\t},\n\t_show:function(obj, animation_options){\n\n\t\tvar parent = this.getParentView();\n\t\tif (parent && parent.getTabbar)\n\t\t\tparent.getTabbar().setValue(obj._settings.$id || obj._settings.id);\n\n\t\tif (this._animation_promise)\n\t\t\treturn this._animation_promise.then(() => this._show.apply(this, arguments));\n\n\t\tvar _next_cell = -1;\n\t\tfor (var i=0; i < this._cells.length; i++)\n\t\t\tif (this._cells[i]==obj){\n\t\t\t\t_next_cell = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif (_next_cell < 0 || _next_cell == this._active_cell)\n\t\t\treturn;\n\n\n\t\tvar prev = this._cells[this._active_cell];\n\t\tvar next = this._cells[ _next_cell ];\n\t\tprev.$getSize(0,0);\n\n\t\t//need to be moved in animate\n\t\tif((animation_options||typeof animation_options==\"undefined\")&&animate.isSupported() && this._settings.animate) {\n\t\t\tvar aniset = extend({}, this._settings.animate);\n\t\t\tif(this._settings.keepViews)\n\t\t\t\taniset.keepViews = true;\n\t\t\taniset.direction = this._getDirection(_next_cell,this._active_cell);\n\t\t\taniset = Settings._mergeSettings(animation_options||{}, aniset);\n\n\t\t\tvar line = animate.formLine(\n\t\t\t\tnext._viewobj,\n\t\t\t\tprev._viewobj,\n\t\t\t\taniset);\n\t\t\tnext.$getSize(0,0);\n\t\t\tnext.$setSize(this._content_width,this._content_height);\n\n\t\t\tvar callback_original = aniset.callback;\n\t\t\taniset.callback = function(){\n\t\t\t\tanimate.breakLine(line,this._settings.keepViews);\n\t\t\t\tthis._animation_promise = null;\n\t\t\t\taniset.wait_animation.resolve();\n\t\t\t\tif (callback_original) callback_original.call(this);\n\t\t\t\tcallback_original = aniset.master = aniset.callback = null;\n\t\t\t\tthis.resize();\n\t\t\t};\n\t\t\taniset.master = this;\n\n\t\t\tthis._active_cell = _next_cell;\n\t\t\tthis._render_activation(this.getActiveId());\n\n\t\t\tanimate(line, aniset);\n\t\t\tthis._animation_promise = aniset.wait_animation = promise.defer();\n\t\t}\n\t\telse { // browsers which don't support transform and transition, or animate:false in config\n\t\t\tif(this._settings.keepViews){\n\t\t\t\tprev._viewobj.style.display = \"none\";\n\t\t\t}\n\t\t\telse{\n\t\t\t\tremove(prev._viewobj);\n\t\t\t\tthis._viewobj.appendChild(this._cells[i]._viewobj);\n\t\t\t}\n\n\t\t\tthis._active_cell = _next_cell;\n\t\t\tthis.resizeChildren();\n\t\t\tthis._render_activation(this.getActiveId());\n\t\t}\n\n\t\tif (next.callEvent){\n\t\t\tnext.callEvent(\"onViewShow\",[]);\n\t\t\t_each(next, this._signal_hidden_cells);\n\t\t}\n\n\t\tthis.callEvent(\"onViewChange\",[prev._settings.id, next._settings.id]);\n\t\t\n\t},\n\t$getSize:function(dx, dy){\n\t\tif (!this._cells.length) return baseview.api.$getSize.call(this, 0, 0);\n\t\tif (DEBUG) debug_size_box_start(this, true);\n\t\tvar size = this._cells[this._active_cell].$getSize(0, 0);\n\t\tif (this._settings.fitBiggest){\n\t\t\tfor (var i=0; i<this._cells.length; i++)\n\t\t\t\tif (i != this._active_cell){\n\t\t\t\t\tvar other = this._cells[i].$getSize(0, 0);\n\t\t\t\t\tfor (var j = 0; j < 4; j++)\n\t\t\t\t\t\tsize[j] = Math.max(size[j], other[j]);\n\t\t\t\t}\n\t\t}\n\n\n\t\t//get layout sizes\n\t\tvar self_size = baseview.api.$getSize.call(this, 0, 0);\n\t\t//use child settings if layout's one was not defined\n\t\tif (self_size[1] >= 100000) self_size[1]=0;\n\t\tif (self_size[3] >= 100000) self_size[3]=0;\n\n\t\tself_size[0] = (self_size[0] || size[0] ) +dx;\n\t\tself_size[1] = (self_size[1] || size[1] ) +dx;\n\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\n\t\tself_size[3] = (self_size[3] || size[3] ) +dy;\n\t\t\n\t\tif (DEBUG) debug_size_box_end(this, self_size);\n\t\t\n\t\treturn self_size;\n\t},\n\t$setSize:function(x,y){\n\t\tif (!this._cells.length) return;\n\t\tthis._layout_sizes = [x,y];\n\t\tbaseview.api.$setSize.call(this,x,y);\n\t\tthis._cells[this._active_cell].$setSize(x,y);\n\t},\n\tisVisible:function(base_id, cell_id){\n\t\tif (cell_id && cell_id != this.getActiveId()){\n\t\t\tif (base_id)\n\t\t\t\tthis._ask_render(cell_id, base_id);\n\t\t\treturn false;\n\t\t}\n\t\treturn base.api.isVisible.call(this, base_id, this._settings.id);\n\t},\n\tgetActiveId:function(){\n\t\treturn this._cells.length?this._cells[this._active_cell]._settings.id:null;\n\t},\n\tback:function(step){\t\t\n\t\tstep=step||1;\n\t\tif(this.callEvent(\"onBeforeBack\",[this.getActiveId(), step])){\n\t\t\tif(this._back_queue.length>step){\n\t\t\t\tvar viewId = this._back_queue[this._back_queue.length-step-1];\n\t\t\t\t$$(viewId).show();\n\t\t\t\treturn viewId;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn null;\n\n\t},\n\t_insertBeforeView:function(view, before){\n\t\tif (this._settings.keepViews || (!before || before == this._cells[this._active_cell]))\n\t\t\tbaselayout.api._insertBeforeView.call(this, view, before);\n\t}\n};\n\n\nconst view = protoUI(api, baselayout.view);\nexport default {api, view};","import layout from \"../views/layout\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {uid, extend} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\n\n\nconst api = {\n\tname:\"tabview\",\n\tsetValue:function(val){\n\t\tthis._cells[0].setValue(val);\n\t},\n\tgetValue:function(){\n\t\treturn this._cells[0].getValue();\n\t},\n\tgetTabbar:function(){\n\t\treturn this._cells[0];\n\t},\n\tgetMultiview:function(){\n\t\treturn this._cells[1];\n\t},\n\taddView:function(obj){\n\t\tvar nid = this.getMultiview().addView(obj.body);\n\n\t\tobj.id = nid;\n\t\tobj.value = obj.header;\n\t\tdelete obj.body;\n\t\tdelete obj.header;\n\n\t\tvar t = this.getTabbar();\n\t\tt.addOption(obj);\n\n\t\treturn nid;\n\t},\n\tremoveView:function(id){\n\t\tvar t = this.getTabbar();\n\t\tt.removeOption(id);\n\t\tt.refresh();\n\t},\n\t$init:function(config){\n\t\tthis.$ready.push(this._init_tabview_handlers);\n\n\t\tvar cells = config.cells;\n\t\tvar tabs = [];\n\n\t\tassert(cells && cells.length, \"tabview must have cells collection\");\n\n\t\tfor (var i = cells.length - 1; i >= 0; i--){\n\t\t\tvar view = cells[i].body||cells[i];\n\t\t\tif (!view.id) view.id = \"view\"+uid();\n\t\t\ttabs[i] = { value:cells[i].header, id:view.id, close:cells[i].close, width:cells[i].width, hidden:  !!cells[i].hidden};\n\t\t\tcells[i] = view;\n\t\t}\n\n\t\tvar tabbar = { view:\"tabbar\", multiview:true };\n\t\tvar mview = { view:\"multiview\", cells:cells, animate:(!!config.animate) };\n\n\t\tif (config.value)\n\t\t\ttabbar.value = config.value;\n\n\t\tif (config.tabbar)\n\t\t\textend(tabbar, config.tabbar, true);\n\t\tif (config.multiview)\n\t\t\textend(mview, config.multiview, true);\n\t\t\n\t\ttabbar.options = tabbar.options || tabs;\n\n\t\tconfig.rows = [\n\t\t\ttabbar, mview\n\t\t];\n\n\t\tdelete config.cells;\n\t\tdelete config.tabs;\n\t},\n\t_init_tabview_handlers:function(){\n\t\tthis.getTabbar().attachEvent(\"onOptionRemove\", function(id){\n\t\t\tvar view = $$(id);\n\t\t\tif (view){\n\t\t\t\tvar parent = view.getParentView();\n\t\t\t\tif(parent)\n\t\t\t\t\tparent.removeView(view);\n\t\t\t}\n\t\t});\n\t}\n};\n\n\nconst view = protoUI(api,  layout.view);\nexport default {api, view};","import {protoUI, ui, $$} from \"../ui/core\";\nimport {copy, extend, bind} from \"../webix/helpers\";\nimport {_each} from \"../ui/helpers\";\nimport animate from \"../webix/animate\";\nimport {assert} from \"../webix/debug\";\nimport {attachEvent, detachEvent} from \"../webix/customevents\";\n\nimport state from \"../core/state\";\nimport Touch from \"../core/touch\";\n\nimport base from \"../views/view\";\nimport baseview from \"../views/baseview\";\n\nimport EventSystem from \"../core/eventsystem\";\nimport NavigationButtons from \"../core/navigationbuttons\";\n\n\nconst api = {\n\tname:\"carousel\",\n\tdefaults:{\n\t\tscrollSpeed:\"300ms\",\n\t\ttype: \"clean\",\n\t\tnavigation: {},\n\t\tanimate:true\n\t},\n\t$init:function(){\n\t\tthis._viewobj.className += \" webix_carousel\";\n\t\tthis._layout = null;\n\t\tthis._dataobj = null;\n\t\tthis._active_cell = 0;\n\t\tthis.$ready.unshift(this._initLayout);\n\t\tthis.$ready.push(this._after_init_call);\n\t},\n\taddView: function(view, index){\n\t\tvar t = this._layout.addView(view, index);\n\t\tthis._fix_after_view_add();\n\t\treturn t;\n\t},\n\tremoveView: function(id){\n\t\tthis._layout.removeView(id);\n\t\tthis._fix_after_view_add();\n\t},\n\t_replace: function(new_view,target_id){\n\t\tthis._layout._replace(new_view, target_id);\n\t\tthis._fix_after_view_add();\n\t},\n\t_fix_after_view_add: function(){\n\t\tthis._cells = this._layout._cells;\n\t\tthis._renderPanel();\n\t\tthis.setActiveIndex(Math.min(this._active_cell, this._cells.length-1));\n\t},\n\t_initLayout: function(){\n\t\tif(this._layout && this._layout.destructor)\n\t\t\tthis._layout.destructor();\n\n\t\tvar layout = \"\";\n\n\t\tif(this.config.cols){\n\t\t\tlayout = \"cols\";\n\t\t\tthis._vertical_orientation = 0;\n\t\t}\n\t\telse{\n\t\t\tlayout = \"rows\";\n\t\t\tthis._vertical_orientation = 1;\n\t\t}\n\n\t\tvar config = {borderless: true, type: \"clean\"};\n\t\tconfig[layout] = copy(this._settings[layout]);\n\t\tvar layoutProp = [\"type\", \"margin\", \"marginX\", \"marginY\", \"padding\", \"paddingX\", \"paddingY\"];\n\t\tvar layoutConfig = {};\n\t\tfor(var i=0; i< layoutProp.length; i++){\n\t\t\tif(this._settings[layoutProp[i]]){\n\t\t\t\tlayoutConfig[layoutProp[i]] = this._settings[layoutProp[i]];\n\t\t\t}\n\t\t}\n\t\textend(config,layoutConfig,true);\n\n\t\tstate._parent_cell = this;\n\t\tthis._layout = ui._view(config);\n\n\t\tthis._viewobj.appendChild(this._layout._viewobj);\n\t\tthis._cells = this._layout._cells;\n\n\t\tthis._layout._show = bind(api._show,this);\n\t\tthis._layout.adjustScroll = bind(api.adjustScroll,this);\n\n\t\tconst e1 = attachEvent(\"onReconstruct\",  view => {\n\t\t\tif(view == this._layout)\n\t\t\t\tthis._setScroll();\n\t\t});\n\t\tthis.attachEvent(\"onDestruct\", function(){ detachEvent(e1); });\n\n\t\tthis._contentobj = this._viewobj.firstChild;\n\t},\n\t_onKeyPress:function(code, e){\n\t\tif(this._settings.navigation.items && e.target.getAttribute(\"role\") === \"tab\")\n\t\t\tthis._moveActive(code, e);\n\n\t\tbaseview.api._onKeyPress.call(this, code, e);\n\t},\n\tgetChildViews:function(){\n\t\treturn [this._layout];\n\t},\n\tgetLayout:function(){\n\t\treturn this._layout;\n\t},\n\t_after_init_call:function(){\n\t\tthis._contentobj.setAttribute(\"touch_scroll\", (this._vertical_orientation?\"y\":\"x\"));\n\n\t\tthis._layout.attachEvent(\"onAfterScroll\",bind(function(){\n\t\t\tthis.callEvent(\"onShow\",[this.getActiveId()]);\n\t\t},this));\n\n\t\t_each(this._layout, function(view){\n\t\t\tview._viewobj.setAttribute(\"role\", \"tabpanel\");\n\t\t});\n\t},\n\tadjustScroll:function(matrix){\n\t\tvar size =  (this._vertical_orientation?this._content_height:this._content_width);\n\n\t\tvar correction;\n\t\tif (this._vertical_orientation) {\n\t\t\tcorrection = Math.round(matrix.f/size);\n\t\t\tmatrix.f = correction*size;\n\t\t} else {\n\t\t\tcorrection = Math.round(matrix.e/size);\n\t\t\tmatrix.e = correction*size;\n\t\t}\n\t\t\n\t\tthis._active_cell = - correction;\n\n\t\tif(this._settings.navigation)\n\t\t\tthis._renderNavItems();\n\n\t\treturn true;\n\t},\n\t_show:function(obj){\n\t\tvar i, layout, _nextCell, _size, x, y;\n\t\t_nextCell = -1;\n\t\tlayout = this._layout;\n\t\tfor (i=0; i < layout._cells.length; i++){\n\t\t\tif (layout._cells[i]==obj){\n\t\t\t\t_nextCell = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (_nextCell < 0 || _nextCell == this._active_cell)\n\t\t\treturn;\n\n\t\tthis._active_cell = _nextCell;\n\t\t_size =  (layout._vertical_orientation?this._content_height:this._content_width);\n\n\t\tx = -(layout._vertical_orientation?0:_nextCell*_size);\n\t\ty = -(layout._vertical_orientation?_nextCell*_size:0);\n\n\t\tthis.scrollTo(x,y);\n\t\tthis.callEvent(\"onShow\",[layout._cells[this._active_cell]._settings.id]);\n\t\tif(this._settings.navigation)\n\t\t\tthis._renderPanel();\n\t},\n\tscrollTo:function(x,y){\n\t\tif (Touch && animate.isSupported() && this._settings.animate)\n\t\t\tTouch._set_matrix(this._contentobj, x,y, this._settings.scrollSpeed||\"100ms\");\n\t\telse{\n\t\t\tthis._contentobj.style.marginLeft = x+\"px\";\n\t\t\tthis._contentobj.style.marginTop =  y+\"px\";\n\t\t}\n\t},\n\tnavigation_setter:function(config){\n\t\tthis._mergeSettings(config,{\n\t\t\ttype: \"corner\",\n\t\t\tbuttons: true,\n\t\t\titems: true\n\t\t});\n\t\treturn config;\n\t},\n\tshowNext:function(){\n\t\tif (this._active_cell < this._layout._cells.length - 1)\n\t\t\tthis.setActiveIndex(this._active_cell+1);\n\t},\n\tshowPrev:function(){\n\t\tif (this._active_cell > 0)\n\t\t\tthis.setActiveIndex(this._active_cell-1);\n\t},\n\tsetActiveIndex:function(value){\n\t\tassert(value < this._layout._cells.length, \"Not existing index in collection\");\n\n\t\tvar id = this._layout._cells[value]._settings.id;\n\t\t$$(id).show();\n\t},\n\tgetActiveIndex:function(){\n\t\treturn this._active_cell;\n\t},\n\t$getSize:function(dx, dy){\n\t\tvar layoutSizes = this._layout.$getSize(0, 0);\n\t\tvar selfSizes   = base.api.$getSize.call(this, dx, dy);\n\t\tif(this._layout._vertical_orientation){\n\t\t\tselfSizes[0] = Math.max(selfSizes[0], layoutSizes[0]);\n\t\t\tselfSizes[1] = Math.min(selfSizes[1], layoutSizes[1]);\n\n\t\t} else{\n\t\t\tselfSizes[2] = Math.max(selfSizes[2], layoutSizes[2]);\n\t\t\tselfSizes[3] = Math.min(selfSizes[3], layoutSizes[3]);\n\t\t}\n\t\treturn selfSizes;\n\t},\n\t$setSize:function(x,y){\n\t\tvar layout = this._layout;\n\t\tvar c = layout._cells.length;\n\n\t\tvar changed = base.api.$setSize.call(this,x,y);\n\t\tvar yc = this._content_height*(layout._vertical_orientation?c:1);\n\t\tvar xc = this._content_width*(layout._vertical_orientation?1:c);\n\n\t\tif (changed){\n\t\t\tthis._contentobj.style.height = yc+\"px\";\n\t\t\tthis._contentobj.style.width = xc+\"px\";\n\t\t\tlayout.$setSize(xc,yc);\n\t\t\tthis._setScroll();\n\t\t} else\n\t\t\tlayout.$setSize(xc,yc);\n\t},\n\t_setScroll: function(){\n\t\tvar layout = this._layout;\n\t\tvar activeCell = this._active_cell||0;\n\t\tvar size =  (layout._vertical_orientation?this._content_height:this._content_width);\n\n\t\tvar x = -(layout._vertical_orientation?0:activeCell*size);\n\t\tvar y = -(layout._vertical_orientation?activeCell*size:0);\n\n\n\t\tthis.scrollTo(x,y);\n\n\t\tif(this._settings.navigation)\n\t\t\tthis._renderPanel();\n\t},\n\tgetActiveId:function(){\n\t\tvar cell = this._layout._cells[this._active_cell];\n\t\treturn cell?cell._settings.id:null;\n\t},\n\tsetActive:function(value){\n\t\t$$(value).show();\n\t}\n};\n\n\nconst view = protoUI(api,  EventSystem,NavigationButtons, base.view);\nexport default {api, view};","import base from \"../views/view\";\nimport {protoUI, ui} from \"../ui/core\";\nimport state from \"../core/state\";\n\n\nconst api = {\n\tname:\"proxy\",\n\tbody_setter:function(value){\n\t\tstate._parent_cell = this;\n\t\tthis._body_cell = ui._view(value);\n\t\tthis._viewobj.appendChild(this._body_cell._viewobj);\n\t\treturn value;\n\t},\n\tgetChildViews:function(){\n\t\treturn [this._body_cell];\n\t},\n\t$setSize:function(x,y){\n\t\tbase.api.$setSize.call(this, x,y);\n\t\tthis._body_cell.$setSize(this.$width, this.$height);\n\t},\n\t$getSize:function(dx,dy){\n\t\tvar selfSize = base.api.$getSize.call(this, dx, dy);\n\t\tvar size = this._body_cell.$getSize(dx, dy);\n\n\t\tsize[0] = Math.max(selfSize[0], size[0]);\n\t\tsize[1] = Math.min(selfSize[1], size[1]);\n\t\tsize[2] = Math.max(selfSize[2], size[2]);\n\t\tsize[3] = Math.min(selfSize[3], size[3]);\n\t\tsize[4] = Math.max(selfSize[4], size[4]);\n\n\t\treturn size;\n\t},\n\t_replace:function(n){\n\t\tthis._body_cell.destructor();\n\t\tthis._body_cell = n;\n\t\tthis._viewobj.appendChild(n._viewobj);\n\t\tthis.resize();\n\t}\n};\n\n\nconst view = protoUI(api,  base.view);\nexport default {api, view};","import layout from \"../views/layout\";\nimport {create, remove, addCss, removeCss, offset, pos as getPos} from \"../webix/html\";\nimport {protoUI, ui, $$} from \"../ui/core\";\nimport env from \"../webix/env\";\nimport {isArray} from \"../webix/helpers\";\nimport {_each} from \"../ui/helpers\";\nimport {callEvent} from \"../webix/customevents\";\nimport DragControl from \"../core/dragcontrol\";\n\nimport state from \"../core/state\";\n\n\nconst api = {\n\tname:\"portlet\",\n\tdefaults:{\n\t\tlayoutType:\"wide\",\n\t\ticon:\"wxi-drag\",\n\t},\n\t$init:function(config){\n\t\tthis._viewobj.style.position = \"relative\";\n\n\t\tif (config.header && config.body)\n\t\t\tconfig.body = [ { template:config.header, type:\"header\" }, config.body ];\n\n\t\tthis.$ready.push(this._init_drag_area);\n\t},\n\t_refreshChildScrolls: function(source){\n\t\t_each(source, function(view){\n\t\t\tif(view._restore_scroll_state)\n\t\t\t\tview._restore_scroll_state();\n\t\t});\n\t},\n\t_init_drag_area:function(){\n\t\tvar childs = this.getChildViews();\n\n\t\tif (childs.length > 1)\n\t\t\tDragControl.addDrag(childs[0].$view, this);\n\t\telse if (this._settings.icon){\n\t\t\tvar drag = create(\"div\", { \"class\":\"portlet_drag\" }, \"<span class='webix_icon \"+this._settings.icon+\"'></span>\");\n\t\t\tthis._viewobj.appendChild(drag);\n\t\t\tDragControl.addDrag(drag, this);\n\t\t} else {\n\t\t\tDragControl.addDrag(this.$view, this);\n\t\t}\n\t},\n\tbody_setter:function(value){\n\t\treturn this.rows_setter(isArray(value) ? value:[value]);\n\t},\n\tmarkDropArea:function(target, mode){\n\t\tif (!target)\n\t\t\treturn remove(this._markerbox);\n\n\t\ttarget = $$(target);\n\n\t\tif (!this._markerbox)\n\t\t\tthis._markerbox = create(\"div\",null,\"&nbsp;\");\n\n\t\ttarget.$view.appendChild(this._markerbox);\n\t\tthis._markerbox.className = \"portlet_marker\"+mode;\n\t},\n\tmovePortlet:function(target, mode){\n\t\tvar parent = target.getParentView();\n\t\tvar source = this.getParentView();\n\n\t\tvar tindex = parent.index(target);\n\t\tvar sindex = source.index(this);\n\n\t\tif (!callEvent(\"onBeforePortletMove\", [source, parent, this, target, mode])) return;\n\n\t\tstate._freeze_resize = true;\n\n\t\tvar shift = (source != parent ? 1 : 0);\n\t\tvar isv = parent._vertical_orientation;\t\t\n\t\tif ((mode == \"top\" || mode == \"bottom\")){\n\t\t\tif (isv !== 1){\n\t\t\t\tparent = ui({ type:target._settings.layoutType, rows:[] }, parent, tindex+shift);\n\t\t\t\tui(target, parent, 0);\n\t\t\t\ttindex = 0; shift = 1;\n\t\t\t}\n\t\t\tif (mode == \"bottom\") shift+=1;\n\t\t} else if ((mode == \"left\" || mode == \"right\")){\n\t\t\tif (isv !== 0){\n\t\t\t\tparent = ui({ type:target._settings.layoutType, cols:[] }, parent, tindex+shift);\n\t\t\t\tui(target, parent, 0);\n\t\t\t\ttindex = 0; shift = 1;\n\t\t\t}\n\t\t\tif (mode == \"right\") shift+=1;\n\t\t}\n\n\t\tif (sindex < tindex) shift -= 1;\n\t\tui(this, parent, tindex+shift );\n\t\tif (mode == \"replace\")\n\t\t\tui(target, source, sindex);\n\n\t\tthis._removeEmptySource(source);\n\n\t\tstate._freeze_resize = false;\n\n\t\ttarget.resize();\n\t\tsource.resize();\n\n\t\tthis._refreshChildScrolls(source);\n\t\tcallEvent(\"onAfterPortletMove\", [source, parent, this, target, mode]);\n\t},\n\t_removeEmptySource:function(view){\n\t\tvar childview;\n\t\tvar maxcount = 0;\n\n\t\twhile (view.getChildViews().length <= maxcount){\n\t\t\tchildview = view;\n\t\t\tview = view.getParentView();\n\n\t\t\tmaxcount = 1;\n\t\t}\n\n\t\tif (maxcount)\n\t\t\tview.removeView(childview);\n\t},\n\t$drag:function(object){\n\t\taddCss(this._viewobj, \"portlet_in_drag\");\n\t\tDragControl._drag_context = {source:object, from:object};\n\t\treturn this._viewobj.innerHTML;\n\t},\n\t$dragDestroy:function(target, html){\n\t\tremoveCss(this._viewobj, \"portlet_in_drag\");\n\t\tremove(html);\n\t\tif (this._portlet_drop_target){\n\t\t\tthis.movePortlet(this._portlet_drop_target, this._portlet_drop_mode);\n\t\t\tthis.markDropArea();\n\t\t\tthis._portlet_drop_target = null;\n\t\t}\n\t},\n\t_getDragItemPos: function(){\n\t\treturn offset(this.$view);\n\t},\n\t$dragPos: function(pos, e, html){\n\t\thtml.style.left = \"-10000px\";\n\t\tvar evObj = env.mouse.context(e);\n\n\n\t\tvar top = document.body.scrollTop || document.documentElement.scrollTop || 0;\n\t\tvar left = document.body.scrollLeft ||  document.documentElement.scrollLeft || 0;\n\t\t// elementFromPoint need to be corrected on scroll value\n\t\tvar node = document.elementFromPoint(evObj.x-left, evObj.y-top);\n\n\t\tvar view = null;\n\t\tif (node)\n\t\t\tview = $$(node);\n\n\t\tthis._portlet_drop_target = this._getPortletTarget(view);\n\t\tthis._portlet_drop_mode = this._markPortletDrag(this._portlet_drop_target, e);\n\n\t\tpos.x = pos.x - this._content_width + 10;\n\t\tpos.y = pos.y - 20;\n\n\t\tDragControl._skip = true;\n\t},\n\t_markPortletDrag:function(view, ev){\n\t\tvar drop = \"\";\n\t\tvar mode = \"\";\n\n\t\tif (ev && view){\n\t\t\tvar box = offset(view.$view);\n\t\t\tvar pos = getPos(ev);\n\t\t\tvar erx = (pos.x-box.x) - box.width/2;\n\t\t\tvar ery = (pos.y-box.y) - box.height/2;\n\n\t\t\tmode = view._settings.mode;\n\t\t\tif (!mode)\n\t\t\t\tmode = Math.abs(erx)*(box.height/box.width) > Math.abs(ery) ? \"cols\" : \"rows\";\n\n\t\t\tif (mode == \"cols\"){\n\t\t\t\tdrop = erx >=0 ? \"right\" :\"left\";\n\t\t\t} else if (mode == \"rows\"){\n\t\t\t\tdrop = ery >=0 ? \"bottom\" : \"top\";\n\t\t\t}\n\n\t\t\tthis.markDropArea(view, drop);\n\t\t}\n\n\t\tthis.markDropArea(view, drop);\n\t\treturn drop || mode;\n\t},\n\t_getPortletTarget:function(view){\n\t\twhile(view){\n\t\t\tif (view.movePortlet)\n\t\t\t\treturn view;\n\t\t\telse\n\t\t\t\tview = view.getParentView();\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  layout.view);\nexport default {api, view};","import baselayout from \"../views/baselayout\";\nimport {protoUI} from \"../ui/core\";\nimport baseview from \"../views/baseview\";\nimport {debug_size_box_start, debug_size_box_end} from \"../webix/debug\";\n\n\nconst api = {\n\tname:\"abslayout\",\n\t$init:function(){\n\t\tthis.$view.className += \" webix_abslayout\";\n\t\tdelete this.rows_setter;\n\t\tdelete this.cols_setter;\n\t\tthis._collection = [];\n\t},\n\tcells_setter:function(cells){\n\t\tthis._collection = cells;\n\t},\n\t_parse_cells:function(){\n\t\tfor (var i = 0; i < this._collection.length; i++) {\n\t\t\tthis._collection[i]._inner = {};\n\t\t}\n\t\tbaselayout.api._parse_cells.call(this, this._collection);\n\t},\n\t$getSize:function(){\n\t\tvar self_size = baseview.api.$getSize.call(this, 0, 0);\n\t\tvar sub = null;\n\n\t\tfor (var i=0; i<this._cells.length; i++)\n\t\t\tif (this._cells[i]._settings.relative)\n\t\t\t\tsub = this._cells[i].$getSize(0,0);\n\n\t\tif (sub){\n\t\t\t//use child settings if layout's one was not defined\n\t\t\tif (self_size[1] >= 100000) self_size[1]=0;\n\t\t\tif (self_size[3] >= 100000) self_size[3]=0;\n\n\t\t\tself_size[0] = Math.max(self_size[0], sub[0]);\n\t\t\tself_size[1] = Math.max(self_size[1], sub[1]);\n\t\t\tself_size[2] = Math.max(self_size[2], sub[2]);\n\t\t\tself_size[3] = Math.max(self_size[3], sub[3]);\n\t\t}\n\n\t\treturn self_size;\n\t},\n\t$setSize:function(x,y){\n\t\tthis._layout_sizes = [x,y];\n\t\tif (DEBUG) debug_size_box_start(this);\n\n\t\tbaseview.api.$setSize.call(this,x,y);\n\t\tthis._set_child_size(x,y);\n\n\t\tif (DEBUG) debug_size_box_end(this, [x,y]);\n\t},\n\t_set_child_size:function(x,y){\n\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\tvar view = this._cells[i];\n\t\t\tvar conf = view._settings;\n\n\t\t\tvar sizes = view.$getSize(0,0);\n\t\t\tif (conf.relative){\n\t\t\t\tconf.left = conf.top = 0;\n\t\t\t\tview.$setSize(x,y);\n\t\t\t} else {\n\t\t\t\tview.$setSize(sizes[0], sizes[2]);\n\t\t\t}\n\n\t\t\tvar node = view.$view;\n\t\t\tvar options = [\"left\", \"right\", \"top\", \"bottom\"];\n\n\t\t\tfor (var j = 0; j < options.length; j++) {\n\t\t\t\tvar key = options[j];\n\t\t\t\tif (key in conf)\n\t\t\t\t\tnode.style[key] = conf[key] + \"px\";\n\t\t\t}\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  baselayout.view);\nexport default {api, view};","import abslayout from \"../views/abslayout\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {isUndefined, extend, copy} from \"../webix/helpers\";\nimport baseview from \"../views/baseview\";\n\n\nconst api = {\n\tname:\"gridlayout\",\n\tdefaults:{\n\t\tautoplace:true,\n\t\tgridColumns:2,\n\t\tgridRows:2,\n\t\tmargin:10,\n\t\tpadding:10\n\t},\n\tgridRows_setter:function(value){\n\t\treturn (this._actual_rows = value);\n\t},\n\tremoveView:function(id){\n\t\tabslayout.api.removeView.call(this, id);\n\t\tthis._do_compact();\n\t\tthis.callEvent(\"onChange\", []);\n\t},\n\t_check_default_pos:function(config){\n\t\tconfig.dx = config.dx || 1;\n\t\tconfig.dy = config.dy || 1;\n\n\t\tif (isUndefined(config.y) || isUndefined(config.x)){\n\t\t\tvar matrix = this._buildMatrix();\n\t\t\tfor (var y=0; y<this._actual_rows; y++)\n\t\t\t\tfor (var x=0; x<this._settings.gridColumns; x++){\n\t\t\t\t\tif (!matrix[x][y] && this._isFree(matrix, x, y, x+config.dx, y+config.dy)){\n\t\t\t\t\t\tconfig.x = x;\n\t\t\t\t\t\tconfig.y = y;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tconfig.x = 0;\n\t\t\tconfig.y = this._actual_rows;\n\t\t}\n\n\t\t//ensure that view is not wider than grid\n\t\tvar exceed = config.x+config.dx - this._settings.gridColumns;\n\t\tif (exceed > 0)\n\t\t\tconfig.dx -= exceed;\n\t},\n\t_replace:function(new_view,target_id){\n\t\tif (isUndefined(target_id)){\n\t\t\tfor (var i=0; i < this._cells.length; i++)\n\t\t\t\tthis._cells[i].destructor();\n\t\t\tthis._collection = new_view;\n\t\t\tthis._parse_cells();\n\t\t} else {\n\t\t\tthis._check_default_pos(new_view.config);\n\t\t\tthis._cells.push(new_view);\n\n\t\t\tthis.$view.appendChild(new_view._viewobj);\n\n\t\t\tthis._reserveSpace(new_view.config, new_view.config.id);\n\t\t}\n\t\tthis._do_compact(true);\n\n\t\tif (!this._silent)\n\t\t\tthis.callEvent(\"onChange\", []);\n\t},\n\t_isFree:function(matrix, sx,sy, dx, dy){\n\t\tfor (var x=sx; x<dx; x++)\n\t\t\tfor (var y=sy; y<dy; y++){\n\t\t\t\tif (!matrix[x] || matrix[x][y])\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\treturn true;\n\t},\n\t_markMatrix:function(matrix, sub, id){\n\t\tfor (var x=0; x<sub.dx; x++)\n\t\t\tfor (var y=0; y<sub.dy; y++)\n\t\t\t\tmatrix[x+sub.x][y+sub.y] = id;\n\t},\n\t_canMoveRight:function(matrix, obj, sub){\n\t\tvar mx = this._settings.gridColumns;\n\t\tfor (var x=obj.x+obj.dx; (x+sub.dx)<=mx; x++){\n\t\t\tif (this._isFree(matrix, x, sub.y, x+sub.dx, sub.y+sub.dy))\n\t\t\t\treturn x-sub.x;\n\t\t}\n\t\treturn 0;\n\t},\n\t_canMoveLeft:function(matrix, obj, sub){\n\t\tfor (var x=obj.x-sub.dx; x>=0; x--){\n\t\t\tif (this._isFree(matrix, x, sub.y, x+sub.dx, sub.y+sub.dy))\n\t\t\t\treturn sub.x-x;\n\t\t}\n\t\treturn 0;\n\t},\n\t_canMoveTop:function(matrix, obj, sub){\n\t\tfor (var y=obj.y-sub.dy; y>=0; y--){\n\t\t\tif (this._isFree(matrix, sub.x, y, sub.x+sub.dx, y+sub.dy))\n\t\t\t\treturn sub.y-y;\n\t\t}\n\t\treturn 0;\n\t},\n\t_buildMatrix:function(id){\n\t\tvar m = [];\n\t\tfor (var x=0; x<this._settings.gridColumns; x++)\n\t\t\tm[x] = [];\n\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\tvar sub = this._cells[i].config;\n\t\t\tif (sub.id === id || sub.hidden) continue;\n\n\t\t\tthis._markMatrix(m, sub, sub.id);\n\t\t}\n\t\treturn m;\n\t},\n\t_do_compact:function(force){\n\t\t//do not correct places or grid, if autoplace disabled\n\t\tif (this._compact() || force)\n\t\t\tthis._apply_new_grid();\n\t},\n\t_compact:function(){\n\t\tif (!this._settings.autoplace) return false;\n\n\t\tvar mx = this._settings.gridColumns;\n\t\tvar my = this._actual_rows;\n\t\tvar matrix = this._buildMatrix();\n\t\tvar compacted = false;\n\n\t\ttop: for (var y=my-1; y>=0; y--){\n\t\t\tfor (var x=mx-1; x>=0; x--)\n\t\t\t\tif (matrix[x][y])\n\t\t\t\t\tcontinue top;\n\n\t\t\tcompacted = true;\n\t\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\t\tvar sub = this._cells[i].config;\n\t\t\t\tif (!sub.hidden && sub.y >= y){\n\t\t\t\t\tsub.y -= 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn compacted;\n\t},\n\t_reserveSpace:function(conf, id){\n\t\t//prevent x-overflow\n\t\tconf.x -= Math.max(0, conf.x + conf.dx - this._settings.gridColumns);\n\n\t\t//do not move other cells in non-compact mode\n\t\tif (!this._settings.autoplace){\n\t\t\tconf.y -= Math.max(0, conf.y + conf.dy - this._settings.gridRows);\n\t\t\treturn;\n\t\t}\n\n\t\tvar cross = [];\n\t\tvar matrix = this._buildMatrix(id);\n\n\t\tfor (let i=0; i<this._cells.length; i++){\n\t\t\tlet sub = this._cells[i].config;\n\t\t\tif (sub.id === id || sub.hidden) continue;\n\n\t\t\t//console.log(sub.y +\"<\"+ (conf.y+conf.dy), (sub.y+sub.dy) + \">\" +conf.y , sub.x +\"<\"+ (conf.x+conf.dx), (sub.x+sub.dx) + \">\" + conf.x);\n\t\t\tif (sub.y < conf.y+conf.dy && sub.y+sub.dy > conf.y &&\n\t\t\t\tsub.x < conf.x+conf.dx && sub.x+sub.dx > conf.x ){\n\t\t\t\t//intersection\n\t\t\t\tcross.push(sub);\n\t\t\t}\n\t\t}\n\n\t\tvar next = [];\n\t\tfor (let i=0; i<cross.length; i++){\n\t\t\t// check right\n\t\t\tlet sub = cross[i];\n\t\t\tthis._markMatrix(matrix, sub, 0);\n\n\t\t\tvar right = this._canMoveRight(matrix, conf, sub);\n\t\t\tif (right){\n\t\t\t\tsub.x += right;\n\t\t\t} else {\n\t\t\t\t// check left\n\t\t\t\tvar left = this._canMoveLeft(matrix, conf, sub);\n\t\t\t\tif (left){\n\t\t\t\t\tsub.x -= left;\n\t\t\t\t} else {\n\t\t\t\t\t//check top\n\t\t\t\t\tvar top = this._canMoveTop(matrix, conf, sub);\n\t\t\t\t\tif (top){\n\t\t\t\t\t\tsub.y -= top;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//move bottom\n\t\t\t\t\t\tsub.y = conf.y + conf.dy;\n\t\t\t\t\t\tnext.push(sub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._markMatrix(matrix, sub, sub.id);\n\t\t}\n\t\t\n\t\t//when moving bottom, we need to iterate one more time, to resolve new intersections\n\t\tfor (let i=0; i<next.length; i++){\n\t\t\t//console.log(\"after correction for \"+next[i].id);\n\t\t\tthis._reserveSpace(next[i], next[i].id);\n\t\t}\n\t},\n\t_apply_new_grid:function(){\n\t\tvar rows = this._settings.gridRows;\n\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\tvar cell = this._cells[i].config;\n\t\t\tif (!cell.hidden)\n\t\t\t\trows = Math.max(rows, cell.y + cell.dy);\n\t\t}\n\n\t\tif (this._actual_rows != rows){\n\t\t\tthis._actual_rows = rows;\n\t\t\tthis.resize();\n\t\t}\n\t\tthis._set_child_size();\n\t},\n\tmoveView:function(id, obj){\n\t\tobj = extend($$(id).config, obj, true);\n\t\tthis._reserveSpace(obj, id);\n\t\tthis._do_compact(true);\n\t\tthis.callEvent(\"onChange\", []);\n\t},\n\tserialize:function(serializer){\n\t\tvar state = [];\n\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\tif (serializer){\n\t\t\t\tstate.push(serializer.call(this, this._cells[i]));\n\t\t\t} else {\n\t\t\t\tvar conf = this._cells[i].config;\n\t\t\t\tstate.push({ id:conf.id, name:conf.name, x:conf.x, y:conf.y, dx:conf.dx, dy:conf.dy });\n\t\t\t}\n\t\t}\n\t\treturn state;\n\t},\n\tclearAll:function(){\n\t\tfor (var i=0; i < this._cells.length; i++)\n\t\t\tthis._cells[i].destructor();\n\t\tthis._cells = [];\n\t\tthis.callEvent(\"onChange\", []);\n\t},\n\trestore:function(state, factory){\n\t\tfactory = factory || this._settings.factory;\n\t\tstate = copy(state);\n\n\t\tthis._silent = true;\n\t\tvar ids = {};\n\n\t\tfor (let i = 0; i < state.length; i++) {\n\t\t\tvar conf = state[i];\n\t\t\tvar view = $$(conf.id);\n\t\t\tvar id;\n\t\t\tif (view){\n\t\t\t\textend(view.config, conf, true);\n\t\t\t\tid = view.config.id;\n\t\t\t} else {\n\t\t\t\tview = factory.call(this, conf);\n\t\t\t\tid = this.addView(view);\n\t\t\t}\n\t\t\tids[id] = 1;\n\t\t}\n\t\tfor (let i = this._cells.length-1; i >= 0; i--) {\n\t\t\tif (!ids[this._cells[i].config.id]){\n\t\t\t\tthis._cells[i].destructor();\n\t\t\t\tthis._cells.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._apply_new_grid();\n\t\tthis._silent = false;\n\t},\n\t$getSize:function(){\n\t\tvar self_size = baseview.api.$getSize.call(this, 0, 0);\n\n\t\tfor (var i=0; i<this._cells.length; i++)\n\t\t\tthis._cells[i].$getSize(0,0);\n\n\t\tvar width = this._settings.cellWidth;\n\t\tvar height = this._settings.cellHeight;\n\t\tvar box = this._getActualSize(0,0, this._settings.gridColumns, this._actual_rows);\n\n\t\tif (width)\n\t\t\tself_size[0] = box.dx+box.x*2;\n\t\tif (height)\n\t\t\tself_size[2] = box.dy+box.y*2;\n\n\t\treturn self_size;\n\t},\n\t_getActualSize:function(x,y,w,h){\n\t\tvar margin = this._settings.margin;\n\t\tvar paddingX = this._settings.paddingX || this._settings.padding;\n\t\tvar paddingY = this._settings.paddingY || this._settings.padding;\n\n\t\tvar dx = this._settings.cellWidth;\n\t\tif (!dx) dx = (this.$width - 2 * paddingX + margin) / this._settings.gridColumns - margin;\n\t\tvar dy = this._settings.cellHeight;\n\t\tif (!dy) dy = (this.$height - 2 * paddingY + margin) / this._actual_rows - margin;\n\n\t\tvar left = paddingX+(dx+margin)*x;\n\t\tvar top = paddingY+(dy+margin)*y;\n\t\tvar width = Math.ceil(dx+(dx+margin)*(w-1));\n\t\tvar height = Math.ceil(dy+(dy+margin)*(h-1));\n\n\t\treturn { x:left, y:top, dx:width, dy:height };\n\t},\n\t_set_child_size:function(){\n\t\tfor (var i=0; i<this._cells.length; i++){\n\t\t\tvar view = this._cells[i];\n\t\t\tvar conf = view._settings;\n\n\t\t\tvar size = this._getActualSize(conf.x, conf.y, conf.dx, conf.dy);\t\t\t\n\t\t\tview.$getSize(0,0); //need to be called before $setSize\n\t\t\tview.$setSize(size.dx, size.dy);\n\n\t\t\tvar node = view.$view;\n\t\t\tnode.style.left = size.x + \"px\";\n\t\t\tnode.style.top = size.y + \"px\";\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  abslayout.view);\nexport default {api, view};","import gridlayout from \"../views/gridlayout\";\nimport {offset, pos as getPos, create, remove} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\nimport env from \"../webix/env\";\nimport {uid, extend, isUndefined} from \"../webix/helpers\";\nimport DragControl from \"../core/dragcontrol\";\n\n\nconst api = {\n\tname:\"dashboard\",\n\t$init:function(){\n\t\tDragControl.addDrag(this.$view, this);\n\t\tDragControl.addDrop(this.$view, this, true);\n\t},\n\t_isDragNode:function(target){\n\t\tif (!target.getAttribute || target.getAttribute(/*@attr*/\"webix_disable_drag\") || target.getAttribute(/*@attr*/\"webixignore\")) return false;\n\n\t\tvar css = (target.className || \"\").toString();\n\t\tif (css.indexOf(\"panel_drag\") != -1)\n\t\t\treturn target;\n\t\tif (target.parentNode && target != this.$view)\n\t\t\treturn this._isDragNode(target.parentNode);\n\n\t\treturn false;\n\t},\n\t$dragCreate:function(object, e){\n\t\tif (!e.target || !this._isDragNode(e.target)) return false;\n\n\t\t// ok, it seem the dnd need to be started\n\t\tvar sview = $$(e);\n\t\tif (!sview.$resizeMove)\n\t\t\tsview = sview.queryView(function(a){ return !isUndefined(a.config.dx); }, \"parent\" );\n\n\t\tvar box = offset(this.$view);\n\t\tvar pos = getPos(e);\n\n\t\tvar context = DragControl._drag_context = { \n\t\t\tsource:sview, from:this,\n\t\t\tdashboard:{\n\t\t\t\tsx: pos.x - box.x - parseInt(sview.$view.style.left)+ this._settings.margin/2,\n\t\t\t\tsy: pos.y - box.y - parseInt(sview.$view.style.top)+ this._settings.margin/2\n\t\t\t}\n\t\t};\n\n\t\tif(this.callEvent(\"onBeforeDrag\", [context, e])){\n\t\t\tthis._addDragMarker(sview._settings.dx, sview._settings.dy);\n\t\t\treturn sview.$view;\n\t\t}\n\t},\n\t_addDragMarker:function(x, y){\n\t\tvar drag = this._dragMarker = create(\"div\", { \"class\":\"panel_target\" });\n\t\tvar size = this._getActualSize(0,0, x, y);\n\t\tdrag.style.width = size.dx+\"px\";\n\t\tdrag.style.height = size.dy+\"px\";\n\n\t\tthis.$view.appendChild(this._dragMarker);\n\t},\n\t$drop:function(s,t,e){\n\t\tvar context = DragControl._drag_context;\n\t\tvar obj = {\n\t\t\tx: context.dashboard.x,\n\t\t\ty: context.dashboard.y\n\t\t};\n\n\t\tif(this.callEvent(\"onBeforeDrop\", [context, e])){\n\t\t\tif (context.from === this){\n\t\t\t\tvar conf = context.source.config;\n\t\t\t\tthis.moveView(conf.id, obj);\n\t\t\t} else {\n\t\t\t\tif(context.from && context.from.callEvent && context.from.callEvent(\"onBeforeDropOut\", [context,e])){\n\t\t\t\t\tobj.name = context.source[0];\n\t\t\t\t\tobj.dx = context.dashboard.dx;\n\t\t\t\t\tobj.dy = context.dashboard.dy;\n\t\t\t\t\tobj.id = obj.name+\":\"+uid();\n\n\t\t\t\t\tobj = this._settings.factory.call(this, obj);\n\t\t\t\t\tif (obj){\n\t\t\t\t\t\tthis.addView(obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.callEvent(\"onAfterDrop\", [context, e]);\n\t\t}\n\t},\n\t$dragDestroy:function(target, html){\n\t\thtml.style.zIndex = 1;\n\t\tremove(this._dragMarker);\n\t\tthis._dragMarker = null;\n\n\t\tthis._apply_new_grid();\n\t},\n\t_getPosFromCoords:function(x,y,resize){\n\t\tvar margin = this._settings.margin;\n\t\tvar paddingX = this._settings.paddingX || this._settings.padding;\n\t\tvar paddingY = this._settings.paddingY || this._settings.padding;\n\n\t\tvar dx = this._settings.cellWidth;\n\t\tif (!dx) dx = (this.$width - 2 * paddingX + margin) / this._settings.gridColumns - margin;\n\t\tvar dy = this._settings.cellHeight;\n\t\tif (!dy) dy = (this.$height - 2 * paddingY + margin) / this._actual_rows - margin;\n\n\t\tx+=resize ? margin : -paddingX;\n\t\ty+=resize ? margin : -paddingY;\n\n\t\tx = Math.round(x/(dx+margin));\n\t\ty = Math.round(y/(dy+margin));\n\n\t\t// for dnd, leave one block on the right to achieve minimum width (dx = 1)\n\t\tx = Math.max(0, Math.min(x, this._settings.gridColumns - (resize?0:1)));\n\t\ty = Math.max(0, Math.min(y, this._actual_rows));\n\n\t\treturn {\n\t\t\tx:x, y:y,\n\t\t\twidth: dx, height:dy, margin:margin,\t\n\t\t\trx: x*(dx+margin)+paddingX,\n\t\t\try: y*(dy+margin)+paddingY\n\t\t};\n\t},\n\t$dragOut:function(s,t,d,e){\n\t\tvar context = DragControl._drag_context;\n\t\tthis.callEvent(\"onDragOut\", [context,e]);\n\t\tif (this._dragMarker && context.external){\n\t\t\tremove(this._dragMarker);\n\t\t\tthis._dragMarker = null;\n\t\t}\n\t},\n\t$dragIn:function(to, from, e){\n\t\tvar context = DragControl._drag_context;\n\n\t\tif(this.callEvent(\"onBeforeDragIn\", [context,e])){\n\t\t\tif (!this._dragMarker){\n\t\t\t\t// drag source must provide getItem method\n\t\t\t\tif (!context.from || !context.from.getItem) return false;\n\t\t\t\t// when factory not defined, do not allow external drag-n-drop\n\t\t\t\tif (!this._settings.factory)\n\t\t\t\t\treturn false;\n\n\t\t\t\tcontext.external = true;\n\t\t\t\tvar item = context.from.getItem(context.source);\n\t\t\t\tcontext.dashboard = { dx : item.dx, dy : item.dy };\n\n\t\t\t\tthis._addDragMarker(item.dx, item.dy);\n\t\t\t}\n\t\t\tif (context.external){\n\t\t\t\tvar drag = this._dragMarker;\n\t\t\t\tvar evObj = env.mouse.context(e);\n\t\t\t\tvar box = offset(this.$view);\n\n\t\t\t\tvar inpos = this._getPosFromCoords(evObj.x - box.x, evObj.y - box.y);\n\t\t\t\textend(context.dashboard , inpos, true);\n\t\t\t\tdrag.style.left = inpos.rx+\"px\";\n\t\t\t\tdrag.style.top = inpos.ry+\"px\";\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t},\n\t$dragPos: function(pos, e, html){\n\t\tvar context = DragControl._drag_context;\n\t\thtml.style.left = \"-10000px\";\n\n\t\tvar evObj = env.mouse.context(e);\n\t\tvar box = offset(this.$view);\n\t\tvar dash = context.dashboard;\n\n\t\tvar inpos = this._getPosFromCoords(evObj.x - box.x - dash.sx , evObj.y - box.y - dash.sy);\n\t\tpos.x = evObj.x - dash.sx - box.x;\n\t\tpos.y = evObj.y - dash.sy - box.y;\n\n\t\t//drag marker\n\t\tvar drag = this._dragMarker;\n\t\tdrag.style.left = inpos.rx+\"px\";\n\t\tdrag.style.top = inpos.ry+\"px\";\n\n\t\textend(dash , inpos, true);\n\t},\n};\n\n\nconst view = protoUI(api,  gridlayout.view);\nexport default {api, view};","import layout from \"../views/layout\";\nimport ResizeArea from \"../core/resizearea\";\nimport {addCss, create} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {isArray} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"panel\",\n\t$init:function(config){\n\t\tif (config.header && config.body){\n\t\t\tvar header = config.header;\n\t\t\tif (typeof header !== \"object\")\n\t\t\t\theader = { template:config.header, type:\"header\", css:\"webix_header\" };\n\t\t\tconfig.body = [ header, config.body ];\n\t\t}\n\n\t\taddCss(this.$view, \"panel_drag_view\");\n\t\tthis.$ready.push(this._init_drag_area);\n\t},\n\t_init_drag_area:function(){\n\t\tvar childs = this.getChildViews();\n\t\tvar parent = childs.length === 1 ? this : childs[1];\n\n\t\tif (this._settings.icon){\n\t\t\tvar drag = create(\"div\", { \"class\":\"panel_icon\" }, \"<span class='webix_icon \"+this._settings.icon+\" panel_icon_span'></span>\");\n\t\t\tif (parent != this)\n\t\t\t\tparent.$view.style.position = \"relative\";\n\t\t\tparent.$view.appendChild(drag);\n\t\t}\n\t},\n\tbody_setter:function(value){\n\t\treturn this.rows_setter(isArray(value) ? value:[value]);\n\t},\n\t$resizeEnd:function(pos){\n\t\tvar parent = this.getParentView();\n\t\tif (parent && parent._getPosFromCoords){\n\t\t\tvar end = parent._getPosFromCoords(pos.mx, pos.my, true);\n\n\t\t\tvar dx = Math.max(end.x, 1);\n\t\t\tvar dy = Math.max(end.y, 1);\n\t\t\tparent.moveView(this._settings.id, { dx:dx, dy:dy });\n\t\t}\n\t},\n\t$resizeMove:function(pos){\n\t\tvar parent = this.getParentView();\n\t\tif (parent && parent._getPosFromCoords){\n\t\t\tpos.mx = pos.x;\n\t\t\tpos.my = pos.y;\n\t\t\tvar fx = parent._getPosFromCoords(pos.x, pos.y, true);\n\t\t\tpos.x = (fx.width+fx.margin)*fx.x - fx.margin;\n\t\t\tpos.y = (fx.height+fx.margin)*fx.y - fx.margin;\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  layout.view, ResizeArea);\nexport default {api, view};","import layout from \"../views/layout\";\nimport {protoUI} from \"../ui/core\";\nimport {extend} from \"../webix/helpers\";\nimport FlexLayout from \"../core/flexlayout\";\n\n\nconst api = {\n\t$init:function(){\n\t\textend(this, FlexLayout, true);\n\t},\n\tname:\"flexlayout\"\n};\n\n\nconst view = protoUI(api,  layout.view);\nexport default {api, view};","import layout from \"../views/layout\";\nimport DataLoader from \"../core/dataloader\";\nimport {protoUI} from \"../ui/core\";\nimport {bind, extend, copy} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"datalayout\",\n\t$init:function(){\n\t\tthis.data.provideApi(this, true);\n\t\tthis.data.attachEvent(\"onStoreUpdated\", bind(this.render, this));\n\t},\n\t_parse_cells:function(){\n\t\tif (!this._origin_cells){\n\t\t\tthis._origin_cells = this._collection;\n\t\t\tthis._collection = [{}];\n\t\t}\n\n\t\treturn layout.api._parse_cells.call(this, this._collection);\n\t},\n\tsetValue:function(obj){\n\t\tthis.parse(obj);\n\t},\n\tgetValue:function(){\n\t\tvar subcount = this._origin_cells.length;\n\t\tfor (var i = 0; i < this._cells.length; i++) {\n\t\t\tvar id = this.data.order[Math.floor(i/subcount)];\n\t\t\tvar item = this.data.getItem(id);\n\t\t\tthis._save_data(this._cells[i], item);\n\t\t}\n\t\treturn this.data.serialize();\n\t},\n\t_save_data:function(view, prop){\n\t\tvar name = view._settings.name;\n\t\tif (name){\n\t\t\tvar data = null;\n\t\t\tif (view.getValues) data = view.getValues();\n\t\t\telse if (view.getValue) data = view.getValue();\n\t\t\telse if (view.serialize) data = view.serialize();\n\n\t\t\tif (name == \"$value\")\n\t\t\t\textend(prop, data, true);\n\t\t\telse \n\t\t\t\tprop[name] = data;\n\t\t} else {\n\t\t\tvar collection = view._cells;\n\t\t\tif (collection)\n\t\t\t\tfor (var i = 0; i < collection.length; i++)\n\t\t\t\t\tthis._save_data(collection[i], prop);\n\t\t}\n\t},\n\t_fill_data:function(view, prop){\n\t\tvar obj, name = view._settings.name;\n\t\tif (name){\n\t\t\tif (name == \"$value\")\n\t\t\t\tobj = prop;\n\t\t\telse\n\t\t\t\tobj = prop[name];\n\n\t\t\tif (view.setValues) view.setValues(obj);\n\t\t\telse if (view.setValue) view.setValue(obj);\n\t\t\telse if (view.parse){\n\t\t\t\t//make copy of data for treestore parsers\n\t\t\t\tif (view.openAll)\n\t\t\t\t\tobj = copy(obj);\n\t\t\t\tview.parse(obj);\n\t\t\t}\n\t\t} else {\n\t\t\tvar collection = view._cells;\n\t\t\tif (collection)\n\t\t\t\tfor (var i = 0; i < collection.length; i++)\n\t\t\t\t\tthis._fill_data(collection[i], prop);\n\t\t}\n\t},\n\trender:function(id, obj, mode){\n\t\tvar subcount = this._origin_cells.length;\n\n\t\tif (id && mode === \"update\"){\n\t\t\t//update mode, change only part of layout\n\t\t\tvar item = this.getItem(id);\n\t\t\tvar index = this.getIndexById(id);\n\n\t\t\tfor(let i=0; i<subcount; i++)\n\t\t\t\tthis._fill_data(this._cells[index*subcount+i], item);\n\t\t\treturn;\n\t\t}\n\n\t\t//full repainting\n\t\tvar cells = this._collection = [];\n\t\tvar order = this.data.order;\n\n\t\tfor (let i = 0; i < order.length; i++) {\n\t\t\tif (subcount)\n\t\t\t\tfor (let j = 0; j < subcount; j++)\n\t\t\t\t\tcells.push(copy(this._origin_cells[j]));\n\t\t\telse\n\t\t\t\tcells.push(this.getItem(order[i]));\n\t\t}\n\n\t\tif (!cells.length) cells.push({});\n\n\t\tthis.reconstruct();\n\n\t\tif (subcount)\n\t\t\tfor (let i = 0; i < order.length; i++) {\n\t\t\t\tvar prop = this.getItem(order[i]);\n\t\t\t\tfor (let j = 0; j < subcount; j++) {\n\t\t\t\t\tvar view = this._cells[i*subcount + j];\n\t\t\t\t\tthis._fill_data(view, prop);\n\t\t\t\t}\n\t\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  DataLoader, layout.view);\nexport default {api, view};","import datalayout from \"../views/datalayout\";\nimport {protoUI} from \"../ui/core\";\nimport {extend} from \"../webix/helpers\";\nimport FlexLayout from \"../core/flexlayout\";\n\n\nconst api = {\n\t$init:function(){\n\t\textend(this, FlexLayout, true);\n\t},\n\tname:\"flexdatalayout\"\n};\n\n\nconst view = protoUI(api,  datalayout.view);\nexport default {api, view};","import {remove, create} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\n\nimport window from \"../views/window\";\nimport base from \"../views/view\";\n\nimport {attachEvent, detachEvent} from \"../webix/customevents\";\n\n\nconst api = {\n\tname:\"popup\",\n\t$init:function(){\n\t\tthis._settings.head = false;\n\t\tthis.$view.className += \" webix_popup\";\n\t\tconst clickHandler = attachEvent(\"onClick\", (e)=>this._hide(e));\n\t\tthis.attachEvent(\"onDestruct\", function(){ detachEvent(clickHandler); });\n\t\tthis.attachEvent(\"onHide\", this._hide_point);\n\t},\n\t$skin:function(){\n\t\twindow.api.$skin.call(this);\n\n\t\tthis.defaults.padding = $active.popupPadding;\n\t\tthis.defaults.point = !$active.popupNoPoint;\n\t\tthis.defaults.borderless = $active.borderlessPopup;\n\t},\n\tclose:function(){\n\t\tremove(this._point_element);\n\t\twindow.api.close.call(this);\n\t},\n\t$getSize:function(x,y){\n\t\treturn window.api.$getSize.call(this, x+this._settings.padding*2,y+this._settings.padding*2);\n\t},\n\t$setSize:function(x,y){\n\t\tbase.api.$setSize.call(this,x,y);\n\t\tx = this._content_width-this._settings.padding*2;\n\t\ty = this._content_height-this._settings.padding*2;\n\t\tthis._contentobj.style.padding = this._settings.padding+\"px\";\n\t\tthis._headobj.style.display=\"none\";\n\t\tthis._body_cell.$setSize(x,y);\n\t},\n\t//redefine to preserve inner borders\n\t//_inner_body_set:function(){}, //same as win?\n\t_inner_body_set:function(value){\n\t\tif (typeof value.borderless == \"undefined\")\n\t\t\tvalue.borderless = false;\n\t},\n\thead_setter:function(){\n\t},\n\t_set_point:function(mode, left, top, fixed){\n\t\tthis._hide_point();\n\t\tdocument.body.appendChild(this._point_element = create(\"DIV\",{ \"class\":\"webix_point_\"+mode },\"\"));\n\t\tthis._point_element.style.zIndex = this._viewobj.style.zIndex;\n\t\tthis._point_element.style.position = fixed ? \"fixed\":\"absolute\";\n\n\t\tthis._point_element.style.top = top+\"px\";\n\t\tthis._point_element.style.left = left+\"px\";\n\t},\n\t_hide_point:function(){\n\t\tthis._point_element = remove(this._point_element);\n\t}\n};\n\n\n\nconst view = protoUI(api, window.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\n\nimport {_each} from \"../ui/helpers\";\nimport {extend} from \"../webix/helpers\";\nimport {debug_size_box} from \"../webix/debug\";\n\nimport layout from \"../views/layout\";\n\nimport Scrollable from \"../core/scrollable\";\nimport AtomDataLoader from \"../core/atomdataloader\";\nimport Values from \"../core/values\";\nimport ValidateData from \"../core/validatedata\";\n\n\nconst api = {\n\tname:\"toolbar\",\n\tdefaults:{\n\t\ttype:\"toolbar\"\n\t},\n\t_render_borders:true,\n\t_form_classname:\"webix_toolbar\",\n\t_form_vertical:false,\n\t$init:function(config){\n\t\tif (!config.borderless){\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\n\t\t\tthis._settings._inner = {top:false, left:false, right:false, bottom:false };\n\t\t}\n\n\t\tthis._contentobj.className+=\" \"+this._form_classname;\n\t\tthis._viewobj.setAttribute(\"role\", \"toolbar\");\n\t},\n\t_recollect_elements:function(){\n\t\tvar form = this;\n\t\tform.elements = {};\n\t\t_each(this, function(view){\n\t\t\tif (view._settings.name && view.getValue && view.setValue){\n\t\t\t\tform.elements[view._settings.name] = view;\n\t\t\t\tif (view.mapEvent)\n\t\t\t\t\tview.mapEvent({\n\t\t\t\t\t\tonbeforetabclick:form,\n\t\t\t\t\t\tonaftertabclick:form,\n\t\t\t\t\t\tonitemclick:form,\n\t\t\t\t\t\tonchange:form\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (view.setValues || view._fill_data) return false;\n\t\t});\n\t\tvar old = this._values;\n\t\tthis.setDirty(false);\n\t\tif (old) {\n\t\t\t//restore dirty state after form reconstructing\n\t\t\tvar now = this._values;\n\t\t\tfor (var key in form.elements) \n\t\t\t\tif (old[key] && now[key] != old[key]){\n\t\t\t\t\tnow[key] = old[key];\n\t\t\t\t\tthis.setDirty(true);\n\t\t\t\t}\n\t\t}\n\t},\n\t_parse_cells_ext_end:function(){\n\t\tthis._recollect_elements();\n\t},\n\t_parse_cells_ext:function(collection){\n\t\tvar config = this._settings;\n\t\tif (config.elements && !collection){\n\t\t\tthis._collection = collection = config.elements;\n\t\t\tthis._vertical_orientation = this._form_vertical;\n\t\t\tdelete config.elements;\n\t\t}\n\n\t\tif (this._settings.elementsConfig)\n\t\t\tthis._rec_apply_settings(this._collection, config.elementsConfig);\n\t\t\n\t\treturn collection;\n\t},\n\t_rec_apply_settings:function(col, settings){\n\t\tfor (var i=0; i<col.length; i++){\n\t\t\tvar element = col[i];\n\t\t\textend( element, settings );\n\t\t\tvar nextsettings = settings;\n\n\t\t\tif (element.elementsConfig)\n\t\t\t\tnextsettings = extend(extend({}, element.elementsConfig), settings);\n\n\t\t\tvar sub;\n\t\t\tif (element.body)\n\t\t\t\tsub = [element.body];\n\t\t\telse\n\t\t\t\tsub = element.rows || element.cols || element.cells || element.body;\n\n\t\t\tif (sub)\n\t\t\t\tthis._rec_apply_settings(sub, nextsettings);\n\t\t}\n\t},\n\t$getSize:function(dx, dy){\n\t\tvar sizes = layout.api.$getSize.call(this, dx, dy);\n\t\tvar parent = this.getParentView();\n\t\tvar index = this._vertical_orientation?3:1;\n\t\tif (parent && this._vertical_orientation != parent._vertical_orientation)\n\t\t\tsizes[index]+=100000;\n\t\t\n\t\tif (DEBUG) debug_size_box(this, sizes, true);\n\t\treturn sizes;\n\t},\n\trender:function(){\n\t},\n\trefresh:function(){\n\t\tthis.render();\n\t}\n};\n\nconst view = protoUI(api, Scrollable, AtomDataLoader, Values, layout.view, ValidateData);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport env from \"../webix/env\";\n\nimport layout from \"../views/layout\";\nimport toolbar from \"../views/toolbar\";\n\n\nconst api = {\n\tname:\"form\",\n\tdefaults:{\n\t\ttype:\"form\",\n\t\tautoheight:true\n\t},\n\t_default_height:-1,\n\t_form_classname:\"webix_form\",\n\t_form_vertical:true,\n\t$init:function(){\n\t\tthis._viewobj.setAttribute(\"role\", \"form\");\n\t},\n\t$getSize:function(dx, dy){\n\t\tif (this._scroll_y && !this._settings.width) dx += env.scrollSize;\n\n\t\tvar sizes = layout.api.$getSize.call(this, dx, dy);\n\n\t\tif (this._settings.scroll || !this._settings.autoheight){\n\t\t\tsizes[2] =  this._settings.height || this._settings.minHeight || 0;\n\t\t\tsizes[3] = this._settings.height || 100000;\n\t\t}\n\t\t\n\t\treturn sizes;\n\t}\n};\n\n\nconst view = protoUI(api, toolbar.view);\nexport default {api, view};","import base from \"../views/view\";\nimport {protoUI, ui} from \"../ui/core\";\nimport state from \"../core/state\";\nimport {debug_size_box_start, debug_size_box_end} from \"../webix/debug\";\n\n\nconst api = {\n\tname:\"fieldset\",\n\tdefaults:{\n\t\tborderless:true,\n\t\t$cssName:\"webix_fieldset\",\n\t\tpaddingX: 18,\n\t\tpaddingY: 30\n\t},\n\t$init:function(obj){\n\t\tobj.body = obj.body || {};\n\n\t\tlet css = this.defaults.$cssName;\n\t\tthis._viewobj.className += \" \"+css;\n\t\tthis._viewobj.innerHTML =  \"<fieldset><legend class='\"+css+\"_label\"+(obj.required?\" webix_required\":\"\")+\n\t\t\t\"'></legend><div class='\"+css+\"_body'></div></fieldset>\";\n\t},\n\tlabel_setter:function(value){\n\t\tthis._viewobj.firstChild.childNodes[0].innerHTML = value;\n\t\treturn value;\n\t},\n\tgetChildViews:function(){\n\t\treturn [this._body_view];\n\t},\n\tbody_setter:function(config){\n\t\tstate._parent_cell = this;\n\t\tthis._body_view = ui(config, this._viewobj.firstChild.childNodes[1]);\n\t\treturn config;\n\t},\n\tgetBody:function(){\n\t\treturn this._body_view;\n\t},\n\tresizeChildren:function(){\n\t\tif (!this._body_view) return;\n\t\tvar x = this.$width - this._settings.paddingX;\n\t\tvar y = this.$height - this._settings.paddingY;\n\t\tvar sizes=this._body_view.$getSize(0,0);\n\n\t\t//minWidth\n\t\tif (sizes[0]>x) x = sizes[0];\n\t\t//minHeight\n\t\tif (sizes[2]>y) y = sizes[2];\n\n\t\tthis._body_view.$setSize(x,y);\n\t\tthis.resize();\n\t},\n\t$getSize:function(x, y){\n\t\tif (DEBUG) debug_size_box_start(this, true);\n\n\t\tx += this._settings.paddingX;\n\t\ty += this._settings.paddingY;\n\t\t\n\t\tvar t = this._body_view.$getSize(x, y);\n\t\tvar s = this._last_body_size = base.api.$getSize.call(this, x, y);\n\n\t\t//inner content minWidth > outer\n\t\tif (s[0] < t[0]) s[0] = t[0];\n\t\tif (s[2] < t[2]) s[2] = t[2];\n\t\t//inner content maxWidth < outer\n\t\tif (s[1] > t[1]) s[1] = t[1];\n\t\tif (s[3] > t[3]) s[3] = t[3];\n\t\t//make max size not less than min size\n\t\tif (s[1] < s[0]) s[1] = s[0];\n\t\tif (s[3] < s[2]) s[3] = s[2];\n\n\t\tif (DEBUG) debug_size_box_end(this, s);\n\t\treturn s;\n\t},\n\t$setSize:function(x,y){\n\t\tif (base.api.$setSize.call(this, x,y)){\n\t\t\tx = Math.min(this._last_body_size[1], x);\n\t\t\ty = Math.min(this._last_body_size[3], y);\n\t\t\tthis._body_view.$setSize(x - this._settings.paddingX, y - this._settings.paddingY);\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  base.view);\nexport default {api, view};","import fieldset from \"../views/fieldset\";\nimport {remove, create} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {isUndefined} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"forminput\",\n\tdefaults:{\n\t\t$cssName:\"webix_forminput\",\n\t\tlabelWidth: 80,\n\t\tlabelAlign : \"left\",\n\t\t// remove fieldset sizing\n\t\tpaddingY:0, paddingX:0\n\t},\n\tsetValue:function(value){\n\t\tif(this._body_view.setValue)\n\t\t\tthis._body_view.setValue(value);\n\t\telse if (this._body_view.setValues)\n\t\t\tthis._body_view.setValues(value);\n\t},\n\tfocus:function(){\n\t\tif (this._body_view.focus){\n\t\t\treturn this._body_view.focus();\n\t\t}\n\t\treturn false;\n\t},\n\tgetValue:function(){\n\t\tif(this._body_view.getValue)\n\t\t\treturn this._body_view.getValue();\n\t\telse if (this._body_view.getValues)\n\t\t\treturn this._body_view.getValues();\n\t},\n\tgetBody:function(){\n\t\treturn this._body_view;\n\t},\n\t$skin:function(){\n\t\tthis._inputPadding = $active.inputPadding;\n\t\tthis._inputSpacing = $active.inputSpacing;\n\t\tthis._labelTopHeight = $active.labelTopHeight;\n\t},\n\t$init:function(obj){\n\t\tthis.$ready.push(function(){\n\t\t\tlet label = this._viewobj.firstChild.childNodes[0];\n\t\t\tlet body = this._viewobj.firstChild.childNodes[1];\n\n\t\t\tif (!this._settings.label || (!this._settings.labelWidth && this._settings.labelPosition != \"top\")){\n\t\t\t\tlabel.style.display = \"none\";\n\t\t\t\tbody.style.padding = \"0 \" + this._inputSpacing/2 + \"px\";\n\t\t\t\tthis._settings.paddingX = this._inputSpacing;\n\t\t\t\tthis._settings.paddingY = 0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this._settings.labelPosition == \"top\"){\n\t\t\t\tlabel.style.lineHeight = this._labelTopHeight - this._inputPadding + \"px\";\n\t\t\t\tlabel.className += \" \"+this.defaults.$cssName+\"_label_top\";\n\t\t\t\tbody.style.padding = \"0 \" + this._inputSpacing/2 + \"px\";\n\t\t\t}\n\t\t\telse label.style.width = this._settings.paddingX - this._inputSpacing/2 + \"px\";\n\n\t\t\tlabel.style.textAlign = this._settings.labelAlign;\n\n\t\t\tif(this._settings.value) this.setValue(this._settings.value);\n\t\t});\n\n\t\tif (obj.labelPosition != \"top\"){\n\t\t\tvar lw = isUndefined(obj.labelWidth) ? this.defaults.labelWidth : obj.labelWidth;\n\t\t\tobj.paddingX = lw + this._inputSpacing;\n\t\t} else {\n\t\t\tobj.paddingY = this._labelTopHeight;\n\t\t\tobj.paddingX = this._inputSpacing;\n\t\t}\n\t},\n\tlabelWidth_setter:function(value){\n\t\treturn value ? Math.max(value, $active.dataPadding) : 0;\n\t},\n\tsetBottomText: function(text) {\n\t\tvar config = this._settings;\n\t\tif (typeof text != \"undefined\"){\n\t\t\tif (config.bottomLabel == text) return;\n\t\t\tconfig.bottomLabel = text;\n\t\t}\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\n\t\tif(this._invalidMessage) {\n\t\t\tremove(this._invalidMessage);\n\t\t}\n\t\tif(message) {\n\t\t\tthis.$view.style.position = \"relative\";\n\t\t\tthis._invalidMessage = create(\"div\", { \"class\":\"webix_inp_bottom_label\", role:config.invalid?\"alert\":\"\", \"aria-relevant\":\"all\", style:\"position:absolute; bottom:0px; padding:2px 0; background: white; left:\"+(this._inputSpacing/2+(config.label?config.labelWidth:0))+\"px; \" }, message);\n\t\t\tthis._viewobj.appendChild(this._invalidMessage);\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  fieldset.view);\nexport default {api, view};","import template from \"../views/template\";\nimport Values from \"../core/values\";\nimport {addCss, removeCss} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {toNode} from \"../webix/helpers\";\n\n\nfunction _tagname(el) {\n\tif (!el.tagName) return null;\n\treturn el.tagName.toLowerCase();\n}\nfunction _attribute(el, name) {\n\tif (!el.getAttribute) return null;\n\tvar attr = el.getAttribute(name);\n\treturn attr ? attr.toLowerCase() : null;\n}\nfunction _get_html_value() {\n\tvar tagname = _tagname(this);\n\tif (_get_value[tagname])\n\t\treturn _get_value[tagname](this);\n\treturn _get_value.other(this);\n}\n\nvar _get_value = {\n\tradio: function(el){\n\t\tfor (var i = 0; i < el.length; i++)\n\t\t\tif (el[i].checked) return el[i].value;\n\t\treturn \"\";\n\t},\n\tinput: function(el) {\n\t\tvar type = _attribute(el, \"type\");\n\t\tif (type === \"checkbox\")\n\t\t\treturn el.checked;\t\t\t\n\t\treturn el.value;\n\t},\n\ttextarea: function(el) {\n\t\treturn el.value;\n\t},\n\tselect: function(el) {\n\t\tvar index = el.selectedIndex;\n\t\treturn el.options[index].value;\n\t},\n\tother: function(el) {\n\t\treturn el.innerHTML;\n\t}\n};\n\nfunction  _set_html_value(value) {\n\tvar tagname = _tagname(this);\n\tif (_set_value[tagname])\n\t\treturn _set_value[tagname]( this, value);\n\treturn _set_value.other( this, value);\n}\n\nvar _set_value = {\n\tradio:function(el, value){\n\t\tfor (var i = 0; i < el.length; i++)\n\t\t\tel[i].checked = (el[i].value == value);\n\t},\n\tinput: function(el, value) {\n\t\tvar type = _attribute(el, \"type\");\n\t\tif (type === \"checkbox\")\n\t\t\tel.checked = (value) ? true : false;\n\t\telse\n\t\t\tel.value = value;\n\t},\n\ttextarea: function(el, value) {\n\t\tel.value = value;\n\t},\n\tselect: function(el, value) {\n\t\tel.value = value;\n\t\t//incorrect option applied, select first option\n\t\tif(el.selectedIndex === -1) el.value = el.firstElementChild.value;\n\t},\n\tother: function(el, value) {\n\t\tel.innerHTML = value;\n\t}\n};\n\n\nconst api = {\n\tname:\"htmlform\",\n\t$init: function(config) {\n\t\tthis.elements = {};\n\t\tthis._default_values  = false;\n\n\t\tif (config.content && (config.container == config.content || !config.container && config.content == document.body))\n\t\t\tthis._copy_inner_content = true;\n\t},\n\tcontent_setter:function(content){\n\t\tcontent = toNode(content);\n\t\tif (this._copy_inner_content){\n\t\t\twhile (content.childNodes.length > 1)\n\t\t\t\tthis._viewobj.childNodes[0].appendChild(content.childNodes[0]);\n\t\t} else {\n\t\t\tthis._viewobj.childNodes[0].appendChild(content);\n\t\t}\n\t\tthis._parse_inputs();\n\t\treturn true;\n\t},\n\trender:function(){\n\t\ttemplate.api.render.apply(this, arguments);\n\t\tthis._parse_inputs();\n\t},\n\t_parse_inputs: function() {\n\t\tvar inputs = this._viewobj.querySelectorAll(\"[name]\");\n\t\tthis.elements = {};\n\n\n\t\tfor (var i=0; i<inputs.length; i++){\n\t\t\tvar el = inputs[i];\n\t\t\tvar name = _attribute(el, \"name\");\n\t\t\tif (name){\n\t\t\t\tvar tag = _tagname(el) === \"button\";\n\t\t\t\tvar type = _attribute(el, \"type\");\n\n\t\t\t\tvar cant_clear = tag || type === \"button\" || type === \"submit\";\n\n\t\t\t\tif (type === \"radio\"){\n\t\t\t\t\tvar stack = this.elements[name] || [];\n\t\t\t\t\tstack.tagName = \"radio\";\n\t\t\t\t\tstack.push(el);\n\t\t\t\t\tel = stack;\n\t\t\t\t}\n\n\t\t\t\tthis.elements[name] = el;\n\n\t\t\t\tel.getValue =  _get_html_value;\n\t\t\t\tel.setValue =  _set_html_value;\n\t\t\t\tel.$allowsClear = !cant_clear;\n\t\t\t}\n\t\t}\n\n\t\treturn this.elements;\n\t},\n\t_mark_invalid:function(id,obj){\n\t\tthis._clear_invalid(id,obj);\n\t\tvar el = this._viewobj.querySelector(\"[name=\\\"\" + id + \"\\\"]\");\n\t\tif (el) addCss(el, \"invalid\");\n\t},\n\t_clear_invalid:function(id){\n\t\tvar el = this._viewobj.querySelector(\"[name=\\\"\" + id + \"\\\"]\");\n\t\tif (el) removeCss(el, \"invalid\");\n\t},\n\tfocus:function(name){\n\t\tif (!name && this.$view.contains(document.activeElement)){\n\t\t\t// focus already inside of form, leaving\n\t\t\treturn false;\n\t\t}\n\t\tValues.focus.apply(this, arguments);\n\t}\n};\n\n\nconst view = protoUI(api,  template.view, Values);\nexport default {api, view};","import base from \"../views/view\";\nimport AutoTooltip from \"../core/autotooltip\";\nimport EditAbility from \"../core/editability\";\nimport MapCollection from \"../core/mapcollection\";\nimport MouseEvents from \"../core/mouseevents\";\nimport Scrollable from \"../core/scrollable\";\nimport SingleRender from \"../core/singlerender\";\nimport AtomDataLoader from \"../core/atomdataloader\";\nimport EventSystem from \"../core/eventsystem\";\nimport {locate, createCss} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport template from \"../webix/template\";\nimport {$active} from \"../webix/skin\";\nimport {uid, extend, clone, isUndefined} from \"../webix/helpers\";\nimport {addCss, removeCss} from \"../webix/html\";\nimport RenderStack from \"../core/renderstack\";\nimport CodeParser from \"../core/codeparser\";\n\n\nconst api = {\n\tname:\"property\",\n\t$init:function(){\n\t\tthis._contentobj.className+=\" webix_property\";\n\t\tthis._contentobj.setAttribute(\"role\", \"listbox\");\n\t\tthis._destroy_with_me = [];\n\n\t\tthis.attachEvent(\"onAfterEditStart\", function(id){\n\t\t\tvar node = this.getItemNode(id);\n\t\t\taddCss(node, \"webix_focused\");\n\t\t});\n\t\tthis.attachEvent(\"onAfterEditStop\", function(id, editor){\n\t\t\tvar node = this.getItemNode(editor.config.id);\n\t\t\tremoveCss(node, \"webix_focused\");\n\t\t});\n\t},\n\tdefaults:{\n\t\tnameWidth:100,\n\t\teditable:true\n\t},\n\ton_render:{\n\t\tcheckbox:function(value){\n\t\t\treturn  \"<input type='checkbox' class='webix_property_check' \"+(value?\"checked\":\"\")+\">\";\n\t\t},\n\t\tcolor:function(value){\n\t\t\treturn  \"<div class=\\\"webix_property_col_val\\\"><div class='webix_property_col_ind' style=\\\"background-color:\"+(value||\"#FFFFFF\")+\";\\\"></div><span>\" +value+\"</span></div>\";\n\t\t}\n\t},\n\ton_edit:{\n\t\tlabel:false\n\t},\n\t_id:/*@attr*/\"webix_f_id\",\n\ton_click:{\n\t\twebix_property_check:function(ev){\n\t\t\tvar id = this.locate(ev);\n\t\t\tthis.getItem(id).value = !this.getItem(id).value;\n\t\t\tthis.callEvent(\"onCheck\",[id, this.getItem(id).value]);\n\t\t\treturn false;\n\t\t}\n\t},\n\ton_dblclick:{\n\t},\n\tregisterType:function(name, data){\n\t\tif (!isUndefined(data.template))\n\t\t\tthis.on_render[name] = data.template;\n\t\tif (!isUndefined(data.editor))\n\t\t\tthis.on_edit[name] = data.editor;\n\t\tif (!isUndefined(data.click))\n\t\t\tfor (var key in data.click)\n\t\t\t\tthis.on_click[key] = data.click[key];\n\t},\n\telements_setter:function(data){\n\t\tthis._idToLine = {};\n\t\tfor(var i =0; i < data.length; i++){\n\t\t\tvar line = data[i];\n\t\t\tif (line.type == \"multiselect\")\n\t\t\t\tline.optionslist = true;\n\n\t\t\t//line.type \t= \tline.type||\"label\";\n\t\t\tline.id \t=\tline.id||uid();\n\t\t\tline.label \t=\tline.label||\"\";\n\t\t\tline.value \t=\tline.value||\"\";\n\t\t\tthis._idToLine[line.id] = i;\n\t\t\tthis._map_options(data[i]);\n\t\t}\n\t\treturn data;\n\t},\n\tshowItem:function(id){\n\t\tRenderStack.showItem.call(this, id);\n\t},\n\tlocate:function(){\n\t\treturn locate(arguments[0], this._id);\n\t},\n\tgetItemNode:function(id){\n\t\treturn this._dataobj.childNodes[this._idToLine[id]];\n\t},\n\tgetItem:function(id){\n\t\treturn this._settings.elements[this._idToLine[id]];\n\t},\n\t_get_editor_type:function(id){\n\t\tvar type = this.getItem(id).type;\n\t\tif (type == \"checkbox\") return \"inline-checkbox\";\n\t\tvar alter_type = this.on_edit[type];\n\t\treturn (alter_type === false)?false:(alter_type||type);\n\t},\n\t_get_edit_config:function(id){\n\t\treturn this.getItem(id);\n\t},\n\t_find_cell_next:function(start, check , direction){\n\t\tlet row = this._idToLine[start.id];\n\t\tlet order = this._settings.elements;\n\t\t\n\t\tif (direction){\n\t\t\tfor (let i=row+1; i<order.length; i++){\n\t\t\t\tif (check.call(this, order[i].id))\n\t\t\t\t\treturn order[i].id;\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i=row-1; i>=0; i--){\n\t\t\t\tif (check.call(this, order[i].id))\n\t\t\t\t\treturn order[i].id;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\tupdateItem:function(key, data){\n\t\tdata = data || {};\n\n\t\tvar line = this.getItem(key);\n\t\tif (line)\n\t\t\textend(line, data, true);\n\n\t\tthis.refresh();\n\t},\n\t_cellPosition:function(id){\n\t\tvar html = this.getItemNode(id);\n\t\treturn {\n\t\t\tleft:html.offsetLeft+this._settings.nameWidth,\n\t\t\ttop:html.offsetTop,\n\t\t\theight:html.firstChild.offsetHeight,\n\t\t\twidth:this._data_width,\n\t\t\tparent:this._contentobj\n\t\t};\n\t},\n\t_clear:function(){\n\t\tvar lines = this._settings.elements;\n\t\tfor (var i=0; i<lines.length; i++)\n\t\t\tlines[i].value = \"\";\n\t},\n\tclear:function(){\n\t\tthis._clear();\n\t\tthis._props_dataset = {};\n\t\tthis.refresh();\n\t},\n\tsetValues:function(data, update){\n\t\tif (this._settings.complexData)\n\t\t\tdata = CodeParser.collapseNames(data, \"\", {}, (v) => isUndefined(this._idToLine[v]));\n\n\t\tif(!update) this._clear();\n\t\tfor(var key in data){\n\t\t\tvar line = this.getItem(key);\n\t\t\tif (line)\n\t\t\t\tline.value = data[key];\n\t\t}\n\t\t\n\t\tthis._props_dataset = data;\n\t\tthis.refresh();\n\t},\n\tgetValues:function(){\n\t\tvar data = clone(this._props_dataset||{});\n\t\tfor (var i = 0; i < this._settings.elements.length; i++) {\n\t\t\tvar line = this._settings.elements[i];\n\t\t\tif (line.type != \"label\")\n\t\t\t\tdata[line.id] = line.value;\n\t\t}\n\n\t\tif (this._settings.complexData)\n\t\t\tdata = CodeParser.expandNames(data);\n\n\t\treturn data;\n\t},\n\trefresh:function(){\n\t\tthis.render();\n\t},\n\t$setSize:function(x,y){\n\t\tif (base.api.$setSize.call(this, x, y)){\n\t\t\tthis._data_width = this._content_width - this._settings.nameWidth;\n\t\t\tthis.render();\n\t\t}\n\t},\n\t$getSize:function(dx,dy){\n\t\tif (this._settings.autoheight){\n\t\t\tvar count = this._settings.elements.length;\n\t\t\tthis._settings.height = Math.max(this.type.height * count,this._settings.minHeight||0);\n\t\t}\n\t\treturn base.api.$getSize.call(this, dx, dy);\n\t},\n\t_toHTML:function(){\n\t\tvar html = [];\n\t\tvar els = this._settings.elements;\n\t\tif (els)\n\t\t\tfor (var i=0; i<els.length; i++){\n\t\t\t\tvar data = els[i];\n\t\t\t\tif (data.css && typeof data.css == \"object\")\n\t\t\t\t\tdata.css = createCss(data.css);\n\n\t\t\t\tvar pre = \"<div \"+/*@attr*/\"webix_f_id\"+\"=\\\"\"+data.id+\"\\\"\"+(data.type!==\"label\"?\"role=\\\"option\\\" tabindex=\\\"0\\\"\":\"\")+\" class=\\\"webix_property_line \"+(data.css||\"\")+\"\\\">\";\n\t\t\t\tif (data.type == \"label\")\n\t\t\t\t\thtml[i] = pre+\"<div class='webix_property_label_line'>\"+data.label+\"</div></div>\";\n\t\t\t\telse {\n\t\t\t\t\tvar render = this.on_render[data.type],\n\t\t\t\t\t\tcontent;\n\t\t\t\t\tvar post = \"<div class='webix_property_label' style='width:\"+this._settings.nameWidth+\"px'>\"+data.label+\"</div><div class='webix_property_value' style='width:\"+this._data_width+\"px'>\";\n\t\t\t\t\tif(data.collection || data.options){\n\t\t\t\t\t\tcontent = data.template(data);\n\t\t\t\t\t}else if(data.format)\n\t\t\t\t\t\tcontent = data.format(data.value);\n\t\t\t\t\telse\n\t\t\t\t\t\tcontent = data.value;\n\t\t\t\t\tif (render)\n\t\t\t\t\t\tcontent = render.call(this, data.value, data);\n\t\t\t\t\thtml[i] = pre+post+content+\"</div></div>\";\n\t\t\t\t}\n\t\t\t}\n\t\treturn html.join(\"\");\n\t},\n\ttype:{\n\t\theight:24,\n\t\ttemplateStart:template(\"\"),\n\t\ttemplateEnd:template(\"</div>\")\n\t},\n\t$skin: function(){\n\t\tthis.type.height = $active.propertyItemHeight;\n\t}\n};\n\n\nconst view = protoUI(api, AutoTooltip, EditAbility, MapCollection, MouseEvents, Scrollable, SingleRender, AtomDataLoader, EventSystem, base.view);\nexport default {api, view};","import {index} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport env from \"../webix/env\";\nimport {bind, isUndefined, extend, copy, toFunctor, isArray} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport template from \"../webix/template\";\n\nimport i18n from \"../webix/i18n\";\nimport UIManager from \"../core/uimanager\";\nimport MouseEvents from \"../core/mouseevents\";\nimport EventSystem from \"../core/eventsystem\";\nimport base from \"../views/view\";\nimport DateHelper from \"../core/date\";\nimport KeysNavigation from \"../core/keysnavigation\";\n\n\nconst api = {\n\tname:\"calendar\",\n\n\tdefaults:{\n\t\tdate: new Date(), //selected date, not selected by default\n\t\tselect: false,\n\t\tnavigation: true,\n\t\tmonthSelect: true,\n\t\tweekHeader: true,\n\t\tmonthHeader: true,\n\t\tweekNumber: false,\n\t\tskipEmptyWeeks: false,\n\t\tcalendarHeader: \"%F %Y\",\n\t\t//calendarTime: \"%H:%i\",\n\t\tevents:DateHelper.isHoliday,\n\t\tminuteStep: 5,\n\t\ttimeIcon:\"wxi-clock\",\n\t\ticons: false,\n\t\ttimepickerHeight: 30,\n\t\theaderHeight: 30,\n\t\tdayTemplate: function(d){\n\t\t\treturn d.getDate();\n\t\t},\n\t\twidth: 260,\n\t\theight: 250\n\t},\n\n\tdayTemplate_setter: template,\n\tcalendarHeader_setter:DateHelper.dateToStr,\n\tcalendarTime_setter:function(format){\n\t\tthis._calendarTime = format;\n\t\treturn DateHelper.dateToStr(format);\n\t},\n\tdate_setter:function(date){\n\t\treturn this._string_to_date(date);\n\t},\n\tmaxDate_setter:function(date){\n\t\treturn this._string_to_date(date);\n\t},\n\tminDate_setter:function(date){\n\t\treturn this._string_to_date(date);\n\t},\n\tminTime_setter:function(time){\n\t\tif(typeof(time) == \"string\"){\n\t\t\ttime = i18n.parseTimeFormatDate(time);\n\t\t\ttime = [time.getHours(),time.getMinutes()];\n\n\t\t}\n\n\t\treturn time;\n\t},\n\tmaxTime_setter:function(time){\n\t\tif(typeof(time) == \"string\"){\n\t\t\ttime = i18n.parseTimeFormatDate(time);\n\t\t\ttime = [time.getHours(),time.getMinutes()];\n\t\t}\n\t\treturn time;\n\t},\n\t_ariaFocus:function(){\n\t\tvar ev = \"focus\"+(env.isIE?\"in\":\"\");\n\t\t\n\t\tif(!env.touch){\n\t\t\t_event(this.$view, ev, bind(function(e){\n\t\t\t\tvar t = e.target.className;\n\t\t\t\tvar css = t.indexOf(\"webix_cal_day\")!==-1 ? \"webix_cal_day\" : (t.indexOf(\"webix_cal_block\")!==-1?\"webix_cal_block\":\"\");\n\n\t\t\t\tif(new Date() - UIManager._tab_time > 300 && new Date() - UIManager._mouse_time >100 && css){\n\t\t\t\t\tvar prev = e.relatedTarget;\n\t\t\t\t\tif(prev && !isUndefined(prev.className)){\n\t\t\t\t\t\tvar date = (css==\"webix_cal_day\")?\n\t\t\t\t\t\t\tthis._locate_day(e.target):\n\t\t\t\t\t\t\tthis._locate_date(e.target);\n\t\t\t\t\t\tthis._moveSelection(date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this), {capture:!env.isIE});\n\t\t}\n\t},\n\t$init: function() {\n\t\tthis._viewobj.className += \" webix_calendar\";\n\t\tthis._viewobj.setAttribute(\"role\", \"region\");\n\t\tthis._viewobj.setAttribute(\"aria-label\", i18n.aria.calendar);\n\n\t\t//special dates\n\t\tthis._special_dates = {};\n\t\tthis._selected_days = {};\n\t\tthis._zoom_level = 0;\n\n\t\t//navigation and aria\n\t\tthis._ariaFocus();\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\n\t},\n\tminuteStep_setter(value){\n\t\treturn Math.max( Math.min(value, 60), this.defaults.minuteStep );\n\t},\n\ttype_setter: function(value){\n\t\tif(value == \"time\"){\n\t\t\tthis._zoom_in = true;\n\t\t\tthis._zoom_level = -1;\n\t\t}\n\t\telse if(value == \"year\"){\n\t\t\tthis._fixed = true;\n\t\t}\n\t\treturn value;\n\t},\n\t$setSize:function(x,y){\n\n\t\tif(base.api.$setSize.call(this,x,y)){\n\t\t\t//repaint calendar when size changed\n\t\t\tthis.render();\n\t\t}\n\t},\n\t$getSize:function(dx, dy){\n\t\tconst s = this._settings;\n\t\tif (s.cellHeight && !s.type){\n\t\t\tconst state = this._getDateBoundaries(s.date);\n\t\t\ts.height = s.cellHeight * state._rows + s.headerHeight + (s.weekHeader?$active.calendarWeekHeaderHeight:0) +\n\t\t\t\t(s.timepicker||this._icons?s.timepickerHeight:0) + (this._content_padding+$active.borderWidth)*2;\n\t\t}\n\t\treturn base.api.$getSize.call(this, dx,dy);\n\t},\n\tmoveSelection:function(mode, details, focus){\n\t\tif(this.config.master) return; //in daterange\n\t\tvar start = this.getSelectedDate();\n\t\tif (this.config.multiselect)\n\t\t\tstart = start[0];\n\t\tvar date = DateHelper.copy(start || this.getVisibleDate());\n\t\tthis._moveSelection(date, mode, focus);\n\t\t\n\t},\n\t_moveSelection:function(date, mode, focus){\n\t\tvar css = this._zoom_logic[this._zoom_level]._keyshift(date, mode, this);\n\t\t\n\t\tif(focus !==false){\n\t\t\tvar sel = this._viewobj.querySelector(\".\"+css+\"[tabindex='0']\");\n\t\t\tif(sel) sel.focus();\n\t\t}\n\t},\n\t_getDateBoundaries: function(date, reset) {\n\t\t// addition information about rendering event:\n\t\t// how many days from the previous month,\n\t\t// next,\n\t\t// number of weeks to display and so on\n\t\t\n\t\tif (!this._set_date_bounds || reset){\n\t\t\tvar month = date.getMonth();\n\t\t\tvar year = date.getFullYear();\n\n\t\t\tvar next = new Date(year, month+1, 1);\n\t\t\tvar start = DateHelper.weekStart(new Date(year, month, 1));\n\n\t\t\tvar days = Math.round((next.valueOf() - start.valueOf())/(60*1000*60*24));\n\t\t\tvar rows = this._settings.skipEmptyWeeks?Math.ceil(days/7):6;\n\n\t\t\tthis._set_date_bounds = { _month: month, _start:start, _next:next, _rows: rows};\n\t\t}\n\n\t\treturn this._set_date_bounds;\n\t},\n\t$skin:function(){\n\t\tif($active.calendar){\n\t\t\tif( $active.calendar.width)\n\t\t\t\tthis.defaults.width = $active.calendar.width;\n\t\t\tif( $active.calendar.height)\n\t\t\t\tthis.defaults.height = $active.calendar.height;\n\t\t\tif( $active.calendar.headerHeight)\n\t\t\t\tthis.defaults.headerHeight = $active.calendar.headerHeight;\n\t\t\tif( $active.calendar.timepickerHeight)\n\t\t\t\tthis.defaults.timepickerHeight = $active.calendar.timepickerHeight;\n\t\t}\n\t\tthis._content_padding = $active.layoutPadding.form;\n\t},\n\t_getColumnConfigSizes: function(date){ \n\t\tvar bounds = this._getDateBoundaries(date);\n\n\t\tvar s = this._settings;\n\t\tvar _columnsHeight = [];\n\t\tvar _columnsWidth = [];\n\t\tvar min = Infinity;\n\n\t\tvar containerWidth = this._content_width - (this._content_padding+$active.borderWidth)*2;\n\n\t\tvar containerHeight = this._content_height - (s.monthHeader?s.headerHeight:0) - (s.weekHeader?$active.calendarWeekHeaderHeight:0) -\n\t\t\t(s.timepicker||this._icons?s.timepickerHeight:0) - (this._content_padding+$active.borderWidth)*2;\n\n\t\tvar columnsNumber = (s.weekNumber)?8:7;\n\t\tfor(var i=0; i<columnsNumber; i++) {\n\t\t\t_columnsWidth[i] = Math.ceil(containerWidth/(columnsNumber-i));\n\t\t\tcontainerWidth -= _columnsWidth[i];\n\t\t\tmin = Math.min(min, _columnsWidth[i]);\n\t\t}\n\n\t\tvar rowsNumber = bounds._rows;\n\t\tfor (var k = 0; k < rowsNumber; k++) {\n\t\t\t_columnsHeight[k] = Math.ceil(containerHeight/(rowsNumber-k) );\n\t\t\tcontainerHeight -= _columnsHeight[k];\n\t\t\tmin = Math.min(min, _columnsHeight[k]);\n\t\t}\n\t\treturn [_columnsWidth, _columnsHeight, min];\n\t},\n\ticons_setter: function(value){\n\t\tif(!value)\n\t\t\tthis._icons = null;\n\t\telse if(typeof value == \"object\")\n\t\t\tthis._icons = value;\n\t\telse\n\t\t\tthis._icons = this._icons2;\n\t},\n\t_icons: [],\n\t_icons2: [\n\n\t\t{\n\t\t\ttemplate: function(){\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>\"+i18n.calendar.today+\"</span>\";\n\t\t\t},\n\t\t\ton_click:{\n\t\t\t\t\"webix_cal_icon_today\": function(){\n\t\t\t\t\tvar date = new Date();\n\t\t\t\t\tif(!this._settings.timepicker)\n\t\t\t\t\t\tdate = DateHelper.datePart(date);\n\t\t\t\t\tthis.setValue(date);\n\t\t\t\t\tthis.callEvent(\"onTodaySet\",[this.getSelectedDate()]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttemplate: function(){\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>\"+i18n.calendar.clear+\"</span>\";\n\t\t\t},\n\t\t\ton_click:{\n\t\t\t\t\"webix_cal_icon_clear\": function(){\n\t\t\t\t\tthis.setValue(\"\");\n\t\t\t\t\tthis.callEvent(\"onDateClear\",[this.getSelectedDate()]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\trefresh:function(){ this.render(); },\n\trender: function() {\n\t\t//reset zoom level\n\t\tthis._zoom_level = 0;\n\t\tthis._zoom_size = false;\n\n\t\tvar s = this._settings;\n\n\t\tif (!this.isVisible(s.id)) return;\n\t\tthis._current_time = DateHelper.datePart(new Date());\n\n\t\tthis.callEvent(\"onBeforeRender\",[]);\n\n\t\tvar date = this._settings.date;\n\n\t\tvar bounds = this._getDateBoundaries(date, true);\n\t\tvar sizes = this._getColumnConfigSizes(date);\n\t\tvar cpad = this._content_padding + \"px\";\n\t\tvar width = sizes[0];\n\t\tvar height = sizes[1];\n\n\t\tvar html = \"\";\n\t\tif (s.monthHeader){\n\t\t\thtml += \"<div class='webix_cal_month' style='margin:0 \"+cpad+\"'><span aria-live='assertive' aria-atomic='true' class='webix_cal_month_name\"+((!s.monthSelect || !s.navigation)?\" webix_readonly'\":\"' role='button' tabindex='0'\")+\">\"+s.calendarHeader(date)+\"</span>\";\n\t\t\tif (s.navigation)\n\t\t\t\thtml += \"<div role='button' tabindex='0' aria-label='\"+i18n.aria.navMonth[0]+\"' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='\"+i18n.aria.navMonth[1]+\"' class='webix_cal_next_button'></div>\";\n\t\t\thtml += \"</div>\";\n\t\t}\n\n\t\tif(s.weekHeader)\n\t\t\thtml += \"<div class='webix_cal_header' style='margin:0 \"+cpad+\"' aria-hidden='true'>\"+this._week_template(width)+\"</div>\";\n\t\thtml += \"<div class='webix_cal_body' style='margin:0 \"+cpad+\"'>\"+this._body_template(width, height, bounds, sizes[2])+\"</div>\";\n\n\t\tif (this._settings.timepicker || this._icons){\n\t\t\thtml += \"<div class='webix_cal_footer' style='margin:0 \"+cpad+\"'>\";\n\t\t\tif(this._settings.timepicker)\n\t\t\t\thtml += this._timepicker_template(date);\n\n\t\t\tif(this._icons)\n\t\t\t\thtml += this._icons_template();\n\t\t\thtml += \"</div>\";\n\t\t}\n\n\t\tthis._contentobj.innerHTML = html;\n\t\tthis._contentobj.firstChild.style.marginTop = cpad;\n\n\t\tif(this._settings.type == \"time\"){\n\t\t\tvar time = this._settings.date;\n\t\t\tif(time){\n\t\t\t\tif(typeof(time) == \"string\"){\n\t\t\t\t\tdate = i18n.parseTimeFormatDate(time);\n\t\t\t\t}\n\t\t\t\telse if(isArray(time)){\n\t\t\t\t\tdate.setHours(time[0]);\n\t\t\t\t\tdate.setMinutes(time[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._changeZoomLevel(-1,date);\n\t\t}\n\t\telse if(this._settings.type == \"month\"){\n\t\t\tthis._changeZoomLevel(1,date);\n\t\t}\n\t\telse if(this._settings.type == \"year\"){\n\t\t\tthis._changeZoomLevel(2,date);\n\t\t}\n\n\t\tthis.callEvent(\"onAfterRender\",[]);\n\t},\n\t_icons_template: function(date){\n\t\tvar html =\t\"<div class='webix_cal_icons'>\";\n\t\tvar icons = this._icons;\n\n\t\tfor(var i=0; i < icons.length; i++){\n\t\t\tif(icons[i].template){\n\t\t\t\tvar template = (typeof(icons[i].template) == \"function\"?icons[i].template: template(icons[i].template));\n\t\t\t\thtml += template.call(this,date);\n\t\t\t}\n\t\t\tif(icons[i].on_click){\n\t\t\t\textend(this.on_click,icons[i].on_click);\n\t\t\t}\n\t\t}\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t},\n\t_timepicker_template:function(date){\n\t\tvar timeFormat = this._settings.calendarTime||i18n.timeFormatStr;\n\t\tvar clock = this._settings.timeIcon;\n\t\tvar tpl = \"\";\n\n\t\tif(!this._settings.master)\n\t\t\ttpl = \"<div role='button' tabindex='0' class='webix_cal_time\"+(this._icons?\" webix_cal_time_icons\":\"\")+\"'><span class='webix_icon \"+clock+\"'></span> \"+timeFormat(date)+\"</div>\";\n\t\telse{\n\t\t\t//daterange needs two clocks\n\t\t\tvar range_date = copy($$(this._settings.master)._settings.value);\n\t\t\tif(DateHelper.equal(range_date.end, date))\n\t\t\t\trange_date.start = range_date.end;\n\t\t\t\t\n\t\t\tfor(var i in range_date){\n\t\t\t\ttpl += \"<div role='button' tabindex='0' class='webix_range_time_\"+i+\" webix_cal_time'><span class='webix_icon \"+clock+\"'></span> \"+timeFormat(range_date[i])+\"</div>\";\n\t\t\t}\n\t\t}\n\t\treturn tpl;\n\t},\n\t_week_template: function(widths){\n\t\tvar s = this._settings;\n\t\tvar week_template = \"\";\n\t\tvar correction = 0;\n\n\t\tif(s.weekNumber) {\n\t\t\tcorrection = 1;\n\t\t\tweek_template += \"<div class='webix_cal_week_header' style='width: \"+widths[0]+\"px;' >\"+(s.calendarWeekHeader||\"\")+\"</div>\";\n\t\t}\n\t\t\n\t\tvar k = (DateHelper.startOnMonday)?1:0;\n\t\tfor (var i=0; i<7; i++){ // 7 days total\n\t\t\tvar day_index = (k + i) % 7; // 0 - Sun, 6 - Sat as in Locale.date.day_short\n\t\t\tvar day = i18n.calendar.dayShort[day_index]; // 01, 02 .. 31\n\t\t\tweek_template += \"<div day='\"+day_index+\"' style='width: \"+widths[i+correction]+\"px;' >\"+day+\"</div>\";\n\t\t}\n\t\t\n\t\treturn week_template;\n\t},\n\tblockDates_setter:function(value){\n\t\treturn toFunctor(value, this.$scope);\n\t},\n\t_day_css:function(day, bounds){\n\t\tvar css = \"\", isOutside = false;\n\t\tif (DateHelper.equal(day, this._current_time))\n\t\t\tcss += \" webix_cal_today\";\n\t\tif (!this._checkDate(day))\n\t\t\tcss+= \" webix_cal_day_disabled\";\n\t\tif (day.getMonth() != bounds._month){\n\t\t\tisOutside = true;\n\t\t\tcss += \" webix_cal_outside\";\n\t\t}\n\t\tif (!isOutside && this._selectedDay(day))\n\t\t\tcss += \" webix_cal_select\";\n\t\tif (this._settings.events)\n\t\t\tcss+=\" \"+(this._settings.events(day, isOutside) || \"\");\n\t\tcss += \" webix_cal_day\";\n\t\treturn css;\n\t},\n\t_body_template: function(widths, heights, bounds, sqSize){\n\t\tvar s = this._settings;\n\t\tvar html = \"\";\n\t\tvar day = DateHelper.datePart(DateHelper.copy(bounds._start));\n\t\tvar start = s.weekNumber?1:0;\n\t\tvar weekNumber = DateHelper.getISOWeek(DateHelper.add(day,2,\"day\", true));\n\n\t\tfor (var y=0; y<heights.length; y++){\n\t\t\thtml += \"<div class='webix_cal_row' style='height:\"+heights[y]+\"px;line-height:\"+heights[y]+\"px'>\";\n\n\t\t\tif (start){\n\t\t\t\t// recalculate week number for the first week of a year\n\t\t\t\tif(!day.getMonth() && day.getDate()<7)\n\t\t\t\t\tweekNumber =  DateHelper.getISOWeek(DateHelper.add(day,2,\"day\", true));\n\t\t\t\thtml += \"<div class='webix_cal_week_num' aria-hidden='true' style='width:\"+widths[0]+\"px'>\"+weekNumber+\"</div>\";\n\t\t\t}\n\n\t\t\tfor (var x=start; x<widths.length; x++){\n\t\t\t\tvar css = this._day_css(day, bounds);\n\t\t\t\tvar d = this._settings.dayTemplate.call(this,day);\n\t\t\t\tvar sel = this._selectedDay(day);\n\t\t\t\tvar alabel = \"\";\n\t\t\t\tvar isOutside = day.getMonth() != bounds._month;\n\n\t\t\t\tif(typeof d == \"object\"){\n\t\t\t\t\talabel = d.aria || alabel;\n\t\t\t\t\td = d.text;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\talabel = DateHelper.dateToStr(i18n.aria.dateFormat)(day);\n\n\t\t\t\thtml += \"<div day='\"+x+\"' role='gridcell' \"+(isOutside?\"aria-hidden='true'\":\"\")+\" aria-label='\"+alabel+\n\t\t\t\t\t\"' tabindex='\"+(sel && !isOutside?\"0\":\"-1\")+\"' aria-selected='\"+(sel && !isOutside?\"true\":\"false\")+\"' class='\"+css+\"' style='text-align:center; width:\"+widths[x]+\n\t\t\t\t\t\"px'><span aria-hidden='true' class='webix_cal_day_inner' style='display:inline-block; \"+this._getCalSizesString(sqSize,sqSize)+\"'>\"+d+\"</span></div>\";\n\t\t\t\tday = DateHelper.add(day, 1, \"day\");\n\n\t\t\t\tif(day.getHours()){\n\t\t\t\t\tday = DateHelper.datePart(day);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thtml += \"</div>\";\n\t\t\tweekNumber++;\n\t\t}\n\t\treturn html;\n\t},\n\t_changeDate:function(dir, step){\n\t\tvar now = this._settings.date;\n\t\tif(!step) { step = this._zoom_logic[this._zoom_level]._changeStep; }\n\t\tif(!this._zoom_level){\n\t\t\tnow = DateHelper.copy(now);\n\t\t\tnow.setDate(1);\n\t\t}\n\t\tvar next = DateHelper.add(now, dir*step, \"month\", true);\n\t\tthis._changeDateInternal(now, next);\n\t},\n\t_changeDateInternal:function(now, next){\n\t\tif(this.callEvent(\"onBeforeMonthChange\", [now, next])){\n\t\t\tif (this._zoom_level){\n\t\t\t\tthis._update_zoom_level(next);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.showCalendar(next);\n\t\t\t}\n\t\t\tthis.callEvent(\"onAfterMonthChange\", [next, now]);\n\t\t}\n\t},\n\t_zoom_logic:{\n\t\t\"-2\":{\n\t\t\t_isBlocked: function(i){\n\t\t\t\tvar config = this._settings,\n\t\t\t\t\tdate = config.date,\n\t\t\t\t\tisBlocked = false;\n\n\t\t\t\tvar minHour = (config.minTime ? config.minTime[0] : 0);\n\t\t\t\tvar maxHour = (config.maxTime ? (config.maxTime[0] + ( config.maxTime[1] ? 1 : 0 )) : 24);\n\n\t\t\t\tvar minMinute = (config.minTime && (date.getHours()==minHour) ? config.minTime[1] : 0);\n\t\t\t\tvar maxMinute = (config.maxTime && config.maxTime[1] && (date.getHours()==(maxHour-1)) ? config.maxTime[1] : 60);\n\n\t\t\t\tif(this._settings.blockTime){\n\t\t\t\t\tvar d = DateHelper.copy(date);\n\t\t\t\t\td.setMinutes(i);\n\t\t\t\t\tisBlocked = this._settings.blockTime(d);\n\t\t\t\t}\n\t\t\t\treturn (i < minMinute || i >= maxMinute || isBlocked);\n\n\t\t\t},\n\t\t\t_setContent:function(next, i){ next.setMinutes(i); },\n\t\t\t_findActive:function(date, mode, calendar){\n\t\t\t\tif(!this._isBlocked.call(calendar, date.getMinutes()))\n\t\t\t\t\treturn date;\n\t\t\t\telse{\n\t\t\t\t\tvar step = calendar._settings.minuteStep;\n\t\t\t\t\tvar newdate = DateHelper.add(date, mode ==\"right\"?step:-step, \"minute\", true);\n\t\t\t\t\tif(date.getHours() === newdate.getHours())\n\t\t\t\t\t\treturn  this._findActive(newdate, mode, calendar);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"-1\":{\n\t\t\t_isBlocked: function(i){\n\t\t\t\tvar config = this._settings,\n\t\t\t\t\tdate = config.date;\n\n\t\t\t\tvar minHour = (config.minTime? config.minTime[0]:0);\n\t\t\t\tvar maxHour = (config.maxTime? config.maxTime[0]+(config.maxTime[1]?1:0):24);\n\n\t\t\t\tif (i < minHour || i >= maxHour) return true;\n\n\t\t\t\tif(config.blockTime){\n\t\t\t\t\tvar d = DateHelper.copy(date);\n\t\t\t\t\td.setHours(i);\n\t\t\t\t\t\n\t\t\t\t\tvar minMinute = (config.minTime && (i==minHour) ? config.minTime[1] : 0);\n\t\t\t\t\tvar maxMinute = (config.maxTime && config.maxTime[1] && (i==(maxHour-1)) ? config.maxTime[1] : 60);\n\n\t\t\t\t\tfor (var j=minMinute; j<maxMinute; j+= config.minuteStep){\n\t\t\t\t\t\td.setMinutes(j);\n\t\t\t\t\t\tif (!config.blockTime(d))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_setContent:function(next, i){ next.setHours(i); },\n\t\t\t_keyshift:function(date, mode, calendar){\n\t\t\t\tvar newdate, inc, step = calendar._settings.minuteStep;\n\t\t\t\t\n\t\t\t\tif(mode === \"bottom\" || mode === \"top\"){\n\t\t\t\t\tdate.setHours(mode===\"bottom\"?23:0);\n\t\t\t\t\tdate.setMinutes(mode===\"bottom\"?55:0);\n\t\t\t\t\tdate.setSeconds(0);\n\t\t\t\t\tdate.setMilliseconds(0);\n\t\t\t\t\tnewdate = date;\n\t\t\t\t}\n\t\t\t\telse if(mode === \"left\" || mode === \"right\"){//minutes\n\n\t\t\t\t\tinc = (mode===\"right\"?step:-step);\n\t\t\t\t\tif(mode === \"left\" && date.getMinutes() < step ) inc = 60-step;\n\t\t\t\t\tif(mode === \"right\" && date.getMinutes() >= (60-step)) inc = step-60;\n\t\t\t\t\tinc -= date.getMinutes()%step;\n\t\t\t\t\tnewdate = calendar._zoom_logic[\"-2\"]._findActive(DateHelper.add(date, inc, \"minute\"), mode, calendar);\n\t\t\t\t}\n\t\t\t\telse if(mode === \"up\" || mode === \"down\"){ //hours\n\t\t\t\t\tinc = mode===\"down\"?1:-1;\n\t\t\t\t\tif(mode === \"down\" && date.getHours() === 23) inc = -23;\n\t\t\t\t\tif(mode === \"up\" && date.getHours() === 0) inc = 23;\n\t\t\t\t\tnewdate = this._findActive(DateHelper.add(date, inc, \"hour\"), mode, calendar);\n\t\t\t\t}\n\t\t\t\telse if(mode === false)\n\t\t\t\t\tnewdate = this._findActive(date, mode, calendar);\n\n\t\t\t\tcalendar.selectDate(newdate, false);\n\n\t\t\t\tif(newdate){\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\n\t\t\t\t\tcalendar.selectDate(newdate, false);\n\t\t\t\t}\n\n\t\t\t\treturn \"webix_cal_block\"+(mode === \"left\" || mode === \"right\"?\"_min\":\"\");\n\t\t\t},\n\t\t\t_findActive:function(date, mode, calendar){\n\t\t\t\tif(!this._isBlocked.call(calendar, date.getHours()))\n\t\t\t\t\treturn date;\n\t\t\t\telse{\n\t\t\t\t\tvar newdate = DateHelper.add(date, mode ==\"down\"?1:-1, \"hour\", true);\n\t\t\t\t\tif(date.getDate() === newdate.getDate())\n\t\t\t\t\t\treturn  this._findActive(newdate, mode, calendar);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"0\":{//days\n\t\t\t_changeStep:1,\n\t\t\t_keyshift:function(date, mode, calendar){\n\t\t\t\tvar newdate = date;\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"pgdown\"?1:-1), \"month\");\n\t\t\t\telse if(mode === \"bottom\")\n\t\t\t\t\tnewdate = new Date(date.getFullYear(), date.getMonth()+1, 0);\n\t\t\t\telse if(mode === \"top\")\n\t\t\t\t\tnewdate = new Date(date.setDate(1));\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"right\"?1:-1), \"day\");\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"down\"?1:-1), \"week\");\n\t\t\t\t\n\t\t\t\tif(!calendar._checkDate(newdate))\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\n\t\t\t\t\n\t\t\t\tif(newdate)\n\t\t\t\t\tcalendar.selectDate(newdate, true);\n\t\t\t\treturn \"webix_cal_day\";\n\t\t\t},\n\t\t\t\n\t\t},\n\t\t\"1\":{\t//months\n\t\t\t_isBlocked: function(i,calendar){\n\t\t\t\tvar blocked = false,\n\t\t\t\t\tmin = calendar._settings.minDate,\n\t\t\t\t\tmax = calendar._settings.maxDate,\n\t\t\t\t\tyear = calendar._settings.date.getFullYear();\n\n\t\t\t\tif (min){\n\t\t\t\t\tvar minYear = min.getFullYear();\n\t\t\t\t\tblocked = year<minYear || (year==minYear&&min.getMonth()>i);\n\t\t\t\t}\n\n\t\t\t\tif (max && !blocked){\n\t\t\t\t\tvar maxYear = max.getFullYear();\n\t\t\t\t\tblocked = year>maxYear || (year==maxYear&&max.getMonth()<i);\n\t\t\t\t}\n\n\t\t\t\treturn blocked;\n\t\t\t},\n\t\t\t_correctDate: function(date,calendar){\n\t\t\t\tdate = DateHelper.monthStart(date);\n\n\t\t\t\tif (date < calendar._settings.minDate){\n\t\t\t\t\tdate = DateHelper.copy(calendar._settings.minDate);\n\t\t\t\t}\n\t\t\t\telse if (date > calendar._settings.maxDate){\n\t\t\t\t\tdate = DateHelper.copy(calendar._settings.maxDate);\n\t\t\t\t}\n\n\t\t\t\treturn date;\n\t\t\t},\n\t\t\t_getTitle:function(date){ return date.getFullYear(); },\n\t\t\t_getContent:function(i){ return i18n.calendar.monthShort[i]; },\n\t\t\t_setContent:function(next, i){ if(i!=next.getMonth()) next.setDate(1);next.setMonth(i); },\n\t\t\t_changeStep:12,\n\t\t\t_keyshift:function(date, mode, calendar){\n\t\t\t\tvar newdate = date;\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"pgdown\"?1:-1), \"year\");\n\t\t\t\telse if(mode === \"bottom\")\n\t\t\t\t\tnewdate = new Date(date.setMonth(11));\n\t\t\t\telse if(mode === \"top\")\n\t\t\t\t\tnewdate = new Date(date.setMonth(0));\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"right\"?1:-1), \"month\");\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"down\"?4:-4), \"month\");\n\n\t\t\t\tnewdate = calendar._correctDate(newdate);\n\n\t\t\t\tif(!calendar._checkDate(newdate)){\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(newdate){\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\n\t\t\t\t\tcalendar.selectDate(newdate, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn \"webix_cal_block\";\n\t\t\t}\n\t\t},\n\t\t\"2\":{\t//years\n\t\t\t_isBlocked: function(i,calendar){\n\t\t\t\ti += calendar._zoom_start_date;\n\t\t\t\tvar min = calendar._settings.minDate;\n\t\t\t\tvar max = calendar._settings.maxDate;\n\n\t\t\t\tif ((min && min.getFullYear() > i) || (max && max.getFullYear()<i))\n\t\t\t\t\treturn true;\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t_correctDate: function(date,calendar){\n\t\t\t\tdate = DateHelper.yearStart(date);\n\t\t\t\tif (date < calendar._settings.minDate){\n\t\t\t\t\tdate = DateHelper.copy(calendar._settings.minDate);\n\t\t\t\t}\n\t\t\t\telse if (date > calendar._settings.maxDate){\n\t\t\t\t\tdate = DateHelper.copy(calendar._settings.maxDate);\n\t\t\t\t}\n\t\t\t\treturn date;\n\t\t\t},\n\t\t\t_getTitle:function(date, calendar){\n\t\t\t\tvar start = date.getFullYear();\n\t\t\t\tcalendar._zoom_start_date = start = start - start%10 - 1;\n\t\t\t\treturn start+\" - \"+(start+10 + 1);\n\t\t\t},\n\t\t\t_getContent:function(i, calendar){ return calendar._zoom_start_date+i; },\n\t\t\t_setContent:function(next, i, calendar){ next.setFullYear(calendar._zoom_start_date+i); },\n\t\t\t_changeStep:12*10,\n\t\t\t_keyshift:function(date, mode, calendar){\n\t\t\t\tvar newdate = date;\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"pgdown\"?10:-10), \"year\");\n\t\t\t\telse if(mode === \"bottom\")\n\t\t\t\t\tnewdate = new Date(date.setYear(calendar._zoom_start_date+10));\n\t\t\t\telse if(mode === \"top\")\n\t\t\t\t\tnewdate = new Date(date.setYear(calendar._zoom_start_date));\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"right\"?1:-1), \"year\");\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\n\t\t\t\t\tnewdate = DateHelper.add(date, (mode===\"down\"?4:-4), \"year\");\n\n\t\t\t\tnewdate = calendar._correctDate(newdate);\n\n\t\t\t\tif(!calendar._checkDate(newdate))\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\n\t\t\t\t\n\t\t\t\tif(newdate){\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\n\t\t\t\t\tcalendar.selectDate(newdate, false);\n\t\t\t\t}\n\n\t\t\t\treturn \"webix_cal_block\";\n\t\t\t}\n\t\t}\n\t},\n\t_correctBlockedTime: function(){\n\t\tvar i, isDisabledHour, isDisabledMinutes;\n\t\tisDisabledHour = this._zoom_logic[-1]._isBlocked.call(this,this._settings.date.getHours());\n\t\tif(isDisabledHour){\n\t\t\tfor (i= 0; i< 24; i++){\n\t\t\t\tif(!this._zoom_logic[-1]._isBlocked.call(this,i)){\n\t\t\t\t\tthis._settings.date.setHours(i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tisDisabledMinutes = this._zoom_logic[-2]._isBlocked.call(this,this._settings.date.getMinutes());\n\t\tif(isDisabledMinutes){\n\t\t\tfor (i=0; i<60; i+=this._settings.minuteStep){\n\t\t\t\tif(!this._zoom_logic[-2]._isBlocked.call(this,i)){\n\t\t\t\t\tthis._settings.date.setMinutes(i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t_update_zoom_level:function(date){\n\t\tvar config, css, height, i, index,  sections, selected, type, width, zlogic, temp, sqSize;\n\t\tvar html = \"\";\n\t\tvar cpad = this._content_padding + \"px\";\n\n\t\tconfig = this._settings;\n\t\tindex = 2 - (config.weekHeader?0:1) - (config.monthHeader?0:1);\n\t\tzlogic = this._zoom_logic[this._zoom_level];\n\t\tsections  = this._contentobj.childNodes;\n\n\t\tif (date){\n\t\t\tconfig.date = date;\n\t\t}\n\n\t\ttype = config.type;\n\n\n\n\t\t//store width and height of draw area\n\t\tif (!this._zoom_size){\n\n\t\t\tthis._reserve_box_height = this._contentobj.offsetHeight - (config.monthHeader||this._zoom_in?config.headerHeight:0) -\n\t\t\t\t(this._content_padding+$active.borderWidth)*2;\n\t\t\tif(type != \"year\" && type != \"month\")\n\t\t\t\tthis._reserve_box_height -= config.timepickerHeight;\n\n\t\t\tthis._reserve_box_width = sections[index].offsetWidth;\n\t\t\tthis._zoom_size = 1;\n\t\t}\n\n\t\t//main section\n\t\tif (this._zoom_in){\n\t\t\t//hours and minutes\n\t\t\theight = this._reserve_box_height/6;\n\t\t\tvar timeColNum = 6;\n\t\t\tvar timeFormat = this._calendarTime||i18n.timeFormat;\n\t\t\tvar enLocale = timeFormat.match(/%([a,A])/);\n\t\t\tif(enLocale)\n\t\t\t\ttimeColNum++;\n\t\t\twidth = parseInt((this._reserve_box_width-3)/timeColNum,10);\n\t\t\tsqSize = Math.min(width,height);\n\n\t\t\thtml += \"<div class='webix_time_header' style='margin:0 \"+cpad+\"'>\"+this._timeHeaderTemplate(width,enLocale)+\"</div>\";\n\t\t\thtml += \"<div  class='webix_cal_body' style='height:\"+this._reserve_box_height+\"px; margin:0 \"+cpad+\";'>\";\n\n\t\t\t// check and change blocked selected time\n\t\t\tthis._correctBlockedTime();\n\n\t\t\thtml += \"<div class='webix_hours'>\";\n\t\t\tselected = config.date.getHours();\n\t\t\ttemp = DateHelper.copy(config.date);\n\n\t\t\tfor (i= 0; i< 24; i++){\n\t\t\t\tcss=\"\";\n\t\t\t\tif(enLocale){\n\t\t\t\t\tif(i%4===0){\n\t\t\t\t\t\tvar label = (!i ? i18n.am[0] : (i==12?i18n.pm[0]:\"\"));\n\t\t\t\t\t\thtml += \"<div class='webix_cal_block_empty\"+css+\"' style='\"+this._getCalSizesString(width,height)+\"clear:both;\"+\"'>\"+label+\"</div>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this._zoom_logic[-1]._isBlocked.call(this,i)){\n\t\t\t\t\tcss += \" webix_cal_day_disabled\";\n\t\t\t\t}\n\t\t\t\telse if(selected ==  i)\n\t\t\t\t\tcss += \" webix_selected\";\n\n\t\t\t\t\n\t\t\t\ttemp.setHours(i);\n\n\t\t\t\thtml += \"<div aria-label='\"+DateHelper.dateToStr(i18n.aria.hourFormat)(temp)+\"' role='gridcell'\"+\n\t\t\t\t\t\" tabindex='\"+(selected==i?\"0\":\"-1\")+\"' aria-selected='\"+(selected==i?\"true\":\"false\")+\n\t\t\t\t\t\"' class='webix_cal_block\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+(i%4===0&&!enLocale?\"clear:both;\":\"\")+\n\t\t\t\t\t\"'><span style='display:inline-block; \"+this._getCalSizesString(sqSize,sqSize)+\"'>\"+DateHelper.toFixed(enLocale?(!i||i==12?12:i%12):i)+\"</span></div>\";\n\t\t\t}\n\t\t\thtml += \"</div>\";\n\n\t\t\thtml += \"<div class='webix_minutes'>\";\n\t\t\tselected = config.date.getMinutes();\n\t\t\ttemp = DateHelper.copy(config.date);\n\n\n\t\t\tfor (i=0; i<60; i+=config.minuteStep){\n\t\t\t\tcss = \"\";\n\t\t\t\tif(this._zoom_logic[-2]._isBlocked.call(this,i)){\n\t\t\t\t\tcss = \" webix_cal_day_disabled\";\n\t\t\t\t}\n\t\t\t\telse if(selected ==  i)\n\t\t\t\t\tcss = \" webix_selected\";\n\n\t\t\t\ttemp.setMinutes(i);\n\n\t\t\t\thtml += \"<div aria-label='\"+DateHelper.dateToStr(i18n.aria.minuteFormat)(temp)+\"' role='gridcell' tabindex='\"+(selected==i?\"0\":\"-1\")+\n\t\t\t\t\t\"' aria-selected='\"+(selected==i?\"true\":\"false\")+\"' class='webix_cal_block webix_cal_block_min\"+css+\"' data-value='\"+i+\"' style='\"+\n\t\t\t\t\tthis._getCalSizesString(width,height)+((i/config.minuteStep)%2===0?\"clear:both;\":\"\")+\"'><span style='display:inline-block; \"+\n\t\t\t\t\tthis._getCalSizesString(sqSize,sqSize)+\"'>\"+DateHelper.toFixed(i)+\"</span></div>\";\n\t\t\t}\n\t\t\thtml += \"</div>\";\n\n\t\t\thtml += \"</div>\";\n\t\t\thtml += \"<div class='webix_time_footer' style='margin:0 \"+cpad+\"'>\"+this._timeButtonsTemplate()+\"</div>\";\n\t\t\tthis._contentobj.innerHTML = html;\n\t\t\tthis._contentobj.firstChild.style.marginTop = cpad;\n\t\t} else {\n\t\t\t//years and months\n\t\t\t\n\t\t\t//reset header\n\t\t\tif (config.monthHeader){\n\t\t\t\tvar header = sections[0].childNodes;\n\t\t\t\tvar labels = i18n.aria[\"nav\"+(this._zoom_level==1?\"Year\":\"Decade\")];\n\t\t\t\theader[0].innerHTML = zlogic._getTitle(config.date, this);\n\t\t\t\theader[0].blur();\n\t\t\t\tif (config.navigation){\n\t\t\t\t\theader[1].setAttribute(\"aria-label\", labels[0]);\n\t\t\t\t\theader[2].setAttribute(\"aria-label\", labels[1]);\n\t\t\t\t}\n\t\t\t} else\t//needed for \"year\" to set start value\n\t\t\t\tzlogic._getTitle(config.date, this);\n\n\t\t\theight = Math.floor(this._reserve_box_height/3);\n\t\t\twidth = Math.floor(this._reserve_box_width/4);\n\t\t\tsqSize = Math.min(height, width);\n\n\t\t\tif (this._checkDate(config.date))\n\t\t\t\tselected = (this._zoom_level==1?config.date.getMonth():config.date.getFullYear());\n\t\t\tfor (i=0; i<12; i++){\n\t\t\t\tcss = (selected == (this._zoom_level==1?i:zlogic._getContent(i, this)) ? \" webix_selected\" : \"\");\n\t\t\t\tif(zlogic._isBlocked(i,this)){\n\t\t\t\t\tcss += \" webix_cal_day_disabled\";\n\t\t\t\t}\n\n\t\t\t\tvar format = i18n.aria[(this._zoom_level==1?\"month\":\"year\")+\"Format\"];\n\t\t\t\thtml+=\"<div role='gridcell' aria-label='\"+DateHelper.dateToStr(format)(config.date)+\n\t\t\t\t\t\"' tabindex='\"+(css.indexOf(\"selected\")!==-1?\"0\":\"-1\")+\n\t\t\t\t\t\"' aria-selected='\"+(css.indexOf(\"selected\")!==-1?\"true\":\"false\")+\n\t\t\t\t\t\"' class='webix_cal_block\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+\n                    \"'><span style='display:inline-block; \"+this._getCalSizesString(sqSize,sqSize)+\"'>\"+zlogic._getContent(i, this)+\"</span></div>\";\n\t\t\t}\n\t\t\tif (config.weekHeader){\n\t\t\t\tsections[index-1].style.display = \"none\";\n\t\t\t\tif (index === 1) sections[index].style.marginTop = cpad;\n\t\t\t}\n\t\t\tsections[index].innerHTML = html;\n\t\t\tif (type != \"year\" && type != \"month\"){\n\t\t\t\tif(!sections[index+1])\n\t\t\t\t\tthis._contentobj.innerHTML += \"<div class='webix_time_footer' style='margin:0 \"+cpad+\"'>\"+this._timeButtonsTemplate()+\"</div>\";\n\t\t\t\telse\n\t\t\t\t\tsections[index+1].innerHTML = this._timeButtonsTemplate();\n\t\t\t} else if (sections[index+1]){\n\t\t\t\tsections[index+1].style.display = \"none\";\n\t\t\t}\n\t\t\tsections[index].style.height = this._reserve_box_height+\"px\";\n\t\t}\n\t},\n\t_getCalSizesString: function(width,height){\n\t\treturn \"width:\"+width+\"px; height:\"+height+\"px; line-height:\"+height+\"px;\";\n\t},\n\t_timeButtonsTemplate: function(){\n\t\treturn \"<input type='button' style='width:100%' class='webix_cal_done' value='\"+i18n.calendar.done+\"'>\";\n\t},\n\t_timeHeaderTemplate: function(width,enLocale){\n\t\tvar w1 = width*(enLocale?5:4);\n\t\tvar w2 = width*2;\n\t\treturn \"<div class='webix_cal_hours' style='width:\"+w1+\"px'>\"+i18n.calendar.hours+\"</div><div class='webix_cal_minutes' style='width:\"+w2+\"px'>\"+i18n.calendar.minutes+\"</div>\";\n\t},\n\t_changeZoomLevel: function(zoom,date){\n\t\tvar oldzoom = this._zoom_level;\n\t\tif(this.callEvent(\"onBeforeZoom\",[zoom, oldzoom])){\n\t\t\tthis._zoom_level = zoom;\n\n\t\t\tif(zoom)\n\t\t\t\tthis._update_zoom_level(date);\n\t\t\telse\n\t\t\t\tthis.showCalendar(date);\n\t\t\tthis.callEvent(\"onAfterZoom\",[zoom, oldzoom]);\n\t\t}\n\t},\n\t_correctDate:function(date){\n\t\tif(!this._checkDate(date) && this._zoom_logic[this._zoom_level]._correctDate)\n\t\t\tdate = this._zoom_logic[this._zoom_level]._correctDate(date,this);\n\t\treturn date;\n\t},\n\t_mode_selected:function(target){\n\n\t\tvar next = this._locate_date(target);\n\t\tvar zoom = this._zoom_level-(this._fixed?0:1);\n\n\t\tnext = this._correctDate(next);\n\t\tif(this._checkDate(next)){\n\t\t\tthis._changeZoomLevel(zoom, next);\n\t\t\tvar type = this._settings.type;\n\t\t\tif(type == \"month\" || type == \"year\")\n\t\t\t\tthis._selectDate(next);\n\t\t}\n\t},\n\t// selects date and redraw calendar\n\t_selectDate: function(date, add){\n\t\tif(this.callEvent(\"onBeforeDateSelect\", [date])){\n\t\t\tthis.selectDate(date, true, add);\n\t\t\tthis.callEvent(\"onDateSelect\", [date]);       // should be deleted in a future version\n\t\t\tthis.callEvent(\"onAfterDateSelect\", [date]);\n\t\t}\n\t},\n\t_locate_day:function(target){\n\t\tvar cind = index(target) - (this._settings.weekNumber?1:0);\n\t\tvar rind = index(target.parentNode);\n\t\tvar date = DateHelper.add(this._getDateBoundaries()._start, cind + rind*7, \"day\", true);\n\t\tif (this._settings.timepicker){\n\t\t\tdate.setHours(this._settings.date.getHours());\n\t\t\tdate.setMinutes(this._settings.date.getMinutes());\n\t\t}\n\t\treturn date;\n\t},\n\t_locate_date:function(target){\n\t\tvar value = target.getAttribute(\"data-value\")*1;\n\t\tvar level = (target.className.indexOf(\"webix_cal_block_min\")!=-1?this._zoom_level-1:this._zoom_level);\n\t\tvar now = this._settings.date;\n\t\tvar next = DateHelper.copy(now);\n\n\t\tthis._zoom_logic[level]._setContent(next, value, this);\n\n\t\treturn next;\n\t},\n\ton_click:{\n\t\twebix_cal_prev_button: function(){\n\t\t\tthis._changeDate(-1);\n\t\t},\n\t\twebix_cal_next_button: function(){\n\t\t\tthis._changeDate(1);\n\t\t},\n\t\twebix_cal_day_disabled: function(){\n\t\t\treturn false;\n\t\t},\n\t\twebix_cal_outside: function(){\n\t\t\tif(!this._settings.navigation)\n\t\t\t\treturn false;\n\t\t},\n\t\twebix_cal_day: function(e, id, target){\n\t\t\tvar date = this._locate_day(target);\n\t\t\tvar add = this._settings.multiselect === \"touch\"  || (e.ctrlKey || e.metaKey);\n\t\t\tthis._selectDate(date, add);\n\t\t},\n\t\twebix_cal_time:function(){\n\t\t\tif(this._zoom_logic[this._zoom_level-1]){\n\t\t\t\tthis._zoom_in = true;\n\t\t\t\tvar zoom = this._zoom_level - 1;\n\t\t\t\tthis._changeZoomLevel(zoom);\n\t\t\t}\n\t\t},\n\t\twebix_range_time_start:function(){\n\t\t\t$$(this._settings.master)._time_mode = \"start\";\n\t\t},\n\t\twebix_range_time_end:function(){\n\t\t\t$$(this._settings.master)._time_mode = \"end\";\n\t\t},\n\t\twebix_cal_done:function(){\n\t\t\tvar date = DateHelper.copy(this._settings.date);\n\t\t\tdate = this._correctDate(date);\n\t\t\tthis._selectDate(date);\n\t\t},\n\t\twebix_cal_month_name:function(){\n\t\t\tif (!this._settings.navigation) return;\n\n\t\t\tthis._zoom_in = false;\n\t\t\t//maximum zoom reached\n\t\t\tif (this._zoom_level == 2 || !this._settings.monthSelect) return;\n\n\t\t\tvar zoom = Math.max(this._zoom_level, 0) + 1;\n\t\t\tthis._changeZoomLevel(zoom);\n\t\t},\n\t\twebix_cal_block:function(e, id, trg){\n\t\t\tif(this._zoom_in){\n\t\t\t\tif(trg.className.indexOf(\"webix_cal_day_disabled\")!==-1)\n\t\t\t\t\treturn false;\n\t\t\t\tvar next = this._locate_date(trg);\n\t\t\t\tthis._update_zoom_level(next);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(trg.className.indexOf(\"webix_cal_day_disabled\")==-1)\n\t\t\t\t\tthis._mode_selected(trg);\n\t\t\t}\n\t\t}\n\t},\n\t_string_to_date: function(date, format){\n\t\tif (!date){\n\t\t\treturn DateHelper.datePart(new Date());\n\t\t}\n\t\tif(typeof date == \"string\"){\n\t\t\tif (format)\n\t\t\t\tdate = DateHelper.strToDate(format)(date);\n\t\t\telse\n\t\t\t\tdate=i18n.parseFormatDate(date);\n\t\t}\n\n\t\treturn date;\n\t},\n\t_checkDate: function(date){\n\t\tvar blockedDate = (this._settings.blockDates && this._settings.blockDates.call(this,date));\n\t\tvar minDate = this._settings.minDate;\n\t\tvar maxDate = this._settings.maxDate;\n\t\tvar outOfRange = (date < minDate || date > maxDate);\n\t\treturn !blockedDate &&!outOfRange;\n\t},\n\t_findActive:function(date, mode){\n\t\tvar dir = (mode === \"top\" || mode ===\"left\" || mode === \"pgup\" || mode === \"up\") ? -1 : 1;\n\t\tvar newdate = DateHelper.add(date, dir, \"day\", true);\n\t\tif(this._checkDate(newdate))\n\t\t\treturn newdate;\n\t\telse{\n\t\t\tvar compare;\n\t\t\tif(this._zoom_level === 0) compare = (date.getMonth() === newdate.getMonth());\n\t\t\telse if(this._zoom_level === 1 ) compare = (date.getFullYear() === newdate.getFullYear());\n\t\t\telse if(this._zoom_level === 2) compare = (newdate.getFullYear() > this._zoom_start_date && newdate.getFullYear() < this._zoom_start_date+10);\n\n\t\t\tif(compare)\n\t\t\t\treturn this._findActive(newdate, mode);\n\t\t}\n\t},\n\tshowCalendar: function(date) {\n\t\tdate = this._string_to_date(date);\n\t\tthis._settings.date = date;\n\t\tthis.render();\n\t\tthis.resize();\n\t},\n\t_selectedDay: function(day){\n\t\treturn day && this._selected_days[day.valueOf()];\n\t},\n\tgetSelectedDate: function() {\n\t\tvar result = [];\n\t\tfor (var key in this._selected_days)\n\t\t\tresult.push(DateHelper.copy(this._selected_days[key]));\n\t\t\n\t\treturn this.config.multiselect ? result : (result[0] || null);\n\t},\n\tgetVisibleDate: function() {\n\t\treturn DateHelper.copy(this._settings.date);\n\t},\n\tsetValue: function(date){\n\t\tthis.selectDate(date, true);\n\t},\n\tgetValue: function(format){\n\t\tvar date = this.getSelectedDate();\n\t\tif (format)\n\t\t\tdate = DateHelper.dateToStr(format)(date);\n\t\treturn date;\n\t},\n\tselectDate: function(date, show, add){\n\t\tif (!date || !add || !this.config.multiselect)\n\t\t\tthis._selected_days = {};\n\n\t\tif(date){\n\t\t\tif (!isArray(date))\n\t\t\t\tdate = [date];\n\t\t\tfor (var i=0; i<date.length; i++){\n\t\t\t\tvar days = this._string_to_date(date[i]);\n\t\t\t\tvar key = DateHelper.datePart(DateHelper.copy(days)).valueOf();\n\t\t\t\tif (this._selected_days[key] && add)\n\t\t\t\t\tdelete this._selected_days[key];\n\t\t\t\telse\n\t\t\t\t\tthis._selected_days[key] = days;\n\n\t\t\t\tif (!this.config.multiselect)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tif (date.length && show)\n\t\t\t\tthis.showCalendar(date[0]);\n\t\t}\n\n\t\tif(show !== false)\n\t\t\tthis.render();\n\n\t\tthis.callEvent(\"onChange\",[date]);\n\t}, \n\tlocate:function(){ return null; }\n};\n\n\nconst view = protoUI(api, KeysNavigation, MouseEvents, base.view, EventSystem);\nexport default {api, view};","import {locate} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {bind} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport template from \"../webix/template\";\n\nimport color from \"../webix/color\";\nimport KeysNavigation from \"../core/keysnavigation\";\nimport EventSystem from \"../core/eventsystem\";\nimport base from \"../views/view\";\n\nconst api = {\n\tname:\"colorboard\",\n\tdefaults:{\n\t\ttemplate:\"<div style=\\\"width:100%;height:100%;background-color:{obj.val}\\\"></div>\",\n\t\tpalette:null,\n\t\theight:220,\n\t\twidth:220,\n\t\tcols:12,\n\t\trows:10,\n\t\tminLightness:0.15,\n\t\tmaxLightness:1,\n\t\tnavigation:true\n\t},\n\t$init:function(){\n\t\t_event(this._viewobj, \"click\", bind(function(e){\n\t\t\tlet value = locate(e, /*@attr*/\"webix_val\");\n\t\t\t// locate can return null in case of drag\n\t\t\tif (value){\n\t\t\t\tconst oldvalue = this._settings.value;\n\t\t\t\tvalue = this.setValue(value);\n\n\t\t\t\tthis.callEvent(\"onItemClick\", [value, e]);\n\t\t\t\tif (value != oldvalue)\n\t\t\t\t\tthis.callEvent(\"onSelect\", [value]);\n\t\t\t}\n\t\t}, this));\n\n\t\tthis.$view.setAttribute(\"role\", \"grid\");\n\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\n\t},\n\t_set_item_focus:function(){\n\t\tif(!this.getValue())\n\t\t\tthis.moveSelection(\"up\");\n\t},\n\t_findIndex:function(value){\n\t\tvar pal = this._settings.palette;\n\t\tvalue = (value || \"\").toUpperCase();\n\t\tfor(var r= 0, rows= pal.length; r < rows; r++)\n\t\t\tfor(var c= 0, cols = pal[r].length; c < cols; c++){\n\t\t\t\tif(pal[r][c].toUpperCase() == value){\n\t\t\t\t\treturn {row:r, col:c};\n\t\t\t\t}\n\t\t\t}\n\t\treturn null;\n\t},\n\t$setSize:function(x,y){\n\t\tif(base.api.$setSize.call(this,x,y)){\n\t\t\tthis.render();\n\t\t}\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value;\n\t},\n\t_getBox:function(){\n\t\treturn this._viewobj.firstChild;\n\t},\n\t$prepareValue:function(value){\n\t\tvalue = value ? value.toString(16) : \"\";\n\t\tif (value && value.charAt(0) != \"#\" && /^[0-9a-fA-F]+$/.test(value))\n\t\t\tvalue = \"#\" + value;\n\t\treturn value;\n\t},\n\tvalue_setter:function(value){\n\t\treturn this.$prepareValue(value);\n\t},\n\tsetValue:function(value){\n\t\tvalue = this.$prepareValue(value);\n\t\tconst oldvalue = this._settings.value;\n\n\t\tthis._settings.value = value;\n\t\tthis.$setValue(value, oldvalue);\n\n\t\treturn value;\n\t},\n\t_selectBox:null,\n\t_getSelectBox:function(){\n\t\tif( this._selectBox && this._selectBox.parentNode ){\n\t\t\treturn this._selectBox;\n\t\t}else{\n\t\t\tvar div = this._selectBox = document.createElement(\"div\");\n\t\t\tdiv.className = \"webix_color_selector\";\n\t\t\tthis._viewobj.lastChild.appendChild(div);\n\t\t\treturn div;\n\t\t}\n\t},\n\t$setValue:function(value, oldvalue){\n\t\tif(this.isVisible(this._settings.id)){\n\t\t\tvar cell, div, ind, parent, style,\n\t\t\t\tleft = 0, top = 0;\n\n\t\t\t//remove tabindex for previous selection\n\t\t\tif(oldvalue) ind = this._findIndex(oldvalue);\n\t\t\tif(!ind) ind = {row:0, col:0};\n\t\t\tthis._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col].setAttribute(\"tabindex\", \"-1\");\n\n\t\t\tind = this._findIndex(value);\n\t\t\tif(ind){\n\t\t\t\tcell = this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\n\t\t\t}\n\n\t\t\tif(cell && cell.parentNode && cell.parentNode.parentNode){\n\t\t\t\tparent = cell.parentNode;\n\t\t\t\tleft = cell.offsetLeft - parent.offsetLeft ;\n\t\t\t\ttop = - (this.$height - (cell.offsetTop -parent.parentNode.offsetTop ));\n\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\n\t\t\t\tcell.setAttribute(\"aria-selected\", \"true\");\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\n\t\t\t\tcell.setAttribute(\"aria-selected\", \"true\");\n\t\t\t}else{\n\t\t\t\tif (this._selectBox)\n\t\t\t\t\tthis._selectBox.style.left = \"-100px\";\n\t\t\t\tthis._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdiv = this._getSelectBox();\n\t\t\tdiv.setAttribute(\"webix_val\", value);\n\t\t\tstyle =  [\n\t\t\t\t\"left:\" + left + \"px\",\n\t\t\t\t\"top:\" + top+\"px\",\n\t\t\t\t\"width:\" + cell.style.width,\n\t\t\t\t\"height:\" + cell.style.height\n\t\t\t].join(\";\");\n\n\t\t\tif( typeof( div.style.cssText ) !== \"undefined\" ) {\n\t\t\t\tdiv.style.cssText = style;\n\t\t\t} else {\n\t\t\t\tdiv.setAttribute(\"style\",style);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t_initPalette:function(config){\n\t\tfunction numToHex(n){\n\t\t\treturn color.toHex(n, 2);\n\t\t}\n\t\tfunction rgbToHex(r,g,b){\n\t\t\treturn \"#\"+numToHex( Math.floor(r)) +numToHex( Math.floor(g)) + numToHex(Math.floor(b));\n\t\t}\n\t\tfunction hslToRgb(h, s, l){\n\t\t\tvar r, g, b;\n\t\t\tif(!s){\n\t\t\t\tr = g = b = l; // achromatic\n\t\t\t}else{\n\t\t\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t\t\t\tvar p = 2 * l - q;\n\t\t\t\tr = hue2rgb(p, q, h + 1/3);\n\t\t\t\tg = hue2rgb(p, q, h);\n\t\t\t\tb = hue2rgb(p, q, h - 1/3);\n\t\t\t}\n\n\t\t\treturn {r:r * 255, g:g * 255, b:b * 255};\n\t\t}\n\t\tfunction hue2rgb(p, q, t){\n\t\t\tif(t < 0) t += 1;\n\t\t\tif(t > 1) t -= 1;\n\t\t\tif (t < 1/6)\n\t\t\t\treturn p + (q - p) * 6 * t; \n\t\t\telse if (t <= 1/2)\n\t\t\t\treturn q;\n\t\t\telse if (t < 2/3) \n\t\t\t\treturn p + (q - p) * (2/3 - t) * 6;\n\t\t\telse\n\t\t\t\treturn p;\n\t\t}\n\n\t\tfunction renderGrayBar(colCount){\n\t\t\tvar gray = [],\n\t\t\t\tval = 255,\n\t\t\t\tstep = val / colCount;\n\n\t\t\tfor(var i=0; i < colCount; i++){\n\t\t\t\tval = Math.round(val > 0 ? val : 0);\n\t\t\t\tgray.push(rgbToHex(val, val, val));\n\t\t\t\tval -= step;\n\t\t\t}\n\t\t\tgray[gray.length - 1] = \"#000000\";\n\t\t\treturn gray;\n\t\t}\n\n\t\tvar colors = [];\n\t\tvar colorRows = config.rows - 1;\n\t\tvar colorStep = 1/config.cols;\n\t\tvar lightStep = (config.maxLightness - config.minLightness)/colorRows;\n\t\tvar colorRange = null;\n\n\t\tcolors.push(renderGrayBar(config.cols));\n\n\t\tfor(var step = 0, lt = config.minLightness; step < colorRows; step++){\n\t\t\tcolorRange = [];\n\t\t\tfor(var c = 0, col = 0; c < config.cols; c++ ){\n\t\t\t\tvar val = hslToRgb(col, 1, lt );\n\t\t\t\tcolorRange.push(rgbToHex(val.r, val.g, val.b));\n\t\t\t\tcol += colorStep;\n\t\t\t}\n\t\t\tcolors.push(colorRange);\n\t\t\tlt+=lightStep;\n\t\t}\n\n\t\tthis._settings.palette = colors;\n\t},\n\tmoveSelection:function(mode, details, focus){\n\t\tvar value = this.getValue(), ind, cell;\n\n\t\tif(value) ind = this._findIndex(value);\n\t\tif(!ind) ind = {row:0, col:0};\n\n\t\tif(ind){\n\t\t\tif(mode == \"up\" || mode == \"down\")\n\t\t\t\tind.row = ind.row + (mode == \"up\"?-1:1);\n\t\t\telse if(mode == \"right\" || mode == \"left\")\n\t\t\t\tind.col = ind.col +(mode == \"right\"?1:-1);\n\t\t\telse if(mode == \"top\" )\n\t\t\t\tind.row = ind.col = 0;\n\t\t\telse if(mode == \"bottom\"){\n\t\t\t\tind.row = this._viewobj.lastChild.querySelectorAll(\".webix_color_row\").length-1;\n\t\t\t\tind.col = this._viewobj.lastChild.childNodes[ind.row].childNodes.length-1;\n\t\t\t}\n\t\t\tind.row = Math.max(ind.row, 0);\n\t\t\tif(ind.row>=0)\n\t\t\t\tcell = this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\n\t\t\tif(cell){\n\t\t\t\tvalue =  cell.getAttribute(/*@attr*/\"webix_val\");\n\t\t\t\tthis.setValue(value);\n\t\t\t\tthis.callEvent(\"onSelect\", [this._settings.value]);\n\n\t\t\t\tif(focus !==false){\n\t\t\t\t\tvar sel = this._viewobj.querySelector(\"div[tabindex='0']\");\n\t\t\t\t\tif(sel)  sel.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\trender:function(){\n\t\tif(!this.isVisible(this._settings.id))\n\t\t\treturn;\n\n\t\tif(!this._settings.palette)\n\t\t\tthis._initPalette(this._settings);\n\t\tvar palette = this._settings.palette;\n\n\t\tthis.callEvent(\"onBeforeRender\",[]);\n\t\tvar config = this._settings,\n\t\t\titemTpl = template(\"<div role='gridcell' tabindex='-1' aria-label=\\\"{obj.val}\\\" style=\\\"width:{obj.width}px;height:{obj.height}px;\\\" \"+/*@attr*/\"webix_val\"+\"=\\\"{obj.val}\\\">\" + (config.template||\"\") + \"</div>\"),\n\t\t\tdata = {width: 0, height:0, val:0},\n\t\t\twidth = this.$width,\n\t\t\theight =  this.$height,\n\t\t\twidths = [];\n\n\t\tvar html = \"<div class=\\\"webix_color_palette\\\"role=\\\"rowgroup\\\">\";\n\n\t\tvar firstRow = (typeof palette[0] == \"object\") ? palette[0] : palette;\n\t\tfor(var i=0; i < firstRow.length; i++){\n\t\t\twidths[i] = Math.floor(width/(firstRow.length - i));\n\t\t\twidth -= widths[i];\n\t\t}\n\n\t\tif(typeof palette[0] == \"object\"){\n\t\t\tfor(var r=0; r < palette.length; r++){\n\t\t\t\tvar cellHeight = Math.floor(height/(palette.length - r));\n\t\t\t\theight -= cellHeight;\n\t\t\t\tvar row = palette[r];\n\t\t\t\thtml += renderRow(row, widths, cellHeight);\n\t\t\t}\n\t\t}else{\n\t\t\thtml+= renderRow(palette, widths, height);\n\t\t}\n\n\t\thtml += \"</div>\";\n\t\tthis._viewobj.innerHTML = html;\n\n\t\tfunction renderRow(row, widths, height){\n\t\t\tvar rowHtml = \"<div class=\\\"webix_color_row\\\" role=\\\"row\\\">\";\n\t\t\tfor(var cell = 0; cell < row.length; cell++){\n\t\t\t\tdata.width = widths[cell];\n\t\t\t\tdata.height = height;\n\t\t\t\tdata.val = row[cell];\n\t\t\t\trowHtml += itemTpl(data);\n\t\t\t}\n\t\t\trowHtml += \"</div>\";\n\t\t\treturn rowHtml;\n\t\t}\n\t\tthis._selectBox = null;\n\t\tif(this._settings.value)\n\t\t\tthis.$setValue(this._settings.value);\n\t\telse\n\t\t\tthis._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\n\t\tthis.callEvent(\"onAfterRender\",[]);\n\t},\n\trefresh:function(){ this.render(); }\n};\n\nconst view = protoUI(api, KeysNavigation, base.view, EventSystem);\nexport default {api, view};","import {triggerEvent, preventEvent, getTextSize, locate} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {isUndefined, isArray} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport template from \"../webix/template\";\n\nimport baseview from \"../views/baseview\";\nimport base from \"../views/view\";\n\nimport AutoTooltip from \"../core/autotooltip\";\nimport UIManager from \"../core/uimanager\";\nimport EventSystem from \"../core/eventsystem\";\nimport AtomRender from \"../core/atomrender\";\nimport Settings from \"../core/settings\";\n\n\nconst api = {\n\tname:\"button\",\n\ttouchable:true,\n\t$skin:function(){\n\t\tthis.defaults.height = $active.buttonHeight||$active.inputHeight;\n\t},\n\tdefaults:{\n\t\ttemplate:function(obj, common){\n\t\t\tvar text = common.$renderInput(obj, common);\n\t\t\tif (obj.badge||obj.badge===0) text = text.replace(\"</button>\", \"<span class='webix_badge'>\"+obj.badge+\"</span></button>\");\n\t\t\treturn \"<div class='webix_el_box' style='width:\"+obj.awidth+\"px; height:\"+obj.aheight+\"px'>\"+ text + \"</div>\";\n\t\t},\n\t\tlabel:\"\",\n\t\tvalue:\"\",\n\t\tborderless:true\n\t},\n\t$renderInput:function(obj){\n\t\treturn \"<button type='button' \"+(obj.popup?\"aria-haspopup='true'\":\"\")+\" class='webix_button'>\"+(obj.label||obj.value)+\"</button>\";\n\t},\n\t$init:function(config){\n\t\tthis._viewobj.className += \" webix_control webix_el_\"+(this.$cssName||this.name);\n\n\t\tthis._set_default_css(config);\n\n\t\tthis.data = this._settings;\n\t\tthis._dataobj = this._viewobj;\n\n\t\tthis.$ready.push(function(){ this._calc_size(this.config); });\n\t},\n\thotkey_setter: function(key){\n\t\tvar control = this;\n\t\tthis._addElementHotKey(key, function(view,ev){\n\t\t\tif(control.isVisible()){\n\t\t\t\tvar elem = control.$view.firstChild;\n\t\t\t\ttriggerEvent(elem, \"MouseEvents\", \"click\");\n\t\t\t\tpreventEvent(ev);\n\t\t\t}\n\t\t});\n\t},\n\t_set_default_css: function(config){\n\t\tif (!config.css || !this._get_class(config.css) || (this.defaults.css && !this._get_class(this.defaults.css))){\n\t\t\tthis._viewobj.className += \" webix_secondary\";\n\t\t}\n\t},\n\t_get_class:function(css){\n\t\tif(typeof css == \"string\"){\n\t\t\tconst classes = { webix_danger:1, webix_transparent:1, webix_primary:1 };\n\t\t\tfor(let i in classes){\n\t\t\t\tif(css.indexOf(i)!==-1)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t_addElementHotKey: function(key, func, view){\n\t\tvar keyCode = UIManager.addHotKey(key, func, view);\n\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\tUIManager.removeHotKey(keyCode, func, view);\n\t\t});\n\t},\n\ttype_setter:function(value){\n\t\tif (this._types[value])\n\t\t\tthis.$renderInput = template(this._types[value]);\n\t\treturn value;\n\t},\n\t_set_inner_size:false,\n\t_types:{\n\t\timage:\"<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'>#label#</button>\",\n\t\timageTop:\"<button type='button' class='webix_button webix_img_btn_top'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'><div class='webix_img_btn_text'>#label#</div></button>\",\n\n\t\ticon:\"<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;'></span>#label#</button>\",\n\t\ticonTop:\"<button type='button' class='webix_button webix_img_btn_top' style='width:100%;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#label#</div></button>\",\n\t},\n\t_findAllInputs: function(){\n\t\tvar result = [];\n\t\tvar tagNames = [\"input\",\"select\",\"textarea\",\"button\"];\n\t\tfor(var i=0; i< tagNames.length; i++){\n\t\t\tvar inputs = this.$view.getElementsByTagName(tagNames[i]);\n\t\t\tfor(var j = 0; j< inputs.length; j++){\n\t\t\t\tresult.push(inputs[j]);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\tdisable: function(){\n\t\tvar i, node, elem = this._getBox();\n\t\tbaseview.api.disable.apply(this, arguments);\n\t\tif(elem && elem.className.indexOf(\" webix_disabled_box\")== -1){\n\t\t\telem.className += \" webix_disabled_box\";\n\t\t\tvar inputs = this._findAllInputs();\n\t\t\tfor(i=0; i< inputs.length; i++)\n\t\t\t\tinputs[i].setAttribute(\"disabled\",true);\n\n\t\t\t// richselect and based on it\n\t\t\tnode = this.getInputNode();\n\t\t\tif(node && node.tagName.toLowerCase() == \"div\"){\n\t\t\t\tthis._disabledTabIndex = node.getAttribute(\"tabIndex\");\n\t\t\t\tnode.removeAttribute(\"tabIndex\");\n\t\t\t}\n\n\t\t\tif(this._settings.labelPosition == \"top\"){\n\t\t\t\tvar label = this._dataobj.firstChild;\n\t\t\t\tif(label)\n\t\t\t\t\tlabel.className += \" webix_disabled_top_label\";\n\t\t\t}\n\t\t}\n\t},\n\tenable: function(){\n\t\tbaseview.api.enable.apply(this, arguments);\n\t\tvar node,\n\t\t\telem = this._getBox();\n\t\tif(elem){\n\t\t\telem.className = elem.className.replace(\" webix_disabled_box\",\"\");\n\t\t\tvar inputs = this._findAllInputs();\n\t\t\tfor(var i=0; i< inputs.length; i++)\n\t\t\t\tinputs[i].removeAttribute(\"disabled\");\n\n\t\t\tnode = this.getInputNode();\n\t\t\tif(node && !isUndefined(this._disabledTabIndex))\n\t\t\t\tnode.setAttribute(\"tabIndex\",this._disabledTabIndex);\n\n\t\t\tif(this._settings.labelPosition == \"top\"){\n\t\t\t\tvar label = this._dataobj.firstChild;\n\t\t\t\tif(label)\n\t\t\t\t\tlabel.className = label.className.replace(\" webix_disabled_top_label\",\"\");\n\t\t\t}\n\t\t}\n\t},\n\t$setSize:function(x,y){\n\t\tif(base.api.$setSize.call(this,x,y)){\n\t\t\tthis.render();\n\t\t}\n\t},\n\tsetValue:function(value){\n\t\tvalue = this.$prepareValue(value);\n\t\tconst oldvalue = this._settings.value;\n\n\t\tif (this.$compareValue(oldvalue, value)){\n\t\t\tif (this._rendered_input && value != this.$getValue())\n\t\t\t\tthis.$setValue(value);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._settings.value = value;\n\t\tif (this._rendered_input)\n\t\t\tthis.$setValue(value);\n\n\t\tthis.callEvent(\"onChange\", [value, oldvalue]);\n\t},\n\t$compareValue:function(oldvalue, value){ \n\t\tif (typeof value === \"number\") value = value.toString();\n\t\tif (typeof oldvalue === \"number\") oldvalue = oldvalue.toString();\n\t\treturn oldvalue == value;\n\t},\n\t$prepareValue:function(value){ return value === 0 ? \"0\" : (value || \"\").toString(); },\n\tvalue_setter:function(value){\n\t\treturn this.$prepareValue(value);\n\t},\n\t//visual part of setValue\n\t$setValue:function(value){\n\t\tconst node = this.getInputNode();\n\t\tif (node && !this._types[this._settings.type]){\n\t\t\tvalue = this._settings.label || value;\n\t\t\tif (node.tagName==\"BUTTON\") node.innerHTML = value;\n\t\t\telse node.value = value;\n\t\t}\n\t},\n\tgetValue:function(){\n\t\t//if button was rendered - returning actual value\n\t\t//otherwise - returning last set value\n\t\tvar value = this._rendered_input? this.$getValue() : this._settings.value;\n\t\treturn (typeof value == \"undefined\") ? \"\" : value;\n\t},\n\t$getValue:function(){\n\t\treturn this._settings.value||\"\";\t\n\t},\n\tfocus:function(){\n\t\tif(!UIManager.canFocus(this))\n\t\t\treturn false;\n\t\t\n\t\tvar input = this.getInputNode();\n\t\tif (input && input.focus) input.focus();\n\t},\n\tblur:function() {\n\t\tvar input = this.getInputNode();\n\t\tif (input && input.blur) input.blur();\n\t},\n\t//get input element\n\tgetInputNode: function() {\n\t\treturn this._dataobj.getElementsByTagName(\"input\")[0]||this._dataobj.getElementsByTagName(\"button\")[0];\n\t},\n\t//get top-level sub-container\n\t_getBox:function(){\n\t\tfor(var i=0;i< this._dataobj.childNodes.length;i++){\n\t\t\tif(this._dataobj.childNodes[i].className.indexOf(\"webix_el_box\")>=0)\n\t\t\t\treturn this._dataobj.childNodes[i];\n\t\t}\n\t\treturn null;\n\t},\n\t_get_tooltip_data:function(t,e){\n\t\tlet node = e.target || e.srcElement;\n\t\tlet box = this._getBox();\n\n\t\tif (box && box.contains(node))\n\t\t\treturn this._settings;\n\t\treturn null;\n\t},\n\t_sqrt_2:Math.sqrt(2),\n\t_calc_size:function(config){\n\t\tconfig = config || this._settings;\n\t\tif (config.autowidth){\n\t\t\tlet width = getTextSize((config.value||config.label || \"\"), \"webixbutton\").width +\n\t\t\t\t(config.badge||config.badge===0 ? getTextSize(config.badge, \"webix_badge\").width * 2 - 32 : 0) +\n\t\t\t\t(config.type === \"icon\" ? 24 : 0) +\n\t\t\t\t(config.type === \"image\" ? config.height-$active.inputPadding : 0);\n\n\t\t\twidth = Math.max(config.minWidth || 0, width);\n\t\t\tconfig.width = Math.min(config.maxWidth || Infinity, width);\n\t\t}\n\t},\n\t_calck_input_size:function(){\n\t\t//use width for both width and inputWidth settings in clever way\n\t\t//in form, we can define width for some element smaller than for siblings\n\t\t//it will use inputWidth to render the desired view\n\t\tthis._input_width = this._settings.inputWidth || \n\t\t\t((this._content_width - this._settings.width > 2)?this._settings.width:0) || this._content_width;\n\t\tthis._input_height = this._settings.inputHeight||this._inputHeight||0;\n\t},\n\tresize: function(){\n\t\tthis._calc_size();\n\t\treturn base.api.resize.apply(this,arguments);\n\t},\n\trender:function(){\n\t\tthis._calck_input_size();\n\t\tthis._settings.awidth  = this._input_width||this._content_width;\n\t\tthis._settings.aheight = this._input_height||this._content_height;\n\n\t\t//image button - image width\n\t\tthis._settings.bheight = this._settings.aheight+2;\n\t\tthis._settings.cheight = this._settings.aheight- 2*$active.inputPadding;\n\t\tthis._settings.dheight = this._settings.cheight - 2; // - borders\n\n\t\tif(AtomRender.render.call(this)){\n\t\t\tthis._rendered_input = true;\n\t\t\tif (this._set_inner_size) this._set_inner_size();\n\t\t\tif (this._settings.align){\n\t\t\t\tvar handle = this._dataobj.firstChild;\n\t\t\t\tif (this._settings.labelPosition == \"top\" && handle.nextSibling)\n\t\t\t\t\thandle = handle.nextSibling;\n\n\t\t\t\tswitch(this._settings.align){\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\thandle.style.cssFloat = \"right\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\thandle.style.display = \"inline-block\";\n\t\t\t\t\t\thandle.parentNode.style.textAlign = \"center\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\t\thandle.style.marginTop = Math.round((this._content_height-this._input_height)/2)+\"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"bottom\": \n\t\t\t\t\t\thandle.style.marginTop = (this._content_height-this._input_height)+\"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\thandle.style.cssFloat = \"left\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tassert(false, \"Unknown align mode: \"+this._settings.align);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.$render)\n\t\t\t\tthis.$render(this.data);\n\n\t\t\tif (this._settings.disabled)\n\t\t\t\tthis.disable();\n\n\t\t\tif (this._init_once){\n\t\t\t\tthis._init_once(this.data);\n\t\t\t\tthis._init_once = 0;\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh:function(){ this.render(); },\n\n\ton_click:{\n\t\t_handle_tab_click: function(ev){\n\t\t\tconst id = locate(ev, /*@attr*/\"button_id\");\n\t\t\tconst opt = this.getOption(id);\n\n\t\t\tif (opt && !opt.disabled && this.callEvent(\"onBeforeTabClick\", [id, ev])){\n\t\t\t\tthis.setValue(id);\n\t\t\t\tthis.focus();\n\t\t\t\tthis.callEvent(\"onAfterTabClick\", [id, ev]);\n\t\t\t}\n\t\t},\n\t\twebix_all_segments:function(ev, button){\n\t\t\tthis.on_click._handle_tab_click.call(this, ev, button);\n\t\t},\n\t\twebix_all_tabs:function(ev, button){\n\t\t\tthis.on_click._handle_tab_click.call(this, ev, button);\n\t\t},\n\t\twebix_inp_counter_next:function(){\n\t\t\tif (!this._settings.readonly)\n\t\t\t\tthis.next();\n\t\t},\n\t\twebix_inp_counter_prev:function(){\n\t\t\tif (!this._settings.readonly)\n\t\t\t\tthis.prev();\n\t\t},\n\t\twebix_input_icon:function(){\n\t\t\tthis.getInputNode().focus();\n\t\t},\n\t\twebix_inp_checkbox_border: function(e) {\n\t\t\tif (!this._settings.disabled && (e.target||e.srcElement).tagName != \"DIV\" && !this._settings.readonly)\n\t\t\t\tthis.toggle();\n\t\t},\n\t\twebix_inp_checkbox_label: function() {\n\t\t\tif (!this._settings.readonly)\n\t\t\t\tthis.toggle();\n\t\t},\n\t\twebix_inp_radio_border: function(e) {\n\t\t\tconst id = locate(e, /*@attr*/\"radio_id\");\n\t\t\tconst opt = this.getOption(id);\n\n\t\t\tif (opt && !opt.disabled){\n\t\t\t\tthis.setValue(id);\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t},\n\t\twebix_tab_more_icon: function(ev,obj,node){\n\t\t\tconst popup = this.getPopup();\n\t\t\tif (!popup.isVisible()){\n\t\t\t\tpopup.resize();\n\t\t\t\tpopup.show(node, null, true);\n\t\t\t} else\n\t\t\t\tpopup.hide();\n\t\t},\n\t\twebix_tab_close:function(e){\n\t\t\tconst id = locate(e, /*@attr*/\"button_id\");\n\t\t\tconst opt = this.getOption(id);\n\n\t\t\tif (opt && !opt.disabled && this.callEvent(\"onBeforeTabClose\", [id, e]))\n\t\t\t\tthis.removeOption(id);\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t//method do not used by button, but  used by other child-views\n\t_check_options:function(opts){\n\t\tassert(!!opts, this.name+\": options not defined\");\n\t\tassert(isArray(opts), this.name+\": options must be an array\");\n\n\t\tfor(var i=0;i<opts.length;i++){\n\t\t\t// asserts need to be removed in final version\t\t\t\n\t\t\tassert(!opts[i].text, \"Please replace .text with .value in control config\");\n\t\t\tassert(!opts[i].label, \"Please replace .label with .value in control config\");\n\n\t\t\tif(typeof opts[i]==\"string\"){\n\t\t\t\topts[i] = {id:opts[i], value:opts[i]};\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(isUndefined(opts[i].id))\n\t\t\t\t\topts[i].id = opts[i].value;\n\n\t\t\t\tif(isUndefined(opts[i].value))\n\t\t\t\t\topts[i].value = opts[i].id;\n\t\t\t}\n\t\t}\n\t\treturn opts;\n\t},\n\t_get_div_placeholder: function(obj){\n\t\tvar placeholder = (obj?obj.placeholder:this._settings.placeholder);\n\t\treturn (placeholder?\"<span class='webix_placeholder'>\"+placeholder+\"</span>\":\"\");\n\t}\n};\n\nconst view = protoUI(api, base.view, AutoTooltip, AtomRender, Settings, EventSystem);\nexport default {api, view};","import {getTextSize} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\n\nimport button from \"../views/button\";\n\nconst api = {\n\tname:\"label\",\n\tdefaults:{\n\t\ttemplate:\"<div class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>\"\n\t},\n\t$skin:function(){\n\t\tbutton.api.$skin.call(this);\n\n\t\tthis.defaults.height = $active.inputHeight;\n\t},\n\tfocus:function(){ return false; },\n\t_getBox:function(){\n\t\treturn this._dataobj.firstChild;\n\t},\n\tsetHTML:function(html){\n\t\tthis._settings.label = html;\n\t\tthis.refresh();\n\t},\n\tsetValue: function(value){\n\t\tthis._settings.label = value;\n\t\tbutton.api.setValue.apply(this,arguments);\n\t},\n\t$setValue:function(value){\n\t\tthis._dataobj.firstChild.innerHTML = value;\n\t},\n\t$render:function(config){\n\t\tif (config.align === \"right\")\n\t\t\tthis._dataobj.firstChild.style.textAlign = \"right\";\n\t},\n\t_set_inner_size:false,\n\t_set_default_css:function(){},\n\t_calc_size:function(config){\n\t\tconst css = \"webix_el_box webixlabel\" + (this.queryView(\"toolbar\", \"parent\") ? \" webixtoolbarlabel\" : \"\");\n\t\tconfig = config || this._settings;\n\t\tif (config.autowidth)\n\t\t\tconfig.width = getTextSize(config.label, css).width;\n\t}\n};\n\nconst view = protoUI(api, button.view);\nexport default {api, view};","import UIManager from \"../core/uimanager\";\nimport Number from \"../core/number\";\n\nimport env from \"../webix/env\";\nimport patterns from \"../webix/patterns\";\n\nimport {preventEvent, getSelectionRange, setSelectionRange} from \"../webix/html\";\nimport {bind, isUndefined} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\n\n\nvar controls = {};\nfor(var i in UIManager._controls){\n\tcontrols[UIManager._controls[i]] = i;\n}\nvar nav_controls = {\n\t9:\"tab\",\n\t38:\"up\",\n\t40:\"down\",\n\t37:\"left\",\n\t39:\"right\"\n};\n\n\nconst TextPattern = {\n\t$init:function(config){\n\t\tvar pattern =  this.defaults.pattern || config.pattern;\n\t\tvar format = this.defaults.format || config.format;\n\t\tconfig.value = isUndefined(config.value) ? \"\" :config.value;\n\n\t\tif (pattern || (format && !this.format_setter)){\n\t\t\tthis.attachEvent(\"onKeyPress\", function(code, e){\n\t\t\t\tif(e.ctrlKey || e.altKey || this._settings.readonly || this._custom_format)\n\t\t\t\t\treturn;\n\n\t\t\t\tif(code>105 && code<112) //numpad operators\n\t\t\t\t\tcode -=64;\n\n\t\t\t\tif(controls[code] && code !== 8 && code !==46){  //del && bsp\n\t\t\t\t\tif(!nav_controls[code])\n\t\t\t\t\t\tpreventEvent(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tpreventEvent(e);\n\t\t\t\tthis._on_key_pressed(e, code);\n\t\t\t});\n\n\t\t\tthis.attachEvent(\"onAfterRender\", this._after_render);\n\t\t\tthis.getText = function(){ return this.getInputNode().value; };\n\t\t\tthis.$prepareValue = function(value){ return this._pattern(value, false); };\n\t\t\tthis._pattern = function(value, mode){\n\t\t\t\tif (mode === false)\n\t\t\t\t\treturn this._getRawValue(value);\n\t\t\t\telse\n\t\t\t\t\treturn this._matchPattern(value);\n\t\t\t};\n\n\t\t\tif (format){\n\t\t\t\tif (typeof format === \"object\"){\n\t\t\t\t\tthis._custom_format = format;\n\t\t\t\t} else {\n\t\t\t\t\tformat = Number.getConfig(format);\n\t\t\t\t\tthis._custom_format = {\n\t\t\t\t\t\tparse : function(value){ return Number.parse(value, format); },\n\t\t\t\t\t\tedit : function(value){ return Number.format(value, format); },\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// initialize pattern before value_setter\n\t\tif (pattern){\n\t\t\tthis._settings.pattern = this.pattern_setter(pattern);\n\t\t\tdelete config.pattern;\n\t\t}\n\t},\n\tpattern_setter:function(value){\n\t\tvar pattern = patterns[value] || value;\n\n\t\tif (typeof pattern == \"string\") pattern = { mask: pattern };\n\t\tpattern.allow = pattern.allow || /[A-Za-z0-9]/g;\n\n\t\tthis._patternScheme(pattern);\n\t\treturn pattern;\n\t},\n\t_init_validation:function(){\n\t\tthis.config.validate = this.config.validate || bind(function(){\n\t\t\tvar value = this.getText();\n\t\t\tvar raw = value.replace(this._pattern_chars, \"\");\n\t\t\tvar matches = (value.toString().match(this._pattern_allows) || []).join(\"\");\n\t\t\treturn (matches.length == raw.length && value.length == this._settings.pattern.mask.length);\n\t\t}, this);\n\t},\n\t_after_render:function(){\n\t\tvar ev =  env.isIE8?\"propertychange\":\"input\";\n\t\t\n\t\tif (!this._custom_format) \n\t\t\t_event(this.getInputNode(), ev, function(){\n\t\t\t\tvar stamp =  (new Date()).valueOf();\n\t\t\t\t//dark ie8 magic\n\t\t\t\tvar width = this.$view.offsetWidth; //eslint-disable-line\n\t\t\t\tif(!this._property_stamp || stamp-this._property_stamp>100){\n\t\t\t\t\tthis._property_stamp = stamp;\n\t\t\t\t\tthis.$setValue(this.getText());\n\t\t\t\t}\n\t\t\t}, {bind:this});\n\n\t\t_event(this.getInputNode(), \"blur\", function(){\n\t\t\tthis._applyChanges();\n\t\t}, {bind:this});\n\t},\n\t_patternScheme:function(pattern){\n\t\tvar mask = pattern.mask, scheme = {}, chars = \"\", count = 0;\n\t\t\n\t\tfor(var i = 0; i<mask.length; i++){\n\t\t\tif(mask[i] === \"#\"){\n\t\t\t\tscheme[i] = count; count++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tscheme[i] = false;\n\t\t\t\tif(chars.indexOf(mask[i]) === -1) chars+=\"\\\\\"+mask[i];\n\t\t\t}\n\t\t}\n\t\tthis._pattern_allows = pattern.allow;\n\t\tthis._pattern_chars = new RegExp(\"[\"+chars+\"]\", \"g\");\n\t\tthis._pattern_scheme = scheme;\n\n\t\tthis._init_validation();\n\t},\n\t_on_key_pressed:function(e, code){\n\t\tvar node = this.getInputNode();\n\t\tvar value = node.value;\n\t\tvar pos = getSelectionRange(node);\n\t\tvar chr = \"\";\n\n\t\tif(code == 8 || code == 46){\n\t\t\tif(pos.start == pos.end){\n\t\t\t\tif(code == 8) pos.start--;\n\t\t\t\telse pos.end++;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tchr = String.fromCharCode(code);\n\t\t\tconst isCapsLock = e.getModifierState(\"CapsLock\");\n\t\t\tif (!e.shiftKey && !isCapsLock || e.shiftKey && isCapsLock) chr = chr.toLowerCase();\n\t\t}\n\n\t\tvalue = value.substr(0, pos.start) + chr +value.substr(pos.end);\n\t\tpos = this._getCaretPos(chr, value.length, pos.start, code);\n\n\t\tthis._input_code = code;\n\t\tthis.$setValue(value);\n\n\t\tsetSelectionRange(node, pos);\n\t},\n\t_getCaretPos:function(chr, len, pos, code){\n\t\tif((chr && chr.match(this._pattern_allows)) || (code ==8 || code ==46)){\n\t\t\tpos = chr ? pos+1 : pos;\n\t\t\tpos = this._fixCaretPos(pos, code);\n\t\t}\n\t\telse if(len-1 == pos && code !==8 && code !==46){\n\t\t\tvar rest = this._settings.pattern.mask.indexOf(\"#\", pos);\n\t\t\tif(rest>0) pos += rest;\n\t\t}\n\t\treturn pos;\n\t},\n\t_fixCaretPos:function(pos, code){\n\t\tvar prev = pos-(code !== 46)*1;\n\n\t\tif(this._pattern_scheme[prev] === false){\n\t\t\tpos = pos+(code ==8 ? -1: 1);\n\t\t\treturn this._fixCaretPos(pos, code);\n\t\t}\n\t\tif(this._pattern_scheme[pos] === false && code !==8)\n\t\t\treturn this._fixCaretPos(pos+1, code)-1;\n\t\treturn pos;\n\t},\n\t_getRawValue:function(value){\n\t\tif (this._custom_format)\n\t\t\treturn this._custom_format.parse(value);\n\n\t\tvalue = value || value === 0 ? value : \"\";\n\t\tvar matches = value.toString().match(this._pattern_allows) || [];\n\t\treturn matches.join(\"\").replace(this._pattern_chars, \"\");\n\t},\n\t_matchPattern:function(value){\n\t\tif (this._custom_format)\n\t\t\treturn this._custom_format.edit(this._custom_format.parse(value));\n\n\t\tvar raw = this._getRawValue(value),\n\t\t\tpattern = this._settings.pattern.mask,\n\t\t\tmask = this._settings.pattern.mask,\n\t\t\tscheme = this._pattern_scheme,\n\t\t\tend = false,\n\t\t\tindex = 0,\n\t\t\trawIndex = 0,\n\t\t\trawLength = 0;\n\n\t\tfor(var i in scheme){\n\t\t\tif(scheme[i]!==false){\n\t\t\t\tif(!end){\n\t\t\t\t\tindex = i*1;\n\t\t\t\t\trawIndex = scheme[i];\n\t\t\t\t\tvar rchar = raw[rawIndex]||\"\";\n\t\t\t\t\tvar next = raw[rawIndex+1];\n\n\t\t\t\t\tpattern = (rchar?pattern.substr(0, index):\"\") + rchar +(rchar && next?pattern.substr(index + 1):\"\");\n\t\t\t\t\tif(!next) end = true;\n\t\t\t\t}\n\t\t\t\trawLength++;\n\t\t\t}\n\t\t}\n\n\t\t//finalize value with subsequent mask chars \n\t\tvar icode = this._input_code;\n\t\tif((icode && icode !== 8) || (!icode && rawLength-1 === rawIndex && pattern.length < mask.length)){\n\t\t\tif(raw){\n\t\t\t\tvar nind = index+1;\n\t\t\t\tif(mask.charAt(nind)!==\"#\" && pattern.length < mask.length){\n\t\t\t\t\tvar lind = mask.indexOf(\"#\", nind);\n\t\t\t\t\tif(lind<0) lind = mask.length;\n\t\t\t\t\tpattern += mask.substr(nind, lind-nind);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(icode !==46){\n\t\t\t\tpattern += mask.substr(0, mask.indexOf(\"#\"));\n\t\t\t}\n\t\t}\n\t\tthis._input_code = null;\n\t\treturn pattern;\n\t}\n};\n\nexport default TextPattern;","import {protoUI, ui, $$} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {isUndefined, isArray, extend, uid} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport {setSelectionRange} from \"../webix/html\";\nimport {assert} from \"../webix/debug\";\nimport template from \"../webix/template\";\n\nimport i18n from \"../webix/i18n\";\nimport rules from \"../webix/rules\";\nimport button from \"./button\";\nimport base from \"../views/view\";\n\nimport TextPattern from \"../core/textpattern\";\n\nconst api = {\n\tname:\"text\",\n\t$allowsClear:true,\n\t_init_onchange:function(){\n\t\tif (this.$allowsClear){\n\t\t\t//attach onChange handler only for controls which do not manage blur on their own\n\t\t\t//for example - combo\n\t\t\tif (!this._onBlur)\n\t\t\t\t_event(this.getInputNode(), \"change\", this._applyChanges, {bind:this});\n\t\t\tif (this._settings.suggest)\n\t\t\t\t$$(this._settings.suggest).linkInput(this);\n\t\t}\n\t},\n\t_applyChanges: function(){\n\t\tvar newvalue = this.getValue();\n\t\t\n\t\tvar res = this.setValue(newvalue, true);\n\t\t//controls with post formating, we need to repaint value\n\t\tif (this._custom_format && res === false ){\n\t\t\tthis.$setValue(newvalue);\n\t\t}\n\t},\n\t$skin:function(){\n\t\tbutton.api.$skin.call(this);\n\n\t\tthis.defaults.height = $active.inputHeight;\n\t\tthis.defaults.inputPadding = $active.inputPadding;\n\t\tthis._inputSpacing = $active.inputSpacing;\n\t\tthis._labelTopHeight = $active.labelTopHeight;\n\t},\n\t$init:function(config){\n\t\tif (config.labelPosition == \"top\")\n\t\t\tif (isUndefined(config.height) && this.defaults.height)  // textarea\n\t\t\t\tconfig.height = this.defaults.height + (config.label?this._labelTopHeight:0);\n\n\t\t//suggest reference for destructor\n\t\tthis._destroy_with_me = [];\n\n\t\tif (this._onBlur)\n\t\t\tthis.attachEvent(\"onBlur\", function(){\n\t\t\t\tif (this._rendered_input) this._onBlur();\n\t\t\t});\n\t\tthis.attachEvent(\"onAfterRender\", this._init_onchange);\n\t},\n\t$renderIcon:function(){\n\t\tvar config = this._settings;\n\t\tif (config.icon){\n\t\t\tvar height = config.aheight - 2*config.inputPadding,\n\t\t\t\tpadding = (height - 18)/2 -1,\n\t\t\t\taria = this.addSection ? \"role='button' tabindex='0' aria-label='\"+(i18n.aria[\"multitext\"+(config.mode || \"\")+\"Section\"])+\"'\": \"\";\n\t\t\treturn \"<span style='height:\"+(height-padding)+\"px;padding-top:\"+padding+\"px;' class='webix_input_icon \"+config.icon+\"' \"+aria+\"></span>\";\n\t\t}\n\t\treturn \"\";\n\t},\n\trelatedView_setter:function(value){\n\t\tthis.attachEvent(\"onChange\", function(){\n\t\t\tvar value = this.getValue();\n\t\t\tvar mode = this._settings.relatedAction;\n\t\t\tvar viewid = this._settings.relatedView;\n\t\t\tvar view = $$(viewid);\n\t\t\tif (!view){\n\t\t\t\tvar top = this.getTopParentView();\n\t\t\t\tif (top && top.$$)\n\t\t\t\t\tview = top.$$(viewid);\n\t\t\t}\n\n\t\t\tassert(view, \"Invalid relatedView: \"+viewid);\n\n\t\t\tif (mode == \"enable\"){\n\t\t\t\tif (value) view.enable(); else view.disable();\n\t\t\t} else {\n\t\t\t\tif (value) view.show(); else view.hide();\n\t\t\t}\n\t\t});\n\t\treturn value;\n\t},\n\tvalidateEvent_setter:function(value){\n\t\tif (value == \"blur\")\n\t\t\tthis.attachEvent(\"onBlur\", this.validate);\n\n\t\tif (value == \"key\")\n\t\t\tthis.attachEvent(\"onTimedKeyPress\", this.validate);\n\n\t\treturn value;\n\t},\n\tvalidate:function(){\n\t\tvar rule = this._settings.validate;\n\t\tif (!rule && this._settings.required)\n\t\t\trule = rules.isNotEmpty;\n\n\t\tvar form =this.getFormView();\n\t\tvar name = this._settings.name;\n\t\tvar value = this.getValue();\n\t\tvar data = {}; data[name] = value;\n\n\t\tassert(form, \"Validation works only for fields in the form\");\n\t\tassert(name, \"Validation works only for fields with name\");\n\n\t\tif (rule && !form._validate(rule, value, data, name))\n\t\t\treturn false;\n\t\treturn true;\n\t},\n\tbottomLabel_setter: function(value){\n\t\tif(!this._settings.bottomPadding)\n\t\t\tthis._settings.bottomPadding = 18;\n\t\treturn value;\n\t},\n\t_getInvalidText: function(){\n\t\tvar text = this._settings.invalidMessage;\n\t\tif(typeof text == \"function\"){\n\t\t\ttext.call(this);\n\t\t}\n\t\treturn text;\n\t},\n\tsetBottomText: function(text, height){\n\t\tvar config = this._settings;\n\t\tif (typeof text != \"undefined\"){\n\t\t\tif (config.bottomLabel == text) return;\n\t\t\tconfig.bottomLabel = text;\n\t\t}\n\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\" ) || config.bottomLabel;\n\t\tif (!message && !config.bottomPadding)\n\t\t\tconfig.inputHeight = 0;\n\t\tif (message && !config.bottomPadding){\n\t\t\tthis._restorePadding = 1;\n\t\t\tconfig.bottomPadding = config.bottomPadding || height || 18;\t\n\t\t\tthis.render();\n\t\t\tthis.adjust();\n\t\t\tthis.resize();\n\t\t} else if (!message && this._restorePadding){\n\t\t\tconfig.bottomPadding = this._restorePadding = 0;\n\t\t\t//textarea\n\t\t\tif (!config.height)\n\t\t\t\tthis.render();\n\t\t\tthis.adjust();\n\t\t\tthis.resize();\n\t\t} else\n\t\t\tthis.render();\n\t},\n\t$getSize: function(){\n\t\tvar sizes = base.api.$getSize.apply(this,arguments);\n\t\tvar heightInc = this.config.bottomPadding;\n\t\tif(heightInc){\n\t\t\tsizes[2] += heightInc;\n\t\t\tsizes[3] += heightInc;\n\t\t}\n\t\treturn sizes;\n\t},\n\t$setSize:function(x,y){\n\t\tvar config = this._settings;\n\n\t\tif(base.api.$setSize.call(this,x,y)){\n\t\t\tif (!x || !y) return;\n\n\t\t\tif (config.labelPosition == \"top\"){\n\t\t\t\t// textarea\n\t\t\t\tif (!config.inputHeight)\n\t\t\t\t\tthis._inputHeight = this._content_height - (config.label?this._labelTopHeight:0) - (this.config.bottomPadding||0);\n\t\t\t\tconfig.labelWidth = 0;\n\t\t\t} else if (config.bottomPadding){\n\t\t\t\tconfig.inputHeight = this._content_height - this.config.bottomPadding;\n\t\t\t}\n\t\t\tthis.render();\n\t\t}\n\t},\n\t_get_input_width: function(config){\n\t\tvar width = (this._input_width||0)-(config.label?config.labelWidth:0) - this._inputSpacing - (config.iconWidth || 0);\n\n\t\t//prevent js error in IE\n\t\treturn (width < 0)?0:width;\n\t},\n\t_render_div_block:function(obj, common){\n\t\tvar id = \"x\"+uid();\n\t\tvar width = common._get_input_width(obj);\n\t\tvar inputAlign = obj.inputAlign || \"left\";\n\t\tvar height = this._settings.aheight - 2*$active.inputPadding - 2*$active.borderWidth;\n\t\tvar text = (obj.text||obj.value||this._get_div_placeholder(obj));\n\t\tvar html = \"<div class='webix_inp_static' role='combobox' aria-label='\"+template.escape(obj.label)+\"' tabindex='0'\"+(obj.readonly?\" aria-readonly='true'\":\"\")+(obj.invalid?\"aria-invalid='true'\":\"\")+\" onclick='' style='line-height:\"+height+\"px;width: \" + width + \"px; text-align: \" + inputAlign + \";' >\"+ text +\"</div>\";\n\t\treturn common.$renderInput(obj, html, id);\n\t},\n\t_baseInputHTML:function(tag){\n\t\tvar html = \"<\"+tag+(this._settings.placeholder?\" placeholder='\"+template.escape(this._settings.placeholder)+\"' \":\" \");\n\t\tif (this._settings.readonly)\n\t\t\thtml += \"readonly='true' aria-readonly=''\";\n\t\tif(this._settings.required)\n\t\t\thtml += \"aria-required='true'\";\n\t\tif(this._settings.invalid)\n\t\t\thtml += \"aria-invalid='true'\";\n\n\t\tvar attrs = this._settings.attributes;\n\t\tif (attrs)\n\t\t\tfor(var prop in attrs)\n\t\t\t\thtml += prop+\"='\"+attrs[prop]+\"' \";\n\t\treturn html;\n\t},\n\t$renderLabel: function(config, id){\n\t\tlet label = \"\";\n\n\t\tif (config.label){\n\t\t\tlet top = this._settings.labelPosition == \"top\";\n\t\t\tlet style = `text-align:${config.labelAlign||\"left\"}; line-height:${this._getLabelHeight(top)}px; `;\n\n\t\t\tif (top)\n\t\t\t\tstyle += \"display:block;\";\n\t\t\telse\n\t\t\t\tstyle += config.labelWidth ? `width:${config.labelWidth}px;` : \"display:none;\";\n\n\t\t\tlabel = \"<label style='\"+style+\"' onclick='' for='\"+id+\"' class='webix_inp_\"+(top?\"top_\":\"\")+\"label \"+(config.required?\"webix_required\":\"\")+\"'>\" + (config.label||\"\") + \"</label>\";\n\t\t}\n\t\treturn label;\n\t},\n\t_getLabelHeight:function(top){\n\t\treturn top ? this._labelTopHeight-this._settings.inputPadding : (this._settings.aheight - 2*this._settings.inputPadding);\n\t},\n\t$renderInput: function(config, div_start, id) {\n\t\tvar inputAlign = (config.inputAlign||\"left\");\n\t\tvar top = (config.labelPosition == \"top\");\n\t\tvar inputWidth = this._get_input_width(config);\n\n\t\tid = id||uid();\n\n\t\tvar label = this.$renderLabel(config,id);\n\n\t\tvar html = \"\";\n\t\tif(div_start){\n\t\t\thtml += div_start;\n\t\t} else {\n\t\t\tvar value =  template.escape(config.text || this._pattern(config.value) );\n\t\t\thtml += this._baseInputHTML(\"input\")+\"id='\" + id + \"' type='\"+(config.type||this.name)+\"'\"+(config.editable?\" role='combobox'\":\"\")+\" value='\" + value + \"' style='width: \" + inputWidth + \"px; text-align: \" + inputAlign + \";'\";\n\t\t\tvar attrs = config.attributes;\n\t\t\tif (attrs)\n\t\t\t\tfor(var prop in attrs)\n\t\t\t\t\thtml += \" \"+prop+\"='\"+attrs[prop]+\"'\";\n\t\t\thtml += \" />\";\n\t\t}\n\t\tvar icon = this.$renderIcon?this.$renderIcon(config):\"\";\n\t\thtml += icon;\n\n\t\tvar result = \"\";\n\t\t//label position, top or left\n\t\tif (top)\n\t\t\tresult = label+\"<div class='webix_el_box' style='width:\"+config.awidth+\"px; height:\"+config.aheight+\"px'>\"+html+\"</div>\";\n\t\telse\n\t\t\tresult = \"<div class='webix_el_box' style='width:\"+config.awidth+\"px; height:\"+config.aheight+\"px'>\"+label+html+\"</div>\";\n\n\n\t\t//bottom message width\n\t\tvar padding = config.awidth-inputWidth-$active.inputPadding*2;\n\t\t//bottom message text\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\n\t\tif (message)\n\t\t\tresult +=  \"<div class='webix_inp_bottom_label'\"+(config.invalid?\"role='alert' aria-relevant='all'\":\"\")+\" style='width:\"+(inputWidth||config.awidth)+\"px;margin-left:\"+Math.max(padding,$active.inputPadding)+\"px;'>\"+message+\"</div>\";\n\n\t\treturn result;\n\t},\n\tdefaults:{\n\t\ttemplate:function(obj, common){\n\t\t\treturn common.$renderInput(obj);\n\t\t},\n\t\tlabel:\"\",\n\t\tlabelWidth:80\n\t},\n\tlabelWidth_setter:function(value){\n\t\treturn value ? Math.max(value, $active.dataPadding) : 0;\n\t},\n\ttype_setter:function(value){ return value; },\n\t_set_inner_size:false,\n\t_set_default_css:function(){},\n\t_pattern:function(value){ return value; },\n\t$setValue:function(value){\n\t\tthis.getInputNode().value = this._pattern(value);\n\t},\n\t$getValue:function(){\n\t\treturn this._pattern(this.getInputNode().value, false);\n\t},\n\tsetValueHere:function(v, data, details){\n\t\tif (details && details.symbol){\n\t\t\tconst s = details.symbol;\n\t\t\tlet value = this.getValue();\n\t\t\tlet last = value.substring(details.pos);\n\n\t\t\tvalue = value.substring(0, details.pos);\n\t\t\tvalue = value.substring(0, value.lastIndexOf(s)+s.length) + v;\n\n\t\t\tthis.setValue(value + last);\n\t\t\tsetSelectionRange(this.getInputNode(), value.length);\n\t\t} else\n\t\t\tthis.setValue(v);\n\t},\n\tsuggest_setter:function(value){\n\t\tif (value){\n\t\t\tassert(value !== true, \"suggest options can't be set as true, data need to be provided instead\");\n\n\t\t\tif (typeof value == \"string\"){\n\t\t\t\tconst attempt = $$(value);\n\t\t\t\tif (attempt) \n\t\t\t\t\treturn $$(value)._settings.id;\n\n\t\t\t\tvalue = { body: { url:value , dataFeed:value }};\n\t\t\t} else if(value.getItem)\n\t\t\t\tvalue = { body: { data:value }};\n\t\t\telse if (isArray(value))\n\t\t\t\tvalue = { body: { data: this._check_options(value) }};\n\t\t\telse if (!value.body)\n\t\t\t\tvalue.body = { };\n\n\t\t\textend(value, { view:\"suggest\" });\n\n\t\t\tconst view = ui(value);\n\t\t\tthis._destroy_with_me.push(view);\n\t\t\treturn view._settings.id;\n\t\t}\n\t\treturn false;\n\t}\n};\n\nconst view = protoUI(api, TextPattern, button.view);\nexport default {api, view};","import {uid, bind} from \"../webix/helpers\";\nimport {proto, ui} from \"../ui/core\";\n\nimport EventSystem from \"./eventsystem\";\nimport Destruction from \"./destruction\";\nimport DataMove from \"../core/datamove\";\nimport DataLoader from \"../core/dataloader\";\nimport MapCollection from \"../core/mapcollection\";\n\nimport Settings from \"../core/settings\";\n\nimport ValidateCollection from \"../core/validatecollection\";\n\nimport BindSource from \"../core/bindsource\";\nimport BaseBind from \"../core/basebind\";\nimport CollectionBind from \"../core/collectionbind\";\n\nimport {define} from \"../services\";\n\nconst DataCollection = proto({\n\tname:\"DataCollection\",\n\tisVisible:function(){ \n\t\tif (!this.data.order.length && !this.data._filter_order && !this._settings.dataFeed) return false;\n\t\treturn true; \n\t},\n\t$init:function(config){\n\t\tthis.data.provideApi(this, true);\n\t\tvar id = (config&&config.id)?config.id:uid();\n\t\tthis._settings.id =id;\n\t\tui.views[id] = this;\n\t\tthis.data.attachEvent(\"onStoreLoad\", bind(function(){\n\t\t\tthis.callEvent(\"onBindRequest\",[]);\n\t\t}, this));\n\t},\n\trefresh:function(){ this.callEvent(\"onBindRequest\",[]); }\n}, DataMove, CollectionBind, BindSource, ValidateCollection, DataLoader, MapCollection, EventSystem, BaseBind, Destruction, Settings);\n\ndefine(\"DataCollection\", DataCollection);\n\nexport default DataCollection;","import {protoUI, $$} from \"../ui/core\";\nimport {uid, bind} from \"../webix/helpers\";\n\nimport text from \"./text\";\nimport DataCollection from \"../core/datacollection\";\n\n\nconst api = {\n\tname:\"select\",\n\tdefaults:{\n\t\ttemplate:function(obj,common){\n\t\t\tconst id = \"x\"+uid();\n\t\t\tlet html = common._baseInputHTML(\"select\")+\"id='\"+id+\"' style='width:\"+common._get_input_width(obj)+\"px;'>\";\n\n\t\t\tconst optview = $$(obj.options);\n\t\t\tif (optview && optview.data && optview.data.each){\n\t\t\t\toptview.data.each(function(option){\n\t\t\t\t\thtml+=\"<option\"+((option.id == obj.value)?\" selected='true'\":\"\")+\" value='\"+option.id+\"'>\"+option.value+\"</option>\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst options = common._check_options(obj.options);\n\t\t\t\tfor (let i=0; i<options.length; i++)\n\t\t\t\t\thtml+=\"<option\"+((options[i].id == obj.value)?\" selected='true'\":\"\")+\" value='\"+options[i].id+\"'>\"+options[i].value+\"</option>\";\n\t\t\t}\n\t\t\thtml += \"</select>\";\n\t\t\treturn common.$renderInput(obj, html, id);\n\t\t}\n\t},\n\toptions_setter:function(value){\n\t\tif (value){\n\t\t\tif (typeof value ==\"string\"){\n\t\t\t\tconst collection = new DataCollection({url:value});\n\t\t\t\tcollection.data.attachEvent(\"onStoreLoad\", bind(this.refresh, this));\n\t\t\t\treturn collection;\n\t\t\t} else\n\t\t\t\treturn value;\n\t\t}\n\t},\n\t//get input element\n\tgetInputNode: function() {\n\t\treturn this._dataobj.getElementsByTagName(\"select\")[0];\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {uid} from \"../webix/helpers\";\nimport template from \"../webix/template\";\n\nimport text from \"./text\";\n\n\nconst api = {\n\tname:\"checkbox\",\n\tdefaults:{\n\t\tcheckValue:1,\n\t\tuncheckValue:0,\n\t\ttemplate:function(config, common) {\n\t\t\tvar id = \"x\"+uid();\n\t\t\tvar rightlabel = \"\";\n\t\t\tif (config.labelRight){\n\t\t\t\trightlabel = \"<label class='webix_label_right'>\"+config.labelRight+\"</label>\";\n\t\t\t\t//user clearly attempts to hide the label, help him\n\t\t\t\tif (config.labelWidth)\n\t\t\t\t\tconfig.label = config.label || \"&nbsp;\";\n\t\t\t}\n\t\t\tvar checked = (config.checkValue == config.value);\n\t\t\tvar margin = Math.floor((common._settings.aheight-16)/2);\n\t\t\tvar ch = common._baseInputHTML(\"input\")+\"style='margin-top:\"+margin+\"px;\"+(config.customCheckbox?\"display:none\":\"\")+\"' id='\"+id+\"' type='checkbox' \"+(checked?\"checked='1'\":\"\")+(config.labelRight?\" aria-label='\"+template.escape(config.labelRight)+\"'\":\"\")+\"/>\";\n\t\t\tvar className = \"webix_inp_checkbox_border webix_el_group webix_checkbox_\"+(checked?\"1\":\"0\");\n\t\t\tvar customCheckbox = config.customCheckbox || \"\";\n\t\t\tif(customCheckbox){\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-checked=')\\w*(?=')/, \"$1\"+(config.value == config.checkValue?\"true\":\"false\"));\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-label=')\\w*(?=')/, \"$1\"+template.escape(config.labelRight || config.label));\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-invalid=')\\w*(?=')/, \"$1\"+(config.invalid?\"true\":\"false\"));\n\t\t\t}\n\t\t\tvar html = \"<div style='line-height:\"+common._settings.cheight+\"px' class='\"+className+\"'>\"+ch+customCheckbox+rightlabel+\"</div>\";\n\t\t\treturn common.$renderInput(config, html, id);\n\t\t}\n\t},\n\tcustomCheckbox_setter: function(value){\n\t\tif( value === true && $active.customCheckbox){\n\t\t\tvalue = \"<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>\";\n\t\t}\n\t\treturn value;\n\t},\n\tblur: function(){\n\t\tvar input = this.getInputNode();\n\t\tif(input) input.blur();\n\t},\n\t$prepareValue: function(value){ return value; },\n\t_init_onchange: function(){},\n\t$setValue:function(value){\n\t\tvar isChecked = (value == this._settings.checkValue);\n\t\tvar input = this.$view.getElementsByTagName(\"input\")[0];\n\t\tvar parentNode = input?input.parentNode:null;\n\n\t\tif(parentNode && this._settings.customCheckbox){\n\t\t\tvar button = parentNode.getElementsByTagName(\"BUTTON\");\n\t\t\tif(button[0]) button[0].setAttribute(\"aria-checked\", isChecked?\"true\":\"false\");\n\t\t}\n\t\tif(parentNode){\n\t\t\tparentNode.className = parentNode.className.replace(/(webix_checkbox_)\\d/,\"$1\"+(isChecked?1:0));\n\t\t}\n\t\tinput.checked = isChecked;\n\t},\n\ttoggle:function(){\n\t\tvar value = (this.getValue() != this._settings.checkValue)?this._settings.checkValue:this._settings.uncheckValue;\n\t\tthis.setValue(value);\n\t},\n\tgetValue:function(){\n\t\tvar value = this._settings.value;\n\t\treturn  (value == this._settings.checkValue)?this._settings.checkValue:this._settings.uncheckValue;\n\t},\n\tgetInputNode: function() {\n\t\treturn this.$view.getElementsByTagName(this._settings.customCheckbox?\"button\":\"input\")[0];\n\t},\n\t$skin:function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis.defaults.customCheckbox = !!$active.customCheckbox;\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {uid} from \"../webix/helpers\";\n\nimport template from \"../webix/template\";\nimport HTMLOptions from \"../core/htmloptions\";\n\nimport button from \"../views/button\";\nimport text from \"../views/text\";\n\nconst api = {\n\tname:\"radio\",\n\tdefaults:{\n\t\ttemplate: function(config,common) {\n\t\t\tcommon._check_options(config.options);\n\n\t\t\tconst options = common._filterOptions(config.options);\n\t\t\tconst active = common._getFirstActive();\n\t\t\tlet id, eachid, isChecked, isDisabled, label, tooltip, customRadio, optlabel, rd, input, focusable;\n\t\t\tlet html = [];\n\n\t\t\tfor (let i=0; i < options.length; i++) {\n\t\t\t\teachid = \"x\"+uid();\n\t\t\t\tid = id || eachid;\n\n\t\t\t\tif  (i && (options[i].newline || config.vertical))\n\t\t\t\t\thtml.push(\"<div class='webix_line_break'></div>\");\n\n\t\t\t\tisChecked = (options[i].id == config.value);\n\t\t\t\tfocusable = isChecked || (!config.value && options[i].id === active);\n\t\t\t\tisDisabled = !!options[i].disabled;\n\t\t\t\tlabel = options[i].value || \"\";\n\t\t\t\ttooltip = config.tooltip ? \" webix_t_id='\"+options[i].id+\"'\" : \"\";\n\t\t\t\t\n\t\t\t\tcustomRadio = config.customRadio|| \"\";\n\t\t\t\tif (customRadio){\n\t\t\t\t\toptlabel = (i === 0 ? config.label+\" \" : \"\")+label;\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-label=')\\w*(?=')/, \"$1\"+template.escape(optlabel));\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-checked=')\\w*(?=')/, \"$1\"+(isChecked?\"true\":\"false\"));\n\t\t\t\t\tcustomRadio = customRadio.replace(/(tabindex=')\\w*(?=')/, \"$1\"+(!isDisabled && focusable?\"0\":\"-1\"));\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-invalid=')\\w*(?=')/, \"$1\"+(config.invalid?\"true\":\"false\"));\n\t\t\t\t\tcustomRadio = customRadio.replace(/(button_id=')\\w*(?=')/, \"$1\"+options[i].id);\n\t\t\t\t\tif (isDisabled)\n\t\t\t\t\t\tcustomRadio = customRadio.replace(\"role='radio'\", \"role='radio' webix_disabled='true'\");\n\t\t\t\t}\n\t\t\t\trd = common._baseInputHTML(\"input\")+\" name='\"+(config.name || config.id)+\"' type='radio' \"+(isChecked?\"checked='1'\":\"\")+\"tabindex=\"+(!isDisabled && focusable?\"0\":\"-1\")+\n\t\t\t\t\t\" value='\"+options[i].id+\"' id='\"+eachid+\"'\"+(isDisabled?\" disabled='true'\":\"\")+\" style='\"+(customRadio?\"display:none\":\"\")+\"' />\";\n\t\t\t\tinput = \"<div \"+/*@attr*/\"radio_id\"+\"='\"+options[i].id+\"' class='webix_inp_radio_border webix_radio_\"+(isChecked?\"1\":\"0\")+\"' role='presentation'>\"+rd+customRadio+\"</div>\";\n\n\t\t\t\tif (label)\n\t\t\t\t\tlabel = \"<label for='\"+eachid+\"' class='webix_label_right'>\" + label + \"</label>\";\n\n\t\t\t\thtml.push(\"<div class='webix_radio_option\"+(isDisabled?\" webix_disabled\":\"\")+\"' role='presentation'\"+tooltip+\">\"+input+label+\"</div>\");\n\t\t\t\t\n\t\t\t}\n\t\t\thtml = \"<div class='webix_el_group' role='radiogroup' style='margin-left:\"+(config.label?config.labelWidth:0)+\"px;'>\"+html.join(\"\")+\"</div>\";\n\t\t\t\n\t\t\treturn common.$renderInput(config, html, id);\n\t\t}\n\t},\n\trefresh:function(){\n\t\tthis.render();\n\t\tif (this._last_size && this.$getSize(0,0)[2] != this._last_size[1])\n\t\t\tthis.resize();\n\t},\n\t$getSize:function(dx, dy){\n\t\tvar size = button.api.$getSize.call(this, dx, dy);\n\t\tvar options = this._filterOptions(this._settings.options);\n\t\tif (options){\n\t\t\tvar count = this._settings.vertical?0:1;\n\t\t\tfor (var i=0; i < options.length; i++)\n\t\t\t\tif (this._settings.vertical || options[i].newline)\n\t\t\t\t\tcount++;\n\t\t\tsize[3] = size[2] = Math.max(size[2], (this._settings.optionHeight||25) * count+this._settings.inputPadding*2+ (this._settings.labelPosition == \"top\"?this._labelTopHeight:0));\n\t\t}\n\t\tvar heightInc = this.config.bottomPadding;\n\t\tif(heightInc){\n\t\t\tsize[2] += heightInc;\n\t\t\tsize[3] += heightInc;\n\t\t}\n\t\treturn size;\n\t},\n\t_getInputNode: function(){\n\t\treturn this._dataobj.getElementsByTagName(this._settings.customRadio ? \"button\" : \"input\");\n\t},\n\t$setValue:function(value){\n\t\tconst inp = this._dataobj.getElementsByTagName(\"input\");\n\t\tconst active = this._getFirstActive();\n\t\tlet id, option, focusable, parentNode, button;\n\n\t\tfor (let i=0; i < inp.length; i++){\n\t\t\tid = inp[i].parentNode.getAttribute(/*@attr*/\"radio_id\");\n\t\t\toption = this.getOption(id);\n\n\t\t\tinp[i].checked = (id == value);\n\t\t\tfocusable = option && !option.disabled && (inp[i].checked || (!value && option.id == active));\n\t\t\tinp[i].setAttribute(\"tabindex\", focusable?\"0\":\"-1\");\n\n\t\t\tparentNode = inp[i]?inp[i].parentNode:null;\n\t\t\tif (parentNode){\n\t\t\t\tparentNode.className = parentNode.className.replace(/(webix_radio_)\\d/,\"$1\"+(inp[i].checked?1:0));\n\t\t\t\tif (this._settings.customRadio){\n\t\t\t\t\tbutton = parentNode.getElementsByTagName(\"BUTTON\");\n\t\t\t\t\tif (button[0]){\n\t\t\t\t\t\tbutton[0].setAttribute(\"aria-checked\", inp[i].checked?\"true\":\"false\");\n\t\t\t\t\t\tbutton[0].setAttribute(\"tabindex\", focusable?\"0\":\"-1\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value;\n\t},\n\tfocus: function(){ return this._focus(); },\n\tblur: function(){ this._blur(); },\n\tcustomRadio_setter: function(value){\n\t\tif(value === true && $active.customRadio)\n\t\t\tvalue = \"<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' \"+/*@attr*/\"button_id='' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>\";\n\t\treturn value;\n\t},\n\t$skin:function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis.defaults.customRadio = !!$active.customRadio;\n\t\tif ($active.optionHeight)\n\t\t\tthis.defaults.optionHeight = $active.optionHeight;\n\t}\n};\n\nconst view = protoUI(api, text.view, HTMLOptions);\nexport default {api, view};","import {protoUI, $$} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {isUndefined, isArray} from \"../webix/helpers\";\n\nimport i18n from \"../webix/i18n\";\nimport wDate from \"../core/date\";\n\nimport text from \"./text\";\n\n\nconst api = {\n\tname:\"datepicker\",\n\t_editable:true,\n\t$init:function(config){\n\t\t// value_setter handling\n\t\tif(config.multiselect)\n\t\t\tthis._settings.multiselect = config.multiselect;\n\n\t\tthis.$ready.push(this._init_popup);\n\t},\n\tdefaults:{\n\t\ttemplate:function(obj, common){\n\t\t\tif(common._settings.type == \"time\"){\n\t\t\t\tcommon._settings.icon = common._settings.timeIcon;\n\t\t\t}\n\t\t\t//temporary remove obj.type [[DIRTY]]\n\t\t\tconst t = obj.type; obj.type = \"\";\n\t\t\tconst res = obj.editable ? common.$renderInput(obj) : common._render_div_block(obj, common);\n\t\t\tobj.type = t;\n\t\t\treturn res;\n\t\t},\n\t\tstringResult:false,\n\t\ttimepicker:false,\n\t\ticon:\"wxi-calendar\",\n\t\ticons: true,\n\t\ttimeIcon: \"wxi-clock\",\n\t\tseparator:\", \"\n\t},\n\t_onBlur:function(){\n\t\tconst text = this.getText();\n\t\tif (this._settings.text == text || (isUndefined(this._settings.text) && !text))\n\t\t\treturn;\n\n\t\tconst value = this._settings.editable ? this.getValue() : this.getPopup().getValue();\n\t\tthis.setValue(value||\"\");\n\t},\n\t$skin:function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis.defaults.inputPadding = $active.inputPadding;\n\t\tthis.defaults.point = !$active.popupNoPoint;\n\t},\n\tgetPopup: function(){\n\t\treturn $$(this._settings.popup);\n\t},\n\t_init_popup:function(){ \n\t\tconst obj = this._settings;\n\t\tif (obj.suggest)\n\t\t\tobj.popup = obj.suggest;\n\t\telse if (!obj.popup){\n\t\t\tconst timepicker = this._settings.timepicker;\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\n\t\t\t\ttype: \"calendar\",\n\t\t\t\tpoint: this._settings.point === false ? false : true,\n\t\t\t\tpadding: 0,\n\t\t\t\tbody: {\n\t\t\t\t\theight: 240 + (timepicker || this._settings.icons ? 30 : 0),\n\t\t\t\t\twidth: 250,\n\t\t\t\t\tmultiselect: this._settings.multiselect, \n\t\t\t\t\ttimepicker: timepicker,\n\t\t\t\t\ttype: this._settings.type,\n\t\t\t\t\ticons: this._settings.icons,\n\t\t\t\t\ttimeIcon: this._settings.timeIcon\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis._init_once = function(){};\n\t},\n\t$render:function(obj){\n\t\tthis.$setValue(obj.value);\n\t},\n\t$prepareValue:function(value){\n\t\tif (this._settings.multiselect){\n\t\t\tif (typeof value === \"string\")\n\t\t\t\tvalue = value.split(this._settings.separator);\n\t\t\telse if (value instanceof Date)\n\t\t\t\tvalue = [value];\n\t\t\telse if (!value)\n\t\t\t\tvalue = [];\n\n\t\t\tfor (let i = 0; i < value.length; i++)\n\t\t\t\tvalue[i] = this._prepareSingleValue(value[i]);\n\n\t\t\treturn value;\n\t\t}\n\t\telse\n\t\t\treturn this._prepareSingleValue(value);\n\t},\n\t_prepareSingleValue:function(value){\n\t\tconst type = this._settings.type;\n\t\tconst timeMode = type == \"time\";\n\n\t\t//setValue(\"1980-12-25\")\n\t\tif(!isNaN(parseFloat(value)))\n\t\t\tvalue = \"\"+value;\n\n\t\tif (typeof value==\"string\" && value){\n\t\t\tlet formatDate = null;\n\t\t\tif((type == \"month\" || type == \"year\") && this._formatDate)\n\t\t\t\tformatDate = this._formatDate;\n\t\t\telse\n\t\t\t\tformatDate = (timeMode ? i18n.parseTimeFormatDate : i18n.parseFormatDate);\n\t\t\tvalue = formatDate(value);\n\t\t}\n\n\t\tif (value){\n\t\t\t//time mode\n\t\t\tif(timeMode){\n\t\t\t\t//setValue([16,24])\n\t\t\t\tif(isArray(value)){\n\t\t\t\t\tconst time = new Date();\n\t\t\t\t\ttime.setHours(value[0]);\n\t\t\t\t\ttime.setMinutes(value[1]);\n\t\t\t\t\tvalue = time;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//setValue(invalid date)\n\t\t\tif(isNaN(value.getTime()))\n\t\t\t\tvalue = \"\";\n\t\t}\n\n\t\treturn value;\n\t},\n\t_get_visible_text:function(value){\n\t\tif (this._settings.multiselect)\n\t\t\treturn []\n\t\t\t\t.concat(value)\n\t\t\t\t.map(a => this._get_visible_text_single(a))\n\t\t\t\t.join(this.config.separator);\n\t\telse\n\t\t\treturn this._get_visible_text_single(value);\n\t},\n\t_get_visible_text_single:function(value){\n\t\tlet formatStr = this._formatStr;\n\t\tif(!formatStr){\n\t\t\tif(this._settings.type == \"time\")\n\t\t\t\tformatStr = i18n.timeFormatStr;\n\t\t\telse if(this.config.timepicker)\n\t\t\t\tformatStr = i18n.fullDateFormatStr;\n\t\t\telse\n\t\t\t\tformatStr = i18n.dateFormatStr;\n\t\t}\n\t\treturn formatStr(value);\n\t},\n\t_set_visible_text:function(){\n\t\tconst node = this.getInputNode();\n\t\tif(isUndefined(node.value))\n\t\t\tnode.innerHTML = this._settings.text || this._get_div_placeholder();\n\t\telse\n\t\t\tnode.value = this._settings.text || \"\";\n\t},\n\t$compareValue:function(oldvalue, value){\n\t\tif(!oldvalue && !value) return true;\n\t\treturn wDate.equal(oldvalue, value);\n\t},\n\t$setValue:function(value){\n\t\tthis._settings.text = (value?this._get_visible_text(value):\"\");\n\t\tthis._set_visible_text();\n\t},\n\tformat_setter:function(value){\n\t\tif(value){\n\t\t\tif (typeof value === \"function\")\n\t\t\t\tthis._formatStr = value;\n\t\t\telse {\n\t\t\t\tthis._formatStr = wDate.dateToStr(value);\n\t\t\t\tthis._formatDate = wDate.strToDate(value);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthis._formatStr = this._formatDate = null;\n\t\treturn value;\n\t},\n\tgetInputNode: function(){\n\t\treturn this._settings.editable ? this._dataobj.getElementsByTagName(\"input\")[0] : this._dataobj.getElementsByTagName(\"DIV\")[1];\n\t},\n\tgetValue:function(){\n\t\tif (this._settings.multiselect){\n\t\t\tconst value = this._settings.value;\n\t\t\tif (!value) return [];\n\n\t\t\tconst result = []\n\t\t\t\t.concat(value)\n\t\t\t\t.map(a => this._get_value_single(a));\n\n\t\t\tif (this._settings.stringResult)\n\t\t\t\treturn result.join(this._settings.separator);\n\n\t\t\treturn result;\n\t\t}\n\n\t\treturn this._get_value_single(this._settings.value);\n\t},\n\t_get_value_single:function(value){\n\t\tconst type = this._settings.type;\n\t\tconst timeMode = type == \"time\";\n\n\t\t//input was not rendered, we need to parse value from setValue method\n\t\tif (!this._rendered_input)\n\t\t\tvalue = this.$prepareValue(value) || null;\n\t\t//rendere and in edit mode\n\t\telse if (this._settings.editable){\n\t\t\tlet formatDate = this._formatDate;\n\t\t\tif(!formatDate){\n\t\t\t\tif(timeMode)\n\t\t\t\t\tformatDate = i18n.timeFormatDate;\n\t\t\t\telse if(this.config.timepicker)\n\t\t\t\t\tformatDate = i18n.fullDateFormatDate;\n\t\t\t\telse\n\t\t\t\t\tformatDate = i18n.dateFormatDate;\n\t\t\t}\n\t\t\tvalue = formatDate(this.getInputNode().value);\n\t\t}\n\n\t\t//return string from getValue\n\t\tif(this._settings.stringResult){\n\t\t\tlet formatStr = i18n.parseFormatStr;\n\t\t\tif(timeMode)\n\t\t\t\tformatStr = i18n.parseTimeFormatStr;\n\t\t\tif(this._formatStr && (type == \"month\" || type == \"year\")){\n\t\t\t\tformatStr = this._formatStr;\n\t\t\t}\n\n\t\t\tif(this._settings.multiselect)\n\t\t\t\treturn [].concat(value).map(a => a ? formatStr(a) : \"\");\n\t\t\treturn (value?formatStr(value):\"\");\n\t\t}\n\n\t\treturn value||null;\n\t},\n\tgetText:function(){\n\t\tconst node = this.getInputNode();\n\t\tlet text = \"\";\n\t\tif(node)\n\t\t\ttext = isUndefined(node.value) ? node.innerHTML : node.value;\n\t\treturn text;\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\n\nimport datepicker from \"./datepicker\";\n\n\nconst api = {\n\tname:\"colorpicker\",\n\t$init:function(){\n\t\tthis.$ready.push(this._init_popup);\n\t},\n\tdefaults:{\n\t\ticon:true\n\t},\n\t_init_popup:function(){\n\t\tvar obj = this._settings;\n\t\tif (obj.suggest)\n\t\t\tobj.popup = obj.suggest;\n\t\telse if (!obj.popup)\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\n\t\t\t\ttype:\"colorboard\", height:200\n\t\t\t});\n\t\tthis._init_once = function(){};\n\t},\n\tgetValue:function(){\n\t\tif (this._rendered_input && this._settings.editable)\n\t\t\treturn this.getInputNode().value;\n\t\telse\n\t\t\treturn this._settings.value;\n\t},\n\t$prepareValue:function(value){\n\t\tvalue = value ? value.toString(16) : \"\";\n\t\tif (value && value.charAt(0) != \"#\" && /^[0-9a-fA-F]+$/.test(value))\n\t\t\tvalue = \"#\" + value;\n\t\treturn value;\n\t},\n\t_getColorNode: function(){\n\t\treturn this.$view.getElementsByTagName(\"DIV\")[this._settings.editable?1:2];\n\t},\n\t_get_visible_text:function(value){\n\t\treturn value;\n\t},\n\t$compareValue:function(oldvalue, value){\n\t\treturn oldvalue == value;\n\t},\n\t$setValue:function(value){\n\t\tthis._getColorNode().style.backgroundColor = value;\n\t\tthis._settings.text = value;\n\n\t\tvar node = this.getInputNode();\n\t\tif(node.value == undefined)\n\t\t\tnode.innerHTML = value;\n\t\telse\n\t\t\tnode.value = value;\n\t},\n\t$renderIcon:function(){\n\t\tvar config = this.config;\n\t\treturn \"<div class=\\\"webix_input_icon\\\" style=\\\"background-color:\"+config.value+\";\\\"> </div>\";\n\t}\n};\n\nconst view = protoUI(api, datepicker.view);\nexport default {api, view};","import {protoUI, $$} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {isUndefined, bind} from \"../webix/helpers\";\nimport {assert} from \"../webix/debug\";\nimport {preventEvent} from \"../webix/html\";\n\nimport text from \"./text\";\n\n\nconst api = {\n\tname:\"richselect\",\n\tdefaults:{\n\t\ttemplate:function(obj,common){\n\t\t\treturn common._render_div_block(obj, common);\n\t\t},\n\t\tpopupWidth:200,\n\t\ticon: \"wxi-menu-down\"\n\t},\n\t_onBlur:function(){\n\t\tconst text = this.getText();\n\t\tif (this._settings.text == text || (isUndefined(this._settings.text) && !text))\n\t\t\treturn;\n\n\t\tvar suggest = this.getPopup(),\n\t\t\tnodeValue = this.getInputNode().value,\n\t\t\tvalue = suggest.getSuggestion(nodeValue),\n\t\t\toldvalue = this.getValue();\n\n\t\t//non-empty value that differs from old value and matches filtering rule\n\t\tif (value && value !=oldvalue && !(nodeValue===\"\" && suggest.getItemText(value)!==\"\"))\n\t\t\tthis.setValue(value);\n\t\telse if (nodeValue === \"\")\n\t\t\tthis.setValue(\"\");\n\t\telse if (this._revertValue)\n\t\t\tthis._revertValue();\n\t},\n\tsuggest_setter:function(value){\n\t\treturn this.options_setter(value);\n\t},\n\toptions_setter:function(value){\n\t\tvalue = this._suggest_config ? this._suggest_config(value) : value;\n\t\tvar suggest = (this._settings.popup = this._settings.suggest = text.api.suggest_setter.call(this, value));\n\t\tvar list = $$(suggest).getList();\n\t\tif (list)\n\t\t\tlist.attachEvent(\"onAfterLoad\", bind(this._reset_value, this));\n\n\t\treturn suggest;\n\t},\n\tgetList: function(){\n\t\tvar suggest = $$(this._settings.suggest);\n\t\tassert(suggest, \"Input doesn't have a list\");\n\t\treturn suggest.getList();\n\t},\n\t_reset_value:function(){\n\t\tconst value = this._settings.value;\n\t\tconst text = this._settings.text;\n\n\t\t//this.getInputNode - check that input is already rendered, as in IE11 it can be destroy during parent repainting\n\t\tif(!isUndefined(value) && !this.getPopup().isVisible() && !text && this.getInputNode())\n\t\t\tthis.$setValue(value);\n\t},\n\t$skin:function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis.defaults.inputPadding = $active.inputPadding;\n\t},\n\t$render:function(obj){\n\t\tthis.$setValue(obj.value);\n\t},\n\tgetInputNode: function(){\n\t\treturn this._dataobj.getElementsByTagName(\"DIV\")[1];\n\t},\n\tgetPopup: function(){\n\t\treturn $$(this._settings.popup);\n\t},\n\tgetText:function(){\n\t\tvar value = this._settings.value,\n\t\t\tnode = this.getInputNode();\n\t\tif(!node)\n\t\t\treturn value?this.getPopup().getItemText(value):\"\";\n\t\tif (typeof node.value == \"undefined\"){\n\t\t\tif (node.firstChild && node.firstChild.className === \"webix_placeholder\")\n\t\t\t\treturn \"\";\n\t\t\treturn node.innerHTML;\n\t\t}\n\t\treturn node.value;\n\t},\n\t$prepareValue:function(value){\n\t\tif (value && value.id)\n\t\t\treturn value;\t\t\t//don't convert new items\n\n\t\treturn text.api.$prepareValue.call(this, value);\n\t},\n\t$setValue:function(value){\n\t\tlet text = value;\n\n\t\tconst popup = this.getPopup();\n\t\tif (popup)\n\t\t\ttext = popup.getItemText(value);\n\n\t\tif (value && value.id){ //add new value\n\t\t\tconst list = popup.getList();\n\t\t\tconst exists = list.exists(value.id);\n\n\t\t\t// add new item only when item with such id doesn't exists yet\n\t\t\tif (!exists) list.add(value);\n\n\t\t\ttext = popup.getItemText(value.id);\n\n\t\t\t// in case of dynamic list, we can't add extra items\n\t\t\t// to not interfere with dynamic loading\n\t\t\tif (list._settings.dynamic && !exists)\n\t\t\t\tlist.remove(value.id);\n\n\t\t\tthis._settings.value = this.$prepareValue(value.id);\n\t\t}\n\n\t\tconst node = this.getInputNode();\n\t\tif (isUndefined(node.value))\n\t\t\tnode.innerHTML = text || this._get_div_placeholder();\n\t\telse \n\t\t\tnode.value = text = text.replace(/<[^>]*>/g,\"\");\n\n\t\tthis._settings.text = text;\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value||\"\";\n\t},\n\t_ignoreLabelClick:function(ev){\n\t\tthis.focus();\n\t\tpreventEvent(ev);\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {isUndefined} from \"../webix/helpers\";\n\nimport richselect from \"./richselect\";\n\n\nconst api = {\n\tname:\"combo\",\n\tgetInputNode:function(){\n\t\treturn this._dataobj.getElementsByTagName(\"input\")[0];\n\t},\n\t_revertValue:function(){\n\t\tvar value = this.getValue();\n\t\tthis.$setValue(isUndefined(value)?\"\":value);\n\t},\n\t_applyChanges:function(){\n\t\tvar input = this.getInputNode(),\n\t\t\tvalue = \"\",\n\t\t\tsuggest =  this.getPopup();\n\n\t\tif (input.value){\n\t\t\tvalue = this._settings.value;\n\t\t\tif(suggest.getItemText(value) != this.getText())\n\t\t\t\tvalue = suggest.getSuggestion()||value;\n\t\t}\n\t\tif (value != this._settings.value)\n\t\t\tthis.setValue(value, true);\n\t\telse\n\t\t\tthis.$setValue(value);\n\t},\n\t$compareValue:function(value){\n\t\tvar result = richselect.api.$compareValue.apply(this, arguments);\n\t\tif (result && this._rendered_input && value != this.getText())\n\t\t\tthis._revertValue();\n\t\treturn result;\n\t},\n\tdefaults:{\n\t\ttemplate:function(config, common){\n\t\t\treturn common.$renderInput(config).replace(/(<input)\\s*(?=\\w)/, \"$1\"+\" role='combobox'\");\n\t\t},\n\t\ticon: \"wxi-menu-down\"\n\t},\n\ton_click:{\n\t\t\"webix_inp_label\": function(e){this._ignoreLabelClick(e);},\n\t\t\"webix_inp_top_label\": function(e){this._ignoreLabelClick(e);}\n\t}\n};\n\nconst view = protoUI(api, richselect.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {uid} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport template from \"../webix/template\";\n\nimport text from \"./text\";\nimport button from \"./button\";\n\nimport i18n from \"../webix/i18n\";\n\n\nconst api = {\n\tname:\"counter\",\n\tdefaults:{\n\t\ttemplate:function(config, common){\n\t\t\tvar value = config.value;\n\n\t\t\tvar id = \"x\"+uid();\n\t\t\tvar html = \"<div role='spinbutton' aria-label='\"+template.escape(config.label)+\"' aria-valuemin='\"+config.min+\"' aria-valuemax='\"+config.max+\"' aria-valuenow='\"+config.value+\"' class='webix_el_group' style='width:\"+common._get_input_width(config)+\"px'>\";\n\t\t\thtml +=  \"<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='\"+i18n.aria.decreaseValue+\"'>-</button>\";\n\t\t\thtml += common._baseInputHTML(\"input\")+\" id='\"+id+\"' type='text' class='webix_inp_counter_value' aria-live='assertive'\"+\" value='\"+value+\"'></input>\";\n\t\t\thtml += \"<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='\"+i18n.aria.increaseValue+\"'>+</button></div>\";\n\t\t\treturn common.$renderInput(config, html, id);\n\t\t},\n\t\tmin:0,\n\t\tmax:Infinity,\n\t\tvalue:0,\n\t\tstep:1\n\t},\n\t$init:function(){\n\t\t_event(this.$view, \"keydown\", this._keyshift, {bind:this});\n\t},\n\t_keyshift:function(e){\n\t\tvar code = e.which || e.keyCode, c = this._settings, value = this.getValue();\n\n\t\tif(code>32 && code <41){\n\t\t\tif(code === 36) value = c.min;\n\t\t\telse if(code === 35) value = c.max === Infinity? 1000000 :c.max;\n\t\t\telse if(code === 33) this.next();\n\t\t\telse if(code === 34) this.prev();\n\t\t\telse value = value+(code === 37 || code ===40?-1:1);\n\t\t\t\n\t\t\tif(code>34 && value>=c.min && value<=c.max)\n\t\t\t\tthis.setValue(value);\n\t\t}\n\t},\n\t$setValue:function(value){\n\t\tthis.getInputNode().value = value;\n\t},\n\t$prepareValue:function(value){\n\t\tvalue = parseFloat(value);\n\t\treturn isNaN(value)?0:value;\n\t},\n\tgetInputNode:function(){\n\t\treturn this._dataobj.getElementsByTagName(\"input\")[0];\n\t},\n\tgetValue:function(){\n\t\treturn  button.api.getValue.apply(this,arguments)*1;\n\t},\n\tnext:function(step){\n\t\tstep = 1*( step || this._settings.step );\n\t\tthis.shift(step);\n\t},\n\tprev:function(step){\n\t\tstep = (-1)*( step || this._settings.step );\n\t\tthis.shift(step);\n\t},\n\tshift:function(step){\n\t\tvar min = this._settings.min;\n\t\tvar max = this._settings.max;\n\n\t\tvar new_value = this.getValue() + step;\n\t\tif (new_value >= min && new_value <= max)\n\t\t\tthis.setValue(new_value);\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\n\nimport button from \"./button\";\n\n\nconst api = {\n\tname:\"icon\",\n\t$skin:function(){\n\t\tbutton.api.$skin.call(this);\n\n\t\tthis.defaults.height = $active.inputHeight;\n\t\tthis.defaults.width = $active.inputHeight;\n\t},\n\tdefaults:{\n\t\ttemplate:function(obj, view){\n\t\t\tlet min = Math.min(obj.awidth, obj.aheight);\n\t\t\tlet top = Math.round((view._content_height-obj.aheight)/2);\n\t\t\tlet inner = \"<button type='button' style='height:\"+min+\"px;width:\"+min+\"px;' class='webix_icon_button'>\"+\n                \"<span class='webix_icon \"+obj.icon+\"'></span></button>\";\n\n\t\t\treturn \"<div class='webix_el_box' style='width:\"+obj.awidth+\"px;height:\"+obj.aheight+\"px;line-height:\"+obj.aheight+\n\t\t\t\t\"px;margin-top:\"+top+\"px'>\"+inner+(obj.badge||obj.badge===0 ? \"<span class='webix_badge'>\"+obj.badge+\"</span>\":\"\")+\n\t\t\t\t\"</div>\";\n\t\t}\n\t},\n\t_set_inner_size:false,\n\t_set_default_css:function(){},\n\t$setValue:function(){}\n};\n\nconst view = protoUI(api, button.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\n\nimport text from \"./text\";\n\n\nconst api = {\n\tname:\"search\",\n\ton_click:{\n\t\t\"webix_input_icon\":function(e){\n\t\t\tthis.getInputNode().focus();\n\t\t\tthis.callEvent(\"onSearchIconClick\", [e]);\n\t\t}\n\t},\n\t$skin:function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis.defaults.inputPadding = $active.inputPadding;\n\t},\n\tdefaults:{\n\t\ttype:\"text\",\n\t\ticon:\"wxi-search\"\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {addCss, removeCss} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {once, uid} from \"../webix/helpers\";\nimport template from \"../webix/template\";\nimport {$name} from \"../webix/skin\";\n\nimport HTMLOptions from \"../core/htmloptions\";\n\nimport text from \"./text\";\n\n\nconst api = {\n\tname:\"segmented\",\n\t$allowsClear:false,\n\t$init:function(){\n\t\tthis.attachEvent(\"onChange\", function(value){\n\t\t\tif (this._settings.multiview)\n\t\t\t\tthis._show_view(value);\n\t\t});\n\t\tthis.attachEvent(\"onAfterRender\", once(function(){\n\t\t\tif (this._settings.multiview && this._settings.value)\n\t\t\t\tthis._show_view(this._settings.value);\n\t\t}));\n\t},\n\t_show_view:function(value){\n\t\tvar top = this.getTopParentView();\n\t\tvar view = null;\n\n\t\t//get from local isolate\n\t\tif (top && top.$$)\n\t\t\tview = top.$$(value);\n\t\t//or check globally\n\t\tif (!view)\n\t\t\tview = $$(value);\n\n\t\tif(view && view.show)\n\t\t\tview.show();\n\t},\n\tdefaults:{\n\t\ttemplate:function(obj, common){\n\t\t\tcommon._check_options(obj.options);\n\n\t\t\tconst options = common._filterOptions(obj.options);\n\t\t\tconst width = common._get_input_width(obj);\n\t\t\tconst borders = $name == \"contrast\" ? 0 : options.length - 1;\n\t\t\tconst optionWidth = obj.optionWidth || Math.floor((width-borders)/options.length);\n\t\t\t\n\t\t\tlet html = \"<div style='width:\"+width+\"px' class='webix_all_segments' role='tablist' aria-label='\"+template.escape(obj.label)+\"'>\";\n\t\t\tlet tooltip, isDisabled;\n\n\t\t\tif (!obj.value)\n\t\t\t\tobj.value = common._getFirstActive(true);\n\n\t\t\tfor (var i=0; i<options.length; i++){\n\t\t\t\tisDisabled = !!options[i].disabled;\n\t\t\t\ttooltip = obj.tooltip ? \" webix_t_id='\"+options[i].id+\"'\" : \"\";\n\t\t\t\thtml += \"<button type='button' style='width:\"+(options[i].width || optionWidth)+\"px' role='tab' aria-selected='\"+(obj.value==options[i].id?\"true\":\"false\")+\n\t\t\t\t\t\"' tabindex='\"+(!isDisabled && obj.value==options[i].id?\"0\":\"-1\")+\"' class='\"+\"webix_segment_\"+((i==options.length-1)?\"N\":(i>0?1:0))+((obj.value==options[i].id)?\" webix_selected\":\"\")+\n\t\t\t\t\t(isDisabled?\" webix_disabled\":\"\")+\"' \"+(isDisabled?\"webix_disabled='true' \":\"\")+/*@attr*/\"button_id='\"+options[i].id+\"'\"+tooltip+\">\"+options[i].value+\"</button>\";\n\t\t\t}\n\t\t\t\n\t\t\treturn common.$renderInput(obj, html+\"</div>\", uid());\n\t\t}\n\t},\n\t_getInputNode:function(){\n\t\treturn this.$view.getElementsByTagName(\"BUTTON\");\n\t},\n\tfocus: function(){ return this._focus(); },\n\tblur: function(){ this._blur(); },\n\t$setValue:function(value){\n\t\t//refresh tabbar if the option is in the popup list\n\t\tconst popup = this.config.tabbarPopup;\n\t\tif (popup && $$(popup) && $$(popup).getBody().exists(value))\n\t\t\treturn this.refresh();\n\n\t\tconst inputs = this._getInputNode();\n\t\tlet id, option;\n\n\t\tfor (let i=0; i<inputs.length; i++){\n\t\t\tid = inputs[i].getAttribute(/*@attr*/\"button_id\");\n\t\t\toption = this.getOption(id);\n\n\t\t\tinputs[i].setAttribute(\"aria-selected\", (value==id?\"true\":\"false\"));\n\t\t\tinputs[i].setAttribute(\"tabindex\", (option && !option.disabled && value==id?\"0\":\"-1\"));\n\t\t\tif (value == id)\n\t\t\t\taddCss(inputs[i], \"webix_selected\");\n\t\t\telse\n\t\t\t\tremoveCss(inputs[i], \"webix_selected\");\n\t\t}\n\t},\n\t$getValue:function(){\n\t\treturn this._settings.value||\"\";\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value;\n\t},\n\tgetInputNode:function(){\n\t\treturn null;\n\t},\n\t_set_inner_size:false\n};\n\nconst view = protoUI(api, text.view, HTMLOptions);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {uid} from \"../webix/helpers\";\n\nimport text from \"./text\";\n\n\nconst api = {\n\tname:\"textarea\",\n\tdefaults:{\n\t\ttemplate:function(obj, common){ \n\t\t\tvar name = obj.name || obj.id;\n\t\t\tvar id = \"x\"+uid();\n\n\t\t\tvar html = common._baseInputHTML(\"textarea\")+\"style='width:\"+common._get_input_width(obj)+\"px;'\";\n\t\t\thtml +=\" id='\"+id+\"' name='\"+name+\"' class='webix_inp_textarea'>\"+common._pattern(obj.value)+\"</textarea>\";\n\n\t\t\treturn common.$renderInput(obj, html, id);\n\t\t},\n\t\tminHeight:60\n\t},\n\t$skin:function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis.defaults.height = 0;\n\t},\n\t_skipSubmit: true,\n\t_getLabelHeight:function(top){\n\t\treturn top ? this._labelTopHeight-this._settings.inputPadding : \"\";\n\t},\n\t//get input element\n\tgetInputNode: function() {\n\t\treturn this._dataobj.getElementsByTagName(\"textarea\")[0];\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import {addCss, removeCss} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\n\nimport button from \"./button\";\n\n\nconst api = {\n\tname:\"toggle\",\n\t$allowsClear:true,\n\t$init:function(){\n\t\tthis.attachEvent(\"onItemClick\", function(){\n\t\t\tthis.toggle();\n\t\t});\n\t},\n\t$renderInput:function(obj){\n\t\treturn \"<button type='button' \"+(obj.popup?\"aria-haspopup='true'\":\"\")+\" class='webix_button'>\"+obj.label+\"</button>\";\n\t},\n\t$setValue:function(value){\n\t\tconst input = this.getInputNode();\n\t\tconst obj = this._settings;\n\t\tconst isPressed = (value && value != \"0\");\n\t\tconst text = (isPressed ? obj.onLabel : obj.offLabel) || obj.label;\n\n\t\tconst children = [...input.children];\n\n\t\t//icon or image button\n\t\tif(this._types[obj.type]){\n\t\t\tconst icon = children[0];\n\n\t\t\tif(icon.nodeName == \"SPAN\" && obj.onIcon && obj.offIcon && obj.onIcon != obj.offIcon)\n\t\t\t\ticon.className = icon.className.replace((isPressed?obj.offIcon:obj.onIcon), (isPressed?obj.onIcon:obj.offIcon));\n\n\t\t\tif(obj.type == \"imageTop\" || obj.type == \"iconTop\")\n\t\t\t\tchildren[1].innerHTML = text;\n\t\t\telse{\n\t\t\t\tinput.innerHTML = text;\n\t\t\t\tinput.insertBefore(icon, input.firstChild);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tinput.innerHTML = text;\n\n\t\tinput.setAttribute(\"aria-pressed\", isPressed?\"true\":\"false\");\n\n\t\tconst changeCss = isPressed ? addCss : removeCss;\n\t\tchangeCss(input.parentNode, \"webix_pressed\");\n\t},\n\ttoggle:function(){\n\t\tthis.setValue(!this.getValue());\n\t},\n\tgetValue:function(){\n\t\tvar value = this._settings.value;\n\t\treturn  (!value||value==\"0\")?0:1;\n\t},\n\tdefaults:{\n\t\ttemplate:function(obj, common){\n\t\t\tvar isPressed = (obj.value && obj.value != \"0\");\n\t\t\tvar css = isPressed ? \" webix_pressed\" : \"\";\n\n\t\t\tobj.label = (isPressed ? obj.onLabel : obj.offLabel) || obj.label;\n\t\t\tobj.icon = (isPressed ? obj.onIcon : obj.offIcon) || obj.icon;\n\n\t\t\tvar html =  \"<div class='webix_el_box\"+css+\"' style='width:\"+obj.awidth+\"px; height:\"+obj.aheight+\"px'>\"+common.$renderInput(obj, common)+\"</div>\";\n\t\t\thtml = html.replace(/(button)\\s*(?=\\w)/, \"$1\"+(\" aria-pressed='\"+(isPressed?\"true\":\"false\")+\"' \"));\n\t\t\tif (obj.badge||obj.badge===0)\n\t\t\t\thtml = html.replace(/<\\/div>$/, \"<span class='webix_badge'>\"+obj.badge+\"</span></div>\");\n\n\t\t\treturn html;\n\t\t}\n\t},\n\t_set_inner_size:false\n};\n\n\nconst view = protoUI(api, button.view);\nexport default {api, view};","import text from \"../views/text\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {extend, _to_array} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"multitext\",\n\t$cssName:\"text\",\n\tdefaults:{\n\t\ticon:\"wxi-plus-circle\",\n\t\ticonWidth:25,\n\t\tseparator:\", \"\n\t},\n\tgetValueHere:function(){\n\t\treturn text.api.getValue.call(this);\n\t},\n\tsetValueHere:function(value){\n\t\treturn text.api.$setValue.call(this, value);\n\t},\n\tgetValue:function(){\n\t\tif (this.config.mode == \"extra\") return this.getValueHere();\n\n\t\tif (this._full_value) \n\t\t\treturn this._full_value;\n\n\t\tvar values = [ this.getValueHere(this) ];\n\t\tfor (var i=0; i<this._subs.length; i++){\n\t\t\tvar seg = $$(this._subs[i]).getValueHere();\n\t\t\tif (seg) values.push(seg);\n\t\t}\n\t\treturn values.join(this.config.separator);\n\t},\n\t$setValue:function(value){\n\t\tvalue = value || \"\";\n\n\t\tif (this.config.mode == \"extra\") return this.setValueHere(value);\n\n\t\tthis._full_value = value;\n\t\tvar parts = value.split(this.config.separator);\n\t\tif (parts.length == this._subs.length+1){\n\t\t\tthis.setValueHere(parts[0]);\n\t\t\tfor (let i = 0; i < this._subs.length; i++)\n\t\t\t\t$$(this._subs[i]).setValueHere(parts[i+1]);\n\n\t\t\tthis._full_value = \"\";\n\t\t\treturn;\n\t\t}\n\n\t\tthis.removeSection();\n\t\tthis.setValueHere.call(this, parts[0]);\n\t\tfor (let i = 1; i<parts.length; i++){\n\t\t\tthis.addSection(parts[i]);\n\t\t}\n\t\tthis._full_value = \"\";\n\t},\n\t_subOnChange:function(){\n\t\tvar parent = this.config.master ? $$(this.config.master) : this;\n\t\tvar newvalue = parent.getValue();\n\t\tvar oldvalue = parent._settings.value;\n\t\tif (newvalue !== oldvalue){\n\t\t\tparent._settings.value = newvalue;\n\t\t\tparent.callEvent(\"onChange\", [newvalue, oldvalue]);\n\t\t}\n\t},\n\taddSection:function(text){\n\t\tvar config = this.config,\n\t\t\tnewConfig = {\n\t\t\t\tlabelWidth: config.labelWidth,\n\t\t\t\tinputWidth: config.inputWidth,\n\t\t\t\twidth: config.width,\n\t\t\t\tlabel: config.label ? \"&nbsp;\" : \"\",\n\t\t\t\tview: this.name,\n\t\t\t\tmode: \"extra\",\n\t\t\t\tvalue: text || \"\",\n\t\t\t\ticon: \"wxi-minus-circle\",\n\t\t\t\ttooltip: config.tooltip,\n\t\t\t\tsuggest: config.suggest || null,\n\t\t\t\tmaster: config.id\n\t\t\t};\n\n\t\textend(newConfig, config.subConfig||{},true);\n\n\t\tvar newone = this.getParentView().addView(newConfig);\n\t\t$$(newone).attachEvent(\"onChange\", this._subOnChange);\n\n\t\tthis._subs.push(newone);\n\t\tthis.callEvent(\"onSectionAdd\", [newone, this._subs.length]);\n\t\treturn newone;\n\t},\n\tremoveSection:function(id){\n\t\tvar parent = this.config.master ? $$(this.config.master) : this;\n\t\tfor (var i = parent._subs.length - 1; i >= 0; i--){\n\t\t\tvar section = parent._subs[i];\n\t\t\tif (!id || section == id){\n\t\t\t\tparent._subs.removeAt(i);\n\t\t\t\tthis.getParentView().removeView(section);\n\t\t\t\tparent.callEvent(\"onSectionRemove\", [section, i+1]);\n\t\t\t}\n\t\t}\n\t},\n\ton_click:{\n\t\t\"webix_input_icon\":function(){\n\t\t\tif (this.config.mode == \"extra\"){\n\t\t\t\tthis.removeSection(this.config.id);\n\t\t\t\tvar childs = this.getParentView().getChildViews();\n\t\t\t\tchilds[childs.length - 1].focus();\n\t\t\t\tthis._subOnChange();\n\t\t\t} else\n\t\t\t\t$$( this.addSection() ).focus();\n\n\t\t\treturn false;\n\t\t}\n\t},\n\t$init:function(){\n\t\tthis._subs = _to_array([]);\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\n\t},\n\t$render:function(obj){\n\t\tthis.$setValue(obj.value);\n\t},\n};\n\n\nconst view = protoUI(api,  text.view);\nexport default {api, view};","import base from \"../views/view\";\nimport PagingAbility from \"../core/pagingability\";\nimport DataMarks from \"../core/datamarks\";\nimport AutoTooltip from \"../core/autotooltip\";\nimport ValidateCollection from \"../core/validatecollection\";\nimport RenderStack from \"../core/renderstack\";\nimport DataLoader from \"../core/dataloader\";\nimport EventSystem from \"../core/eventsystem\";\nimport Settings from \"../core/settings\";\n\nimport {protoUI} from \"../ui/core\";\nimport {bind} from \"../webix/helpers\";\n\nconst api = {\n\tname:\"proto\",\n\t$init:function(){\n\t\tthis.data.provideApi(this, true);\n\t\tthis._dataobj = this._dataobj || this._contentobj;\n\t\t\n\t\t//render self , each time when data is updated\n\t\tthis.data.attachEvent(\"onStoreUpdated\",bind(function(){\n\t\t\tthis.render.apply(this,arguments);\n\t\t},this));\n\t},\n\t$setSize:function(){\n\t\tif (base.api.$setSize.apply(this, arguments))\n\t\t\tthis.render();\n\t},\n\t_id:/*@attr*/\"webix_item\",\n\ton_mouse_move:{\n\t},\n\ttype:{}\n};\n\n\nconst view = protoUI(api, PagingAbility, DataMarks, AutoTooltip, ValidateCollection, RenderStack, DataLoader, base.view, EventSystem, Settings);\nexport default {api, view};","import {addCss, createCss} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {bind, extend, isArray} from \"../webix/helpers\";\nimport template from \"../webix/template\";\n\nimport env from \"../webix/env\";\n\nimport base from \"../views/view\";\nimport proto from \"../views/proto\";\nimport VRenderStack from \"../core/vrenderstack\";\nimport CustomPrint from \"../core/customprint\";\nimport KeysNavigation from \"../core/keysnavigation\";\nimport DataMove from \"../core/datamove\";\nimport DragItem from \"../core/dragitem\";\nimport MouseEvents from \"../core/mouseevents\";\nimport SelectionModel from \"../core/selectionmodel\";\nimport Scrollable from \"../core/scrollable\";\nimport CopyPaste from \"../core/copypaste\";\n\nconst api = {\n\tname:\"list\",\n\t_listClassName : \"webix_list\",\n\t_itemClassName:\"webix_list_item\",\n\t$init:function(config){\n\t\taddCss(this._viewobj, this._listClassName + (((config.layout||this.defaults.layout) == \"x\")?\"-x\":\"\") );\n\t\tthis.data.provideApi(this,true);\n\n\t\tthis._auto_resize = bind(this._auto_resize, this);\n\t\tthis.data.attachEvent(\"onStoreUpdated\", this._auto_resize);\n\t\tthis.data.attachEvent(\"onSyncApply\", this._auto_resize);\n\n\t\tthis._viewobj.setAttribute(\"role\", \"listbox\");\n\t},\n\tdynamic_setter:function(value){\n\t\tif (value)\n\t\t\textend(this, VRenderStack, true);\n\t\treturn value;\n\t},\n\t$dragHTML:function(obj,e,context){\n\t\tlet html;\n\t\tif (this._settings.layout == \"y\" && this.type.width == \"auto\"){\n\t\t\tthis.type.width = this._content_width;\n\t\t\thtml = this._toHTML(obj);\n\t\t\tthis.type.width = \"auto\";\n\t\t} else html = this._toHTML(obj);\n\n\t\tif ( isArray(context.source) && context.source.length > 1 )\n\t\t\thtml = this._toMultipleHTML(html, context.source.length);\n\t\treturn html;\n\t},\n\tdefaults:{\n\t\tselect:false,\n\t\tscroll:true,\n\t\tlayout:\"y\",\n\t\tnavigation:true,\n\t\tdatafetch:50\n\t},\n\t_id:/*@attr*/\"webix_l_id\",\n\ton_click:{\n\t\twebix_list_item:function(e,id){\n\t\t\tif (this._settings.select){\n\t\t\t\tthis._no_animation = true;\n\t\t\t\tif (this._settings.select==\"multiselect\"  || this._settings.multiselect)\n\t\t\t\t\tthis.select(id, false, (e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\")), e.shiftKey); \t//multiselection\n\t\t\t\telse\n\t\t\t\t\tthis.select(id);\n\t\t\t\tthis._no_animation = false;\n\t\t\t}\n\t\t}\n\t},\n\ton_dblclick:{\n\t},\n\tgetVisibleCount:function(){\n\t\treturn Math.floor(this._content_height / this._one_height());\n\t},\n\t_auto_resize:function(){\n\t\tconst c = this._settings;\n\t\tif (c.autoheight || c.autowidth)\n\t\t\treturn this.resize();\n\n\t\tif (c.layout == \"y\"){\n\t\t\tif (c.yCount) this._auto_height_calc(c.yCount);\n\t\t} else {\n\t\t\tif (c.xCount) this._auto_width_calc(c.xCount);\n\t\t}\n\t},\n\t_auto_height_calc:function(count){\n\t\tvar value = this.data.$pagesize||this.count();\n\n\t\tthis._onoff_scroll(count && count < value, \"y\");\n\t\tif (this._settings.autoheight && value < (count||Infinity) ) \n\t\t\tcount = value;\n\t\tvar height = this._one_height() * count + (this.type.margin||0);\n\t\t//unitlist\n\t\tif(this.getUnits)\n\t\t\theight += this.getUnits().length*this.type.headerHeight;\n\n\t\treturn Math.max(height,this._settings.minHeight||0);\n\t},\n\t_one_height:function(){\n\t\treturn this.type.height + (this.type.margin||0);\n\t},\n\t_auto_width_calc:function(count){\n\t\tvar value = this.data.$pagesize||this.count();\n\n\t\tthis._onoff_scroll(count && count < value, \"x\");\n\t\tif (this._settings.autowidth && value < (count||Infinity) ) \n\t\t\tcount = value;\n\n\t\treturn (this.type.width * count); \n\t},\n\t$getSize:function(dx,dy){\n\t\tif (this._settings.layout == \"y\"){\n\t\t\tif (this.type.width!=\"auto\")\n\t\t\t\tthis._settings.width = this.type.width + (this._scroll_y?env.scrollSize:0);\n\t\t\tif (this._settings.yCount || this._settings.autoheight)\n\t\t\t\tthis._settings.height = this._auto_height_calc(this._settings.yCount)||1;\n\t\t}\n\t\telse {\n\t\t\tif (this.type.height!=\"auto\")\n\t\t\t\tthis._settings.height = this._one_height() + (this._scroll_x?env.scrollSize:0);\n\t\t\tif (this._settings.xCount || this._settings.autowidth)\n\t\t\t\tthis._settings.width = this._auto_width_calc(this._settings.xCount)||1;\n\t\t}\n\t\treturn base.api.$getSize.call(this, dx, dy);\n\t},\n\t$setSize:function(){\n\t\tbase.api.$setSize.apply(this, arguments);\n\t},\n\ttype:{\n\t\tcss:\"\",\n\t\twidthSize:function(obj, common){\n\t\t\treturn common.width+(common.width>-1?\"px\":\"\");\n\t\t},\n\t\theightSize:function(obj, common){\n\t\t\treturn common.height+(common.height>-1?\"px\":\"\");\n\t\t},\n\t\tclassname:function(obj, common, marks){\n\t\t\tvar css = \"webix_list_item\";\n\n\t\t\tif (common.css) css += \" \"+common.css;\n\t\t\tif (obj.disabled) css += \" webix_disabled\";\n\t\t\tif (obj.$css){\n\t\t\t\tif (typeof obj.$css == \"object\")\n\t\t\t\t\tobj.$css = createCss(obj.$css);\n\t\t\t\tcss += \" \"+obj.$css;\n\t\t\t}\n\t\t\tif (marks && marks.$css)\n\t\t\t\tcss += \" \"+marks.$css;\n\n\t\t\treturn css;\n\t\t},\n\t\taria:function(obj, common, marks){\n\t\t\treturn \"role=\\\"option\\\"\"+(marks && marks.webix_selected?\" aria-selected=\\\"true\\\" tabindex=\\\"0\\\"\":\" tabindex=\\\"-1\\\"\")+(obj.$count && obj.$template?\"aria-expanded=\\\"true\\\"\":\"\")+\n\t\t\t\t(obj.disabled?\" aria-disabled=\\\"true\\\" webix_disabled=\\\"true\\\"\":\"\");\n\t\t},\n\t\ttemplate:function(obj){\n\t\t\treturn (obj.icon?(\"<span class='webix_list_icon webix_icon \"+obj.icon+\"'></span>\"):\"\") + obj.value + (obj.badge||obj.badge===0?(\"<div class='webix_badge'>\"+obj.badge+\"</div>\"):\"\");\n\t\t},\n\t\twidth:\"auto\",\n\t\ttemplateStart:template(\"<div \"+/*@attr*/\"webix_l_id\"+\"=\\\"#id#\\\" class=\\\"{common.classname()}\\\" style=\\\"width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;\\\" {common.aria()}>\"),\n\t\ttemplateEnd:template(\"</div>\")\n\t},\n\t$skin:function(){\n\t\tthis.type.height = $active.listItemHeight;\n\t},\n\tdisableItem:function(id){\n\t\tthis._set_item_disabled(id, true);\n\t},\n\tenableItem:function(id){\n\t\tthis._set_item_disabled(id, false);\n\t},\n\t_set_item_disabled(id, state){\n\t\tconst item = this.getItem(id);\n\t\tif (item){\n\t\t\titem.disabled = state;\n\t\t\tthis.refresh(id);\n\t\t}\n\t},\n\tisItemEnabled:function(id){\n\t\tconst item = this.getItem(id);\n\t\treturn item && !item.disabled;\n\t},\n\t_skip_item:function(id, prev, dir){\n\t\tif (!this.isItemEnabled(id)){\n\t\t\tid = this.getNextId(id, dir) || null;\n\t\t\treturn (id && id != prev)? this._skip_item(id, prev, dir) : prev;\n\t\t}\n\t\treturn id;\n\t}\n};\n\n\nconst view = protoUI(api,  CustomPrint, KeysNavigation, DataMove, DragItem, MouseEvents, SelectionModel, Scrollable, proto.view, CopyPaste);\nexport default {api, view};","import richselect from \"../views/richselect\";\nimport button from \"../views/button\";\nimport list from \"../views/list\";\n\nimport {protoUI, ui, $$} from \"../ui/core\";\nimport {isArray, extend} from \"../webix/helpers\";\n\nimport type from \"../webix/type\";\nimport template from \"../webix/template\";\nimport editors from \"../webix/editors\";\n\nconst api = {\n\tname:\"multiselect\",\n\t$cssName:\"richselect\",\n\tdefaults:{\n\t\tseparator: \",\",\n\t\tstringResult: true\n\t},\n\t_suggest_config:function(value){\n\t\tvar isobj = !isArray(value) && typeof value == \"object\" && !value.name; \n\t\tvar suggest = { view:\"checksuggest\", separator:this.config.separator, buttonText: this.config.buttonText, button: this.config.button };\n\n\t\tif (this._settings.optionWidth)\n\t\t\tsuggest.width = this._settings.optionWidth;\n\t\telse\n\t\t\tsuggest.fitMaster = true;\n\n\t\tif (isobj)\n\t\t\textend(suggest, value, true);\n\n\t\tvar view = ui(suggest);\n\t\tvar list = view.getList();\n\t\tif (typeof value == \"string\")\n\t\t\tlist.load(value);\n\t\telse if (!isobj)\n\t\t\tlist.parse(value);\n\n\t\tview.attachEvent(\"onShow\",function(){\n\t\t\tview.setValue($$(view._settings.master).config.value);\n\t\t});\n\n\t\treturn view;\n\t},\n\t$compareValue:function(oldvalue, value){\n\t\treturn oldvalue.toString() == value.toString();\n\t},\n\t$prepareValue:function(value){\n\t\tvalue = value || [];\n\t\tif (typeof value === \"string\")\n\t\t\treturn value.split(this._settings.separator);\n\t\treturn isArray(value) ? value : [ button.api.$prepareValue.call(this, value) ];\n\t},\n\t$setValue:function(value){\n\t\tif (!this._rendered_input) return;\n\t\tvar popup = this.getPopup();\n\t\tvar text = \"\";\n\t\tif(popup){\n\t\t\ttext = popup.setValue(value);\n\t\t\tif(typeof text == \"object\"){\n\t\t\t\ttext = text.join(this.config.separator+\" \");\n\t\t\t}\n\n\t\t}\n\t\tthis._settings.text = text;\n\n\t\tvar node = this.getInputNode();\n\t\tnode.innerHTML = text || this._get_div_placeholder();\n\t},\n\tgetValue:function(){\n\t\tconst value = this._settings.value||[];\n\n\t\tif (this._settings.stringResult)\n\t\t\treturn value.join(this._settings.separator);\n\t\treturn value;\n\t},\n};\n\neditors.multiselect = extend({\n\tpopupType:\"multiselect\",\n\tpopupInit:function(popup){\n\t\tpopup._show_selection = function(){};\n\t\tpopup.linkInput(document.body);\n\t},\n}, editors.richselect);\n\ntype(list.view, {\n\tname:\"multilist\",\n\ttemplateStart:template(\"<div \"+/*@attr*/\"webix_l_id\"+\"=\\\"#!id#\\\" class=\\\"{common.classname()}\\\" style=\\\"width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;\\\" {common.aria()}>\")\n}, \"default\");\n\ntype(list.view, {\n\tname:\"checklist\",\n\ttemplateStart:template(\"<div \"+/*@attr*/\"webix_l_id\"+\"=\\\"#!id#\\\" {common.aria()} class=\\\"{common.classname()}\\\" style=\\\"width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden; white-space:nowrap;\\\">{common.checkbox()}\"),\n\tcheckbox: function(obj){\n\t\tvar icon = (obj.$checked ? \"wxi-checkbox-marked\" : \"wxi-checkbox-blank\");\n\t\treturn \"<span role='checkbox' tabindex='-1' aria-checked='\"+(obj.$checked?\"true\":\"false\")+\"' class='webix_icon \"+icon+\"'></span>\";\n\t},\n\taria:function(obj){\n\t\treturn \"role='option' tabindex='-1' \"+(obj.$checked?\"aria-selected='true'\":\"\");\n\t},\n\ttemplate: template(\"#value#\")\n}, \"default\");\n\nconst view = protoUI(api,  richselect.view);\nexport default {api, view};","import richselect from \"../views/richselect\";\nimport button from \"../views/button\";\nimport {protoUI, ui, $$} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {_to_array, copy, isArray, extend, uid, delay, isUndefined} from \"../webix/helpers\";\nimport popup from \"../views/popup\";\nimport base from \"../views/view\";\nimport i18n from \"../webix/i18n\";\nimport {_event} from \"../webix/htmlevents\";\nimport template from \"../webix/template\";\n\n\nconst api = {\n\tname:\"multicombo\",\n\t$cssName:\"text\",\n\tdefaults:{\n\t\tkeepText: false,\n\t\tseparator: \",\",\n\t\tstringResult: true,\n\t\ticon: false,\n\t\ticonWidth: 0,\n\t\ttagMode: true,\n\t\ttagTemplate: function(values){\n\t\t\treturn (values.length?values.length+\" item(s)\":\"\");\n\t\t},\n\t\ttemplate:function(obj,common){\n\t\t\treturn common._render_value_block(obj, common);\n\t\t}\n\t},\n\t$init:function(){\n\t\tthis.$view.className += \" webix_multicombo\";\n\n\t\tthis.attachEvent(\"onBeforeRender\",function(){\n\t\t\tif(!this._inputHeight)\n\t\t\t\tthis._inputHeight = $active.inputHeight;\n\t\t\treturn true;\n\t\t});\n\t\tthis.attachEvent(\"onAfterRender\", function(){\n\t\t\tthis._last_size = null;\n\t\t});\n\t},\n\n\ton_click: {\n\t\t\"webix_multicombo_delete\": function(e,view,node){\n\t\t\tvar value;\n\t\t\tif(!this._settings.readonly && node && (value = node.parentNode.getAttribute(\"optvalue\")))\n\t\t\t\tthis._removeValue(value);\n\t\t\treturn false;\n\t\t},\n\t\t\"webix_inp_label\": function(e){this._ignoreLabelClick(e);},\n\t\t\"webix_inp_top_label\": function(e){this._ignoreLabelClick(e);}\n\t},\n\t_onBlur:function(){\n\t\tvar value = this.getInputNode().value;\n\t\t//blurring caused by clicks in the suggest list cannot affect new values\n\t\tif(value && this._settings.newValues && new Date()-(this.getPopup()._click_stamp ||0)>100){\n\t\t\tthis._addNewValue(value);\n\t\t}\n\n\t\tif (!this._settings.keepText)\n\t\t\tthis._inputValue = \"\";\n\t\tthis.refresh();\n\t},\n\t_removeValue: function(value){\n\t\tvar values = this._settings.value||[];\n\t\tvar suggest = $$(this.config.suggest);\n\t\tvalues = _to_array(copy(values));\n\t\tvalues.remove(value);\n\n\t\tthis.setValue(values);\n\t\tif(suggest && suggest._settings.selectAll) {\n\t\t\tsuggest.getBody()._cells[0].setValue(0);\n\t\t}\n\t},\n\t_addValue: function(newValue){\n\t\tvar suggest = $$(this.config.suggest);\n\t\tvar list = suggest.getList();\n\t\tvar item = list.getItem(newValue);\n\n\t\tif(item){\n\t\t\tvar values = suggest.getValue();\n\t\t\tif(values && typeof values == \"string\")\n\t\t\t\tvalues = values.split(suggest.config.separator);\n\t\t\tvalues = _to_array(values||[]);\n\t\t\tif(values.find(newValue)<0){\n\t\t\t\tvalues.push(newValue);\n\t\t\t\tsuggest.setValue(values);\n\t\t\t\tthis.setValue(suggest.getValue());\n\t\t\t}\n\t\t}\n\t},\n\t_addNewValue: function(value){\n\t\tvar suggest = $$(this.config.suggest);\n\t\tvar list = suggest.getList();\n\t\tvar id;\n\t\tvalue = value.replace(/^\\s+|\\s+$/g,\"\");\n\n\t\tif(value){\n\t\t\tfor(var i in list.data.pull)\n\t\t\t\tif(suggest.getItemText(i) == value) id = i;\n\t\t}\n\n\t\tif(!id && value) id = list.add({id: value, value: value});\n\n\t\tthis._addValue(id);\n\t},\n\t_suggest_config:function(value){\n\t\tvar isObj = !isArray(value) && typeof value == \"object\" && !value.name,\n\t\t\tsuggest = { view:\"checksuggest\", separator:this.config.separator, buttonText: this.config.buttonText, button: this.config.button },\n\t\t\tcombo = this;\n\t\t\n\t\tif (isObj){\n\t\t\textend(suggest, value, true);\n\t\t}\n\t\tif (!suggest.width && this._settings.optionWidth){\n\t\t\textend(suggest, {width:this._settings.optionWidth, fitMaster: false}, true);\n\t\t}\n\t\tsuggest.width = suggest.fitMaster || isUndefined(suggest.fitMaster) ? 0 : suggest.width;\n\n\t\tvar view = ui(suggest);\n\t\tif(!suggest.width)\n\t\t\tview.$customWidth = function(){\n\t\t\t\tthis.config.width = combo._get_input_width(combo._settings);\n\t\t\t};\n\t\tview.attachEvent(\"onBeforeShow\",function(node,mode, point){\n\t\t\tif(this._settings.master){\n\t\t\t\tthis.setValue($$(this._settings.master).config.value);\n\n\t\t\t\tif($$(this._settings.master).getInputNode().value || this.isVisible()){\n\t\t\t\t\tthis.getList().refresh();\n\t\t\t\t\tthis._dont_unfilter = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.getList().filter();\n\n\t\t\t\tif(node.tagName && node.tagName.toLowerCase() == \"input\"){\n\t\t\t\t\tpopup.api.show.apply(this, [node.parentNode,mode, point]);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\tvar list = view.getList();\n\t\tif (typeof value == \"string\")\n\t\t\tlist.load(value);\n\t\telse if (!isObj)\n\t\t\tlist.parse(value);\n\n\t\t//prevent default show-hide logicfunction(){\n\t\tview._suggest_after_filter = function(){};\n\n\t\treturn view;\n\t},\n\t_render_value_block:function(obj, common){\n\t\tvar id, input, inputAlign,inputStyle, inputValue, inputWidth,\n\t\t\theight, html, label, list, message, padding, readOnly,  width,\n\t\t\tbottomLabel = \"\",\n\t\t\ttop =  this._settings.labelPosition == \"top\";\n\n\t\tid = \"x\"+uid();\n\t\twidth = common._get_input_width(obj);\n\t\tinputAlign = obj.inputAlign || \"left\";\n\n\t\theight = this._inputHeight - 2*$active.inputPadding -2;\n\n\t\tinputValue = (this._inputValue||\"\");\n\t\tlist = \"<ul class='webix_multicombo_listbox' style='line-height:\"+height+\"px'></ul>\";\n\n\t\tinputWidth = Math.min(width,(common._inputWidth||7));\n\n\t\tinputStyle = \"width: \"+inputWidth+\"px;height:\"+height+\"px;max-width:\"+(width-20)+\"px\";\n\n\t\treadOnly = obj.readonly?\" readonly \":\"\";\n\t\tinput = \"<input id='\"+id+\"' role='combobox' aria-multiline='true' aria-label='\"+template.escape(obj.label)+\"' tabindex='0' type='text' class='webix_multicombo_input' \"+readOnly+\" style='\"+inputStyle+\"' value='\"+inputValue+\"'/>\";\n\t\thtml = \"<div class='webix_inp_static' onclick='' style='line-height:\"+height+\"px;width: \" + width + \"px;  text-align: \" + inputAlign + \";height:auto' >\"+list+input +\"</div>\";\n\n\t\tlabel = common.$renderLabel(obj,id);\n\n\t\tpadding = this._settings.awidth - width - $active.inputPadding*2;\n\t\tmessage = (obj.invalid ? obj.invalidMessage : \"\") || obj.bottomLabel;\n\t\tif (message)\n\t\t\tbottomLabel =  \"<div class='webix_inp_bottom_label' style='width:\"+width+\"px;margin-left:\"+Math.max(padding,$active.inputPadding)+\"px;'>\"+message+\"</div>\";\n\n\t\tif (top)\n\t\t\treturn label+\"<div class='webix_el_box' style='width:\"+this._settings.awidth+\"px; '>\"+html+bottomLabel+\"</div>\";\n\t\telse\n\t\t\treturn \"<div class='webix_el_box' style='width:\"+this._settings.awidth+\"px; min-height:\"+this._settings.aheight+\"px;'>\"+label+html+bottomLabel+\"</div>\";\n\t},\n\t_getValueListBox: function(){\n\t\treturn this._getBox().getElementsByTagName(\"UL\")[0];\n\t},\n\n\t_set_inner_size: function(){\n\t\tvar popup = this.getPopup();\n\t\tif(popup){\n\n\t\t\tvar textArr = (popup ? popup.setValue(this._settings.value) : null);\n\t\t\tif(popup._toMultiValue)\n\t\t\t\tthis._settings.value = popup._toMultiValue(this._settings.value);\n\t\t\tvar html = \"\";\n\t\t\tvar listbox = this._getValueListBox();\n\t\t\tvar text = textArr && textArr.length;\n\t\t\tif(text){\n\t\t\t\tvar height = this._inputHeight - 2*$active.inputPadding - 8;\n\t\t\t\tvar values = this._settings.value||[];\n\n\t\t\t\tif(this._settings.tagMode){\n\t\t\t\t\tfor(var i=0; i < textArr.length;i++){\n\t\t\t\t\t\tvar content = \"<span>\"+textArr[i]+\"</span><span class='webix_multicombo_delete' role='button' aria-label='\"+i18n.aria.removeItem+\"'>x</span>\";\n\t\t\t\t\t\thtml += \"<li class='webix_multicombo_value' style='line-height:\"+height+\"px;' optvalue='\"+template.escape(values[i])+\"'>\"+content+\"</li>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\thtml += \"<li class='webix_multicombo_tag' style='line-height:\"+height+\"px;'><span>\"+this._settings.tagTemplate(values)+\"</span></li>\";\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tlistbox.innerHTML = html;\n\t\t\t// reset placeholder\n\t\t\tvar inp = this.getInputNode();\n\t\t\tif(this._settings.placeholder){\n\t\t\t\tif(text){\n\t\t\t\t\tinp.placeholder = \"\";\n\t\t\t\t\tif(!inp.value && inp.offsetWidth > 20)\n\t\t\t\t\t\tinp.style.width = \"20px\";\n\t\t\t\t}\n\t\t\t\telse if(!inp.value){\n\t\t\t\t\tinp.placeholder = this._settings.placeholder;\n\t\t\t\t\tinp.style.width = this._get_input_width(this._settings)+\"px\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this._settings.tagMode && listbox.firstChild)\n\t\t\t\tinp.style.width = this._getMultiComboInputWidth() +\"px\";\n\t\t}\n\t\tthis._resizeToContent();\n\t},\n\t_focusAtEnd: function(inputEl){\n\t\tinputEl = inputEl||this.getInputNode();\n\t\tif (inputEl){\n\t\t\tif(inputEl.value.length){\n\t\t\t\tif (inputEl.createTextRange){\n\t\t\t\t\tvar FieldRange = inputEl.createTextRange();\n\t\t\t\t\tFieldRange.moveStart(\"character\",inputEl.value.length);\n\t\t\t\t\tFieldRange.collapse();\n\t\t\t\t\tFieldRange.select();\n\t\t\t\t}else if (inputEl.selectionStart || inputEl.selectionStart == \"0\") {\n\t\t\t\t\tvar elemLen = inputEl.value.length;\n\t\t\t\t\tinputEl.selectionStart = elemLen;\n\t\t\t\t\tinputEl.selectionEnd = elemLen;\n\t\t\t\t\tinputEl.focus();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tinputEl.focus();\n\t\t\t}\n\t\t}\n\t},\n\t_resizeToContent: function(){\n\t\tvar top = this._settings.labelPosition == \"top\";\n\t\tvar inputDiv = this._getInputDiv();\n\t\tvar inputHeight = Math.max(inputDiv.offsetHeight+ 2*$active.inputPadding, this._inputHeight);\n\n\t\tif(top)\n\t\t\tinputHeight += this._labelTopHeight;\n\n\t\tinputHeight += this._settings.bottomPadding ||0;\n\n\t\tvar sizes = this.$getSize(0,0);\n\n\t\tif(inputHeight != sizes[2]){\n\t\t\tvar cHeight = inputDiv.offsetHeight + (top?this._labelTopHeight:0);\n\n\t\t\tvar topView =this.getTopParentView();\n\t\t\tclearTimeout(topView._template_resize_timer);\n\t\t\ttopView._template_resize_timer = delay(function(){\n\n\t\t\t\tvar calcHeight = cHeight + 2*$active.inputPadding;\n\t\t\t\tif (this.config.height != calcHeight){\n\t\t\t\t\tthis.config.height = calcHeight;\n\t\t\t\t\tthis.resize();\n\t\t\t\t}\n\n\t\t\t\tif(this._typing){\n\t\t\t\t\tthis._focusAtEnd(this.getInputNode());\n\t\t\t\t\tthis._typing = false;\n\t\t\t\t}\n\t\t\t\tif(this._enter){\n\t\t\t\t\tif(!this._settings.keepText)\n\t\t\t\t\t\tthis.getInputNode().value = \"\";\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.getInputNode().select();\n\t\t\t\t\tthis._enter = false;\n\t\t\t\t}\n\t\t\t\tif(this.getPopup().isVisible()||this._typing){\n\t\t\t\t\tthis.getPopup().show(this._getInputDiv());\n\t\t\t\t}\n\n\t\t\t}, this);\n\t\t}\n\t\tif(this._enter){\n\t\t\tthis.getInputNode().select();\n\t\t}\n\t},\n\t_getInputDiv: function(){\n\t\tvar parentNode = this._getBox();\n\t\tvar nodes = parentNode.childNodes;\n\t\tfor(var i=0; i < nodes.length; i++){\n\t\t\tif(nodes[i].className && nodes[i].className.indexOf(\"webix_inp_static\")!=-1)\n\t\t\t\treturn nodes[i];\n\t\t}\n\t\treturn parentNode;\n\t},\n\tgetInputNode: function(){\n\t\treturn this._dataobj.getElementsByTagName(\"INPUT\")[0];\n\t},\n\t$compareValue:function(oldvalue, value){\n\t\treturn oldvalue.toString() == value.toString();\n\t},\n\t$prepareValue:function(value){\n\t\tvalue = value || [];\n\t\tif (typeof value === \"string\")\n\t\t\treturn value.split(this._settings.separator);\n\t\treturn isArray(value) ? value : [ button.api.$prepareValue.call(this, value) ];\n\t},\n\t$setValue:function(){\n\t\tif (this._rendered_input)\n\t\t\tthis._set_inner_size();\n\t},\n\tgetValue:function(config){\n\t\tif(typeof config == \"object\" && config.options)\n\t\t\treturn this._getSelectedOptions();\n\n\t\tconst value = this._settings.value||[];\n\n\t\tif (this._settings.stringResult)\n\t\t\treturn value.join(this._settings.separator);\n\t\treturn value;\n\t},\n\tgetText:function(){\n\t\tvar value = this._settings.value||[];\n\t\tif(!value.length) return \"\";\n\n\t\tvar text = [];\n\t\tfor(var i = 0; i<value.length; i++)\n\t\t\ttext.push(this.getPopup().getItemText(value[i]));\n\t\treturn text.join(this._settings.separator);\n\t},\n\t_getSelectedOptions: function(){\n\t\tvar i, item, popup,\n\t\t\toptions = [],\n\t\t\tvalue = this._settings.value||[];\n\n\t\tif (!value.length) return value;\n\n\t\tpopup = this.getPopup();\n\n\t\tfor(i = 0; i < value.length; i++){\n\t\t\titem = popup.getList().getItem(value[i]) || (popup._valueHistory?popup._valueHistory[value[i]]:null);\n\t\t\tif(item)\n\t\t\t\toptions.push(item);\n\t\t}\n\n\t\treturn options;\n\t},\n\t$setSize:function(x,y){\n\t\tvar config = this._settings;\n\t\tif(base.api.$setSize.call(this,x,y)){\n\t\t\tif (!x || !y) return;\n\t\t\tif (config.labelPosition == \"top\"){\n\t\t\t\tconfig.labelWidth = 0;\n\t\t\t}\n\t\t\tthis.render();\n\t\t}\n\t},\n\t_calcInputWidth: function(value){\n\t\tvar tmp = document.createElement(\"span\");\n\t\ttmp.className = \"webix_multicombo_input\";\n\t\ttmp.style.visibility = \"visible\";\n\t\ttmp.style.height = \"0px\";\n\t\ttmp.innerHTML = value.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");\n\t\tdocument.body.appendChild(tmp);\n\t\tvar width = tmp.offsetWidth+10;\n\t\tdocument.body.removeChild(tmp);\n\t\treturn width;\n\t},\n\t_getMultiComboInputWidth: function(){\n\t\tconst listbox = this._getValueListBox();\n\t\tconst width = listbox.offsetWidth - (listbox.firstChild.offsetWidth + 1);\n\t\treturn (width <= 25)? listbox.offsetWidth-12: width-15;\n\t},\n\t_init_onchange:function(){\n\t\t// input focus and focus styling\n\t\t_event(this._getBox(),\"click\",function(){\n\t\t\tthis.getInputNode().focus();\n\t\t},{bind:this});\n\t\t_event(this.getInputNode(),\"focus\",function(){\n\t\t\tif(this._getBox().className.indexOf(\"webix_focused\") == -1)\n\t\t\t\tthis._getBox().className += \" webix_focused\";\n\n\t\t},{bind:this});\n\t\t_event(this.getInputNode(),\"blur\",function(){\n\t\t\tthis._getBox().className = this._getBox().className.replace(\" webix_focused\",\"\");\n\t\t},{bind:this});\n\n\t\t// need for clear click (\"x\") in IE\n\t\t_event(this.getInputNode(),\"input\",function(){\n\t\t\tif(!this.getInputNode().value && this._inputValue){\n\t\t\t\tthis.getInputNode().style.width = \"20px\";\n\t\t\t\tthis._inputWidth = 20;\n\n\t\t\t\tthis._inputValue = \"\";\n\t\t\t\tthis._typing = true;\n\n\t\t\t\tthis.getPopup().show(this._getInputDiv());\n\t\t\t\tthis._resizeToContent();\n\t\t\t}\n\t\t},{bind:this});\n\t\t// resize\n\t\t_event(this.getInputNode(),\"keyup\",function(e){\n\t\t\tvar inp = this.getInputNode();\n\t\t\tvar calcWidth, width;\n\n\t\t\te = (e||event);\n\n\t\t\t// to show placeholder\n\t\t\tconst value = this._settings.value||[];\n\t\t\tif (this._settings.placeholder && !inp.value && !value.length)\n\t\t\t\twidth = this._get_input_width(this._settings);\n\t\t\telse {\n\t\t\t\twidth = calcWidth = this._calcInputWidth(inp.value);\n\t\t\t\tif(!this._settings.tagMode && this._getValueListBox().firstChild)\n\t\t\t\t\twidth = this._getMultiComboInputWidth();\n\t\t\t}\n\n\t\t\tinp.style.width = width +\"px\";\n\n\t\t\tif(calcWidth!=this._inputWidth){\n\t\t\t\tif(this._settings.keepText || e.keyCode !=13){\n\t\t\t\t\tthis._inputValue = inp.value;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis._inputValue = false;\n\t\t\t\t}\n\t\t\t\tthis._typing = true;\n\n\t\t\t\tif(this._inputWidth)\n\t\t\t\t\tthis.getPopup().show(this._getInputDiv());\n\n\t\t\t\tthis._inputWidth = calcWidth||width;\n\t\t\t\tthis._resizeToContent();\n\t\t\t}\n\t\t\telse if(this._windowHeight != this.getPopup().$height){\n\t\t\t\tthis.getPopup().show(this._getInputDiv());\n\t\t\t}\n\n\t\t\tif(inp.value.indexOf(this._settings.separator) > -1 && this._settings.tagMode){\n\t\t\t\tvar newValue = inp.value.replace(this._settings.separator, \"\");\n\t\t\t\tif (newValue){\n\t\t\t\t\tif (this._settings.newValues){\n\t\t\t\t\t\tthis._enter = true;\n\t\t\t\t\t\tthis._addNewValue(newValue);\n\t\t\t\t\t}\t\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar newId = this.getPopup().getItemId(newValue);\n\t\t\t\t\t\tif (newId)\n\t\t\t\t\t\t\tthis._addValue(newId);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(this._settings.keepText){\n\t\t\t\t\tthis._inputValue = newValue;\n\t\t\t\t\tinp.value = newValue;\n\t\t\t\t\tthis._enter = true;\n\t\t\t\t\tthis._typing = true;\n\t\t\t\t\tthis._resizeToContent();\n\t\t\t\t} else{\n\t\t\t\t\tinp.value = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},{bind:this});\n\n\t\t// remove the last value on Backspace click\n\t\t_event(this.getInputNode(),\"keydown\",function(e){\n\t\t\tthis._enter = false;\n\t\t\tif (this.isVisible()){\n\t\t\t\te = (e||event);\n\t\t\t\tvar node = this._getValueListBox().lastChild;\n\t\t\t\tthis._windowHeight = this.getPopup().$height;\n\t\t\t\tif(e.keyCode == 8 && node){\n\t\t\t\t\tif(!this.getInputNode().value && ((new Date()).valueOf() - (this._backspaceTime||0) > 100)){\n\t\t\t\t\t\tthis._typing = true;\n\t\t\t\t\t\tthis._removeValue(node.getAttribute(\"optvalue\"));\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis._backspaceTime = (new Date()).valueOf();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(e.keyCode == 13 || e.keyCode == 9){\n\t\t\t\t\tvar input = this.getInputNode();\n\t\t\t\t\tvar id = \"\";\n\t\t\t\t\tvar suggest = $$(this._settings.suggest);\n\t\t\t\t\tvar list = suggest.getList();\n\t\t\t\t\t// if no selected options\n\n\t\t\t\t\tif(!list.getSelectedId()){\n\t\t\t\t\t\tif (input.value)\n\t\t\t\t\t\t\tid = suggest.getSuggestion(input.value);\n\n\t\t\t\t\t\tif(this._settings.newValues){\n\t\t\t\t\t\t\tif(e.keyCode == 13)\n\t\t\t\t\t\t\t\tthis._enter = true;\n\t\t\t\t\t\t\tthis._addNewValue(input.value);\n\t\t\t\t\t\t\tif(this._settings.keepText)\n\t\t\t\t\t\t\t\tthis._inputValue = input.value;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tinput.value = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(id){\n\t\t\t\t\t\t\tif(e.keyCode == 9){\n\t\t\t\t\t\t\t\tthis._typing = false;\n\t\t\t\t\t\t\t\tthis._inputValue = \"\";\n\t\t\t\t\t\t\t\tthis._inputWidth = 10;\n\t\t\t\t\t\t\t\tinput.value = \"\";\n\t\t\t\t\t\t\t\tthis._addValue(id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tthis._enter = true;\n\t\t\t\t\t\t\t\tthis._addValue(id);\n\t\t\t\t\t\t\t\tif(this._settings.keepText)\n\t\t\t\t\t\t\t\t\tthis._inputValue = input.value;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tinput.value = \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif(e.keyCode == 13){\n\t\t\t\t\t\tthis._enter = true;\n\t\t\t\t\t\tthis._typing = true;\n\t\t\t\t\t\tif(this._settings.keepText)\n\t\t\t\t\t\t\tthis._inputValue = input.value;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tinput.value = \"\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t},{bind:this});\n\t\t$$(this._settings.suggest).linkInput(this);\n\t}\n};\n\n\nconst view = protoUI(api,  richselect.view);\nexport default {api, view};","import text from \"../views/text\";\nimport {preventEvent, addCss, removeCss, pos as getPos, offset} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport env from \"../webix/env\";\nimport {uid, bind, isArray, copy} from \"../webix/helpers\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\nimport template from \"../webix/template\";\n\n\n// #include ui/inputs.js\n\nconst api = {\n\tname:\"slider\",\n\t$touchCapture:true,\n\tdefaults:{\n\t\tmin:0,\n\t\tmax:100,\n\t\tvalue:50,\n\t\tstep:1,\n\t\ttitle:false,\n\t\tmoveTitle:true,\n\t\ttemplate:function(obj, common){\n\t\t\tvar id = common._handle_id = \"x\" +uid();\n\t\t\tvar html = \"\";\n\t\t\tvar title = \"<div class='webix_slider_title\"+(obj.moveTitle?\" webix_slider_move\":\"\")+\"'\"+(!obj.moveTitle && obj.vertical?(\" style='line-height:\"+(obj.aheight-obj.inputPadding*2)+\"px;'\"):\"\")+\">&nbsp;</div>\";\n\t\t\tvar left = \"<div class='webix_slider_left'>&nbsp;</div>\";\n\t\t\tvar right = \"<div class='webix_slider_right'></div>\";\n\t\t\tvar handle = \"<div class='webix_slider_handle' \"+/*@attr*/\"webix_disable_drag\"+\"='true' role='slider' aria-label='\"+obj.label+(obj.title?(\" \"+obj.title(obj)):\"\")+\"' aria-valuemax='\"+obj.max+\"' aria-valuemin='\"+obj.min+\"' aria-valuenow='\"+obj.value+\"' tabindex='0' id='\"+id+\"'>&nbsp;</div>\";\n\t\t\t\n\t\t\tif(obj.vertical) html =  \"<div class='webix_slider_box'>\"+right+left+handle+\"</div>\"+title;\n\t\t\telse html = title+\"<div class='webix_slider_box'>\"+left+right+handle+\"</div>\";\n\t\t\treturn common.$renderInput(obj, html, id);\n\t\t}\n\t},\n\ttype_setter:function(type){\n\t\tthis._viewobj.className += \" webix_slider_\"+type;\n\t},\n\ttitle_setter:function(value){\n\t\tif (typeof value == \"string\")\n\t\t\treturn template(value);\n\t\treturn value;\n\t},\n\t_get_slider_handle:function(){\n\t\treturn this.$view.querySelector(\".webix_slider_handle\");\n\t},\n\t_set_inner_size:function(){\n\t\tvar handle = this._get_slider_handle();\n\t\tvar config = this._settings;\n\n\t\tif(handle){ //view is rendered for sure\n\t\t\tvar size = config.vertical?this._content_height:this._get_input_width(config); //width or height\n\t\t\tvar value = config.value%config.step?(Math.round(config.value/config.step)*config.step):config.value;\n\t\t\tvar max = config.max - config.min;\n\t\t\t\n\t\t\tvalue =  Math.max(Math.min(value,config.max),config.min);\n\t\t\tvalue = config.vertical?(max-(value-config.min)):(value-config.min);\n\t\t\t\n\t\t\t//top or left\n\t\t\tvar corner1 = Math.ceil((size - 2 * this._sliderPadding) * value / max);\n\t\t\t//bottom or right\n\t\t\tvar corner2 = size - 2 * this._sliderPadding - corner1;\n\n\t\t\tvar cornerStr = config.vertical?\"top\":\"left\";\n\t\t\tvar sizeStr = config.vertical?\"height\":\"width\";\n\n\t\t\thandle.style[cornerStr] = this._sliderPadding + corner1 - this._sliderHandleWidth / 2 + \"px\";\n\t\t\thandle.parentNode.style[sizeStr] = size+\"px\";\n\n\t\t\t//1px border\n\t\t\tcorner2= Math.min(Math.max(corner2, 2 * this._sliderBorder), size - this._sliderPadding * 2 - 2 * this._sliderBorder);\n\t\t\tcorner1 = Math.min(Math.max(corner1, 2 * this._sliderBorder), size - this._sliderPadding * 2 - 2 * this._sliderBorder);\n\n\t\t\t//width for left/top and right/bottom bars\n\t\t\tvar part = handle.previousSibling;\n\t\t\tpart.style[sizeStr] = corner2 + \"px\";\n\t\t\tvar last = part.previousSibling;\n\t\t\tlast.style[sizeStr] = corner1 + \"px\";\n\n\t\t\tthis._set_title(handle, corner1, corner2, cornerStr);\n\t\t}\n\t},\n\t_set_title:function(handle, corner1, corner2, cornerStr){\n\t\tvar config = this._settings;\n\t\tif (this._settings.title){\n\t\t\tvar title = handle.parentNode[config.vertical?\"nextSibling\":\"previousSibling\"];\n\t\t\ttitle.innerHTML = this._settings.title(this._settings, this);\n\t\t\t\n\t\t\tif(this._settings.moveTitle){\n\t\t\t\tvar pos = 0;\n\t\t\t\tif(config.vertical) pos = corner1+2 * this._sliderBorder-this._sliderHandleWidth/2;\n\t\t\t\telse{\n\t\t\t\t\tvar half = title.clientWidth/2;\n\t\t\t\t\tvar pos1 = half>corner1 ? (half-corner1-2*this._sliderBorder): 0;//left/top text is to large\n\t\t\t\t\tvar pos2 = half>corner2 ? (half-corner2-2*this._sliderBorder-this._sliderHandleWidth/2): 0;//right/bottom text is too large\n\t\t\t\t\tpos = this._sliderPadding + corner1 - half + pos1 - pos2;\n\t\t\t\t}    \n\t\t\t\ttitle.style[cornerStr] = pos+ \"px\";\n\t\t\t}\n\t\t}\n\t},\n\t_set_value_now:function(){\n\t\tthis._get_slider_handle().setAttribute(\"aria-valuenow\", this._settings.value);\n\t},\n\trefresh:function(){\n\t\tvar handle =  this._get_slider_handle();\n\t\tif(handle){\n\t\t\tthis._set_value_now();\n\t\t\tif(this._settings.title)\n\t\t\t\thandle.setAttribute(\"aria-label\", this._settings.label+\" \"+this._settings.title(this._settings, this));\n\n\t\t\tthis._set_inner_size();\n\t\t}\n\t},\n\t$setValue:function(){\n\t\tthis.refresh();\n\t},\n\t$getValue:function(){\n\t\treturn this._settings.value;\n\t},\n\t$prepareValue:function(value){\n\t\tvalue = parseFloat(value);\n\t\treturn isNaN(value)?0:value;\n\t},\n\t$init:function(config){\n\t\tif(env.touch)\n\t\t\tthis.attachEvent(\"onTouchStart\" , bind(this._on_mouse_down_start, this));\n\t\telse\n\t\t\t_event(this._viewobj, \"mousedown\", bind(this._on_mouse_down_start, this));\n\n\t\t_event( this.$view, \"keydown\", bind(this._handle_move_keyboard, this));\n\n\t\tif(config.vertical){\n\t\t\tconfig.height = config.height || $active.vSliderHeight;\n\t\t\tthis._viewobj.className += \" webix_slider_vertical\";\n\t\t\tthis._sliderPadding = $active.vSliderPadding;\n\t\t}\n\t},\n\t$skin: function(){\n\t\ttext.api.$skin.call(this);\n\n\t\tthis._sliderHandleWidth = $active.sliderHandleWidth; //8 - width of handle / 2\n\t\tthis._sliderPadding = $active.sliderPadding;//10 - padding of webix_slider_box ( 20 = 10*2 )\n\t\tthis._sliderBorder = $active.sliderBorder;//1px border\n\t},\n\t_handle_move_keyboard:function(e){\n\t\tvar code = e.keyCode, c = this._settings, value = c.value;\n\n\t\tif(code>32 && code <41){\n\t\t\tpreventEvent(e);\n\n\t\t\tvar trg = e.target || e.srcElement;\n\t\t\tvar match =  /webix_slider_handle_(\\d)/.exec(trg.className);\n\t\t\tthis._activeIndex = match?parseInt(match[1],10):-1;\n\t\t\tif(match)\n\t\t\t\tvalue = c.value[this._activeIndex];\n\n\t\t\tvalue = value<c.min ? c.min:(value>c.max ? c.max : value);\n\t\t\t\n\t\t\tif(code === 36) value = c.min;\n\t\t\telse if(code === 35) value = c.max;\n\t\t\telse{\n\t\t\t\tvar inc = (code === 37 || code ===40 || code === 34)?-1:1;\n\t\t\t\tif(code === 33 || code === 34 || c.step>1)\n\t\t\t\t\tinc = inc*c.step;\n\t\t\t\tvalue = value*1+inc;\n\t\t\t}\n\n\t\t\tif(match){\n\t\t\t\tvar other = c.value[this._activeIndex?0:1];\n\t\t\t\tvalue = ((this._activeIndex && value <= other) || (!this._activeIndex && value >= other )) ? other : value;\n\t\t\t}\n\n\t\t\tif(value>=c.min && value <=c.max){\n\t\t\t\tif(match){\n\t\t\t\t\tvar temp =[];\n\t\t\t\t\tfor(var i=0; i<c.value.length; i++)\n\t\t\t\t\t\ttemp[i] = i === this._activeIndex ? value : c.value[i];\n\t\t\t\t\tvalue = temp;\n\t\t\t\t}\n\t\t\t\tthis.setValue(value);\n\t\t\t\tthis._activeIndex = -1;\n\t\t\t}\n\t\t}\n\t},\n\t_on_mouse_down_start:function(e){\n\t\tif (this._handle_drag_events) return;\n\n\t\tvar trg = e.target || e.srcElement;\n\t\tif(this._mouse_down_process){\n\t\t\tthis._mouse_down_process(e);\n\t\t}\n\n\t\tvar value = this._settings.value;\n\t\tif(isArray(value))\n\t\t\tvalue = copy(value);\n\n\t\tif (trg.className.indexOf(\"webix_slider_handle\")!=-1){\n\t\t\tthis._start_value = value;\n\t\t\treturn this._start_handle_dnd.apply(this,arguments);\n\t\t} else if (trg.className.indexOf(\"webix_slider\") != -1){\n\t\t\tthis._start_value = value;\n\n\t\t\tthis._settings.value = this._get_value_from_event.apply(this,arguments);\n\n\t\t\tthis._start_handle_dnd(e);\n\t\t}\n\t},\n\t_start_handle_dnd:function(){\n\t\tif(env.touch){\n\t\t\tthis._handle_drag_events = [\n\t\t\t\tthis.attachEvent(\"onTouchMove\" , bind(this._handle_move_process, this)),\n\t\t\t\tthis.attachEvent(\"onTouchEnd\"  , bind(this._handle_move_stop, this))\n\t\t\t];\n\t\t}\n\t\telse\n\t\t\tthis._handle_drag_events = [\n\t\t\t\tevent(document.body, \"mousemove\", bind(this._handle_move_process, this)),\n\t\t\t\tevent(window, \"mouseup\", bind(this._handle_move_stop, this))\n\t\t\t];\n\t\taddCss(document.body,\"webix_noselect\");\n\t},\n\t_handle_move_stop:function(){\n\t\t//detach event handlers\n\t\tif(this._handle_drag_events){\n\t\t\tif(env.touch){\n\t\t\t\tthis.detachEvent(this._handle_drag_events[0]);\n\t\t\t\tthis.detachEvent(this._handle_drag_events[1]);\n\t\t\t}\n\t\t\telse{\n\t\t\t\teventRemove(this._handle_drag_events[0]);\n\t\t\t\teventRemove(this._handle_drag_events[1]);\n\t\t\t}\n\t\t\tthis._handle_drag_events = null;\n\t\t}\n\n\t\tremoveCss(document.body,\"webix_noselect\");\n\n\t\tvar value = this._settings.value;\n\n\t\tif(isArray(value))\n\t\t\tvalue = copy(value);\n\n\t\tthis._settings.value = this._start_value;\n\t\tthis.setValue(value);\n\n\t\tthis._get_slider_handle(this._activeIndex).focus();\n\t\tthis._activeIndex = -1;\n\t},\n\t_handle_move_process:function(){\n\t\tthis._settings.value = this._get_value_from_event.apply(this,arguments);\n\t\tthis.refresh();\n\t\tthis.callEvent(\"onSliderDrag\", []);\n\t},\n\t_get_value_from_event:function(event,touchContext){\n\t\t// this method takes 2 arguments in case of touch env\n\t\tvar pos = 0;\n\t\tvar ax = this._settings.vertical?\"y\":\"x\";\n\t\tif(env.touch)\n\t\t\tpos = touchContext?touchContext[ax]: event[ax];\n\t\telse\n\t\t\tpos = getPos(event)[ax];\n\t\treturn this._get_value_from_pos(pos);\n\t},\n\t_get_value_from_pos:function(pos){\n\t\tvar config = this._settings;\n\t\tvar max = config.max - config.min;\n\t\tvar ax = config.vertical?\"y\":\"x\";\n\n\t\t//top or left depending on slider type\n\t\tvar corner = offset(this._get_slider_handle().parentNode)[ax] + this._sliderPadding;\n\t\t//height or width depending on slider type\n\t\tvar size = (config.vertical?this._content_height:this._get_input_width(config))-2*this._sliderPadding;\n\n\t\tvar newvalue = (size?(pos-corner) * max / size:0);\n\t\tif(config.vertical)\n\t\t\tnewvalue = max-newvalue;\n\t\tnewvalue = Math.round((newvalue + 1*config.min)/config.step) * config.step;\n\t\treturn Math.max(Math.min(newvalue, config.max), config.min);\n\t},\n\t_init_onchange:function(){} //need not ui.text logic\n};\n\n\nconst view = protoUI(api,  text.view);\nexport default {api, view};","import slider from \"../views/slider\";\nimport {offset} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {uid, isArray, isUndefined} from \"../webix/helpers\";\n\n\n// #include ui/slider.js\n\nconst api = {\n\tname:\"rangeslider\",\n\t$cssName:\"slider webix_rangeslider\",\n\tdefaults:{\n\t\tseparator: \",\",\n\t\tvalue: [20,80],\n\t\ttemplate:function(obj, common){\n\t\t\tvar id = \"x\" + uid();\n\t\t\tcommon._handle_id = [id+\"_0\",id+\"_1\"];\n\n\t\t\tvar aria = \"role='slider' aria-label='\"+obj.label+(obj.title?(\" \"+obj.title(obj)):\"\")+\"' aria-valuemax='\"+obj.max+\"' aria-valuemin='\"+obj.min+\"' tabindex='0'\";\n\t\t\tvar handles = \"<div class='webix_slider_handle webix_slider_handle_0' \"+/*@attr*/\"webix_disable_drag\"+\"='true' id='\"+common._handle_id[0]+\"' \"+aria+\" aria-valuenow='\"+obj.value[0]+\"'>&nbsp;</div>\";\n\t\t\thandles += \"<div class='webix_slider_handle webix_slider_handle_1' \"+/*@attr*/\"webix_disable_drag\"+\"='true' id='\"+common._handle_id[1]+\"' \"+aria+\" aria-valuenow='\"+obj.value[1]+\"'>&nbsp;</div>\";\n\n\t\t\tvar title = \"<div class='webix_slider_title\"+(obj.moveTitle?\" webix_slider_move\":\"\")+\"'\"+(!obj.moveTitle && obj.vertical?(\" style='line-height:\"+(obj.aheight-common._sliderPadding-obj.inputPadding*2)+\"px;'\"):\"\")+\">&nbsp;</div>\";\n\t\t\tif(obj.moveTitle)\n\t\t\t\ttitle = \"<div class='webix_slider_title_box'>\"+(title+title)+\"</div>\";\n\t\t\t\n\t\t\tvar parts = \"<div class='webix_slider_right'>&nbsp;</div><div class='webix_slider_left'></div>\";\n\t\t\tvar html = \"\";\n\t\t\tif(obj.vertical) html = \"<div class='webix_slider_box'>\"+parts+handles+\"</div>\"+title;\n\t\t\telse html = title+\"<div class='webix_slider_box'>\"+parts+handles+\"</div>\";\n\t\t\treturn common.$renderInput(obj, html, id);\n\t\t}\n\t},\n\t$prepareValue:function(value){\n\t\tif(!isArray(value)){\n\t\t\tvalue = (value||\"\").toString().split(this._settings.separator);\n\t\t}\n\t\tvalue[0] = parseFloat(value[0]);\n\t\tvalue[0] = isNaN(value[0])?0:value[0];\n\t\tif(value.length < 2)\n\t\t\tvalue[1] = value[0];\n\t\telse{\n\t\t\tvalue[1] = parseFloat(value[1]);\n\t\t\tvalue[1] = isNaN(value[1])?0:value[1];\n\t\t}\n\t\tif(value[0]>value[1]) [value[0], value[1]] = [value[1], value[0]];\n\t\treturn value;\n\t},\n\t_get_slider_handle:function(index){\n\t\tindex = index && index>=0?index:0;\n\t\treturn this.$view.querySelector(\".webix_slider_handle_\"+(index||0));\n\t},\n\t_get_left_pos: function(size,index){\n\t\tvar config, max, value;\n\n\t\tconfig = this._settings;\n\t\tmax = config.max - config.min;\n\t\tvalue = config.value[index]%config.step?(Math.round(config.value[index]/config.step)*config.step):config.value[index];\n\t\tvalue =  Math.max(Math.min(value,config.max),config.min);\n\t\treturn Math.ceil((size - this._sliderPadding*2) * (value-config.min) / max);\n\t},\n\t_set_left_pos:function(size, left, vertical){\n\t\tvar pos = this._sliderPadding + left - (this._sliderHandleWidth / 2 *(vertical?-1:1));\n\t\tpos = vertical? size-pos:pos;\n\t\treturn pos+\"px\";\n\t},\n\t_set_value_pos:function(size, left, length, vertical){\n\t\tvar pos = left+this._sliderPadding + 2 * this._sliderBorder;\n\t\tif(vertical) pos = size-pos-length;\n\t\treturn pos + \"px\";\n\t},\n\t_set_inner_size:function(){\n\t\tvar config, handle0, handle1,\n\t\t\tleft0, left1, max, length, parentBox,\n\t\t\tsizeStr, size, cornerStr;\n\n\t\thandle0 =this._get_slider_handle(0);\n\t\thandle1 = this._get_slider_handle(1);\n\t\tconfig = this._settings;\n\n\t\tif(!isArray(config.value)){\n\t\t\tthis.define(\"value\", config.value);\n\t\t}\n\n\t\tif (handle0){\n\t\t\tsizeStr = config.vertical?\"height\":\"width\";\n\t\t\tcornerStr = config.vertical?\"top\":\"left\";\n\t\t\t\n\t\t\tsize = config.vertical?this._content_height:this._get_input_width(config);\n\t\t\tmax = size - this._sliderPadding * 2 - 2 * this._sliderBorder;\n\t\t\t\n\t\t\tleft0 = this._get_left_pos(size, 0);\n\t\t\tleft1 = this._get_left_pos(size, 1);\n\t\t\tlength = left1 - left0;\n\n\t\t\thandle0.style[cornerStr] = this._set_left_pos(size, left0, config.vertical);\n\t\t\thandle1.style[cornerStr] = this._set_left_pos(size, left1, config.vertical);\n\t\t\t\n\t\t\tparentBox = handle0.parentNode;\n\t\t\tparentBox.style[sizeStr] = size+\"px\";\n\t\t\tparentBox.firstChild.style[sizeStr] = max + \"px\";\n\t\t\tparentBox.childNodes[1].style[sizeStr] = length + \"px\";\n\t\t\tparentBox.childNodes[1].style[cornerStr] = this._set_value_pos(size, left0, length, config.vertical);\n\n\t\t\tthis._set_title(handle0, [left0, left1], max, cornerStr);\n\t\t}\n\t},\n\t_title_hidden:0,\n\t_hide_title:function(title, index){\n\t\tif(!isUndefined(this._title_hidden))\n\t\t\ttitle[this._title_hidden].style.visibility = \"visible\";\n\t\tif(!isUndefined(index)){\n\t\t\ttitle[index].style.visibility = \"hidden\";\n\t\t\tthis._title_hidden = index;\n\t\t}\n\t},\n\t_set_title:function(handle0, left, max, cornerStr){\n\t\tvar config = this._settings;\n\t\tif (this._settings.title){\n\t\t\tvar box = handle0.parentNode;\n\t\t\tvar sibling = config.vertical?\"nextSibling\":\"previousSibling\";\n\n\t\t\tif(!config.moveTitle)\n\t\t\t\tbox[sibling].innerHTML = this._settings.title(this._settings, this);\n\t\t\telse{ //two independent titles\n\t\t\t\tvar title = box[sibling].childNodes;\n\t\t\t\tvar pos = [];\n\t\t\t\tfor(let i = 0; i<2; i++)\n\t\t\t\t\tpos.push(this._set_title_n(title[i], config.value[i], left[i], max, cornerStr, i));\n\n\t\t\t\t//correct for overlapping titles\n\t\t\t\tvar diff = config.vertical? (pos[0]-pos[1]-this._sliderHandleWidth) : (pos[1]-pos[0]);\n\t\t\t\tvar sizeStr  = config.vertical?\"clientHeight\":\"clientWidth\";\n\n\t\t\t\t\n\n\t\t\t\tif(title[0][sizeStr]/2+title[1][sizeStr]/2 > diff)\n\t\t\t\t\tthis._hide_title(title, isUndefined(this._activeIndex) ? 0 : (this._activeIndex ? 0 : 1));\n\t\t\t\telse\n\t\t\t\t\tthis._hide_title(title);\n\n\t\t\t\t//set position\n\t\t\t\tfor(let i = 0; i<2; i++)\n\t\t\t\t\ttitle[i].style[cornerStr] = pos[i]+ \"px\";\n\t\t\t}\n\t\t}\n\t},\n\t_set_title_n:function(title, value, left, max, cornerStr, index){\n\t\ttitle.innerHTML = this._settings.title({value:value}, this);\n\t\tvar half = title.clientWidth/2;\n\t\tvar pos = 0;\n\t\t\n\t\tif(this._settings.vertical)\n\t\t\tpos = max-left-this._sliderHandleWidth/2-(index?this._sliderPadding:0)+2 * this._sliderBorder;\n\t\telse{\n\t\t\tpos = left + this._sliderHandleWidth/2 + 2*this._sliderBorder - half;\n\t\t\tpos = (half>left) ? (half-left+pos): pos;//left/top text is to small\n\t\t\tpos = (index && half+left>max)?(pos-half+(max-left)):pos;//right/bottom text is too large\n\t\t}\n\t\treturn pos;\n\t},\n\t_set_value_now:function(){\n\t\tfor(var i=0; i<2; i++){\n\t\t\tthis._get_slider_handle(i).setAttribute(\"aria-valuenow\", this._settings.value[i]);\n\t\t}\n\t},\n\t_mouse_down_process: function(e){\n\t\tvar trg = e.target || e.srcElement;\n\t\tvar match =  /webix_slider_handle_(\\d)/.exec(trg.className);\n\t\tthis._activeIndex = match?parseInt(match[1],10):-1;\n\n\t\tif(match)\n\t\t\tthis._set_handle_active(this._activeIndex);\n\t},\n\t$compareValue:function(oldvalue, value){\n\t\tvalue = this.$prepareValue(value);\n\t\treturn oldvalue[0] === value[0] && oldvalue[1] === value[1];\n\t},\n\t$getValue:function(){\n\t\tvar value = this._settings.value;\n\t\treturn this._settings.stringResult?value.join(this._settings.separator):value;\n\t},\n\t_set_handle_active: function(index){\n\t\tvar hActive = this._get_slider_handle(index);\n\t\tvar h = this._get_slider_handle(1-index);\n\t\tif(hActive.className.indexOf(\"webix_slider_active\") == -1)\n\t\t\thActive.className += \" webix_slider_active\";\n\t\th.className = h.className.replace(\" webix_slider_active\",\"\");\n\t\thActive.focus();\n\t},\n\t_get_value_from_pos:function(pos){\n\t\tvar config = this._settings;\n\t\tvar value = config.value;\n\t\t//10 - padding of slider box\n\t\tvar max = config.max - config.min;\n\t\tvar ax = config.vertical?\"y\":\"x\";\n\n\t\tvar left = offset(this._get_slider_handle().parentNode)[ax];\n\t\tvar newvalue = Math.ceil((pos-left) * max / (config.vertical?this._content_height:this._get_input_width(config)));\n\t\tnewvalue = Math.round((newvalue + 1*config.min)/config.step) * config.step;\n\t\tif(config.vertical)\n\t\t\tnewvalue = max-newvalue;\n\n\t\tvar index = null;\n\t\tvar pos0 = offset(this._get_slider_handle(0))[ax];\n\t\tvar pos1 = offset(this._get_slider_handle(1))[ax];\n\n\t\tif(pos0==pos1 && (config.value[0] == config.min || config.value[0] == config.max) ){\n\t\t\tthis._activeIndex = index = (config.value[0] == config.min?1:0);\n\t\t\tthis._set_handle_active(index);\n\t\t}\n\t\telse{\n\t\t\tif(this._activeIndex >=0){\n\t\t\t\tindex = this._activeIndex;\n\t\t\t}else{\n\t\t\t\tif(pos0==pos1){\n\t\t\t\t\tindex = (pos < pos0?0:1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tvar dist0 = Math.abs(pos0-pos);\n\t\t\t\t\tvar dist1 = Math.abs(pos1-pos);\n\t\t\t\t\tindex = dist0<dist1?0:1;\n\t\t\t\t\tthis._activeIndex = index;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tif(index){\n\t\t\tvalue[index] = Math.max(Math.min(newvalue, config.max), value[0]);\n\t\t}\n\t\telse{\n\t\t\tvalue[index] = Math.max(Math.min(newvalue, value[1]), config.min);\n\t\t}\n\n\t\treturn value;\n\t}\n};\n\n\nconst view = protoUI(api,  slider.view);\nexport default {api, view};","import checkbox from \"../views/checkbox\";\nimport {addCss, removeCss, getTextSize} from \"../webix/html\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport {uid} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"switch\",\n\tdefaults:{\n\t\ttemplate:function (config, common) {\n\t\t\tcommon._calck_switch_size();\n\n\t\t\tvar id = config.name || \"x\"+uid();\n\t\t\tvar rightlabel = \"\";\n\t\t\tif (config.labelRight){\n\t\t\t\trightlabel = \"<label class='webix_label_right'>\"+config.labelRight+\"</label>\";\n\t\t\t\tif (config.labelWidth)\n\t\t\t\t\tconfig.label = config.label || \"&nbsp;\";\n\t\t\t}\n\t\t\tvar checked = (config.checkValue == config.value);\n\t\t\tvar aria = \"aria-label=\\\"\"+(config.label||config.labelRight||\"\")+\"\\\" role=\\\"checkbox\\\" tabindex=\\\"0\\\" aria-checked=\\\"\"+(checked?\"true\":\"false\")+\"\\\" \"+(config.readonly?\"aria-readonly='true'\":\"\")+\"\\\"\";\n\t\t\tvar html = \n\t\t\t\t\"<div class=\\\"webix_switch_box \"+(checked?\" webix_switch_on\":\"\")+\"\\\" style=\\\"width:\"+common._switchWidth+\"px\\\">\"+\n\t\t\t\t\t\"<span class=\\\"webix_switch_text\\\">\"+((checked?config.onLabel:config.offLabel)||\"\")+\"</span>\"+\n\t\t\t\t\t\"<button class=\\\"webix_switch_handle\\\" \"+aria+\" style=\\\"left:\"+(checked?common._switchWidth-common._switchHeight:0)+\"px;\\\">\"+\n\t\t\t\t\t\"<input  id=\\\"\"+id+\"\\\" class=\\\"webix_switch_toggle\\\" type=\\\"checkbox\\\" \"+(checked?\"checked\":\"\")+\"></button>\"+\n\t\t\t\t\"</div>\"+rightlabel;\n\n\t\t\treturn common.$renderInput(config, html, id);\n\t\t}\n\t},\n\t$skin:function(){\n\t\tcheckbox.api.$skin.call(this);\n\n\t\tthis._switchHeight = $active.switchHeight;\n\t\tthis._switchWidth = $active.switchWidth;\n\t},\n\t$setValue:function(value){\n\t\tvar config = this._settings;\n\t\tvar checked = (value == config.checkValue);\n\t\tvar box = this.$view.querySelector(\".webix_switch_box\");\n\n\t\tif(box){\n\t\t\tvar handle = box.childNodes[1];\n\t\t\tvar text = (checked?config.onLabel:config.offLabel)||\"\";\n\t\t\tif(checked)\n\t\t\t\taddCss(box, \"webix_switch_on\");\n\t\t\telse\n\t\t\t\tremoveCss(box, \"webix_switch_on\");\n\n\t\t\thandle.style.left = (checked?this._switchWidth-this._switchHeight:0)+\"px\";\n\t\t\thandle.firstChild.checked = checked;\n\t\t\thandle.setAttribute(\"aria-checked\", checked?\"true\":\"false\");\n\n\t\t\tif(text){\n\t\t\t\tbox.childNodes[0].innerHTML = text;\n\t\t\t}\n\t\t}\n\t},\n\t_calck_switch_size:function(){\n\t\tvar config = this._settings;\n\t\tif(config.onLabel || config.offLabel){\n\t\t\tvar onWidth = config.onLabel ? getTextSize(config.onLabel, \"webix_switch_text\").width : 0;\n\t\t\tvar offWidth = config.onLabel ? getTextSize(config.offLabel, \"webix_switch_text\").width : 0;\n\t\t\tthis._switchWidth = Math.max(onWidth, offWidth)+this._switchHeight;\n\t\t}\n\t},\n\ton_click:{\n\t\t\"webix_switch_box\":function(){\n\t\t\tif(!this._settings.readonly)\n\t\t\t\tthis.toggle();\n\t\t},\n\t\t\"webix_label_right\":function(){\n\t\t\tif(!this._settings.readonly)\n\t\t\t\tthis.toggle();\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  checkbox.view);\nexport default {api, view};","import {protoUI, ui, $$} from \"../ui/core\";\nimport UIManager from \"../core/uimanager\";\nimport {$active} from \"../webix/skin\";\nimport {extend} from \"../webix/helpers\";\nimport i18n from \"../webix/i18n\";\nimport template from \"../webix/template\";\n\nimport segmented from \"../views/segmented\";\n\nconst api = {\n\tname:\"tabbar\",\n\t$init:function(){\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\n\t},\n\t$skin:function(){\n\t\tvar skin = $active;\n\t\tvar defaults = this.defaults;\n\n\t\tdefaults.topOffset = skin.tabTopOffset||0;\n\t\tdefaults.tabOffset = (typeof skin.tabOffset != \"undefined\"?skin.tabOffset:10);\n\t\tdefaults.bottomOffset = skin.tabBottomOffset||0;\n\t\tdefaults.height = skin.tabbarHeight;\n\n\t\tdefaults.tabMargin = skin.tabMargin;\n\t\tdefaults.inputPadding = skin.inputPadding;\n\t\tdefaults.tabMinWidth = skin.tabMinWidth||100;\n\t\tdefaults.tabMoreWidth = skin.tabMoreWidth||40;\n\t\tdefaults.borderless = !skin.tabBorder;\n\t},\n\t_getTabbarSizes: function(){\n\n\t\tvar config = this._settings,\n\t\t\ti, len,\n\t\t\ttabs = this._filterOptions(config.options),\n\t\t\ttotalWidth = this._input_width - config.tabOffset*2,\n\t\t\tlimitWidth = config.optionWidth||config.tabMinWidth;\n\n\t\tlen = tabs.length;\n\n\t\tif(config.tabMinWidth && totalWidth/len < limitWidth){\n\t\t\treturn { max: (parseInt(totalWidth/limitWidth,10)||1)};\n\t\t}\n\n\n\t\tif(!config.optionWidth){\n\t\t\tfor(i=0;i< len; i++){\n\t\t\t\tif(tabs[i].width){\n\t\t\t\t\ttotalWidth -= tabs[i].width+(!i&&!config .type?config.tabMargin:0);\n\t\t\t\t\tlen--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {width: (len?totalWidth/len:config.tabMinWidth)};\n\t},\n\t_init_popup: function(){\n\t\tconst obj = this._settings;\n\t\tif (!obj.tabbarPopup){\n\t\t\tconst popupConfig = {\n\t\t\t\tview: \"popup\",\n\t\t\t\tautofocus:false,\n\t\t\t\twidth: (obj.popupWidth||200),\n\t\t\t\tbody:{\n\t\t\t\t\tview: \"list\",\n\t\t\t\t\tborderless: true,\n\t\t\t\t\tselect: true, navigation:true,\n\t\t\t\t\tcss: \"webix_tab_list\",\n\t\t\t\t\tautoheight: true, yCount: obj.yCount,\n\t\t\t\t\ttype:{\n\t\t\t\t\t\ttemplate: obj.popupTemplate\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst view = ui(popupConfig);\n\t\t\tconst list = view.getBody();\n\n\t\t\tview.attachEvent(\"onShow\", () => {\n\t\t\t\tlist.unselect();\n\t\t\t\tUIManager.setFocus(list);\n\n\t\t\t\tconst node = list.getItemNode(list.getFirstId());\n\t\t\t\tif (node)\n\t\t\t\t\tnode.focus();\n\t\t\t});\n\t\t\tlist.attachEvent(\"onItemClick\", (id) => this._popupInnerClick(id));\n\t\t\tlist.attachEvent(\"onEnter\", () => this._popupInnerClick());\n\n\t\t\tobj.tabbarPopup = view._settings.id;\n\t\t\tthis._destroy_with_me.push(view);\n\t\t}\n\t\tthis._init_popup = function(){};\n\t},\n\t_popupInnerClick(id){\n\t\tconst popup = $$(this._settings.tabbarPopup);\n\t\tid = id || popup.getBody().getSelectedId();\n\n\t\tif (id && this.callEvent(\"onBeforeTabClick\", [id])){\n\t\t\tthis.setValue(id);\n\t\t\tpopup.hide();\n\t\t\tthis.callEvent(\"onAfterTabClick\", [id]);\n\t\t\tthis.refresh();\n\t\t\tthis.focus();\n\t\t}\n\t\treturn false;\n\t},\n\tgetPopup: function(){\n\t\tthis._init_popup();\n\t\treturn $$(this._settings.tabbarPopup);\n\t},\n\tmoreTemplate_setter: template,\n\tpopupTemplate_setter: template,\n\tdefaults:{\n\t\tpopupWidth: 200,\n\t\tpopupTemplate: \"#value#\",\n\t\tyCount: 7,\n\t\tmoreTemplate: \"<span class=\\\"webix_icon wxi-dots\\\"></span>\",\n\t\ttemplate:function(obj,common) {\n\t\t\tcommon._check_options(obj.options);\n\n\t\t\tlet tabs = common._filterOptions(obj.options);\n\t\t\tlet contentWidth, html, leafWidth, resultHTML, style, sum, verticalOffset, width;\n\n\t\t\tif (!tabs.length){\n\t\t\t\thtml = \"<div class='webix_tab_filler' style='width:\"+common._input_width+\"px; border-right:0px;'></div>\";\n\t\t\t} else {\n\t\t\t\tif (!obj.value)\n\t\t\t\t\tobj.value = common._getFirstActive(true);\n\n\t\t\t\thtml = \"\";\n\t\t\t\tif (obj.tabOffset)\n\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+obj.tabOffset+\"px;'>&nbsp;</div>\";\n\t\t\t\tcontentWidth = common._input_width - obj.tabOffset*2-(!obj.type?(obj.tabMargin)*(tabs.length-1):0);\n\t\t\t\tverticalOffset = obj.topOffset+obj.bottomOffset;\n\n\t\t\t\tvar sizes = common._getTabbarSizes();\n\n\t\t\t\tif (sizes.max && sizes.max < tabs.length){\n\t\t\t\t\t//we need popup\n\t\t\t\t\tconst popup = common.getPopup();\n\t\t\t\t\tpopup.hide();\n\n\t\t\t\t\tconst body = (popup.getBody()||null);\n\t\t\t\t\tif(body){\n\t\t\t\t\t\tif (sizes.max){\n\t\t\t\t\t\t\tfor (let i=0, found=false; i < tabs.length && !found; i++)\n\t\t\t\t\t\t\t\tif(tabs[i].id== obj.value){\n\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\tif((i+1) > sizes.max){\n\t\t\t\t\t\t\t\t\t\tlet selectedTab =  tabs.splice(i, 1);\n\t\t\t\t\t\t\t\t\t\tlet displayTabs = tabs.splice(0, sizes.max-1).concat(selectedTab);\n\t\t\t\t\t\t\t\t\t\ttabs = displayTabs.concat(tabs);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbody.clearAll();\n\t\t\t\t\t\t\tbody.parse(tabs.slice(sizes.max));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbody.clearAll();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (common._settings.tabbarPopup)\n\t\t\t\t\t$$(common._settings.tabbarPopup).hide();\n\n\t\t\t\tsum = obj.tabOffset;\n\t\t\t\tfor (let i=0, lastTab=false; (i<tabs.length) && !lastTab; i++) {\n\n\t\t\t\t\t// tab width\n\t\t\t\t\tif(sizes && sizes.max){\n\t\t\t\t\t\tif(sizes.max == (i + 1)){\n\t\t\t\t\t\t\tlastTab = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontentWidth = common._input_width - obj.tabOffset*2-(!obj.type&&(sizes.max>1)?(obj.tabMargin)*(sizes.max-1):0);\n\t\t\t\t\t\twidth = (contentWidth - obj.tabMoreWidth)/sizes.max ;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\twidth = sizes.width;\n\n\t\t\t\t\twidth = (tabs[i].width||obj.optionWidth||width);\n\n\t\t\t\t\tsum += width + (i&&!obj.type?obj.tabMargin:0);\n\n\t\t\t\t\tif(obj.tabMargin>0&&i&&!obj.type)\n\t\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+obj.tabMargin+\"px;'></div>\";\n\n\t\t\t\t\t// tab innerHTML\n\t\t\t\t\thtml += common._getTabHTML(tabs[i], width);\n\n\n\t\t\t\t\tif(lastTab){\n\t\t\t\t\t\thtml += \"<div role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\"+i18n.aria.showTabs+\"\\\" class=\\\"webix_tab_more_icon\\\" style=\\\"width:\"+obj.tabMoreWidth+\"px;\\\">\"+obj.moreTemplate(obj,common)+\"</div>\";\n\t\t\t\t\t\tsum += obj.tabMoreWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tleafWidth = common._content_width - sum;\n\n\t\t\t\tif (leafWidth>0 && !obj.type)\n\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+leafWidth+\"px;'>&nbsp;</div>\";\n\t\t\t}\n\n\t\t\tresultHTML = \"\";\n\n\t\t\t// consider top and bottom offset in tabs height (top tabbar)\n\t\t\tstyle = (verticalOffset&& !obj.type)?\"height:\"+(common._content_height-verticalOffset)+\"px\":\"\";\n\n\t\t\t//space above tabs (top tabbar)\n\t\t\tif(obj.topOffset && !obj.type)\n\t\t\t\tresultHTML += \"<div class='webix_before_all_tabs' style='width:100%;height:\"+obj.topOffset+\"px'></div>\";\n\n\t\t\t// tabs html\n\t\t\tresultHTML +=  \"<div style='\"+style+\"' role='tablist' class='webix_all_tabs \"+(obj.type?(\"webixtype_\"+obj.type):\"\")+\"'>\"+html+\"</div>\";\n\n\t\t\t//space below to tabs (top tabbar)\n\t\t\tif(obj.bottomOffset && !obj.type)\n\t\t\t\tresultHTML += \"<div class='webix_after_all_tabs' style='width:100%;height:\"+obj.bottomOffset+\"px'></div>\";\n\n\t\t\treturn resultHTML;\n\t\t}\n\t},\n\t_getInputNode:function(){\n\t\treturn this.$view.querySelectorAll(\".webix_item_tab\");\n\t},\n\t_getTabHTML: function(tab, width){\n\t\tvar\thtml,\n\t\t\tclassName = \"\",\n\t\t\ttooltip = \"\",\n\t\t\tisDisabled = !!tab.disabled,\n\t\t\tconfig = this.config;\n\n\t\tif (tab.id == config.value)\n\t\t\tclassName += \" webix_selected\";\n\n\t\tif (isDisabled)\n\t\t\tclassName += \" webix_disabled\";\n\n\t\tif (tab.css)\n\t\t\tclassName+=\" \"+tab.css;\n\n\t\tif (config.tooltip)\n\t\t\ttooltip = \" webix_t_id='\"+tab.id+\"'\";\n\n\t\twidth = (tab.width||width);\n\t\thtml = \"<div class=\\\"webix_item_tab\"+className+\"\\\" \"+/*@attr*/\"button_id=\\\"\"+tab.id+\"\\\" role=\\\"tab\\\" \"+\n\t\t\t\"aria-selected=\\\"\"+(tab.id== config.value?\"true\":\"false\")+\"\\\" tabindex=\\\"\"+(!isDisabled && tab.id==config.value?\"0\":\"-1\")+\n\t\t\t\"\\\" style=\\\"width:\"+width+\"px;\\\"\"+(isDisabled?\" webix_disabled=\\\"true\\\"\":\"\")+tooltip+\">\";\n\n\t\t// a tab title\n\t\tif(this._tabTemplate){\n\t\t\tvar calcHeight = this._content_height- config.inputPadding*2 - 2;\n\t\t\tvar height = this._content_height - 2;\n\t\t\tvar temp = extend({ cheight: calcHeight, aheight:height }, tab);\n\t\t\thtml+= this._tabTemplate(temp);\n\t\t}\n\t\telse {\n\t\t\tvar icon = tab.icon?(\"<span class='webix_icon \"+tab.icon+\"'></span> \"):\"\";\n\t\t\thtml+=icon + tab.value;\n\t\t}\n\n\t\tif (!isDisabled && (tab.close || config.close))\n\t\t\thtml+=\"<span role='button' tabindex='0' aria-label='\"+i18n.aria.closeTab+\"' class='webix_tab_close webix_icon wxi-close'></span>\";\n\n\t\thtml+=\"</div>\";\n\t\treturn html;\n\t},\n\t_getBox:function(){\n\t\treturn this._dataobj.firstChild;\n\t},\n\t_types:{\n\t\timage:\"<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>\",\n\t\ticon:\"<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>\",\n\t\ticonTop:\"<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#value#</div></div>\"\n\t},\n\ttype_setter:function(value){\n\t\tthis._settings.tabOffset = 0;\n\t\tif (this._types[value])\n\t\t\tthis._tabTemplate = template(this._types[value]);\n\t\treturn value;\n\t}\n};\n\n\nconst view = protoUI(api,  segmented.view);\nexport default {api, view};","import layout from \"../views/layout\";\nimport IdSpace from \"../core/idspace\";\nimport UIManager from \"../core/uimanager\";\nimport {protoUI} from \"../ui/core\";\nimport {$active} from \"../webix/skin\";\nimport i18n from \"../webix/i18n\";\nimport {_event} from \"../webix/htmlevents\";\n\n\nconst api = {\n\tname: \"richtext\",\n\tdefaults:{\n\t\tlabel:\"\",\n\t\tlabelWidth:80,\n\t\tlabelPosition:\"left\"\n\t},\n\t$init: function() {\n\t\tthis._viewobj.className += \" webix_richtext\";\n\t\tthis.$ready.unshift(this._setLayout);\n\t},\n\t$skin:function(){\n\t\tlayout.api.$skin.call(this);\n\n\t\tthis.defaults.paddingX = $active.inputSpacing/2;\n\t\tthis.defaults.paddingY = $active.inputPadding;\n\t},\n\tgetInputNode:function(){\n\t\treturn this.$view.querySelector(\".webix_richtext_editor\"); \n\t},\n\t_button:function(name){\n\t\treturn {\n\t\t\tview: \"toggle\",\n\t\t\ttype: \"icon\",\n\t\t\ticon: \"wxi-\"+name, name: name, id:name,\n\t\t\tlabel: i18n.richtext[name],\n\t\t\tautowidth: true, \n\t\t\taction:name,\n\t\t\tclick: this._add_data\n\t\t};\n\t},\n\t_setLayout: function() {\n\t\tvar top = this;\n\n\t\tvar editField = {\n\t\t\tview: \"template\",\n\t\t\tcss: \"webix_richtext_container\",\n\t\t\tborderless: true,\n\t\t\ttemplate: \"<div class='webix_richtext_editor' contenteditable='true'>\"+this.getValue()+\"</div>\",\n\t\t\ton: {\n\t\t\t\tonAfterRender: function() {\n\t\t\t\t\ttop._rendered_input = true;\n\t\t\t\t\ttop.refresh();\n\t\t\t\t\t_event( \n\t\t\t\t\t\ttop.getInputNode(),\n\t\t\t\t\t\t\"blur\",\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\ttop._updateValue(this.innerHTML);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\t_event( \n\t\t\t\t\t\ttop.getInputNode(),\n\t\t\t\t\t\t\"keyup\",\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\ttop._getselection();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonClick: {\n\t\t\t\twebix_richtext_editor: function() {\n\t\t\t\t\ttop._getselection();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar controls = [\n\t\t\tthis._button(\"underline\"),\n\t\t\tthis._button(\"bold\"),\n\t\t\tthis._button(\"italic\"),\n\t\t\t{ }\n\t\t];\n\n\t\tvar editorToolbar = {\n\t\t\tview: \"toolbar\",\n\t\t\tid:\"toolbar\",\n\t\t\telements: controls\n\t\t};\n\n\t\tvar rows = [\n\t\t\teditorToolbar,\n\t\t\teditField\n\t\t];\n\n\t\tif (this.config.labelPosition === \"top\"){\n\t\t\teditorToolbar.elements = controls.concat([\n\t\t\t\t{ view:\"label\", label: this.config.label, align:\"right\"},\n\t\t\t\t{ width:4 }\n\t\t\t]);\n\t\t\tthis.rows_setter(rows);\n\t\t} \n\t\telse if (this.config.labelWidth){\n\t\t\tthis.config.margin = 0;\n\t\t\tthis.cols_setter([{ \n\t\t\t\ttemplate: (this.config.label || \" \"),\n\t\t\t\tcss: \"webix_richtext_inp_label\"+(this.config.required?\" webix_required\":\"\"),\n\t\t\t\tborderless: true,\n\t\t\t\twidth: this.config.labelWidth\n\t\t\t}, {\n\t\t\t\trows:rows\n\t\t\t}]);\n\t\t}\n\t\telse this.rows_setter(rows);\n\t},\n\tlabelWidth_setter:function(value){\n\t\treturn value ? Math.max(value, $active.dataPadding) : 0;\n\t},\n\t_getselection: function() {\n\t\tvar top = this;\n\t\tvar bar = top.$$(\"toolbar\");\n\t\tvar sel;\n\n\t\tbar.setValues({\n\t\t\titalic:false, underline:false, bold:false\n\t\t});\n\n\t\tif(window.getSelection) {\n\t\t\tsel = window.getSelection();\n\t\t} else {\n\t\t\tsel = document.selection.createRange();\n\t\t}\n\n\t\tfor (var i = 0; i < sel.rangeCount; ++i) {\n\t\t\tif (top.$view.contains(this.getInputNode())){\n\t\t\t\tif (document.queryCommandState(\"bold\")) {\n\t\t\t\t\ttop.$$(\"bold\").setValue(true);\n\t\t\t\t} \n\t\t\t\tif (document.queryCommandState(\"underline\")) {\n\t\t\t\t\ttop.$$(\"underline\").setValue(true);\n\t\t\t\t}\n\t\t\t\tif (document.queryCommandState(\"italic\")) {\n\t\t\t\t\ttop.$$(\"italic\").setValue(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\trefresh: function() {\n\t\tif(this._rendered_input)\n\t\t\tthis.getInputNode().innerHTML = this.config.value || \"\";\n\t},\n\t_execCommandOnElement:function(commandName) {\n\t\tlet sel, selText;\n\n\t\tif (window.getSelection) {\n\t\t\tsel = window.getSelection();\n\t\t\tselText = sel.toString().length;\n\n\t\t\tconst input = this.getInputNode();\n\t\t\tif (!input.contains(sel.anchorNode) || !input.contains(sel.focusNode)) return;\n\t\t} else return; //ie8\n\n\t\tif(selText > 0) {\n\t\t\tfor (var i = 0; i < sel.rangeCount; ++i) {\n\t\t\t\tvar range = sel.getRangeAt(i);\n\t\t\t\tif (!sel.isCollapsed) {\n\t\t\t\t\tdocument.execCommand(commandName, false, \"\");\n\t\t\t\t} else {\n\t\t\t\t\tvar textValue = sel.focusNode.textContent;\n\t\t\t\t\tvar focusEl = sel.focusNode;\n\t\t\t\t\tvar focustext = sel.anchorOffset;\n\t\t\t\t\tvar wordBegining = textValue.substring(0, focustext).match(/[A-Za-z]*$/)[0];\n\t\t\t\t\tvar wordEnd = textValue.substring(focustext).match(/^[A-Za-z]*/)[0];\n\n\t\t\t\t\tvar startWord = focustext - wordBegining.length;\n\t\t\t\t\tvar endWord = focustext + wordEnd.length;\n\n\t\t\t\t\trange.setStart(focusEl, startWord);\n\t\t\t\t\trange.setEnd(focusEl, endWord);\n\t\t\t\t\tsel.removeAllRanges();\n\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t\tdocument.execCommand(commandName, false, \"\");\n\t\t\t\t}   \n\t\t\t}\n\t\t}\n\t},\n\t_add_data:function() {\n\t\tconst top = this.getTopParentView();\n\t\ttop._execCommandOnElement(this.config.action);\n\t},\n\tfocus: function() {\n\t\tif(!UIManager.canFocus(this))\n\t\t\treturn false;\n\n\t\tvar editableElement = this.getInputNode();\n\t\teditableElement.focus();\n\t},\n\t_updateValue: function(value){\n\t\tvar old = this.config.value;\n\t\tthis.config.value = value || \"\";\n\n\t\tif (old !== value)\n\t\t\tthis.callEvent(\"onChange\", [value, old]);\n\t},\n\tsetValue: function(value) {\n\t\tthis._updateValue(value);\n\t\tthis.refresh();\n\t},\n\tgetValue: function() {\n\t\tvar input = this.getInputNode();\n\t\tif (input)\n\t\t\tthis.config.value = this.getInputNode().innerHTML;\n\n\t\tvar value = this.config.value;\n\t\treturn value || (value ===0?\"0\":\"\");\n\t}\n};\n\n\nconst view = protoUI(api,  IdSpace, layout.view);\nexport default {api, view};","import {createCss, preventEvent, addCss, removeCss} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {extend, delay, uid, toNode, bind} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport {$name} from \"../webix/skin\";\n\nimport base from \"../views/view\";\nimport button from \"../views/button\";\nimport list from \"../views/list\";\nimport i18n from \"../webix/i18n\";\nimport type from \"../webix/type\";\n\nimport UploadDriver from \"../core/uploaddriver\";\nimport DataCollection from \"../core/datacollection\";\n\n\n/*\n\tUI:Uploader\n*/\n\n// #include ui/view.js\n// #include ui/list.js\n\n\ntype(list.view, {\n\tname:\"uploader\",\n\ttemplate:\"{common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>{common.fileName()}\",\n\tpercent:function(obj){\n\t\tif (obj.status == \"transfer\")\n\t\t\treturn \"<div style='width:60px; text-align:center; float:right'>\"+obj.percent+\"%</div>\";\n\t\treturn \"<div class='webix_upload_\"+obj.status+\"'><span class='\" +\n\t\t\t(obj.status ==\"error\"?\"error_icon\":\"webix_icon wxi-check\")+\"'></span></div>\";\n\t},\n\tremoveIcon:function(){\n\t\treturn \"<div class='webix_remove_upload'><span class='cancel_icon'></span></div>\";\n\t},\n\tfileName:function(obj){\n\t\treturn \"<div style='text-overflow:ellipsis; white-space:nowrap; overflow:hidden; padding-right:8px;'>\"+obj.name+\"</div>\";\n\t},\n\ton_click:{\n\t\t\"webix_remove_upload\":function(ev, id){\n\t\t\t$$(this.config.uploader).files.remove(id);\n\t\t}\n\t}\n});\n\nconst api = {\n\tname:\"uploader\",\n\tdefaults:{\n\t\tautosend:true,\n\t\tmultiple:true,\n\t\tinputName:\"upload\"\n\t},\n\t$cssName:\"button webix_uploader\",\n\t$allowsClear:true,\n\ton_click:{\n\t\t//don't fire extra onItemClick events, visible button will do it\n\t\t\"webix_hidden_upload\":function(){ return false; }\n\t},\n\t//will be redefined by upload driver\n\tsend:function(){},\n\tfileDialog:function(){},\n\tstopUpload:function(){},\n\t$skin:function(){\n\t\tbutton.api.$skin.call(this);\n\n\t\tif($name == \"material\" || $name == \"mini\")\n\t\t\tthis.defaults.css = \"webix_primary\";\n\t},\n\n\t$init:function(){\n\t\tthis.files = new DataCollection();\n\t\tthis._destroy_with_me = [this.files];\n\t\textend(this, UploadDriver, true);\n\t},\n\t$setSize:function(x,y){\n\t\tif (base.api.$setSize.call(this,x,y)){\n\t\t\tthis.render();\n\t\t}\n\t},\n\tapiOnly_setter:function(value){\n\t\tdelay(this.render, this);\n\t\treturn (this.$apiOnly=value);\n\t},\n\t_add_files: function(files){\n\t\tfor (var i = 0; i < files.length; i++)\n\t\t\tthis.addFile(files[i]);\n\n\t},\n\tlink_setter:function(value){\n\t\tif (value)\n\t\t\tdelay(function(){\n\t\t\t\tvar view = $$(this._settings.link);\n\t\t\t\tif (!view){\n\t\t\t\t\tvar top = this.getTopParentView();\n\t\t\t\t\tif (top.$$)\n\t\t\t\t\t\tview = top.$$(this._settings.link);\n\t\t\t\t}\n\n\t\t\t\tif (view.sync && view.filter)\n\t\t\t\t\tview.sync(this.files);\n\t\t\t\telse if (view.setValues)\n\t\t\t\t\tthis.files.data.attachEvent(\"onStoreUpdated\", function(){\n\t\t\t\t\t\tview.setValues(this);\n\t\t\t\t\t});\n\t\t\t\tview._settings.uploader = this._settings.id;\n\t\t\t}, this);\n\t\treturn value;\n\t},\n\taddFile:function(name, size, type, extra){\n\t\tvar file = null;\n\t\tif (typeof name == \"object\"){\n\t\t\tfile = name;\n\t\t\tname = file.name;\n\t\t\tsize = file.size;\n\t\t}\n\n\t\tvar format = this._format_size(size);\n\t\ttype = type || name.split(\".\").pop();\n\n\t\tvar file_struct = {\n\t\t\tfile: file,\n\t\t\tname: name,\n\t\t\tid: uid(),\n\t\t\tsize: size,\n\t\t\tsizetext: format,\n\t\t\ttype: type,\n\t\t\tcontext: this._last_file_context,\n\t\t\tstatus: \"client\"\n\t\t};\n\n\t\tif (file && file.webkitRelativePath)\n\t\t\tfile_struct.name = file.webkitRelativePath;\n\n\t\tif (extra)\n\t\t\textend(file_struct, extra, true);\n\n\t\tif (this.callEvent(\"onBeforeFileAdd\", [file_struct])){\n\t\t\tif (!this._settings.multiple)\n\t\t\t\tthis.files.clearAll();\n\n\t\t\tvar id = this.files.add(file_struct);\n\t\t\tthis.callEvent(\"onAfterFileAdd\", [file_struct]);\n\t\t\tif (id && this._settings.autosend)\n\t\t\t\tthis.send(id);\n\t\t}\n\t\t\n\t\treturn file_struct;\n\t},\n\t\n\t_get_active_url:function(item){\n\t\tvar url = this._settings.upload;\n\t\tvar urldata = extend(item.urlData||{},this._settings.urlData||{});\n\t\tif (url && urldata){\n\t\t\tvar subline = [];\n\t\t\tfor (var key in urldata)\n\t\t\t\tsubline.push(encodeURIComponent(key)+\"=\"+encodeURIComponent(urldata[key]));\n\n\t\t\tif (subline.length)\n\t\t\t\turl += ((url.indexOf(\"?\") ==-1) ? \"?\" : \"&\") + subline.join(\"&\");\n\t\t}\n\t\treturn url;\n\t},\n\n\taddDropZone:function(id, hover_text){\n\t\tvar node = toNode(id);\n\t\tvar extra_css = \"\";\n\t\tif (hover_text)\n\t\t\textra_css = \" \"+createCss({ content:\"\\\"\"+hover_text+\"\\\"\" }, \":before\");\n\n\t\tvar fullcss = \"webix_drop_file\"+extra_css;\n\t\tvar timer = null;\n\n\t\t//web\n\t\t_event(node,\"dragover\", preventEvent);\n\t\t_event(node,\"dragover\", function(){\n\t\t\taddCss(node, fullcss, true);\n\t\t\tif (timer){\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = null;\n\t\t\t}\n\t\t});\n\t\t_event(node,\"dragleave\", function(){\n\t\t\t//when moving over html child elements\n\t\t\t//browser will issue dragleave and dragover events\n\t\t\t//ignore first one\n\t\t\ttimer = setTimeout(function(){\n\t\t\t\tremoveCss(node, fullcss);\n\t\t\t}, 150);\n\t\t});\n\n\t\t_event(node,\"drop\", bind(function(e){\n\t\t\tremoveCss(node, fullcss);\n\t\t\tthis.$drop(e);\n\t\t\treturn preventEvent(e);\n\t\t}, this));\n\t},\n\t\n\t_format_size: function(size) {\n\t\tvar index = 0;\n\t\twhile (size > 1024){\n\t\t\tindex++;\n\t\t\tsize = size/1024;\n\t\t}\n\t\treturn Math.round(size*100)/100+\" \"+i18n.fileSize[index];\n\t},\n\n\t_complete: function(id, response) {\n\t\tvar item = this.files.getItem(id);\n\n\t\textend(item, response, true);\n\t\titem.status = \"server\";\n\t\titem.progress = 100;\n\n\t\tthis.callEvent(\"onFileUpload\", [item, response]);\n\t\tthis.callEvent(\"onChange\", []);\n\t\tthis.files.updateItem(id);\n\t\t\n\t\tif (this.isUploaded())\n\t\t\tthis._upload_complete(response);\n\t},\n\t_upload_complete:function(response){\n\t\tthis.callEvent(\"onUploadComplete\", [response]);\n\t\tif (this._last_assigned_upload_callback){\n\t\t\tthis._last_assigned_upload_callback.call(this, response);\n\t\t\tthis._last_assigned_upload_callback = 0;\n\t\t}\n\t},\n\tisUploaded:function(){\n\t\tvar order = this.files.data.order;\n\t\tfor (var i=0; i<order.length; i++)\n\t\t\tif (this.files.getItem(order[i]).status != \"server\")\n\t\t\t\treturn false;\n\n\t\treturn true;\n\t},\n\t$onUploadComplete: function(){\n\n\t},\n\t$updateProgress: function(id, percent) {\n\t\tvar item = this.files.getItem(id);\n\t\titem.percent = Math.round(percent);\n\t\tthis.files.updateItem(id);\n\t},\n\tsetValue:function(value){\n\t\tif (typeof value == \"string\" && value)\n\t\t\tvalue = { value:value, status:\"server\" };\n\n\t\tthis.files.clearAll();\n\t\tif (value)\n\t\t\tthis.files.parse(value);\n\n\t\tthis.callEvent(\"onChange\", []);\n\t},\n\tgetValue:function(){\n\t\tvar data = [];\n\t\tthis.files.data.each(function(obj){\n\t\t\tif (obj.status == \"server\")\n\t\t\t\tdata.push(obj.value||obj.name);\n\t\t});\n\n\t\treturn data.join(\",\");\n\t}\n\n};\n\n\nconst view = protoUI(api,  button.view);\nexport default {api, view};","import {protoUI} from \"../ui/core\";\nimport {uid, delay} from \"../webix/helpers\";\nimport {_event, event, eventRemove} from \"../webix/htmlevents\";\nimport env from \"../webix/env\";\nimport {$active} from \"../webix/skin\";\nimport template from \"../webix/template\";\n\nimport text from \"./text\";\n\nconst api = {\n\tname:\"texthighlight\",\n\tdefaults:{\n\t\ttemplate:function(obj, common){\n\t\t\tconst name = obj.name || obj.id;\n\t\t\tconst id = \"x\"+uid();\n\t\t\tconst width = common._get_input_width(obj);\n\n\t\t\tlet html = `<div class=\"webix_text_highlight\" style=\"width:${width}px;\"><div class=\"webix_text_highlight_value\"`;\n\n\t\t\t// iOS adds 3px of (unremovable) padding to the left and right of a textarea\n\t\t\tif(obj.type == \"textarea\" && env.mobile && env.isSafari)\n\t\t\t\thtml += ` style=\"margin-left:${$active.dataPadding + 3}px; margin-right:${$active.dataPadding + 3}px;\"`;\n\n\t\t\thtml += \"></div></div>\";\n\n\t\t\tif(obj.type == \"textarea\"){\n\t\t\t\thtml += `${common._baseInputHTML(\"textarea\")} style=\"width:${width}px;\" id=\"${id}\" name=\"${name}\" class=\"webix_inp_textarea\">${common._pattern(obj.value)}</textarea>`;\n\t\t\t\treturn common.$renderInput(obj, html, id);\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn html+common.$renderInput(obj);\n\t\t},\n\t\thighlight: text => template.escape(text),\n\t\ttype:\"text\"\n\t},\n\t$init:function(config){\n\t\tconst type = config.type || this.defaults.type;\n\t\tthis._viewobj.className += \" webix_el_\" + type;\n\n\t\tif(type == \"textarea\"){\n\t\t\tconfig.height = config.height || 0;\n\t\t\tconfig.minHeight = config.minHeight || 60;\n\t\t\tthis._skipSubmit = true;\n\t\t}\n\t\telse {\n\t\t\t//input hasn't scroll event\n\t\t\tthis.scrollEv = event(document, \"selectionchange\", ()=> {\n\t\t\t\tif(this.$view.contains(document.getSelection().focusNode))\n\t\t\t\t\tthis._syncText();\n\t\t\t});\n\t\t\tthis.attachEvent(\"onDestruct\", ()=> {\n\t\t\t\teventRemove(this.scrollEv);\n\t\t\t});\n\t\t}\n\n\t\t//setValue\n\t\tthis.attachEvent(\"onChange\", ()=> this._syncText());\n\n\t\tthis.attachEvent(\"onAfterRender\", ()=> {\n\t\t\tthis._updatePos();\n\n\t\t\tconst evs = [\"scroll\", \"focus\", \"blur\", \"paste\", \"cut\", \"keyup\", \"input\"];\n\t\t\tevs.forEach((ev) => _event(this.getInputNode(), ev, ()=> this._syncText()));\n\n\t\t\tthis._handleInput(true);\n\t\t});\n\t},\n\t$setSize:function(){\n\t\ttext.api.$setSize.apply(this, arguments);\n\t\tthis._updatePos();\n\t},\n\t_getLabelHeight:function(top){\n\t\tif(this._settings.type == \"textarea\")\n\t\t\treturn top ? this._labelTopHeight-this._settings.inputPadding : \"\";\n\n\t\treturn text.api._getLabelHeight.apply(this, arguments);\n\t},\n\tgetInputNode: function() {\n\t\treturn this._dataobj.querySelector(this._settings.type == \"text\" ? \"input\" : \"textarea\");\n\t},\n\t_getHighlightNode: function(){\n\t\treturn this._dataobj.querySelector(\".webix_text_highlight\");\n\t},\n\t_handleInput: function(init){\n\t\tconst highlight = this._getHighlightNode().firstElementChild;\n\t\tlet text = this.getValue();\n\n\t\tif(init || text != (this._lastText||\"\")){\n\t\t\tthis._lastText = text;\n\n\t\t\t//add &nbsp; at the end because div ignores last empty line + it gives better positioning\n\t\t\thighlight.innerHTML = this._settings.highlight.apply(this, [text]) + \"&nbsp;\";\n\t\t}\n\t},\n\t_handleScroll: function(){\n\t\tlet highlight = this._getHighlightNode();\n\t\tif(this._settings.type == \"text\")\n\t\t\thighlight = highlight.firstElementChild;\n\n\t\tconst text = this.getInputNode();\n\n\t\thighlight.scrollTop = text.scrollTop;\n\t\thighlight.scrollLeft = text.scrollLeft;\n\t},\n\t_updatePos: function(){\n\t\tif(this.isVisible()){\n\t\t\tconst input = this.getInputNode();\n\t\t\tconst highlightStyles = this._getHighlightNode().style;\n\n\t\t\thighlightStyles.left = input.offsetLeft+\"px\";\n\t\t\thighlightStyles.top = input.offsetTop+\"px\";\n\t\t\thighlightStyles.height = input.getBoundingClientRect().height+\"px\";\n\t\t}\n\t},\n\t_syncText: function(){\n\t\tdelay(()=>{\n\t\t\tthis._handleInput();\n\t\t\tthis._handleScroll();\n\t\t});\n\t}\n};\n\nconst view = protoUI(api, text.view);\nexport default {api, view};","import popup from \"../views/popup\";\nimport UIManager from \"../core/uimanager\";\n\nimport {preventEvent} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {toFunctor, extend, copy, isUndefined, delay, bind, toNode} from \"../webix/helpers\";\nimport {_event} from \"../webix/htmlevents\";\nimport template from \"../webix/template\";\n\n\n// #include ui/window.js\n\nconst api = {\n\tname:\"suggest\",\n\tdefaults:{\n\t\tautofocus:false,\n\t\ttype:\"list\",\n\t\tkeyPressTimeout:1,\n\t\tbody:{\n\t\t\tyCount:10,\n\t\t\tautoheight:true,\n\t\t\tbody:true,\n\t\t\tselect:true,\n\t\t\tborderless:true,\n\t\t\tnavigation:true\n\t\t},\n\t\tfilter:function(item,value){\n\t\t\tif (item.value.toString().toLowerCase().indexOf(value.toLowerCase())===0) return true;\n\t\t\treturn false;\n\t\t}\n\t},\n\ttemplate_setter:template,\n\tfilter_setter:function(value){\n\t\treturn toFunctor(value, this.$scope);\n\t},\n\t_show_on_key_press:true,\n\t$init:function(obj){\n\t\tvar temp = {};\n\t\textend(temp, copy(this.defaults.body));\n\t\ttemp.view = obj.type || this.defaults.type;\n\n\t\tvar etemp = this._get_extendable_cell(temp);\n\t\tif (obj.body)\n\t\t\textend(etemp, obj.body, true);\n\n\t\tif (obj.data)\n\t\t\tetemp.data = obj.data;\n\t\tif (obj.url)\n\t\t\tetemp.url = obj.url;\n\t\tif (obj.datatype)\n\t\t\tetemp.datatype = obj.datatype;\n\n\t\tif (obj.id)\n\t\t\ttemp.id = temp.id || (obj.id+\"_\"+temp.view);\n\n\t\tobj.body = temp;\n\t\tthis.$ready.push(this._set_on_popup_click);\n\n\t\tthis.attachEvent(\"onShow\", function(){\n\t\t\tif (this._settings.master){\n\t\t\t\tvar master = $$(this._settings.master);\n\t\t\t\tif(master){\n\t\t\t\t\tvar node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\n\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"true\");\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t}\n\t\t\tthis._show_selection();\n\t\t});\n\t\tthis.attachEvent(\"onHide\", function(){\n\t\t\tif (this._settings.master){\n\t\t\t\tvar master = $$(this._settings.master);\n\t\t\t\tif(master){\n\t\t\t\t\tvar node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\n\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"false\");\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t}\n\t\t});\n\t\tthis._old_text = {};\n\t},\n\t_get_extendable_cell:function(obj){\n\t\treturn obj;\n\t},\n\t_get_details:function(){\n\t\treturn null;\n\t},\n\t_set_input_value:function(text){\n\t\tthis._last_input_target.value = text;\n\t},\n\t_preselectMasterOption:function(data){\n\t\tconst text = data.id ? this.getItemText(data.id) : (data.text||data.value);\n\t\tlet node;\n\n\t\tif (this._settings.master){\n\t\t\tconst master = $$(this._settings.master);\n\t\t\tnode = master.getInputNode();\n\n\t\t\tif (node){\n\t\t\t\t// restore last text to allow 'master' view to save new value on blur\n\t\t\t\tconst prev_text = master._settings.text;\n\n\t\t\t\tif (master.options_setter)\n\t\t\t\t\tmaster.$setValue(data.$empty?\"\":data.id);\n\t\t\t\telse if (master.$setValueHere)\n\t\t\t\t\tmaster.$setValueHere(text, data, this._get_details());\n\t\t\t\telse\n\t\t\t\t\tmaster.$setValue(text);\n\n\t\t\t\tmaster._settings.text = prev_text;\n\t\t\t}\n\t\t}\n\t\telse if (this._last_input_target)\n\t\t\tthis._set_input_value(text);\n\n\t\tnode = node || this._last_input_target;\n\t\tif (node)\n\t\t\tnode.focus();\n\t},\n\tsetMasterValue:function(data, refresh){\n\t\tconst text = data.id ? this.getItemText(data.id) : (data.text||data.value);\n\n\t\tif (this._settings.master){\n\t\t\tconst master = $$(this._settings.master);\n\t\t\tif (refresh && data.id)\n\t\t\t\tmaster.refresh();\n\t\t\telse if (master.options_setter)\n\t\t\t\tmaster.setValue(data.$empty?\"\":data.id);\n\t\t\telse if (master.setValueHere)\n\t\t\t\tmaster.setValueHere(text, data, this._get_details());\n\t\t\telse\n\t\t\t\tmaster.setValue(text);\n\t\t}\n\t\telse if (this._last_input_target)\n\t\t\tthis._set_input_value(text);\n\n\t\tif (!refresh){\n\t\t\tthis.hide();\n\t\t\tif (this._last_input_target)\n\t\t\t\tthis._last_input_target.focus();\n\t\t}\n\t\tthis.callEvent(\"onValueSuggest\", [data, text]);\n\t},\n\tgetMasterValue:function(){\n\t\tif (this._settings.master)\n\t\t\treturn $$(this._settings.master).getValue();\n\t\treturn null;\n\t},\n\tgetItemId:function(text){\n\t\tvar list = this.getList();\n\t\tfor (var key in list.data.pull){\n\t\t\tvar obj = list.getItem(key);\n\t\t\tif (this._settings.filter.call(this, obj, text))\n\t\t\t\treturn obj.id;\n\t\t}\n\t},\n\tgetItemText:function(id){\n\t\tvar item = this.getList().getItem(id);\n\n\t\tif (!item)\n\t\t\treturn this._old_text[id] || \"\";\n\n\t\tif (this._settings.template)\n\t\t\treturn this._settings.template.call(this, item, this.type);\n\n\t\tif (this._settings.textValue)\n\t\t\treturn \"\"+item[this._settings.textValue]+\"\";\n\t\t\n\t\tvar type = this.getList().type;\n\t\tvar text = type.template.call(type, item, type);\n\n\t\treturn (this._old_text[id] = text);\n\t},\n\tgetSuggestion:function(text){\n\t\tvar id,\n\t\t\tlist = this.getList(),\n\t\t\torder = list.data.order;\n\n\t\tif (list.getSelectedId)\n\t\t\tid = list.getSelectedId();\n\n\t\tif (text && order.length && (!id || order.find(id) <0) ){\n\t\t\tid = order[0];\n\t\t\t//ensure that option really does match client-side filtering rules\n\t\t\tif (!list.config.dataFeed && !this.config.filter.call(this, list.data.pull[id], text)) return null;\n\t\t}\n\n\t\t//complex id in datatable\n\t\tif (id){\n\t\t\tif (typeof id == \"object\") id = id+\"\";\n\t\t\tif (list.getItem(id).$empty) return null;\n\t\t}\n\t\treturn id;\n\t},\n\tgetList:function(){\n\t\treturn this._body_cell;\n\t},\n\t_set_on_popup_click:function(){\n\t\tvar list = this.getList();\n\t\tvar type = this._settings.type;\n\n\t\tif (list.count){\n\t\t\tlist.attachEvent(\"onItemClick\", bind(function(item){\n\t\t\t\tthis.setMasterValue(list.getItem(item));\n\t\t\t}, this));\n\t\t\tlist.data.attachEvent(\"onstoreupdated\",bind(function(id, obj, mode){\n\t\t\t\tif (mode == \"delete\" && id == this.getMasterValue())\n\t\t\t\t\tthis.setMasterValue({ id:\"\", text:\"\" }, 1);\n\t\t\t\telse if (mode == \"update\" && id == this.getMasterValue()){\n\t\t\t\t\tthis.setMasterValue(obj, 1);\n\t\t\t\t}\n\t\t\t}, this));\n\t\t\tlist.data.attachEvent(\"onAfterFilter\", bind(this._suggest_after_filter, this));\n\t\t\tlist.data.attachEvent(\"onStoreLoad\", bind(this._suggest_after_filter, this));\n\t\t\tif (isUndefined(this._settings.fitMaster))\n\t\t\t\tthis._settings.fitMaster = true;\n\t\t} else if (type == \"calendar\"){\n\t\t\tlist.attachEvent(\"onDateSelect\", function(){\n\t\t\t\tthis.getParentView().setMasterValue({ value:list.getSelectedDate() }, list.config.multiselect);\n\t\t\t});\n\t\t\tlist.attachEvent(\"onTodaySet\", function(date){\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\n\t\t\t});\n\t\t\tlist.attachEvent(\"onDateClear\", function(date){\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\n\t\t\t});\n\t\t} else if (type == \"colorboard\"){\n\t\t\tlist.attachEvent(\"onItemClick\", function(value){\n\t\t\t\tthis.getParentView().setMasterValue({ value:value });\n\t\t\t});\n\t\t}\n\t},\n\tinput_setter: function(value) {\n\t\tthis.linkInput(value);\n\t\treturn 0;\n\t},\n\tlinkInput: function(input){\n\t\tvar node;\n\t\tif (input.getInputNode){\n\t\t\tnode = input.getInputNode();\n\t\t\tnode.webix_master_id = input._settings.id;\n\t\t} else\n\t\t\tnode = toNode(input);\n\n\t\t_event(node,\"keydown\",function(e){\n\t\t\tif ((node != document.body || this.isVisible()) && (input.config ? (!input.config.readonly) : (!node.getAttribute(\"readonly\"))))\n\t\t\t\tthis._suggestions(e);\n\t\t}, {bind:this});\n\t\t\n\t\tif(input._getInputDiv)\n\t\t\tnode = input._getInputDiv();\n\t\t\n\t\tnode.setAttribute(\"aria-autocomplete\", \"list\");\n\t\tnode.setAttribute(\"aria-expanded\", \"false\");\n\n\t\tif(node.tagName === \"DIV\"){\n\t\t\tnode.setAttribute(\"aria-live\", \"assertive\");\n\t\t\tnode.setAttribute(\"aria-atomic\", \"true\");\n\t\t}\n\n\t\tthis._non_ui_mode = true;\n\t},\n\t_suggestions: function(e){\n\t\t//should be before tab and arrows handlers: IME can call keydown twice\n\t\tif (this._last_delay)\n\t\t\tthis._last_delay = clearTimeout(this._last_delay);\n\n\t\te = (e||event);\n\t\tvar list = this.getList();\n\t\tvar trg = e.target||e.srcElement;\n\t\tif((trg == document.body && !this.isVisible()) || trg.className ==\"webix_clipbuffer\")\n\t\t\treturn;\n\n\t\tthis._last_input_target = trg;\n\t\tthis._settings.master = trg.webix_master_id;\n\n\t\tvar code = e.keyCode;\n\t\t//shift and ctrl\n\t\tif (code == 16 || code == 17) return;\n\n\t\t// tab - hide popup and do nothing\n\t\tif (code == 9)\n\t\t\treturn this._tab_key(e,list);\n\n\t\t// escape - hide popup\n\t\tif (code == 27)\n\t\t\treturn this._escape_key(e,list);\n\n\t\t// enter\n\t\tif (code == 13)\n\t\t\treturn this.$enterKey(e,list);\n\n\t\t// up/down/right/left are used for navigation\n\t\tif (this._navigate(e) && this.isVisible()){\n\t\t\tpreventEvent(e);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst contentEditable = trg.getAttribute(\"contentEditable\") == \"true\";\n\t\tif (isUndefined(trg.value) && !contentEditable) return;\n\n\t\tthis._last_delay = delay(function(){\n\t\t\t//focus moved to the different control, suggest is not necessary\n\t\t\tif (!this._non_ui_mode &&\n\t\t\t\t\tUIManager.getFocus() != $$(this._settings.master)) return;\n\n\t\t\tthis._resolve_popup = true;\n\t\t\t//spreadsheet use contentEditable div for cell highlighting\n\t\t\tvar val = contentEditable ? trg.innerText : trg.value;\n\n\t\t\tif (this._before_filtering)\n\t\t\t\tthis._before_filtering();\n\n\t\t\t// used to prevent showing popup when it was initialized\n\t\t\tif (list.config.dataFeed)\n\t\t\t\tlist.filter(\"value\", val);\n\t\t\telse if (list.filter){\n\t\t\t\tlist.filter(bind(function(item){\n\t\t\t\t\treturn this._settings.filter.call(this,item,val);\n\t\t\t\t}, this));\n\t\t\t}\n\t\t}, this, [], this._settings.keyPressTimeout);\n\t},\n\t_suggest_after_filter:function(){\n\t\tif (!this._resolve_popup) return true;\n\t\tthis._resolve_popup = false;\n\n\t\tvar list = this.getList();\n\n\t\t// filtering is complete\n\t\t// if there are as min 1 variant it must be shown, hidden otherwise\n\t\tif (list.count() >0){\n\t\t\tthis.adjust();\n\t\t\tif(!this.isVisible())\n\t\t\t\tthis._dont_unfilter = true;\n\t\t\tthis.show(this._last_input_target,null,true);\n\t\t\tthis._dont_unfilter = false;\n\t\t} else {\n\t\t\tthis.hide();\n\t\t\tthis._last_input_target = null;\n\t\t}\n\t},\n\n\tshow:function(node){\n\t\tconst input = (node && (node.tagName == \"INPUT\" || node.tagName == \"TEXTAREA\")) ? node : null;\n\n\t\tif (!this.isVisible() || (input && input != this._last_input_target)){\n\t\t\tvar list = this.getList();\n\t\t\tif (list.filter && !this._dont_unfilter){\n\t\t\t\tlist.filter(\"\");\n\t\t\t}\n\n\t\t\tif (this.$customWidth){\n\t\t\t\tthis.$customWidth(node);\n\t\t\t}\n\t\t\telse if (node && node.tagName && this._settings.fitMaster){\n\t\t\t\tthis._settings.width = node.offsetWidth -2 ; //2 - borders\n\t\t\t}\n\n\t\t\tif (list._zoom_level)\n\t\t\t\tlist.render();\n\n\t\t\tthis.adjust();\n\n\t\t\t// needed to return focus\n\t\t\tif (input)\n\t\t\t\tthis._last_input_target = input;\n\t\t}\n\t\tpopup.api.show.apply(this, arguments);\n\t},\n\t_show_selection:function(list){\n\t\tlist = list||this.getList();\n\t\tvar value = this.getMasterValue();\n\n\t\tif( list.select && list.showItem ){\n\n\t\t\tif (value && list.exists && list.exists(value)){\n\t\t\t\tlist.select(value);\n\t\t\t\tlist.showItem(value);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tlist.unselect();\n\t\t\t\tlist.showItem(list.getFirstId());\n\t\t\t}\n\t\t}\n\t\telse if(list.setValue){\n\t\t\tif (this._settings.master)\n\t\t\t\tvalue = $$(this._settings.master).$prepareValue(value);\n\t\t\tlist.setValue(value);\n\t\t}\n\t},\n\t$enterKey:function(e, list){\n\t\tconst visible = this.isVisible();\n\t\tlet value;\n\t\tlet master;\n\n\t\tif (this._settings.master)\n\t\t\tmaster = $$(this._settings.master);\n\n\t\tif (master && master._editable && master._settings.editable)\n\t\t\tmaster._applyChanges();\n\t\telse if (visible){\n\t\t\tif (list.count){\n\t\t\t\tvalue = list.getSelectedId(false, true);\n\t\t\t\tif (list.count() == 1 && list.getFirstId() != value)\n\t\t\t\t\tvalue = list.getFirstId();\n\n\t\t\t\tif (value) value = list.getItem(value);\n\t\t\t} else {\n\t\t\t\tif (list.getSelectedDate) value = list.getSelectedDate();\n\t\t\t\telse if (list.getValue) value = list.getValue();\n\n\t\t\t\tif (value) value = { value: value };\n\t\t\t}\n\t\t\t\n\t\t\tif (value)\n\t\t\t\tthis.setMasterValue(value);\n\t\t}\n\n\t\tif (visible)\n\t\t\tthis.hide();\n\t\telse if (this._show_on_key_press)\n\t\t\tthis.show(this._last_input_target);\n\t},\n\t_escape_key:function(){\n\t\treturn this.hide();\n\t},\n\t_tab_key:function(){\n\t\treturn this.hide();\n\t},\n\t/*! suggestions navigation: up/down buttons move selection\n\t *\t@param e\n\t *\t\tevent object\n\t **/\n\t_navigate: function(e) {\n\t\tvar list = this.getList();\n\t\tvar code = e.keyCode;\n\t\tvar data;\n\n\t\tif( list.moveSelection && code < 41 && code > 32 && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey) {\n\t\t\t// down and up arrows\n\t\t\tif (code === 40 || code === 38) {\n\t\t\t\tif (this._show_on_key_press && !this.isVisible())\n\t\t\t\t\tthis.show(this._last_input_target);\n\n\t\t\t\tlet dir = (code === 38) ? \"up\" : \"down\";\n\t\t\t\tlist.moveSelection(dir, false, false);\n\t\t\t}// other arrows\n\t\t\telse {\n\t\t\t\tif(list.count || (!list.count && !list.isVisible()))\n\t\t\t\t\treturn false;\n\n\t\t\t\tlet dir;\n\t\t\t\tif(code == 33) dir = \"pgup\";\n\t\t\t\tif(code == 34) dir = \"pgdown\";\n\t\t\t\tif(code == 35) dir = \"bottom\";\n\t\t\t\tif(code == 36) dir = \"top\";\n\t\t\t\tif(code == 37) dir = \"left\";\n\t\t\t\tif(code == 39) dir = \"right\";\n\n\t\t\t\tlist.moveSelection(dir, false, false);\n\t\t\t}\n\n\t\t\tif (list.count)\n\t\t\t\tdata = list.getSelectedItem(false);\n\t\t\telse {\n\t\t\t\tif (list.getSelectedDate) data = list.getSelectedDate();\n\t\t\t\telse if (list.getValue) data = list.getValue();\n\n\t\t\t\tif (data) data = { value: data };\n\t\t\t}\n\n\t\t\tif (data && this.isVisible())\n\t\t\t\tthis._preselectMasterOption(data);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\tgetValue:function(){\n\t\tvar list = this.getList();\n\t\tvar  value = (list.getValue ? list.getValue() : list.getSelectedId()) || \"\";\n\t\tvalue = value.id || value;\n\n\t\t// check empty\n\t\tif(list.getItem){\n\t\t\tvar item = list.getItem(value);\n\t\t\tif(item && item.$empty)\n\t\t\t\treturn \"\";\n\t\t}\n\t\treturn value;\n\t},\n\tsetValue:function(value){\n\t\tvar list = this.getList();\n\t\tif(value){\n\t\t\tif(list.exists(value)){\n\t\t\t\tlist.select(value);\n\t\t\t\tlist.showItem(value);\n\t\t\t}\n\t\t}else{\n\t\t\tlist.unselect();\n\t\t\tlist.showItem(list.getFirstId());\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  popup.view);\nexport default {api, view};","import suggest from \"../views/suggest\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {delay, _to_array, bind, isArray} from \"../webix/helpers\";\nimport i18n from \"../webix/i18n\";\nimport {callEvent} from \"../webix/customevents\";\n\nconst api = {\n\tname:\"multisuggest\",\n\tdefaults:{\n\t\tseparator:\",\",\n\t\ttype:\"layout\",\n\t\tbutton:true,\n\t\twidth:0,\n\t\tfilter:function(item,value){\n\t\t\tvar itemText = this.getItemText(item.id);\n\t\t\treturn (itemText.toString().toLowerCase().indexOf(value.toLowerCase())>-1);\n\t\t},\n\t\tbody:{\n\t\t\trows:[\n\t\t\t\t{ view:\"list\", type:\"multilist\", borderless:true,  autoheight:true, yCount:5, multiselect:\"touch\", select:true,\n\t\t\t\t\ton:{\n\t\t\t\t\t\tonItemClick: function(id){\n\t\t\t\t\t\t\tvar popup = this.getParentView().getParentView();\n\t\t\t\t\t\t\tdelay(function(){\n\t\t\t\t\t\t\t\tpopup._toggleOption(id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}},\n\t\t\t\t{ view:\"button\", click:function(){\n\t\t\t\t\tvar suggest = this.getParentView().getParentView();\n\t\t\t\t\tsuggest.hide();\n\t\t\t\t\tdelay(function(){\n\t\t\t\t\t\tcallEvent(\"onEditEnd\",[]);\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t]\n\t\t}\n\t},\n\n\t_toggleOption: function(id, ev, all){\n\t\tvar value = this.getValue();\n\t\tvar values = all || _to_array(value?this.getValue().split(this._settings.separator):[]);\n\t\tvar master = $$(this._settings.master);\n\t\t\n\t\tif(!all) {\n\t\t\tif(values.find(id)<0)\n\t\t\t\tvalues.push(id);\n\t\t\telse\n\t\t\t\tvalues.remove(id);\n\t\t}\n\n\t\tvar data = values.join(this._settings.separator);\n\t\tvar text = this.setValue(values).join(this._settings.separator);\n\t\tif(master)\n\t\t\tmaster.setValue(data);\n\t\telse if (this._last_input_target)\n\t\t\tthis._last_input_target.value = text;\n\n\t\tthis.callEvent(\"onValueSuggest\", [{id:data, text:text}]);\n\n\t\tif(ev){ //only for clicks in checksuggest\n\t\t\tvar checkbox = this.getList().getItemNode(id).getElementsByTagName(\"SPAN\");\n\t\t\tif(checkbox && checkbox.length) checkbox[0].focus();\n\t\t}\n\t},\n\t_get_extendable_cell:function(obj){\n\t\treturn obj.rows[0];\n\t},\n\t_set_on_popup_click:function(){\n\t\tvar button = this.getButton();\n\t\tvar text = (this._settings.button?(this._settings.buttonText || i18n.combo.select):0);\n\t\tif(button){\n\t\t\tif(text){\n\t\t\t\tbutton._settings.value = text;\n\t\t\t\tbutton.refresh();\n\t\t\t}\n\t\t\telse\n\t\t\t\tbutton.hide();\n\t\t}\n\t\tif (this._settings.selectAll)\n\t\t\treturn this.getBody().getChildViews()[0].show();\n\n\t\tvar list = this.getList();\n\t\t//for standalone suggests we need to have a normal show/hide logic\n\t\t//use a wrapper function, so it can later be cleared in multicombo\n\t\tlist.data.attachEvent(\"onAfterFilter\", bind(function(){\n\t\t\treturn this._suggest_after_filter();\n\t\t}, this));\n\t},\n\t_show_selection: function(){\n\t\tvar list = this.getList();\n\t\tvar value = this.getMasterValue();\n\t\tif(value){\n\t\t\tvalue = value.toString().split(this.config.separator);\n\t\t\tif (value[0]){\n\t\t\t\tfor (var i = 0; i < value.length; i++){\n\t\t\t\t\tif(list.exists(value[i]))\n\t\t\t\t\t\tlist.select(value[i], true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetButton:function(){\n\t\treturn this.getBody().getChildViews()[1];\n\t},\n\tgetList:function(){\n\t\treturn this.getBody().getChildViews()[0];\n\t},\n\tsetValue:function(value){\n\t\tvar text = [];\n\t\tvar list = this.getList();\n\t\tlist.unselect();\n\n\t\tif (value){\n\t\t\tif (!isArray(value))\n\t\t\t\tvalue = value.toString().split(this.config.separator);\n\n\t\t\tif (value[0]){\n\t\t\t\tfor (var i = 0; i < value.length; i++){\n\t\t\t\t\tif (list.getItem(value[i])){\n\t\t\t\t\t\tif(list.exists(value[i]))\n\t\t\t\t\t\t\tlist.select(value[i], true);\n\t\t\t\t\t\ttext.push(this.getItemText(value[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._settings.value = value?value.join(this.config.separator):\"\";\n\t\treturn text;\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value;\n\t}\n};\n\n\nconst view = protoUI(api,  suggest.view);\nexport default {api, view};","import multisuggest from \"../views/multisuggest\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {isArray, copy, delay} from \"../webix/helpers\";\nimport i18n from \"../webix/i18n\";\nimport {callEvent} from \"../webix/customevents\";\n\nconst api = {\n\tname:\"checksuggest\",\n\tdefaults:{\n\t\tbutton:false,\n\t\tselectAll: false,\n\t\tbody:{\n\t\t\trows:[\n\t\t\t\t{ view:\"checkbox\", hidden:true, customCheckbox:false, borderless: false, css:\"webix_checksuggest_select_all\", \n\t\t\t\t\tlabelRight:i18n.combo.selectAll, \n\t\t\t\t\tlabelWidth:0,\n\t\t\t\t\theight:28, inputHeight:20,\n\t\t\t\t\ton:{\n\t\t\t\t\t\tonItemClick: function(e){\n\t\t\t\t\t\t\tvar popup = this.getParentView().getParentView();\n\t\t\t\t\t\t\tvar check = popup.getList();\n\t\t\t\t\t\t\tvar values = check.data.order;\n\t\t\t\t\t\t\tfor(var i = 0; i < values.length; i++) {\n\t\t\t\t\t\t\t\tvar value = check.getItem(values[i]);\n\t\t\t\t\t\t\t\tvalue.$checked = this.getValue();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar result = this.getValue() ? [].concat(values) : [];\n\t\t\t\t\t\t\tpopup._toggleOption(values[0], e, result);\n\t\t\t\t\t\t\tcheck.refresh();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\tvar link = this.$view.querySelector(\"label\");\n\t\t\t\t\t\t\tvar locale = i18n.combo;\n\t\t\t\t\t\t\tlink.textContent = this.getValue() ? locale.unselectAll : locale.selectAll;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonAfterRender: function() {\n\t\t\t\t\t\t\tvar popup = this.getParentView().getParentView();\n\t\t\t\t\t\t\tthis.setValue(popup._is_all_selected()*1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}},\n\t\t\t\t{ view:\"list\",  css:\"webix_multilist\", borderless:true, autoheight:true, yCount:5,\n\t\t\t\t\ttype:\"checklist\",\n\t\t\t\t\ton:{\n\t\t\t\t\t\tonItemClick: function(id, e){\n\t\t\t\t\t\t\tvar item = this.getItem(id);\n\t\t\t\t\t\t\titem.$checked = item.$checked?0:1;\n\t\t\t\t\t\t\tthis.refresh(id);\n\t\t\t\t\t\t\tvar popup = this.getParentView().getParentView();\n\t\t\t\t\t\t\tpopup._click_stamp = new Date();\n\n\t\t\t\t\t\t\tpopup._toggleOption(id, e);\n\n\t\t\t\t\t\t\tif(popup.config.selectAll) {\n\t\t\t\t\t\t\t\tif (!item.$checked)\n\t\t\t\t\t\t\t\t\tpopup.getBody()._cells[0].setValue(0);\n\t\t\t\t\t\t\t\telse if(popup._is_all_selected())\n\t\t\t\t\t\t\t\t\tpopup.getBody()._cells[0].setValue(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ view:\"button\", click:function(){\n\t\t\t\t\tvar suggest = this.getParentView().getParentView();\n\t\t\t\t\tsuggest.hide();\n\t\t\t\t\tdelay(function(){\n\t\t\t\t\t\tcallEvent(\"onEditEnd\",[]);\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t]\n\t\t}\n\t},\n\t_is_all_selected:function(){\n\t\tvar all = (this.getValue() || \"\").split(this.config.separator);\n\t\treturn (all.length === this.getList().count());\n\t},\n\t_get_extendable_cell:function(obj){\n\t\treturn obj.rows[1];\n\t},\n\tgetButton:function(){\n\t\treturn this.getBody().getChildViews()[2];\n\t},\n\tgetList:function(){\n\t\treturn this.getBody().getChildViews()[1];\n\t},\n\t$init: function(){\n\t\tthis._valueHistory = {};\n\t\tthis.$ready.push(this._onReady);\n\t},\n\t_onReady: function(){\n\t\tvar list = this.getList();\n\t\tif(list.config.dataFeed){\n\t\t\tvar suggest = this;\n\t\t\tlist.attachEvent(\"onAfterLoad\", function(){\n\t\t\t\tsuggest.setValue(suggest._settings.value);\n\t\t\t});\n\t\t\tlist.getItem = function(id){\n\t\t\t\treturn this.data.pull[id] || suggest._valueHistory[id];\n\t\t\t};\n\t\t}\n\t\t\n\t\tif(this.config.master && !this.config.selectAll)\n\t\t\tthis.getBody().getChildViews()[0].hide();\n\t},\n\t$enterKey: function(e,list){\n\t\tif (list.count && list.count()){\n\t\t\tif (this.isVisible()) {\n\t\t\t\tvar value = list.getSelectedId(false, true);\n\t\t\t\tif(value){\n\t\t\t\t\tthis._toggleOption(value);\n\t\t\t\t}\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.show(this._last_input_target);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.isVisible())\n\t\t\t\tthis.hide();\n\t\t}\n\t},\n\t_show_selection: function(){\n\t\tvar list = this.getList();\n\t\tif( list.select)\n\t\t\tlist.unselect();\n\t},\n\tsetValue:function(value){\n\t\tvar i,\n\t\t\tlist = this.getList(),\n\t\t\ttext = [],\n\t\t\tvalues = {},\n\t\t\tchanged = [];\n\n\t\tvalue = value || [];\n\n\t\tif (!isArray(value))\n\t\t\tvalue = value.toString().split(this.config.separator);\n\t\telse if(list.config.dataFeed)\n\t\t\tvalue = this._toMultiValue(value);\n\n\t\tfor ( i = 0; i < value.length; i++){\n\t\t\tvalues[value[i]] = 1;\n\t\t\tif(list.getItem(value[i])){\n\t\t\t\tif( this._valueHistory)\n\t\t\t\t\tthis._valueHistory[value[i]] = copy(list.getItem(value[i]));\n\t\t\t\ttext.push(this.getItemText(value[i]));\n\t\t\t}\n\t\t}\n\n\t\tlist.data.each(function(item){\n\t\t\tif(item.$checked){\n\t\t\t\tif(!values[item.id]){\n\t\t\t\t\titem.$checked = 0;\n\t\t\t\t\tchanged.push(item.id);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(values[item.id]){\n\t\t\t\t\titem.$checked = 1;\n\t\t\t\t\tchanged.push(item.id);\n\t\t\t\t}\n\t\t\t}\n\n\t\t},this,true);\n\n\n\t\tfor( i=0; i < changed.length; i++ ){\n\t\t\tlist.refresh(changed[i]);\n\t\t}\n\t\tthis._settings.value = value.length?value.join(this.config.separator):\"\";\n\t\treturn text;\n\t},\n\tgetValue:function(){\n\t\treturn this._settings.value;\n\t},\n\t_preselectMasterOption: function(){\n\t\tvar node, master;\n\t\tif (this._settings.master){\n\t\t\tmaster = $$(this._settings.master);\n\t\t\tnode = master.getInputNode();\n\t\t}\n\t\tnode = node || this._last_input_target;\n\t\tif(node)\n\t\t\tnode.focus();\n\t},\n\t_toMultiValue: function(value){\n\t\tif(value && isArray(value)){\n\t\t\tvar values = [];\n\t\t\tfor(var i =0; i < value.length; i++){\n\t\t\t\tif(value[i].id){\n\t\t\t\t\tthis._valueHistory[value[i].id] = copy(value[i]);\n\t\t\t\t\tvalues.push(value[i].id);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tvalues.push(value[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = values;\n\t\t}\n\t\treturn value;\n\t}\n};\n\n\nconst view = protoUI(api,  multisuggest.view);\nexport default {api, view};","import suggest from \"../views/suggest\";\nimport {protoUI} from \"../ui/core\";\n\n\nconst api = {\n\tname:\"datasuggest\",\n\tdefaults:{\n\t\ttype:\"dataview\",\n\t\tfitMaster:false,\n\t\twidth:0,\n\t\tbody:{\n\t\t\txCount:3,\n\t\t\tautoheight:true,\n\t\t\tselect:true\n\t\t}\n\t}\n};\n\n\nconst view = protoUI(api,  suggest.view);\nexport default {api, view};","import suggest from \"../views/suggest\";\nimport {protoUI} from \"../ui/core\";\nimport {bind} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"gridsuggest\",\n\tdefaults:{\n\t\ttype:\"datatable\",\n\t\tfitMaster:false,\n\t\twidth:0,\n\t\tbody:{\n\t\t\tnavigation:true,\n\t\t\tautoheight:true,\n\t\t\tautowidth:true,\n\t\t\tselect:true\n\t\t},\n\t\tfilter:function(item, value){\n\t\t\tvar text = this.config.template(item);\n\t\t\tif (text.toString().toLowerCase().indexOf(value.toLowerCase())===0) return true;\n\t\t\treturn false;\n\t\t}\n\t},\n\t$init:function(obj){\n\t\tif (!obj.body.columns)\n\t\t\tobj.body.autoConfig = true;\n\t\tif (!obj.template)\n\t\t\tobj.template = bind(this._getText, this);\n\t},\n\t_getText:function(item){\n\t\tvar grid = this.getBody();\n\t\tvar value = this.config.textValue || grid.config.columns[0].id;\n\t\treturn grid.getText(item.id, value);\n\t}\n};\n\n\nconst view = protoUI(api,  suggest.view);\nexport default {api, view};","import suggest from \"../views/suggest\";\nimport {getSelectionRange, setSelectionRange, preventEvent} from \"../webix/html\";\nimport {protoUI, $$} from \"../ui/core\";\n\n\nconst api = {\n\tname:\"mentionsuggest\",\n\tdefaults:{\n\t\tsymbol:\"@\",\n\t\tfilter:function(data, value){\n\t\t\tconst s = this._settings.symbol;\n\t\t\tvalue = value.substring(0, this._last_cursor_pos);\n\t\t\tif (value.indexOf(s) === -1) return false;\n\t\t\telse {\n\t\t\t\tvalue = value.substring(value.lastIndexOf(s)+s.length);\n\t\t\t\tif (value.length){\n\t\t\t\t\tconst text = data.id ? this.getItemText(data.id) : (data.text||data.value);\n\t\t\t\t\treturn text.toString().toLowerCase().indexOf(value.toLowerCase()) !== -1;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\t$init:function(){\n\t\tthis.attachEvent(\"onValueSuggest\", this._before_filtering);\n\t},\n\t$enterKey:function(e){\n\t\tif (this.isVisible()){\n\t\t\tpreventEvent(e);\n\n\t\t\tlet master;\n\t\t\tif (this._settings.master)\n\t\t\t\tmaster = $$(this._settings.master);\n\n\t\t\tif (master && master.callEvent)\n\t\t\t\tmaster.callEvent(\"onEnter\");\n\t\t}\n\n\t\treturn suggest.api.$enterKey.apply(this, arguments);\n\t},\n\t_before_filtering:function(){\n\t\tif (this._last_input_target)\n\t\t\tthis._last_cursor_pos = getSelectionRange(this._last_input_target).start;\n\t},\n\t_get_details:function(){\n\t\treturn { pos:this._last_cursor_pos, symbol:this._settings.symbol };\n\t},\n\t_preselectMasterOption:function(){},\n\t_set_input_value:function(text){\n\t\tconst s = this._settings.symbol;\n\t\tlet value = this._last_input_target.value;\n\t\tlet last = value.substring(this._last_cursor_pos);\n\n\t\tvalue = value.substring(0, this._last_cursor_pos);\n\t\tvalue = value.substring(0, value.lastIndexOf(s)+s.length) + text;\n\n\t\tthis._last_input_target.value = value + last;\n\t\tsetSelectionRange(this._last_input_target, value.length);\n\t},\n\t_show_on_key_press:false\n};\n\n\nconst view = protoUI(api,  suggest.view);\nexport default {api, view};","import suggest from \"../views/suggest\";\nimport {protoUI, $$} from \"../ui/core\";\nimport {copy, bind} from \"../webix/helpers\";\n\n\nconst api = {\n\tname:\"daterangesuggest\",\n\tdefaults:{\n\t\ttype:\"daterange\",\n\t\tbody: {\n\t\t\tview:\"daterange\", icons:true, button:true, borderless:true\n\t\t}\n\t},\n\tgetValue:function(){\n\t\treturn this.getRange().getValue();\n\t},\n\tsetValue:function(value){\n\t\tthis.getRange().setValue(copy(value));\n\t},\n\tgetRange:function(){\n\t\treturn this.getBody();\n\t},\n\tgetButton:function(){\n\t\treturn this.getBody().getChildViews()[1].getChildViews()[1];\n\t},\n\t_setValue:function(value, hide){\n\t\tvar master = $$(this._settings.master);\n\n\t\tif(master){\n\t\t\tmaster.setValue(value);\n\t\t\tif(hide) this.hide();\n\t\t}\n\t\telse\n\t\t\tthis.setValue(value);\n\t},\n\t_set_on_popup_click:function(){\n\t\tvar range  = this.getRange();\n\t\trange.attachEvent(\"onAfterDateSelect\", bind(function(value) {this._setValue(value);}, this));\n\t\trange.attachEvent(\"onDateClear\", bind(function(value) {this._setValue(value);}, this));\n\t\trange.attachEvent(\"onTodaySet\", bind(function(value) {this._setValue(value);}, this));\n\t}\n};\n\n\nconst view = protoUI(api,  suggest.view);\nexport default {api, view};","import datepicker from \"../views/datepicker\";\nimport daterange from \"../views/daterange\";\nimport {protoUI} from \"../ui/core\";\nimport i18n from \"../webix/i18n\";\n\n\nconst api = {\n\t$cssName:\"datepicker\",\n\tname:\"daterangepicker\",\n\t$init:function(config){\n\t\t// other types are not implemented\n\t\tdelete config.type;\n\t\t// only start/end values can be selected\n\t\tdelete config.multiselect;\n\t\tdelete this._settings.multiselect;\n\t},\n\tdefaults:{\n\t\tvalue:{ },\n\t\tseparator:\" - \"\n\t},\n\t_init_popup:function(){\n\t\tvar obj = this._settings;\n\t\tif (obj.suggest)\n\t\t\tobj.popup = obj.suggest;\n\t\telse if (!obj.popup){\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\n\t\t\t\tview:\"daterangesuggest\", body:{\n\t\t\t\t\ttimepicker:obj.timepicker, calendarCount:obj.calendarCount, height:250+(obj.button || obj.icons?30:0)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis._init_once = function(){};\n\t},\n\t$prepareValue:function(){\n\t\treturn daterange.api.$prepareValue.apply(this, arguments);\n\t},\n\t_string_to_date:function(date){\n\t\tif(typeof date == \"string\"){\n\t\t\tdate = i18n.parseFormatDate(date);\n\t\t}\n\t\treturn isNaN(date*1) ? null : date;\n\t},\n\t$compareValue:function(oldvalue, value){\n\t\tvar compare = datepicker.api.$compareValue;\n\t\tvar start = compare.call(this, oldvalue.start, value.start);\n\t\tvar end = compare.call(this, oldvalue.end, value.end);\n\n\t\treturn (start && end);\n\t},\n\t$setValue:function(value){\n\t\tvalue = value || {};\n\n\t\tthis._settings.text = (value.start?this._get_visible_text(value.start):\"\")+(value.end?(this._settings.separator + this._get_visible_text(value.end)):\"\");\n\t\tthis._set_visible_text();\n\t},\n\tgetValue:function(){\n\t\tvar value = this._settings.value;\n\n\t\tif (!this._rendered_input)\n\t\t\tvalue = this.$prepareValue(value) || null;\n\t\telse if (this._settings.editable){\n\t\t\tvar formatDate = this._formatDate||i18n.dateFormatDate;\n\t\t\tlet iValue = (this.getInputNode().value||\"\").split(this._settings.separator);\n\t\t\tvalue = this._formatValue(formatDate, {start:iValue[0], end:iValue[1]});\n\t\t}\n\n\t\tif (this._settings.stringResult){\n\t\t\tvar formatStr = i18n.parseFormatStr;\n\t\t\treturn this._formatValue(formatStr, value);\n\t\t}\n\t\t\n\t\treturn value||null;\n\t},\n\t_formatValue:function(format, value){\n\t\tif(value.start) value.start = format(value.start);\n\t\tif(value.end) value.end = format(value.end);\n\t\treturn value;\n\t}\n};\n\n\nconst view = protoUI(api,  datepicker.view);\nexport default {api, view};","import toolbar from \"../views/toolbar\";\nimport {protoUI} from \"../ui/core\";\n\n\nconst api = {\n\tname: \"excelbar\",\n\tdefaults:{\n\t\tpadding:0,\n\t\ttype:\"line\"\n\t},\n\t$init:function(config){\n\t\tconfig.cols = [\n\t\t\t{ view:\"tabbar\", options:[\"\"], optionWidth:200, borderless:true, on:{\n\t\t\t\tonaftertabclick:function(){\n\t\t\t\t\tthis.getParentView().callEvent(\"onExcelSheetSelect\", [this.getValue()]);\n\t\t\t\t}\n\t\t\t}}\n\t\t];\n\t},\n\tgetValue:function(){\n\t\treturn this.getInput().getValue();\n\t},\n\tsetValue:function(value){\n\t\treturn this.getInput().setValue(value);\n\t},\n\tgetInput:function(){\n\t\treturn this.getChildViews()[0];\n\t},\n\tsetSheets:function(sheets){\n\t\tvar input = this.getInput();\n\t\tinput.config.options = sheets;\n\t\tinput.refresh();\n\t}\n};\n\n\nconst view = protoUI(api,  toolbar.view);\nexport default {api, view};","\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../views/template\";\r\n\r\nprotoUI({ name:\"excelviewer\", defaults:{\r\n\ttemplate:\"GPL version doesn't support excelviewer <br> You need Webix PRO\"\r\n}}, template.view);","\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../views/template\";\r\n\r\nprotoUI({ name:\"pdfbar\", defaults:{\r\n\ttemplate:\"GPL version doesn't support pdfbar <br> You need Webix PRO\"\r\n}}, template.view);","\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../views/template\";\r\n\r\nprotoUI({ name:\"pdfviewer\", defaults:{\r\n\ttemplate:\"GPL version doesn't support pdfviewer <br> You need Webix PRO\"\r\n}}, template.view);","import base from \"../views/view\";\r\nimport {create} from \"../webix/html\";\r\nimport {protoUI} from \"../ui/core\";\r\nimport {uid} from \"../webix/helpers\";\r\n\r\n\r\n/*\r\n\tUI:Video\r\n*/\r\n// #include ui/view.js\r\nconst api = {\r\n\tname:\"video\",\r\n\t$init:function(config){\r\n\t\tif (!config.id) config.id = uid();\r\n\t\tthis.$ready.push(this._init_video);\r\n\t},\r\n\t_init_video:function(){\r\n\t\tvar c = this._settings;\r\n\t\tthis._contentobj  = create(\"video\",{\r\n\t\t\t\"class\":\"webix_view_video\",\r\n\t\t\t\"style\":\"width:100%;height:100%;\",\r\n\t\t\t\"autobuffer\":\"autobuffer\"\r\n\t\t},\"\");\r\n\t\tif(c.poster)\r\n\t\t\tthis._contentobj.poster=c.poster;\r\n\r\n\t\tif(c.src){\r\n\t\t\tif(typeof c.src!= \"object\")\r\n\t\t\t\tc.src = [c.src];\r\n\t\t\tfor(var i = 0; i < c.src.length;i++)\r\n\t\t\t\tthis._contentobj.innerHTML += \" <source src=\\\"\"+ c.src[i]+\"\\\">\";\r\n\t\t}\r\n\t\r\n\t\tif(c.controls)\r\n\t\t\tthis._contentobj.controls=true;\r\n\t\tif(c.autoplay)\r\n\t\t\tthis._contentobj.autoplay=true;\r\n\t\tthis._viewobj.appendChild(this._contentobj);\r\n\t},\r\n\tgetVideo:function(){\r\n\t\treturn this._contentobj;\r\n\t},\r\n\tdefaults:{\r\n\t\tsrc:\"\",\r\n\t\tcontrols: true\r\n\t}\r\n};\r\n\r\n\r\nconst view = protoUI(api,  base.view);\r\nexport default {api, view};","\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../views/template\";\r\n\r\nprotoUI({ name:\"gage\", defaults:{\r\n\ttemplate:\"GPL version doesn't support gage <br> You need Webix PRO\"\r\n}}, template.view);","\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../views/template\";\r\n\r\nprotoUI({ name:\"barcode\", defaults:{\r\n\ttemplate:\"GPL version doesn't support barcode <br> You need Webix PRO\"\r\n}}, template.view);","\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../views/template\";\r\n\r\nprotoUI({ name:\"bulletgraph\", defaults:{\r\n\ttemplate:\"GPL version doesn't support bulletgraph <br> You need Webix PRO\"\r\n}}, template.view);","import base from \"../views/view\";\r\nimport DataLoader from \"../core/dataloader\";\r\nimport EventSystem from \"../core/eventsystem\";\r\nimport {protoUI} from \"../ui/core\";\r\nimport template from \"../webix/template\";\r\nimport promise from \"../thirdparty/promiz\";\r\nimport {extend, bind, isUndefined} from \"../webix/helpers\";\r\n\r\n\r\nvar google, script;\r\nconst api = {\r\n\tname:\"geochart\",\r\n\tdefaults:{\r\n\t\tchart:{\r\n\t\t\tdisplayMode:\"auto\",\r\n\t\t\tregion:\"world\",\r\n\t\t\tresolution:\"countries\"\r\n\t\t}\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.$view.innerHTML = \"<div class='webix_map_content' style='width:100%;height:100%'></div>\";\r\n\t\tthis._contentobj = this.$view.firstChild;\r\n\t\tthis._waitMap = promise.defer();\r\n\r\n\t\tconfig.chart = extend(config.chart||{}, this.defaults.chart);\r\n\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tthis.$ready.push(this.render);\r\n\r\n\t\tthis.data.attachEvent(\"onClearAll\", bind(this._refreshColumns, this)); \r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", bind(this._drawData, this));\r\n\t},\r\n\tgetMap:function(waitMap){\r\n\t\treturn waitMap?this._waitMap:this._map;\r\n\t},\r\n\t_getCallBack:function(prev){\r\n\t\treturn bind(function(){\r\n\t\t\tif (typeof prev === \"function\") prev();\r\n\r\n\t\t\tgoogle = google || window.google;\r\n\t\t\tthis._initMap();\r\n\t\t}, this);\r\n\t},\r\n\trender:function(){\r\n\t\tif(typeof window.google==\"undefined\"||typeof window.google.charts==\"undefined\"){\r\n\t\t\tif(!script){\r\n\t\t\t\tscript = document.createElement(\"script\");\r\n\t\t\t\tscript.type = \"text/javascript\";\r\n\r\n\t\t\t\tscript.src = \"//www.gstatic.com/charts/loader.js\";\r\n\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(script);\r\n\t\t\t}\r\n\t\t\tscript.onload = this._getCallBack(script.onload);\r\n\t\t}\r\n\t\telse //there's a custom link to google api in document head\r\n\t\t\t(this._getCallBack())();\r\n\t},\r\n\t_initMap:function(){\r\n\t\tif(!google.visualization || !google.visualization.GeoChart){\r\n\t\t\tgoogle.charts.load(\"current\", {\r\n\t\t\t\t\"packages\":[\"geochart\"],\r\n\t\t\t\t\"mapsApiKey\": this._settings.key\r\n\t\t\t});\r\n\t\t\tgoogle.charts.setOnLoadCallback(bind(function(){\r\n\t\t\t\tthis._initMap();\r\n\t\t\t}, this));\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis._map = new google.visualization.GeoChart(this._contentobj);\r\n\t\t\tthis._mapEvents();\r\n\t\t\t\r\n\t\t\tthis._waitMap.resolve(this._map);\r\n\t\t}\r\n\t},\r\n\t$onLoad:function(obj){\r\n\t\tif(!this._map){\r\n\t\t\tthis._waitMap.then(bind(function(){\r\n\t\t\t\tthis.parse(obj, this._settings.datatype);\r\n\t\t\t}, this));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_drawData:function(){\r\n\t\tif(!this._map){\r\n\t\t\tif(!this._map) \r\n\t\t\t\tthis._waitMap.then(bind(this._drawData, this));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\r\n\t\tvar columns = this._columns&&this._columns.length?this._columns:this._defineColumns();\r\n\t\tvar data = [];\r\n\t\tthis.data.each(function(obj){\r\n\t\t\tvar line = [];\r\n\t\t\tfor(var c = 0; c<columns.length; c++){\r\n\t\t\t\tvar value = obj[columns[c].label];\r\n\t\t\t\tif(columns[c].type == \"number\")\r\n\t\t\t\t\tvalue = value*1;\r\n\t\t\t\telse if(columns[c].role ==\"tooltip\")\r\n\t\t\t\t\tvalue = this._settings.tooltip(obj);\r\n\t\t\t\tline.push(value);\r\n\t\t\t}\r\n\t\t\tdata.push(line);\r\n\t\t}, this);\r\n\r\n\t\tif(columns.length){\r\n\t\t\tvar table = new google.visualization.DataTable();\r\n\t\t\tfor(var i = 0; i<columns.length; i++)\r\n\t\t\t\ttable.addColumn(columns[i]);\r\n\t\t\ttable.addRows(data);\r\n\t\t\t\r\n\t\t\tvar view = new google.visualization.DataView(table);\r\n\t\t\tthis._map.draw(view, this._settings.chart);\r\n\t\t}\r\n\t\telse //draw clean chart\r\n\t\t\tthis._map.draw(google.visualization.arrayToDataTable([[\"\", \"\"]]), {});\r\n\r\n\t},\r\n\tsetDisplayMode:function(value){\r\n\t\tthis._settings.chart.displayMode = value;\r\n\t\tthis.refresh();\r\n\t},\r\n\tsetRegion:function(value){\r\n\t\tthis._settings.chart.region = value;\r\n\t\tthis.refresh();\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis._map.clearChart();\r\n\t\tthis._drawData();\r\n\t},\r\n\ttooltip_setter:function(value){\r\n\t\tvar tooltip = this._settings.chart.tooltip;\r\n\t\tthis._settings.chart.tooltip = extend(tooltip || {}, {isHtml:true});\r\n\t\treturn template(value);\r\n\t},\r\n\t$setSize:function(w, h){\r\n\t\tif (base.api.$setSize.apply(this, arguments) && this._map){\r\n\t\t\textend(this._settings, {width:w, height:h});\r\n\t\t\tthis.refresh();\r\n\t\t}\r\n\t},\r\n\t_refreshColumns:function(){\r\n\t\tthis._columns = null;\r\n\t\tthis._drawData();\r\n\t},\r\n\t_getColumnType:function(item, key){\r\n\t\tif (!item || isUndefined(item[key]))\r\n\t\t\treturn \"string\";\r\n\r\n\t\tvar type = typeof item[key];\r\n\t\tif(type ==\"string\" && !isNaN(item[key]*1)) \r\n\t\t\ttype = \"number\";\r\n\t\treturn type;\r\n\t},\r\n\t_defineColumns:function(){\r\n\t\tvar columns = this._settings.columns || [];\r\n\t\tvar item = this.data.pull[this.data.order[0]];\r\n\t\t\r\n\t\t//auto columns\r\n\t\tif (!columns.length && item){\r\n\t\t\tfor (var key in item)\r\n\t\t\t\tif (key !== \"id\") columns.push(key);\r\n\t\t}\r\n\t\t//[\"title\", \"area\"]\r\n\t\tfor(var i=0; i<columns.length; i++){\r\n\t\t\tif (typeof columns[i] !== \"object\"){\r\n\t\t\t\tcolumns[i] = {type:this._getColumnType(item, columns[i]), label:columns[i]};\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(this._settings.tooltip)\r\n\t\t\tcolumns.push({type:\"string\", role:\"tooltip\", p:{\"html\": true}});\r\n\r\n\t\tthis._columns  = columns;\r\n\t\treturn columns;\r\n\t},\r\n\t_mapEvents:function(){\r\n\t\tgoogle.visualization.events.addListener(this._map, \"error\", bind(function(){this.callEvent(\"onMapError\", arguments);}, this));\r\n\t\tgoogle.visualization.events.addListener(this._map, \"ready\", bind(function(){this.callEvent(\"onMapReady\", arguments);}, this));\r\n\t\tgoogle.visualization.events.addListener(this._map, \"regionClick\", bind(function(){this.callEvent(\"onRegionClick\", arguments);}, this));\r\n\t\tgoogle.visualization.events.addListener(this._map, \"select\", bind(function(){\r\n\t\t\tvar selnow = this._map.getSelection()[0];\r\n\t\t\tvar sel = selnow || this._selprev;\r\n\t\t\tif(sel){\r\n\t\t\t\tvar id = this.data.order[sel.row];\r\n\t\t\t\tthis._selprev = sel;\r\n\t\t\t\tthis.callEvent(\"onItemClick\", [id, !!selnow]);\r\n\t\t\t}\r\n\t\t}, this));\r\n\t}\r\n};\r\n\r\n\r\nconst view = protoUI(api,  DataLoader, EventSystem, base.view);\r\nexport default {api, view};","import base from \"../views/view\";\r\nimport DataLoader from \"../core/dataloader\";\r\nimport EventSystem from \"../core/eventsystem\";\r\nimport {protoUI} from \"../ui/core\";\r\nimport promise from \"../thirdparty/promiz\";\r\nimport {bind, extend} from \"../webix/helpers\";\r\n\r\n\r\nvar google, script;\r\n\r\nconst api = {\r\n\tname:\"google-map\",\r\n\t$init:function(){\r\n\t\tthis.$view.innerHTML = \"<div class='webix_map_content' style='width:100%;height:100%'></div>\";\r\n\t\tthis._contentobj = this.$view.firstChild;\r\n\t\tthis._waitMap = promise.defer();\r\n\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tthis.$ready.push(this.render);\r\n\t},\r\n\tgetMap:function(waitMap){\r\n\t\treturn waitMap?this._waitMap:this._map;\r\n\t},\r\n\t_getCallBack:function(prev){\r\n\t\treturn bind(function(){\r\n\t\t\tif (typeof prev === \"function\") prev();\r\n\r\n\t\t\tgoogle = google || window.google;\r\n\t\t\tthis._initMap.call(this);\r\n\t\t}, this);\r\n\t},\r\n\trender:function(){\r\n\t\tif(typeof window.google==\"undefined\"||typeof window.google.maps==\"undefined\"){\r\n\t\t\tif(!script){\r\n\t\t\t\tscript = document.createElement(\"script\");\r\n\t\t\t\tscript.type = \"text/javascript\";\r\n\r\n\t\t\t\tvar config = this._settings;\r\n\t\t\t\tvar src = config.src || \"//maps.google.com/maps/api/js\";\r\n\t\t\t\tsrc += (src.indexOf(\"?\")===-1 ? \"?\" :\"&\");\r\n\t\t\t\t\r\n\t\t\t\tif (config.key)\r\n\t\t\t\t\tsrc += \"&key=\"+config.key;\r\n\t\t\t\tif (config.libraries)\r\n\t\t\t\t\tsrc += \"&libraries=\"+config.libraries;\r\n\r\n\t\t\t\tscript.src = src;\r\n\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(script);\r\n\t\t\t}\r\n\t\t\tscript.onload = this._getCallBack(script.onload);\r\n\t\t}\r\n\t\telse //there's a custom link to google api in document head\r\n\t\t\t(this._getCallBack())();\r\n\t},\r\n\t_initMap:function(){\r\n\t\tvar c = this.config;\r\n\t\tif(this.isVisible(c.id)){\r\n\t\t\tthis._map = new google.maps.Map(this._contentobj, {\r\n\t\t\t\tzoom: c.zoom,\r\n\t\t\t\tcenter: new google.maps.LatLng(c.center[0], c.center[1]),\r\n\t\t\t\tmapTypeId: google.maps.MapTypeId[c.mapType]\r\n\t\t\t});\r\n\t\t\tthis._waitMap.resolve(this._map);\r\n\t\t\tthis._contentobj.firstChild.setAttribute(/*@attr*/\"webix_disable_drag\", \"true\");\r\n\t\t}\r\n\t},\r\n\tcenter_setter:function(config){\r\n\t\tif(this._map)\r\n\t\t\tthis._map.setCenter(new google.maps.LatLng(config[0], config[1]));\r\n\r\n\t\treturn config;\r\n\t},\r\n\tmapType_setter:function(config){\r\n\t\t/*ROADMAP,SATELLITE,HYBRID,TERRAIN*/\r\n\t\tif(this._map)\r\n\t\t\tthis._map.setMapTypeId(google.maps.MapTypeId[config]);\r\n\r\n\t\treturn config;\r\n\t},\r\n\tzoom_setter:function(config){\r\n\t\tif(this._map)\r\n\t\t\tthis._map.setZoom(config);\r\n\t\treturn config;\r\n\t},\r\n\tlayerType_setter:function(config){\r\n\t\tif(config == \"heatmap\")\r\n\t\t\tthis.config.libraries = \"visualization\";\r\n\t\tif(this._layerApi[config]){\r\n\t\t\textend(this, this._layerApi[config], true);\r\n\t\t\tthis.data.attachEvent(\"onStoreUpdated\", bind(function(){\r\n\t\t\t\tthis._waitMap.then(bind(function(){\t\r\n\t\t\t\t\tthis.drawData.call(this, arguments);\r\n\t\t\t\t}, this));\r\n\t\t\t}, this));\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\tdefaults:{\r\n\t\tzoom: 5,\r\n\t\tcenter:[ 39.5, -98.5 ],\r\n\t\tmapType: \"ROADMAP\",\r\n\t\tlayerType:\"marker\"\r\n\t},\r\n\t$setSize:function(){\r\n\t\tbase.api.$setSize.apply(this, arguments);\r\n\t\tif(this._map)\r\n\t\t\tgoogle.maps.event.trigger(this._map, \"resize\");\r\n\t},\r\n\t$onLoad:function(data){\r\n\t\tif(!this._map){\r\n\t\t\tthis._waitMap.then(bind(function(){\r\n\t\t\t\tthis.parse(data);\r\n\t\t\t}, this));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_layerApi:{\r\n\t\tmarker:{\r\n\t\t\tdrawData:function(id, item, operation){\r\n\t\t\t\tswitch (operation){\r\n\t\t\t\t\tcase \"add\":\r\n\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"update\":\r\n\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t\titem.$marker.setMap(null);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.data.each(function(item){\r\n\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearAll:function(soft){\r\n\t\t\t\tthis.data.each(function(obj){\r\n\t\t\t\t\tobj.$marker.setMap(null);\r\n\t\t\t\t});\r\n\t\t\t\tthis.data.clearAll(soft);\r\n\t\t\t},\r\n\t\t\tshowItem:function(id){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\tthis._map.setCenter(new google.maps.LatLng(item.lat, item.lng));\r\n\t\t\t},\r\n\t\t\t_getItemConfig:function(item){\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\tfor(var i in item) obj[i] = item[i];\r\n\t\t\t\tobj.position = new google.maps.LatLng(item.lat, item.lng);\r\n\t\t\t\tobj.map = item.hidden? null: this._map;\r\n\r\n\t\t\t\tvar marker = item.$marker;\r\n\t\t\t\tif(!marker){\r\n\t\t\t\t\tmarker = new google.maps.Marker(obj);\r\n\t\t\t\t\tthis._events(marker);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\titem.$marker.setMap(obj.map);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.callEvent(\"onItemRender\", [item]);\r\n\t\t\t\t\r\n\t\t\t\treturn marker;\r\n\t\t\t},\r\n\t\t\t_events:function(marker){\r\n\t\t\t\tvar map = this;\r\n\t\t\t\t\r\n\t\t\t\tmarker.addListener(\"click\", function(){\r\n\t\t\t\t\tmap.callEvent(\"onItemClick\", [this.id, this]);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(marker.getDraggable()){\r\n\t\t\t\t\tmarker.addListener(\"dragend\", function(){ map._onDrag(this, true); });\r\n\t\t\t\t\tmarker.addListener(\"drag\", function(){ map._onDrag(this); });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_onDrag:function(marker, end){\r\n\t\t\t\tvar item = this.getItem(marker.id);\r\n\t\t\t\tvar pos = marker.getPosition();\r\n\t\t\t\tvar ev = end?\"onAfterDrop\":\"onDrag\";\r\n\r\n\t\t\t\titem.lat = pos.lat();\r\n\t\t\t\titem.lng = pos.lng();\r\n\t\t\t\tthis.callEvent(ev, [item.id, item]);\r\n\t\t\t}\r\n\t\t},\r\n\t\theatmap:{\r\n\t\t\theatmapConfig_setter:function(value){\r\n\t\t\t\tvalue = value || {};\r\n\t\t\t\treturn value;\r\n\t\t\t},\r\n\t\t\tdrawData:function(){\r\n\t\t\t\tif(this._heatmap){\r\n\t\t\t\t\tthis._heatmap.setMap(null);\r\n\t\t\t\t\tthis._heatmap = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar hdata = [];\r\n\t\t\t\tthis.data.each(function(item){ hdata.push(this._getConfig(item)); }, this);\r\n\r\n\t\t\t\tif(hdata.length){\r\n\t\t\t\t\tvar data = extend(this.config.heatmapConfig, {data:hdata, map:this._map}, true);\r\n\t\t\t\t\tthis._heatmap = new google.maps.visualization.HeatmapLayer(data);\r\n\t\t\t\t\tthis.callEvent(\"onHeatMapRender\", [this._heatmap]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetHeatmap:function(){\r\n\t\t\t\treturn this._heatmap;\r\n\t\t\t},\r\n\t\t\t_getConfig:function(item){\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\tfor(var i in item) obj[i] = item[i];\r\n\t\t\t\tobj.location = new google.maps.LatLng(item.lat, item.lng);\r\n\r\n\t\t\t\treturn obj;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nconst view = protoUI(api,  DataLoader, EventSystem, base.view);\r\nexport default {api, view};"],"names":["global","window","queueId","queue","isRunningTask","setImmediate","addEventListener","e","source","nextTick","data","fn","importScripts","setTimeout","postMessage","Deferred","resolve","value","_d","TypeError","reject","all","arr","Array","d","done","v","unresolved","reduce","cnt","then","map","i","r","race","length","resolver","undefined","self","state","val","next","er","fire","_fn","_er","push","_handler","_value","handler","finish","type","p","thennable","ref","cb","ec","cn","call","defer","services","define","name","use","assert","test","msg","log","message","text","expire","details","arguments","console","toLowerCase","debug_mode","debug","mode","events","key","debug_size_indent","debug_size_step","str","debug_size_box_start","comp","get","size","config","id","debug_size_box_end","sizes","join","debug_size_box","level","level_in","level_out","clone","f","_function","prototype","base","force","$protoWait","_power_array","insertAt","method","defaults","extend","$init","copy","esModern","Map","Set","WeakMap","WeakSet","target","isArray","from","RegExp","isDate","Date","single","instance","t","_reinit","apply","bind","functor","object","exec","code","execScript","eval","wrap","result","isUndefined","a","delay","obj","params","$destructed","ret","once","flag","_seed","valueOf","uid","toNode","node","document","getElementById","toFunctor","scope","replace","Object","toString","_to_array","array","removeAt","pos","len","splice","remove","find","each","master","filter","webix_on_core_ready","i18n","parseFormat","parseTimeFormat","stringify","origin","toJSON","parseFormatStr","JSON","EventSystem","_evs_events","_evs_handlers","_evs_map","blockEvent","_block","unblockEvent","mapEvent","on_setter","$scope","sub","indexOf","substr","attachEvent","callEvent","_event_master","event_stack","return_value","_settings","$eventSource","unshift","detachEvent","hasEvent","stack","parent","evs","b","c","xml","_isValidXML","documentElement","getElementsByTagName","toObject","response","rawxml","fromString","getRecords","xpath","records","child","getDetails","tagToObject","getOptions","getInfo","assignTypes","getAttribute","path","XPathResult","nodeName","ownerDocument","res","col","evaluate","ANY_TYPE","temp","iterateNext","selectNodes","split","pop","k","tag","z","nodeType","hasSubTags","attributes","childNodes","tagName","nodeValue","firstChild","wholeText","xmlString","DOMParser","parseFromString","ActiveXObject","loadXML","json","parseDates","isodate","parse","collections","total_count","ajax","url","getXHR","count","XMLHttpRequest","_send","success","error","promise","x","headers","_header","json_mode","found","FormData","encodeURIComponent","open","_sync","_response","responseType","setRequestHeader","onreadystatechange","readyState","is_error","status","responseText","_data","$callback","_timeout","timeout","send","responseXML","post","put","del","patch","sync","num","header","owner","proxy","$proxy","load","parts","ext","options","dataurl","save","u","operation","newid","processResult","view","update","_save_logic","query","mark","charAt","xhr","rest","unbox","lkey","GraphQL","variables","extra","makeCopy","init","$parse","binary","graphql","jsarray","idColumn","csv","row","stringToArray","cell","html","createElement","innerHTML","env","cdn","codebase","zIndexBase","scrollSize","strict","webix_strict","https","location","protocol","agent","navigator","userAgent","isMac","mobile","touch","platform","maxTouchPoints","isOpera","isIE","version","parseFloat","appVersion","isIE8","isEdge","isFF","isWebKit","isSafari","maxHTMLElementSize","isAndroid","isIEMobile","transform","transition","found_index","js_list","css_list","j","style","cssPrefix","jp","jsPrefix","transitionDuration","translate","transitionEnd","pointerevents","passiveEventListeners","opts","defineProperty","removeEventListener","svg","implementation","hasFeature","svganimation","_native_on_selectstart","_style_element","_style_cache","denySelect","onselectstart","stopEvent","allowSelect","index","previousSibling","createCss","rule","sufix","addStyle","group","setAttribute","appendChild","styleSheet","cssText","createTextNode","removeStyle","box","create","attrs","attr_name","className","getValue","parentNode","removeChild","insertBefore","before","rescue","locate","trg","event","srcElement","offset","elem","getBoundingClientRect","body","docElem","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","y","Math","round","width","offsetWidth","height","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","posRelative","ev","offsetX","offsetY","layerX","layerY","touches","pageX","pageY","compatMode","clientX","clientY","preventEvent","preventDefault","returnValue","stopPropagation","cancelBubble","triggerEvent","createEventObject","fireEvent","createEvent","initEvent","dispatchEvent","addCss","check","removeCss","getTextSize","css","basewidth","max","download","filename","objUrl","msSaveBlob","URL","createObjectURL","link","href","click","revokeObjectURL","_getClassName","baseVal","setSelectionRange","start","end","focus","textRange","createTextRange","collapse","moveEnd","moveStart","select","getSelectionRange","selectionStart","selectionEnd","selection","createRange","bookmark","getBookmark","moveToBookmark","addMeta","item","content","htmltable","tr","rows","new_data","_webix_skip","td","getConfig","columns","_de_json","_get_attrs","el","attr","hash","_modules","require","module","callback","Promise","disabled","file","callback2","fullpath","onerror","calls","onload","rel","newScript","src","excel","_urlToOptions","reader","FileReader","parseData","readAsArrayBuffer","Uint8Array","String","fromCharCode","wb","XLS","read","cellStyles","cellDates","XLSX","sheets","Sheets","names","SheetNames","ranges","Workbook","Names","getSheet","sheetToArray","min","sheet","spans","styles","types","cellTypes","n","s","range","utils","decode_range","cellCoord","xCorrection","yCorrection","nrow","encode_cell","ncell","math","dateFormatStr","merges","widths","wch","heights","hpx","DataDriver","silentErrorMarker","AtomDataLoader","waitData","datatype","$ready","_load_when_ready","_ready_for_data","url_setter","data_setter","_fetch","_onLoad","_onLoadError","driver","gen","_data_generation","generation","_syncData","_call_onready","_parse","parsed","record","setValues","_onLoadContinue","$onLoad","xhttp","_check_data_feed","dataFeed","_ignore_feed","loader","CodeParser","collapseNames","prefix","prop","expandNames","lastIndex","_cache","_csp_cache","newlines","quotes","slashes","escape","badChars","escapeChar","chr","template","teststr","temp_res","search","s1","s2","s3","_","common","sort","lastPos","addStr","n0","n1","slice","helpers","Function","empty","AtomRender","_toHTML","$empty","render","cfg","isVisible","_dataobj","_backbone_sync","refresh","pull","template_setter","AutoScroll","_auto_scroll","yScroll","xScroll","dragscroll","layout","_body","$view","sense","rowHeight","isNaN","reset","_auto_y_scroll","_auto_x_scroll","_auto_scroll_delay","_auto_scroll_column","headerRowHeight","bottom","scroll","getScrollState","topSplit","topSplitPos","_cellPosition","getIdByIndex","columnId","_auto_scrollTo","right","scrollTo","_events","_events_final_destructor","eventRemove","_event","inner","context","info","capture","passive","_webix_type_wait","baseType","top_views","_global_scope","_global_collection","_child_sizing_active","_responsive_exception","_responsive_tinkery","_freeze_resize","_parent_cell","_focus_time","_ui_creation","_edit_open_time","_final_destruction","destructors","_noselect_element","_modality","_popups","_wait_animate","views","ui","_ui_creator","multiset","container","_correctId","top_node","moving","body_child","$topView","_inner","getParentView","_view","setPosition","$apiOnly","_hidden","_container","_appendDom","destructor","_replace","_remove","_viewobj","fullscreen","position","_destructor_handler","skipResize","adjust","getChildViews","_body_cell","$$","_deleteIds","uis","current","_destroy_with_me","coll","cells","elements","cols","accordion","align","headerlayout","multiview","spacer","origins","selfname","proto","compilation","has_constructor","construct","def","$skin","_parseSettings","element","touchable","applyChanges","getNode","_focus_action","on_click","popup","readonly","show","getInputNode","mod","protoUI","TooltipControl","_tooltip_masters","_tooltip_exist","addTooltip","ctrl","Element","webix_tooltip","_tooltip","tooltip","_webix_tooltip_mm","_move_tooltip","_webix_tooltip_ml","_hide_tooltip","_drag_event","_click_event","getTooltip","_last","$tooltipOut","$tooltipIn","$tooltipMove","parentElement","clearTimeout","_before_show_delay","hide","getMaster","removeTooltip","tip","m","dx","dy","getPos","_uid","_namecount","freeze","trigger","any","resize","_force_resize","_each","logic","include","children","zIndex","ready","_ready","_ready_code","doit","webix_ready","concat","set","exit","$html","_pos","_setPosition","viewConfig","_fullscreen","head","_getHeadConfig","borderless","_sizes","minWidth","maxWidth","minHeight","maxHeight","_parent","active","getActiveId","replaceChild","getBody","addView","_setSizes","_set_inner","_cells","close","_clearValues","restore","oldStyles","rules","forEach","icon","UIManager","_hotkeys","_tab_time","_mouse_time","_controls","_inputs","_enable","_keypress","_focus_click","_focus_tab","getFocus","_focus_was_there","setFocus","only_api","tab","blur","_applyChanges","hasFocus","_focus","canFocus","contains","_top_modal","queryView","isEnabled","_moveChildFocus","check_view","_is_child_of","_focus_logic","_keypress_timed","which","keyCode","_key_press_timeout","keyPressTimeout","_check_keycode","dir","marker","$fmarker","activeElement","_tab_logic","shiftKey","_custom_tab_handler","_in_edit_mode","editNext","editStop","getTop","getNext","_inner_call","p_cells","getPrev","addHotKey","keys","_parse_keys","removeHotKey","func","_keycode","shift","alt","meta","is_any","ctrlKey","altKey","metaKey","_process_calls","temp_result","controls","letter","getState","gravity","collapsed","activeCell","setState","states","setValue","form","getFormView","_skipSubmit","editCancel","getTopParentView","_hide","Settings","property","_parseSeetingColl","_define","setter","initial","settings","_mergeSettings","Destruction","_last_editor","$id","_destroy_child","_htmlmap","_htmlrows","_html","_contentobj","unbind","release","CollectionBind","_cursor","sel","getSelectedId","setCursor","_update_binds","getCursor","oldid","refreshCursor","getItem","_bind_update","format","getBranch","importData","defaultData","_bind_update_common","ValueBind","pod","silent","RecordBind","getValues","BindSource","_bind_hash","_bind_updated","_ignore_binds","_bind_specific_rules","saveBatch","_do_not_update_binds","setBindData","updateItem","add","getBindData","addBind","removeBind","clear","BaseBind","_initBindSource","_bind_ready","_bind_source","_bind_id","_bind_refresh_handler","_on_sync","old_render","_in_bind_processing","validate","values","setDirty","UIExtension","webix_view","api","$setNode","_recollect_elements","confirm","results","direction","_queryGoUp","_queryGoDown","_queryView","kids","base_id","hidden","_hidden_render","_hidden_hash","_disable_cover","disable","enable","removeAttribute","disabled_setter","container_setter","css_setter","id_setter","_prev_global_col","oldvalue","_elements","_translate_ids","$setSize","last","_last_size","$width","_content_width","_scroll_y","$height","_content_height","_scroll_x","flex","$getSize","animate_settings","animate","_show","_render_hidden_views","_signal_hidden_cells","ui_to_render","_onKeyPress","role","hidden_setter","clientWidth","clientHeight","resizeChildren","border_not_set","borderWidth","_borders","SingleRender","templateStart","templateEnd","customize","_visible","_alt_render","_disabled","w","innerWidth","h","innerHeight","positionX","positionY","display","AutoTooltip","tooltip_setter","_init_tooltip_once","_show_tooltip","_get_tooltip_data","Canvas","_canvas_labels","_canvas_series","series","_obj","devicePixelRatio","_prepareCanvas","title","_canvas","canvas_id","getCanvas","ctx","getContext","_webixDevicePixelRatio","scale","_resizeCanvas","renderText","renderTextAt","valign","clearCanvas","skipMap","areas","_getMapAreas","clearRect","floor","toggleCanvas","_toggleCanvas","showCanvas","hideCanvas","html_element","animation","subtype","animation_copy","_has_animation","isSupported","$testmode","formLine","defAniPos","keepViews","nextSibling","breakLine","line","duration","timing","skew_options","scale_type","css_general","css_transition","css_transform","transitionEnded","tid","skin","topLayout","barHeight","tabbarHeight","sidebarTitleHeight","toolbarHeight","listItemHeight","inputHeight","buttonHeight","inputPadding","menuHeight","labelTopHeight","propertyItemHeight","timelineItemHeight","unitHeaderHeight","inputSpacing","sliderHandleWidth","sliderPadding","sliderBorder","vSliderPadding","vSliderHeight","switchHeight","switchWidth","layoutMargin","space","wide","clean","toolbar","layoutPadding","tabMargin","tabOffset","tabBottomOffset","tabTopOffset","tabBorder","customCheckbox","customRadio","sidebarMarkAll","popupNoPoint","borderlessPopup","popupPadding","dataPadding","calendarWeekHeaderHeight","padding","accordionType","optionHeight","organogramLineColor","timelineColor","$active","$name","material","mini","flat","compact","contrast","webix_skin","Touch","longTouchDelay","scrollDelay","deltaStep","speed","ellastic","limit","_limited","mouse","down","_touchstart","move","_touchmove","up","_touchend","_clear_artefacts","_scroll","_start_context","_current_context","_prev_context","_scroll_context","_scroll_mode","_scroll_node","_scroll_stat","_long_touched","_delta","_x_moment","_y_moment","_time","_css_button_remove","_long_touch_timer","_was_not_moved","_axis_x","_axis_y","_active_transion","_scroll_end","_translate_event","_get_matrix","delta","_get_delta","$scroll","nx","ny","cnx","_correct_minmax","px","cny","py","abs","adjustScroll","_set_matrix","_scroll_master","_sync_scroll","_set_scroll","_set_scroll_pos","_axis_check","_x","_y","_get_event_view","_init_scroller","$hasYScroll","prev","edx","edy","xv","yv","trans","matrix","getComputedStyle","tmatrix","WebKitCSSMatrix","MSCSSMatrix","_tmatrix","tkey","_sync_pos","allow","sign","sqrt","_init_scroll_node","scroll_enabled","_create_scroll","visibility","dim","old","_long_move","_locate","_stop_old_scroll","_stop_scroll","scrollHeight","_is_scroll","$touchCapture","_long_touch","stop_mode","time","_get_sizes","locate_mode","_get_context","_get_context_m","touchInit","radiusX","setMouse","$touch","pointerEnabled","msPointerEnabled","DragControl","_drag_masters","addDrop","master_mode","webix_drop","_getCtrl","webix_master","unlink","_active","webix_drag","_stopDrag","_createTouchDrag","dragCtrl","_getActiveDragMaster","_getDragItemPos","createDrag","longtouch_drag","_drag_context","x_offset","y_offset","addDrag","_preStart","_saved_event","_preStartFalse","destroyDrag","evobj","_start_pos","_webix_drag_mm","_startDrag","_webix_drag_mu","_clean_dom_after_drag","_touch_animation","cancelable","longTouchLimit","sendSignal","_moveDrag","$drop","$dragOut","still_drag","customPos","$dragPos","_skip","elementFromPoint","Proxy","_checkLand","_landing","$dragIn","signal","dragCtl","drag_container","$dragCreate","_setDragOffset","$drag","_skipDropH","_skip_mark","$dragDestroy","_dropHTML","itemPos","Movable","move_setter","Move","_headobj","elOffset","elPos","drag","Modality","_modal_set","_modal_cover","_previous_modality","overflow","_ignore_clicks","ResizeArea","resize_setter","_resizeHandlers","_renderResizeHandler","_rwHandle","rp","_wrDown","_showResizeFrame","_resizeFrame","_wsReady","_resizeHandlersMove","_wrMove","_resizeHandlersUp","_wrUp","progress","$resizeMove","_wsProgress","$resizeEnd","_bodyobj","_head_cell","toFront","modal","_modal","popups","click_view","zIndex_setter","body_setter","new_view","old_view","isBody","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","point","relative","fin_x","fin_y","point_y","point_x","fit","autofit","nochange","delta_x","delta_y","delta_point","deltax","deltay","fixed","_checkFixedPosition","_set_point","_hide_point","_hide_timer","autofocus","_prev_focus","showpopup","getTopMenu","myindex","_hide_single","_hide_sub_popups","_hiding_process","_hide_callback","order","_inner_body_set","head_setter","getHead","baseview","_topPositionCallback","headMinWidth","head_size","headHeight","self_size","ContextHelper","attachTo","on_context","_show_at_ui","_show_at_node","_area","setContext","area","_show_at","_show_on_mouse_out","master_setter","clipbuffer","_blur_id","_ctrl","_paste","_isSelectRange","getSelection","last_active","getEditor","CopyPaste","clipboard_setter","templateCopy","clipboard","_selected","insert","modify","custom","templateCopy_setter","CustomPrint","$customPrint","htmlOnly","_prePrint","tableData","_getTableArray","table","_getTableHTML","doc","docFooter","print","prerender","autoheight","xCount","nobreaks","_getPageWidth","printPPI","printMargin","Infinity","_getVisibleRange","_dx","tableArray","colrow","newTableStart","rownum","colnum","cellValue","_itemClassName","txt","$css","tableHTML","column","span","colspan","colSpan","rowspan","rowSpan","br","CustomScroll","scrollStep","_init_once","$customScroll","_last_active_node","_on_reconstruct","_enable_datatable","_custom_scroll_view","_get_datatable_sizes","_y_scroll","_scrollTop","_x_scroll","_scrollLeft","_mouse_in","_mouse_out","mapCells","_custom_scroll_mode","_mouse_wheel","_set_additional_handlers","_custom_scroll_size","_mouse_out_timed","_active_drag_area","_adjust_scroll","_scroll_drag_pos","_mouse_out_timer","scrollWidth","_scroll_x_node","_sx","_vx","trackBar","_bar_x","_create_bar","_scroll_y_node","_sy","_vy","_bar_y","_update_scroll","bar","_scroll_drag_enabled","_set_scroll_value","scrollX","getSize","_last_set_size","scrollY","_removeScroll","_webix_event_sc1","_webix_event_sc2","_webix_event_sc3","_scroll_drag_released","wheelDelta","toblock","detail","scrolledBy","touchpadMoveX","wheelDeltaX","wheelDeltaY","x_dir","pose","max_scroll","now","_scroll_drag","_scroll_drop","left_scroll","shift_left","top_scroll","shift_top","_resize_scroll","DataMarks","addRowCss","hasCss","getItemNode","addMark","removeMark","getMark","clearCss","clearMark","DataMove","sid","tindex","tobj","new_id","newId","_externalData","_next_move_index","nid","new_index","getIndexById","$blockRender","moveUp","step","moveDown","moveTop","moveBottom","newdata","$template","externalData","isEmail","isNumber","isChecked","isNotEmpty","ValidateData","clearValidation","_clear_invalid","failed","_validate_details","isHidden","validateHidden","validateDisabled","$obj","_validate","$all","complexData","subresult","subview","input","validator","required","_mark_invalid","_pull","dp","getOnly","DataProcessor","masterId","autoupdate","updateFromResponse","operationName","trackMove","_ignore","_after_init_call","_updates","store","_promise","_waitSave","_onStoreUpdated","_onDataMove","ignore","off","on","_copy_data","_save_inner","_scheme_serialize","$parent","_invalid","_check_unique","_sendData","targetid","webix_move_index","webix_move_id","webix_move_parent","one","_in_progress","triggerId","wait","marked","to_send","tosave","precise_url","_scheme_save","_updatesData","_proxy_on_save","saveAll","processed","_processResult","_processError","attachProgress","_innerProcessResult","getItemState","undoOnError","undo","setItemState","exists","changeId","removeUndo","finalResult","_get_stack_index","DataStore","setDriver","_marks","_filter_order","recs","_inner_parse","_scheme_group","_group_processing","_not_grouped_order","_scheme_sort","subload","marks","_removeMissed","_scheme_update","_scheme_init","delid","endpos","_render_change_id","changeTrack","_skip_refresh","getRange","to","$min","startOffset","$max","endOffset","getIndexRange","sindex","_move_inner","scheme","_scheme","$save","$change","$update","$serialize","$group","$sort","_scheme_export","$export","serialize","_make_full_copy","oldpull","branch","_filter_branch","_extraParser","_datadriver_child","_set_child_scheme","unsync","_sync_source","sync_logic","_skip_next_sync","_sync_events","_back_sync_handler","data_size","original_index","clearAll","soft","getNextId","getFirstId","getLastId","getPrevId","by","as","parameters","_sort_init","sorter","sorting","_sort_core","pre","$freeze","neworder","_filter_reset","preserve","_filter_core","first","match","_filterMode","_obj_array","_methodPush","provideApi","eventable","onbeforesort","onaftersort","onbeforeadd","onafteradd","onbeforedelete","onafterdelete","ondataupdate","list","old_css","current_css","ids","_multi","_dir","_by","methods","DataLoader","_feed_last","_call_onclearall","_call_on_config","feed","_feed","_load_count","_feed_common","_feed_on_load","_feed_callback","filterValue","loadNext","datathrottle","_throttle_request","datafetch","_maybe_loading_already","removeMissed_setter","_init_dataprocessor","save_setter","waitSave","many","scheme_setter","dataFeed_setter","filtervalue","urldata","_ready_was_used","DataState","cols_n","fillspace","_hidden_column_order","_last_order","_last_sorted","_filter_elements","_dtable_fully_ready","any_filter","_hidden_column_hash","markSorting","_hidden_split","leftSplit","rightSplit","hihash","hideColumn","hikey","reorder","getColumnConfig","refreshColumns","_setColumnWidth","_updateColsSizeSettings","multi","_sort","filterByAll","contentid","contentId","_active_headers","unselect","_select","DragItem","_initHandlers","$dragMark","_auto_scroll_force","drag_setter","_inner_drag_only","fragile","_drag_pause","$dropAllow","_target_to_id","_define_index","_context_to_move","getBranchIndex","getParentId","hash_id","_touch_scroll","$dragHTML","_toMultipleHTML","multiple","_marked","_remove_css","_add_css","$dropHTML","_set_drop_area","DragOrder","_close_branches","_drag_order_stored_left","_drag_order_complex","$level","_init_drop_area","_drag_direction","ofs","_marked_item_id","xdrag","_header_height","ot","nt","_id","Undo","_undoHistory","_undoCursor","undo_setter","_init_undo","_draggedItem","$index","_addToHistory","_deletedItem","$branch","oldId","action","_skipHistory","_skipCursorInc","ignoreUndo","_undoAction","parentId","init_suggest","editor","suggest","create_suggest","boxobj","linkInput","attach_editend","setMasterValue","_editor_initialized","getLabel","editValue","label","editors","checked","$inline","collection","rec","isplain","destroy","getPopup","$popup","createPopup","pobj","_linked","popupType","popupInit","moveSelection","color","date","_is_string","stringResult","combo","_create_suggest","_shared_suggest","_suggest","showPopup","getList","_initial_value","showItem","_last_input_target","afterRender","sobj","getItemText","getSuggestion","richselect","_show_selection","password","icons","multiselect","button","EditAbility","editaction","_editors","onDblClick","_refocus_inline_editor","editable","_init_edit_events_once","_refocus_try","newnode","_locateInput","editable_setter","e1","e2","_changeEditorId","edit","_reset_active_editor","_component_specific_edit_init","_handle_live_edits","liveEdit","_set_new_value","_show_editor_form","realform","_get_editor_type","_init_editor","_live_edits_handler","_on_editor_change","$fixEditor","globalState","edit_open_time","getEditorValue","_get_edit_config","_addEditor","_sizeToCell","_locate_cell","_removeEditor","focusEditor","ed","_edit_stop","cancel","_for_each_editor","_editStop","inline","_get_new_value","validateEditor","getEditState","editor_next","_find_cell_next","_after_edit_next","new_value","FlexLayout","_fix_vertical_layout","_beforeResetBorders","_afterResetBorders","g","_padding","_set_child_size","st","margin","_margin","paddingTop","paddingBottom","paddingLeft","paddingRight","flexBasis","flexGrow","whs","GroupMethods","sum","summ","some","string","GroupStore","ungroup","_ungroupLevel","_not_grouped_pull","changed","$footer","_unregisterItem","_fix_group_levels","_group_prop_accessor","acc","missing","_group_tree","groups","labels","missed","misGroup","$row","_map_group","_fill_pull","topbranch","current_id","ancestor","newitem","_formath","footer","$count","Group","HTMLOptions","customRadio_setter","_moveSelection","_getInputNode","_blur","inp","getOption","optionIndex","addOption","removeOption","_setNextVisible","_getFirstActive","_filterOptions","_setOptionState","field","hideOption","showOption","disableOption","enableOption","HtmlMap","_key","_map","_areas","addRect","points","userdata","_createMapArea","addPoly","shape","coords","extra_data","addSector","alpha0","alpha1","R","ky","PI","cos","sin","querySelectorAll","nodes","nod","coordsdis","IdSpace","_get_self","_run_inner_init_logic","_run_after_inner_init_logic","innerId","onitemclick","KeysNavigation","_set_focusable_item","_set_item_focus","querySelector","_navigation_helper","navigation","selected","x_layout","_parent_menu","_hide_sub_menu","_skip_item","getSubMenu","_mouse_move_activation","navigation_setter","_global_nav_grid_hotkeys","MapCollection","_create_scheme_init","_scheme_init_order","_build_data_map","_process_field_map","_process_single_map","getSource","dateStr","parseFormatDate","_map_options","_create_collection","options_view","_bind_collection","_map_header_options","refreshFilter","_bind_template","optionslist","separator","MouseEvents","_clickstamp","_dbl_sensetive","_item_clicked","_mouse_action_extend","onClick","onContext","onMouseMove","_onClick","on_dblclick","_onDblClick","_onContext","on_mouse_move","_enable_mouse_move","_mouse_move_enabled","_onMouse","_mouse_move_timer","stamp","_mouseEvent","_onMouseMove","_onMouseOut","mouseEventDelay","pair","vid","wid","w_view","NavigationButtons","_moveActive","_showNavItem","_navPanel","_renderPanel","_renderNavItems","_renderNavButtons","_setLinkEventHandler","bindId","_linkAttr","_showPanelBind","_prevNavButton","_nextNavButton","inc","_active_cell","setActiveIndex","items","linkAttr","_clearPanel","buttons","aria","prevTab","OverlayBox","showOverlay","_overlay","hideOverlay","PagingAbility","pager_setter","pager","ui_pager","_count_pager_total","check_pager_sizes","repeat","autosize","getVisibleCount","page","_count_pager_index","$pagesize","_pager","$master","setPage","getPage","getPager","ProgressBar","_progress","showProgress","hideProgress","incss","_progress_animate","_progressTimer","clearInterval","setInterval","_progress_hide","RenderStack","_call_onclick","item_setter","type_setter","_toHTMLObject","search_id","txmin","txmax","tymin","tymax","_setItemActive","cont","t1","t2","_renderobj","Scrollable","_one_time_scroll","scroll_setter","auto","overflowX","overflowY","_onoff_scroll","SelectionModel","_data_updated","_data_loaded","_data_filtered","_select_check","_id_changed","_set_noselect","loadBranch","$selected","_select_mark","need_unselect","sname","_silent_selection","unselectAll","_refresh_selection","ename","selectAll","isSelected","as_array","getSelectedItem","_is_mass_selection","_toHex","toHex","number","rgbToHex","rgb","hexToDec","hex","toRgb","rgbArr","lastIndexOf","hsvToRgb","hi","q","rgbToHsv","r0","g0","b0","min0","max0","joinAttributes","SVG","draw","xmlns","viewBox","styleMap","_handlers","cp0","cp1","radius","angle0","angle1","bigCircle","definePath","toUpperCase","_linePoints","setOpacity","rawColor","opacity","rgbColor","_curvePoints","getPath","getSector","x0","y0","lines","getCurve","getLine","p0","p1","getCircle","getRect","paddingX","paddingY","eventRadius","Line","getPoints","renderer","_applyColor","_getLinePoints","graph","_drawItems","_drawEventItems","lineColor","webix_area","minValue","maxValue","unitX","yNum","unitY","ceil","Area","BaseLine","itemCss","Bar","negativeColor","_getOrigin","evPoints","_getEventPoints","evItems","barWidth","originY","Pie","_defColorsCursor","_defColors","_getColor","colorsCount","sectors","getAngles","_context","a0","a1","ratios","_getRatios","_getTotalValue","prevSum","totalValue","Spline","Base","linePoints","_getControlPoints","p2","defaultsArea","SplineArea","linePath","areaPoints","itemPoints","Sparklines","getData","getTemplate","customConfig","slConstructor","_template","sparklines","delimiter","sep","_split_clip_data","_substr_count","tline","quoted","chunk","substring","reg","TablePaste","_sel_to_clip","_clip_to_sel","_get_sel_text","mapSelection","row_ind","newvalue","block","leftTop","col_ind","TreeAPI","openAll","eachSubItem","closeAll","_tree_check_uncheck","threeState","_tree_check_uncheck_3","isBranchOpen","getOpenItems","_repeat_set_state","tree","TreeClick","webix_tree_open","webix_tree_close","webix_tree_checkbox","TreeDataLoader","_sync_hierarchy","_feed_commonA","_sync_to_order","TreeDataMove","_check_branch_child","_remove_childs","target_parent","$child","copy_data","tbranch","sbranch","_set_level_rec","TreeRenderStack","_toHTMLItem","_toHTMLItemObject","_toHTMLLevel","leaves","_tree_branch_render_state","leafs","getNextSiblingId","_branch_render_supported","TreeStateCheckbox","_init_render_tree_state","updated","_setThirdState","threeState_setter","parents","checkedParents","_getAllLeaves","_setParentThirdState","_setCheckboxIndeterminate","chElem","indeterminate","itemId","checkedCount","unsureCount","needrender","eachChild","getChecked","_correctThreeState","checkItem","uncheckItem","_checkUncheckAll","checkAll","uncheckAll","TreeStore","showSubItems","filterMode_setter","filterMode","_filter_branch_rec","child_run","openParents","newsub","eachOpen","_change_branch_id","branches","getPrevSiblingId","getFirstChildId","isBranch","parse_name","pItem","pBranch","webix_kids","parent_branch","itemid","_sync_each_child","getTopRange","eachLeaf","bset","pid","refresh_parent","_rec_remove","_filter_removed","out","TreeTablePaste","TreeType","checkbox","nocheckbox","folder","UploadDriver","$render","_upload_area","files","_stop_file","input_config","tabindex","accept","directory","webkitdirectory","mozdirectory","_add_files","now_date","_upload_timer_click","fileDialog","_directoryEntry","isDirectory","_directoryDrop","isFile","addFile","dirReader","createReader","readEntries","entries","dataTransfer","webkitGetAsEntry","_last_file_context","inputs","_last_assigned_upload_callback","complete","_upload_complete","upload","formData","append","inputName","globalData","_get_active_url","$updateProgress","loaded","total","aborted","_file_complete","percent","_complete","stopUpload","abort","ValidateCollection","_validate_init_once","rules_setter","Values","_inner_setValues","_is_form_dirty","_values","$allowsClear","isDirty","getDirtyValues","_inner_getValues","getCleanValues","markInvalid","invalidMessage","invalid","setBottomText","VirtualRenderStack","_render_visible_rows","_unrendered_area","ind","_render_delayed","_wait_for_render","_create_placeholder","viewport","_max","_from","_height","_filled","holder","holder_row","nextpoint","loading","delta2","new_space","loadahead","_top","VRenderStack","_footer","_run_load_next","cid","conf","errorMessage","getDataHelper","raw","getHeaderText","getHeaderContent","$icon","getStyles","getExportScheme","h_count","f_count","isTable","rawValues","isTree","treeLines","_columns","flatTree","flatKey","fill","fillMode","treeColumn","noExport","rawColumn","sourceColumn","_columns_pull","export_mode","exportType","exportFormat","diff","getExportData","filterHTML","htmlFilter","docHeader","_headers","treeline","plainOutput","_spans_pull","getSpan","trim","footers","_footers","toPNG","$exportView","html2canvas","background","logging","useCORS","canvas","msToBlob","toBlob","toCSV","getCsvData","blob","Blob","font","toPDF","_export_font","fontName","viewOptions","autowidth","getAutowidth","exportData","dataOnly","getPdfData","pdf","getBlob","pdfjs","fontURL","err","buf","TTFFont","addPDFDoc","promises","getPDFImage","images","textBefore","addText","image","addPDFTable","textAfter","pageBreak","addPDFHeader","toDataURL","binary_string","atob","bytes","charCodeAt","Image","buffer","orientation","Document","threshold","colWidths","tableOps","lineHeight","borderColor","backgroundColor","textAlign","headerRows","headerOps","borderRightColor","borderBottomColor","footerOps","beforeCount","ft","dataExport","pageNumber","of","pageCount","horder","docHeaderImage","img","toExcel","getSpans","WBProps","getExcelData","xls","write","bookType","bookSST","str2array","ArrayBuffer","ws","C","cell_ref","stringValue","isFormula","cellStyle","SSF","excelDate","encode_range","getRowHeights","getColumnsWidths","hpt","getHeaderSpans","xc","yc","sc","getColumnIndex","sr","returnDateTime","getTime","getTimezoneOffset","wscols","usercall","modalbox","modal_key","keyboard","lastModalbox","modality","cover","onkeydown","onclick","timers","_boxStructure","ok","_box","_createBox","containerWidth","containerHeight","alertPopup","confirmPopup","boxPopup","box_params","alert","hideAll","en","groupDelimiter","groupSize","decimalDelimiter","decimalSize","dateFormat","timeFormat","longDateFormat","fullDateFormat","am","pm","price","priceSettings","fileSize","calendar","monthFull","monthShort","dayFull","dayShort","hours","minutes","today","PDFviewer","automaticZoom","actualSize","pageFit","pageWidth","pageHeight","enterPassword","passwordError","increaseValue","decreaseValue","navMonth","navYear","navDecade","monthFormat","yearFormat","hourFormat","minuteFormat","removeItem","pages","headermenu","openGroup","closeGroup","closeTab","showTabs","resetTreeMap","navTreeMap","nextTab","multitextSection","multitextextraSection","showChart","hideChart","resizeChart","richtext","underline","bold","italic","comments","confirmMessage","placeholder","moreComments","less","lessOrEqual","greater","greaterOrEqual","notContains","equal","notEqual","beginsWith","notBeginsWith","endsWith","notEndsWith","between","notBetween","wDate","startOnMonday","toFixed","ms","weekStart","getDay","datePart","monthStart","setDate","yearStart","setMonth","dayStart","dateToStr","utc","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","getISOWeek","strToDate","mask","splt","monthShort_hash","monthFull_hash","UTC","ndate","nday","first_thursday","year_number","ordinal_date","weekNumber","getUTCISOWeek","_correctDate","d0","checkFunc","incorrect","setHours","getYear","setYear","setMinutes","setSeconds","setMilliseconds","timePart","isHoliday","day","Number","dot","decimal","decimalOptional","int_value","numToStr","setLocale","locale","locales","_price_format","_price_settings","intFormat","priceFormat","numberFormat","storage","local","localStorage","setItem","session","sessionStorage","cookie","domain","expires","toUTCString","getRaw","check_name","a_all_cookies","a_temp_cookie","cookie_name","cookie_value","b_cookie_found","unescape","cookies","papers","fits","modes","portrait","landscape","$printView","_checkOptions","_beforePrint","_print","_afterPrint","paper","_getHeaderFooter","cssString","cloneNode","canvases","destCtx","drawImage","patterns","phone","card","error_key","RemoteContext","_proxy","_queue","_url","_process","$key","$vars","_proxy_call","_call","args","_deffer","_start_queue","_timer","_run_queue","defs","$sync","$args","request","pack","_pack","$context","pr","_getProxy","payload","getApi","remote","scripts","submit","aniset","ani","animateView","stateHandler","getHTML","currentStyle","currentState","newState","tempParent","new_orientation","fullScreen","fix","onrotate","datafilter","textWaitDelay","trackCells","getHelper","uncheck","checkValue","uncheckValue","component","registerFilter","_comp_id","_on_key_down","_filter_timer","compare","_get_data","emptyOption","option","_on_change","_collectValues","collectValues","collect","serverFilter","$server","textFilter","serverSelectFilter","selectFilter","numberFilter","prepare","equality","intvalue","_greater","_lesser","_equal","dateFilter","reverse","dateFormatDate","factory","configOnly","_restore","$layout","serializer","childs","movePortlet","_parse_cells","_layout_sizes","_responsive","isolate","rows_setter","_vertical_orientation","_collection","cols_setter","whiteSpace","_beforeRemoveView","target_id","_insertBeforeView","_fill_data","verticalAlign","newui","removeView","reconstruct","_hiddencells","showBatch","visibleBatch","batch","$nospace","_parse_cells_ext_end","_fix_container_borders","_bubble_size","vertical","fixed_count","_master_size","_desired_size","responsive","_set_child_size_a","ps","_set_size_delta","_set_size_gravity","_responsive_hide","_responsive_marker","_responsive_width","_responsive_height","_responsive_show","responsiveCell","_responsive_cells","oldIndex","_next","_first","_parse_cells_ext","_parse_once","defined","_hasBorders","_render_borders","correction","viewA","structure_changed","_cleanlayout","maxlength","s_inner","s_next","contrstyle","contrpadding","_margin_set","_padding_set","calendarCount","$prepareValue","_zoom_level","_types","skinConf","cheight","cwidth","rheight","rwidth","basecss","_steps","_isInRange","monthSelect","timepicker","_footer_row","_after_init","value_setter","_cals","showCalendar","_changeDateSilent","_related_date","getVisibleDate","addToRange","_add_date","_string_to_date","_icons","_icons_template","icons_template","itemplate","isOutside","tomorrow","yesterday","holiday","cals","_cals_hash","_on_date_select","zoom","_before_zoom","_month_change","oldzoom","_after_zoom","_getIndexById","_time_mode","_zoom_logic","_changeStep","_shift","year","month","_changeDate","_set_time","reldate","vis","excelFilter","_get_filter","_mark_column","$webix","_get_position","filterConfig","getFilterFunction","originText","includes","condition","serverExcelFilter","richSelectFilter","getText","marginLeft","$noEmptyOption","richconfig","inputtype","inputConfig","serverRichSelectFilter","multiSelectFilter","serverMultiSelectFilter","multiComboFilter","tagMode","serverMultiComboFilter","datepickerFilter","columnGroup","closed","isOpened","showColumnBatch","firstRun","groupText","dateRangeFilter","daterange","serverDateRangeFilter","_detectScrollSize","div","setSkin","_fixHeight","de","es","fr","it","ja","pt","zh","ru","be","_template_types","_correct_height","section","onClick_setter","_render_me","_not_render_me","_probably_render_me","src_setter","content_setter","setHTML","setContent","_template_resize_timer","_get_auto_height","scrollSpeed","_resizeChildren","cx","cy","desired_size","self_sizes","scroll_size","_native_scroll","showView","topPos","getIframe","getWindow","contentWindow","panelClass","newview","collapsed_setter","panel","_skin_render_collapse","_accLastChild","_afterOpen","_canCollapse","_headlabel","_headbutton","header_setter","headerAlt_setter","fixedHeight","_getHeaderSize","headerHeight","webix_accordionitem_header","_toggle","webix_accordionitem_header_v","_expand","_collapse","sibl","expand","$noresize","headerAlt","headerAltHeight","_last_set_header_size","headerSize","_last_size_y","_key_property","_dragobj","_originobj","border","cursor","_moveev","_onmove","_upev","_onup","_last_result","eventPos","_rsDown","_getResizeDir","_rs_started","_resizer_dir","_resizer_dim","marginRight","marginBottom","_getResizerCells","_rs_process","_rsLimit","_rsStart","_rsUp","cellOffset","posParent","_rs_progress","_resizeStick","resizearea","_rsEnd","_rsResizeHandler","cDiff","limits","limitSizes","totalSize","_rsGetDiffCellSizes","_rsGetLimitCellSizes","_getRsCell","_resizerStick","_rsGetCellSizes","cell_size","size1","size2","styleDim","align_setter","_x_align","_y_align","_p_align","marginTop","_back_queue","_ask_render","cell_id","view_id","_render_hash","_render_queue","_render_activation","subcell","baselayout","getCount","_animation_promise","cells_setter","_getDirection","vx","animation_options","getTabbar","_next_cell","callback_original","wait_animation","fitBiggest","other","back","viewId","getMultiview","_init_tabview_handlers","tabs","tabbar","mview","_layout","_initLayout","_fix_after_view_add","layoutProp","layoutConfig","_setScroll","getLayout","_nextCell","_size","showNext","showPrev","getActiveIndex","layoutSizes","selfSizes","setActive","selfSize","layoutType","_init_drag_area","_refreshChildScrolls","_restore_scroll_state","markDropArea","_markerbox","isv","_removeEmptySource","childview","maxcount","_portlet_drop_target","_portlet_drop_mode","evObj","_getPortletTarget","_markPortletDrag","drop","erx","ery","autoplace","gridColumns","gridRows","gridRows_setter","_actual_rows","abslayout","_do_compact","_check_default_pos","_buildMatrix","_isFree","exceed","_reserveSpace","_silent","sx","sy","_markMatrix","_canMoveRight","mx","_canMoveLeft","_canMoveTop","_compact","_apply_new_grid","my","compacted","cross","moveView","cellWidth","cellHeight","_getActualSize","_isDragNode","sview","dashboard","_addDragMarker","_dragMarker","_getPosFromCoords","rx","ry","external","inpos","dash","gridlayout","fx","_origin_cells","subcount","_save_data","datalayout","clickHandler","_point_element","_form_classname","_form_vertical","onbeforetabclick","onaftertabclick","onchange","elementsConfig","_rec_apply_settings","nextsettings","_default_height","$cssName","label_setter","_body_view","_last_body_size","labelWidth","labelAlign","_inputPadding","_inputSpacing","_labelTopHeight","labelPosition","lw","labelWidth_setter","bottomLabel","_invalidMessage","fieldset","_tagname","_attribute","_get_html_value","tagname","_get_value","radio","textarea","selectedIndex","_set_html_value","_set_value","firstElementChild","_default_values","_copy_inner_content","_parse_inputs","cant_clear","nameWidth","on_render","on_edit","webix_property_check","registerType","elements_setter","_idToLine","alter_type","_data_width","_clear","_props_dataset","els","weekHeader","monthHeader","skipEmptyWeeks","calendarHeader","DateHelper","minuteStep","timeIcon","timepickerHeight","dayTemplate","dayTemplate_setter","calendarHeader_setter","calendarTime_setter","_calendarTime","date_setter","maxDate_setter","minDate_setter","minTime_setter","parseTimeFormatDate","maxTime_setter","_ariaFocus","relatedTarget","_locate_day","_locate_date","_special_dates","_selected_days","minuteStep_setter","_zoom_in","_fixed","_getDateBoundaries","_rows","_content_padding","getSelectedDate","_keyshift","_set_date_bounds","days","_month","_start","_getColumnConfigSizes","bounds","_columnsHeight","_columnsWidth","columnsNumber","rowsNumber","icons_setter","_icons2","_zoom_size","_current_time","cpad","_week_template","_body_template","_timepicker_template","_changeZoomLevel","calendarTime","timeFormatStr","clock","tpl","range_date","week_template","calendarWeekHeader","day_index","blockDates_setter","_day_css","_checkDate","_selectedDay","sqSize","alabel","_getCalSizesString","_changeDateInternal","_update_zoom_level","_isBlocked","isBlocked","minHour","minTime","maxHour","maxTime","minMinute","maxMinute","blockTime","_setContent","_findActive","newdate","selectDate","blocked","minDate","maxDate","minYear","maxYear","_getTitle","_getContent","_zoom_start_date","setFullYear","_correctBlockedTime","isDisabledHour","isDisabledMinutes","sections","zlogic","_reserve_box_height","_reserve_box_width","timeColNum","enLocale","_timeHeaderTemplate","_timeButtonsTemplate","w1","w2","_mode_selected","_selectDate","cind","rind","webix_cal_prev_button","webix_cal_next_button","webix_cal_day_disabled","webix_cal_outside","webix_cal_day","webix_cal_time","webix_range_time_start","webix_range_time_end","webix_cal_done","webix_cal_month_name","webix_cal_block","blockedDate","blockDates","outOfRange","palette","minLightness","maxLightness","_findIndex","pal","_getBox","$setValue","_selectBox","_getSelectBox","lastChild","_initPalette","numToHex","hslToRgb","l","hue2rgb","renderGrayBar","colCount","gray","colors","colorRows","colorStep","lightStep","colorRange","lt","itemTpl","firstRow","renderRow","rowHtml","$renderInput","badge","awidth","aheight","_set_default_css","_calc_size","hotkey_setter","control","_addElementHotKey","_get_class","classes","webix_danger","webix_transparent","webix_primary","_set_inner_size","imageTop","iconTop","_findAllInputs","tagNames","_disabledTabIndex","$compareValue","_rendered_input","$getValue","_sqrt_2","_calck_input_size","_input_width","inputWidth","_input_height","_inputHeight","bheight","dheight","handle","cssFloat","_handle_tab_click","opt","webix_all_segments","webix_all_tabs","webix_inp_counter_next","webix_inp_counter_prev","webix_input_icon","webix_inp_checkbox_border","toggle","webix_inp_checkbox_label","webix_inp_radio_border","webix_tab_more_icon","webix_tab_close","_check_options","_get_div_placeholder","nav_controls","TextPattern","pattern","format_setter","_custom_format","_on_key_pressed","_after_render","_pattern","_getRawValue","_matchPattern","pattern_setter","_patternScheme","_init_validation","_pattern_chars","matches","_pattern_allows","_property_stamp","chars","_pattern_scheme","isCapsLock","getModifierState","_getCaretPos","_input_code","_fixCaretPos","rawIndex","rawLength","rchar","icode","nind","lind","_init_onchange","_onBlur","$renderIcon","addSection","relatedView_setter","relatedAction","viewid","relatedView","validateEvent_setter","bottomLabel_setter","bottomPadding","_getInvalidText","_restorePadding","heightInc","_get_input_width","iconWidth","_render_div_block","inputAlign","_baseInputHTML","$renderLabel","_getLabelHeight","div_start","setValueHere","symbol","suggest_setter","attempt","DataCollection","optview","options_setter","rightlabel","labelRight","ch","customCheckbox_setter","eachid","isDisabled","optlabel","rd","focusable","newline","_editable","_init_popup","_prepareSingleValue","timeMode","formatDate","_formatDate","_get_visible_text","_get_visible_text_single","formatStr","_formatStr","fullDateFormatStr","_set_visible_text","_get_value_single","timeFormatDate","fullDateFormatDate","parseTimeFormatStr","_getColorNode","datepicker","popupWidth","_revertValue","_suggest_config","_reset_value","dynamic","_ignoreLabelClick","_show_view","borders","optionWidth","tabbarPopup","isPressed","onLabel","offLabel","onIcon","offIcon","changeCss","getValueHere","_full_value","_subs","seg","removeSection","_subOnChange","newConfig","subConfig","newone","_listClassName","_auto_resize","dynamic_setter","webix_list_item","_no_animation","_one_height","yCount","_auto_height_calc","_auto_width_calc","getUnits","widthSize","heightSize","classname","webix_selected","disableItem","_set_item_disabled","enableItem","isItemEnabled","isobj","buttonText","fitMaster","$checked","keepText","tagTemplate","_render_value_block","_removeValue","newValues","_click_stamp","_addNewValue","_inputValue","_addValue","newValue","isObj","$customWidth","_dont_unfilter","_suggest_after_filter","inputStyle","inputValue","readOnly","_inputWidth","_getValueListBox","textArr","_toMultiValue","listbox","_getMultiComboInputWidth","_resizeToContent","_focusAtEnd","inputEl","FieldRange","elemLen","inputDiv","_getInputDiv","cHeight","topView","calcHeight","_typing","_enter","_getSelectedOptions","_valueHistory","_calcInputWidth","tmp","calcWidth","_windowHeight","getItemId","_backspaceTime","moveTitle","_handle_id","title_setter","_get_slider_handle","corner1","_sliderPadding","corner2","cornerStr","sizeStr","_sliderHandleWidth","_sliderBorder","part","_set_title","half","pos1","pos2","_set_value_now","_on_mouse_down_start","_handle_move_keyboard","_activeIndex","_handle_drag_events","_mouse_down_process","_start_value","_start_handle_dnd","_get_value_from_event","_handle_move_process","_handle_move_stop","touchContext","ax","_get_value_from_pos","corner","handles","_get_left_pos","_set_left_pos","_set_value_pos","handle0","handle1","left0","left1","parentBox","_title_hidden","_hide_title","sibling","_set_title_n","_set_handle_active","hActive","pos0","dist0","dist1","slider","_calck_switch_size","_switchWidth","_switchHeight","onWidth","offWidth","topOffset","bottomOffset","tabMinWidth","tabMoreWidth","_getTabbarSizes","totalWidth","limitWidth","popupConfig","popupTemplate","_popupInnerClick","moreTemplate_setter","popupTemplate_setter","moreTemplate","contentWidth","leafWidth","resultHTML","verticalOffset","selectedTab","displayTabs","lastTab","_getTabHTML","_tabTemplate","segmented","_setLayout","_button","_add_data","editField","onAfterRender","_updateValue","_getselection","webix_richtext_editor","editorToolbar","rangeCount","queryCommandState","_execCommandOnElement","commandName","selText","anchorNode","focusNode","getRangeAt","isCollapsed","execCommand","textValue","textContent","focusEl","focustext","anchorOffset","wordBegining","wordEnd","startWord","endWord","setStart","setEnd","removeAllRanges","addRange","editableElement","removeIcon","fileName","uploader","autosend","apiOnly_setter","link_setter","_format_size","file_struct","sizetext","webkitRelativePath","urlData","subline","addDropZone","hover_text","extra_css","fullcss","timer","isUploaded","$onUploadComplete","highlight","scrollEv","_syncText","_updatePos","_handleInput","_getHighlightNode","_lastText","_handleScroll","highlightStyles","filter_setter","_show_on_key_press","etemp","_get_extendable_cell","_set_on_popup_click","_old_text","_get_details","_set_input_value","_preselectMasterOption","prev_text","$setValueHere","getMasterValue","input_setter","webix_master_id","_suggestions","_non_ui_mode","_last_delay","_tab_key","_escape_key","$enterKey","_navigate","contentEditable","_resolve_popup","innerText","_before_filtering","visible","itemText","onItemClick","_toggleOption","getButton","onChange","_is_all_selected","_onReady","multisuggest","autoConfig","_getText","grid","_last_cursor_pos","_setValue","iValue","_formatValue","getInput","setSheets","_init_video","poster","autoplay","getVideo","google","script","chart","displayMode","region","resolution","_waitMap","_refreshColumns","_drawData","getMap","waitMap","_getCallBack","_initMap","charts","visualization","GeoChart","setOnLoadCallback","_mapEvents","_defineColumns","DataTable","addColumn","addRows","DataView","arrayToDataTable","setDisplayMode","setRegion","clearChart","isHtml","_getColumnType","addListener","selnow","_selprev","maps","libraries"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}